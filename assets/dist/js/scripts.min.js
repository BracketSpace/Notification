!function(t,e){"function"==typeof define&&define.amd?define("sifter",e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(!(t=o(String(t||"").toLowerCase()))||!t.length)return[];var e,n,i,s,l=[],c=t.split(/ +/);for(e=0,n=c.length;e<n;e++){if(i=r(c[e]),this.settings.diacritics)for(s in a)a.hasOwnProperty(s)&&(i=i.replace(new RegExp(s,"g"),a[s]));l.push({string:c[e],regex:new RegExp(i,"i")})}return l},t.prototype.iterator=function(t,e){var n;n=s(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)},n.apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var n,o,r,s,a;n=this,t=n.prepareSearch(t,e),r=t.tokens,o=t.options.fields,s=r.length,a=t.options.nesting;var l=function(t,e){var n,i;return t?(t=String(t||""),-1===(i=t.search(e.regex))?0:(n=e.string.length/t.length,0===i&&(n+=.5),n)):0},c=function(){var t=o.length;return t?1===t?function(t,e){return l(i(e,o[0],a),t)}:function(e,n){for(var r=0,s=0;r<t;r++)s+=l(i(n,o[r],a),e);return s/t}:function(){return 0}}();return s?1===s?function(t){return c(r[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,i=0;n<s;n++){if((e=c(r[n],t))<=0)return 0;i+=e}return i/s}:function(t){for(var e=0,n=0;e<s;e++)n+=c(r[e],t);return n/s}:function(){return 0}},t.prototype.getSortFunction=function(t,n){var o,r,s,a,l,c,u,p,d,f,h;if(s=this,t=s.prepareSearch(t,n),h=!t.query&&n.sort_empty||n.sort,d=function(t,e){return"$score"===t?e.score:i(s.items[e.id],t,n.nesting)},l=[],h)for(o=0,r=h.length;o<r;o++)(t.query||"$score"!==h[o].field)&&l.push(h[o]);if(t.query){for(f=!0,o=0,r=l.length;o<r;o++)if("$score"===l[o].field){f=!1;break}f&&l.unshift({field:"$score",direction:"desc"})}else for(o=0,r=l.length;o<r;o++)if("$score"===l[o].field){l.splice(o,1);break}for(p=[],o=0,r=l.length;o<r;o++)p.push("desc"===l[o].direction?-1:1);return c=l.length,c?1===c?(a=l[0].field,u=p[0],function(t,n){return u*e(d(a,t),d(a,n))}):function(t,n){var i,o,r;for(i=0;i<c;i++)if(r=l[i].field,o=p[i]*e(d(r,t),d(r,n)))return o;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;e=n({},e);var i=e.fields,o=e.sort,r=e.sort_empty;return i&&!s(i)&&(e.fields=[i]),o&&!s(o)&&(e.sort=[o]),r&&!s(r)&&(e.sort_empty=[r]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var n,i,o,r,s=this;return i=this.prepareSearch(t,e),e=i.options,t=i.query,r=e.score||s.getScoreFunction(i),t.length?s.iterator(s.items,function(t,o){n=r(t),(!1===e.filter||n>0)&&i.items.push({score:n,id:o})}):s.iterator(s.items,function(t,e){i.items.push({score:1,id:e})}),o=s.getSortFunction(i,e),o&&i.items.sort(o),i.total=i.items.length,"number"==typeof e.limit&&(i.items=i.items.slice(0,e.limit)),i};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=l(String(t||"")),e=l(String(e||"")),t>e?1:e>t?-1:0)},n=function(t,e){var n,i,o,r;for(n=1,i=arguments.length;n<i;n++)if(r=arguments[n])for(o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);return t},i=function(t,e,n){if(t&&e){if(!n)return t[e];for(var i=e.split(".");i.length&&(t=t[i.shift()]););return t}},o=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},r=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a={a:"[aá¸€á¸Ä‚ÄƒÃ‚Ã¢ÇÇŽÈºâ±¥È¦È§áº áº¡Ã„Ã¤Ã€Ã ÃÃ¡Ä€ÄÃƒÃ£Ã…Ã¥Ä…Ä„ÃƒÄ…Ä„]",b:"[bâ¢Î²Î’Bà¸¿ðŒá›’]",c:"[cÄ†Ä‡ÄˆÄ‰ÄŒÄÄŠÄ‹CÌ„cÌ„Ã‡Ã§á¸ˆá¸‰È»È¼Æ‡ÆˆÉ•á´„ï¼£ï½ƒ]",d:"[dÄŽÄá¸Šá¸‹á¸á¸‘á¸Œá¸á¸’á¸“á¸Žá¸ÄÄ‘DÌ¦dÌ¦Æ‰É–ÆŠÉ—Æ‹ÆŒáµ­á¶á¶‘È¡á´…ï¼¤ï½„Ã°]",e:"[eÃ‰Ã©ÃˆÃ¨ÃŠÃªá¸˜á¸™ÄšÄ›Ä”Ä•áº¼áº½á¸šá¸›áººáº»Ä–Ä—Ã‹Ã«Ä’Ä“È¨È©Ä˜Ä™á¶’É†É‡È„È…áº¾áº¿á»€á»á»„á»…á»‚á»ƒá¸œá¸á¸–á¸—á¸”á¸•È†È‡áº¸áº¹á»†á»‡â±¸á´‡ï¼¥ï½…É˜ÇÆÆÎµ]",f:"[fÆ‘Æ’á¸žá¸Ÿ]",g:"[gÉ¢â‚²Ç¤Ç¥ÄœÄÄžÄŸÄ¢Ä£Æ“É Ä Ä¡]",h:"[hÄ¤Ä¥Ä¦Ä§á¸¨á¸©áº–áº–á¸¤á¸¥á¸¢á¸£É¦Ê°Ç¶Æ•]",i:"[iÃÃ­ÃŒÃ¬Ä¬Ä­ÃŽÃ®ÇÇÃÃ¯á¸®á¸¯Ä¨Ä©Ä®Ä¯ÄªÄ«á»ˆá»‰ÈˆÈ‰ÈŠÈ‹á»Šá»‹á¸¬á¸­Æ—É¨É¨Ì†áµ»á¶–Ä°iIÄ±Éªï¼©ï½‰]",j:"[jÈ·Ä´ÄµÉˆÉ‰ÊÉŸÊ²]",k:"[kÆ˜Æ™ê€êá¸°á¸±Ç¨Ç©á¸²á¸³á¸´á¸µÎºÏ°â‚­]",l:"[lÅÅ‚Ä½Ä¾Ä»Ä¼Ä¹Äºá¸¶á¸·á¸¸á¸¹á¸¼á¸½á¸ºá¸»Ä¿Å€È½Æšâ± â±¡â±¢É«É¬á¶…É­È´ÊŸï¼¬ï½Œ]",n:"[nÅƒÅ„Ç¸Ç¹Å‡ÅˆÃ‘Ã±á¹„á¹…Å…Å†á¹†á¹‡á¹Šá¹‹á¹ˆá¹‰NÌˆnÌˆÆÉ²È Æžáµ°á¶‡É³ÈµÉ´ï¼®ï½ŽÅŠÅ‹]",o:"[oÃ˜Ã¸Ã–Ã¶Ã“Ã³Ã’Ã²Ã”Ã´Ç‘Ç’ÅÅ‘ÅŽÅÈ®È¯á»Œá»ÆŸÉµÆ Æ¡á»Žá»ÅŒÅÃ•ÃµÇªÇ«ÈŒÈÕ•Ö…]",p:"[pá¹”á¹•á¹–á¹—â±£áµ½Æ¤Æ¥áµ±]",q:"[qê–ê—Ê ÉŠÉ‹ê˜ê™qÌƒ]",r:"[rÅ”Å•ÉŒÉÅ˜Å™Å–Å—á¹˜á¹™ÈÈ‘È’È“á¹šá¹›â±¤É½]",s:"[sÅšÅ›á¹ á¹¡á¹¢á¹£êž¨êž©ÅœÅÅ Å¡ÅžÅŸÈ˜È™SÌˆsÌˆ]",t:"[tÅ¤Å¥á¹ªá¹«Å¢Å£á¹¬á¹­Æ®ÊˆÈšÈ›á¹°á¹±á¹®á¹¯Æ¬Æ­]",u:"[uÅ¬Å­É„Ê‰á»¤á»¥ÃœÃ¼ÃšÃºÃ™Ã¹Ã›Ã»Ç“Ç”Å°Å±Å¬Å­Æ¯Æ°á»¦á»§ÅªÅ«Å¨Å©Å²Å³È”È•âˆª]",v:"[vá¹¼á¹½á¹¾á¹¿Æ²Ê‹êžêŸâ±±Ê‹]",w:"[wáº‚áºƒáº€áºÅ´Åµáº„áº…áº†áº‡áºˆáº‰]",x:"[xáºŒáºáºŠáº‹Ï‡]",y:"[yÃÃ½á»²á»³Å¶Å·Å¸Ã¿á»¸á»¹áºŽáºá»´á»µÉŽÉÆ³Æ´]",z:"[zÅ¹Åºáºáº‘Å½Å¾Å»Å¼áº’áº“áº”áº•ÆµÆ¶]"},l=function(){var t,e,n,i,o="",r={};for(n in a)if(a.hasOwnProperty(n))for(i=a[n].substring(2,a[n].length-1),o+=i,t=0,e=i.length;t<e;t++)r[i.charAt(t)]=n;var s=new RegExp("["+o+"]","g");return function(t){return t.replace(s,function(t){return r[t]}).toLowerCase()}}();return t}),function(t,e){"function"==typeof define&&define.amd?define("microplugin",e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,function(){var t={};t.mixin=function(t){t.plugins={},t.prototype.initializePlugins=function(t){var n,i,o,r=this,s=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(n=0,i=t.length;n<i;n++)"string"==typeof t[n]?s.push(t[n]):(r.plugins.settings[t[n].name]=t[n].options,s.push(t[n].name));else if(t)for(o in t)t.hasOwnProperty(o)&&(r.plugins.settings[o]=t[o],s.push(o));for(;s.length;)r.require(s.shift())},t.prototype.loadPlugin=function(e){var n=this,i=n.plugins,o=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');i.requested[e]=!0,i.loaded[e]=o.fn.apply(n,[n.plugins.settings[e]||{}]),i.names.push(e)},t.prototype.require=function(t){var e=this,n=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(n.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return n.loaded[t]},t.define=function(e,n){t.plugins[e]={name:e,fn:n}}};var e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),function(t,e){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,function(t,e,n){"use strict";var i=function(t,e){if("string"!=typeof e||e.length){var n="string"==typeof e?new RegExp(e,"i"):e,i=function(t){var e=0;if(3===t.nodeType){var o=t.data.search(n);if(o>=0&&t.data.length>0){var r=t.data.match(n),s=document.createElement("span");s.className="highlight";var a=t.splitText(o),l=(a.splitText(r[0].length),a.cloneNode(!0));s.appendChild(l),a.parentNode.replaceChild(s,a),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var c=0;c<t.childNodes.length;++c)c+=i(t.childNodes[c]);return e};return t.each(function(){i(this)})}};t.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()};var o=function(){};o.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},o.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=o.prototype[e[n]]};var r=/Mac/.test(navigator.userAgent),s=r?91:17,a=r?18:17,l=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,c=function(t){return void 0!==t},u=function(t){return void 0===t||null===t?null:"boolean"==typeof t?t?"1":"0":t+""},p=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},d={};d.before=function(t,e,n){var i=t[e];t[e]=function(){return n.apply(t,arguments),i.apply(t,arguments)}},d.after=function(t,e,n){var i=t[e];t[e]=function(){var e=i.apply(t,arguments);return n.apply(t,arguments),e}};var f=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},h=function(t,e){var n;return function(){var i=this,o=arguments;window.clearTimeout(n),n=window.setTimeout(function(){t.apply(i,o)},e)}},g=function(t,e,n){var i,o=t.trigger,r={};t.trigger=function(){var n=arguments[0];if(-1===e.indexOf(n))return o.apply(t,arguments);r[n]=arguments},n.apply(t,[]),t.trigger=o;for(i in r)r.hasOwnProperty(i)&&o.apply(t,r[i])},v=function(t,e,n,i){t.on(e,n,function(e){for(var n=e.target;n&&n.parentNode!==t[0];)n=n.parentNode;return e.currentTarget=n,i.apply(this,[e])})},m=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-t.value.length),e.start=n.text.length-i,e.length=i}return e},y=function(t,e,n){var i,o,r={};if(n)for(i=0,o=n.length;i<o;i++)r[n[i]]=t.css(n[i]);else r=t.css();e.css(r)},w=function(e,n){if(!e)return 0;var i=t("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");y(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=i.width();return i.remove(),o},b=function(t){var e=null,n=function(n,i){var o,r,s,a,l,c,u,p;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||!1!==t.data("grow"))&&(o=t.val(),n.type&&"keydown"===n.type.toLowerCase()&&(r=n.keyCode,s=r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||32===r,46===r||8===r?(p=m(t[0]),p.length?o=o.substring(0,p.start)+o.substring(p.start+p.length):8===r&&p.start?o=o.substring(0,p.start-1)+o.substring(p.start+1):46===r&&void 0!==p.start&&(o=o.substring(0,p.start)+o.substring(p.start+1))):s&&(c=n.shiftKey,u=String.fromCharCode(n.keyCode),u=c?u.toUpperCase():u.toLowerCase(),o+=u)),a=t.attr("placeholder"),!o&&a&&(o=a),(l=w(o,t)+4)!==e&&(e=l,t.width(l),t.triggerHandler("resize")))};t.on("keydown keyup update blur",n),n()},O=function(t){var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML},C=function(n,i){var o,r,s,a,l=this;a=n[0],a.selectize=l;var c=window.getComputedStyle&&window.getComputedStyle(a,null);if(s=c?c.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction,s=s||n.parents("[dir]:first").attr("dir")||"",t.extend(l,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++C.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?l.onSearchChange:h(l.onSearchChange,i.loadThrottle)}),l.sifter=new e(this.options,{diacritics:i.diacritics}),l.settings.options){for(o=0,r=l.settings.options.length;o<r;o++)l.registerOption(l.settings.options[o]);delete l.settings.options}if(l.settings.optgroups){for(o=0,r=l.settings.optgroups.length;o<r;o++)l.registerOptionGroup(l.settings.optgroups[o]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return o.mixin(C),void 0!==n?n.mixin(C):function(t,e){e||(e={});console.error("Selectize: "+t),e.explanation&&(console.group&&console.group(),console.error(e.explanation),console.group&&console.groupEnd())}("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),t.extend(C.prototype,{setup:function(){var e,n,i,o,c,u,p,d,f,h,g=this,m=g.settings,y=g.eventNS,w=t(window),O=t(document),C=g.$input;if(p=g.settings.mode,d=C.attr("class")||"",e=t("<div>").addClass(m.wrapperClass).addClass(d).addClass(p),n=t("<div>").addClass(m.inputClass).addClass("items").appendTo(e),i=t('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",C.is(":disabled")?"-1":g.tabIndex),u=t(m.dropdownParent||e),o=t("<div>").addClass(m.dropdownClass).addClass(p).hide().appendTo(u),c=t("<div>").addClass(m.dropdownContentClass).appendTo(o),(h=C.attr("id"))&&(i.attr("id",h+"-selectized"),t("label[for='"+h+"']").attr("for",h+"-selectized")),g.settings.copyClassesToDropdown&&o.addClass(d),e.css({width:C[0].style.width}),g.plugins.names.length&&(f="plugin-"+g.plugins.names.join(" plugin-"),e.addClass(f),o.addClass(f)),(null===m.maxItems||m.maxItems>1)&&1===g.tagType&&C.attr("multiple","multiple"),g.settings.placeholder&&i.attr("placeholder",m.placeholder),!g.settings.splitOn&&g.settings.delimiter){var x=g.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");g.settings.splitOn=new RegExp("\\s*"+x+"+\\s*")}C.attr("autocorrect")&&i.attr("autocorrect",C.attr("autocorrect")),C.attr("autocapitalize")&&i.attr("autocapitalize",C.attr("autocapitalize")),g.$wrapper=e,g.$control=n,g.$control_input=i,g.$dropdown=o,g.$dropdown_content=c,o.on("mouseenter","[data-selectable]",function(){return g.onOptionHover.apply(g,arguments)}),o.on("mousedown click","[data-selectable]",function(){return g.onOptionSelect.apply(g,arguments)}),v(n,"mousedown","*:not(input)",function(){return g.onItemSelect.apply(g,arguments)}),b(i),n.on({mousedown:function(){return g.onMouseDown.apply(g,arguments)},click:function(){return g.onClick.apply(g,arguments)}}),i.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return g.onKeyDown.apply(g,arguments)},keyup:function(){return g.onKeyUp.apply(g,arguments)},keypress:function(){return g.onKeyPress.apply(g,arguments)},resize:function(){g.positionDropdown.apply(g,[])},blur:function(){return g.onBlur.apply(g,arguments)},focus:function(){return g.ignoreBlur=!1,g.onFocus.apply(g,arguments)},paste:function(){return g.onPaste.apply(g,arguments)}}),O.on("keydown"+y,function(t){g.isCmdDown=t[r?"metaKey":"ctrlKey"],g.isCtrlDown=t[r?"altKey":"ctrlKey"],g.isShiftDown=t.shiftKey}),O.on("keyup"+y,function(t){t.keyCode===a&&(g.isCtrlDown=!1),16===t.keyCode&&(g.isShiftDown=!1),t.keyCode===s&&(g.isCmdDown=!1)}),O.on("mousedown"+y,function(t){if(g.isFocused){if(t.target===g.$dropdown[0]||t.target.parentNode===g.$dropdown[0])return!1;g.$control.has(t.target).length||t.target===g.$control[0]||g.blur(t.target)}}),w.on(["scroll"+y,"resize"+y].join(" "),function(){g.isOpen&&g.positionDropdown.apply(g,arguments)}),w.on("mousemove"+y,function(){g.ignoreHover=!1}),this.revertSettings={$children:C.children().detach(),tabindex:C.attr("tabindex")},C.attr("tabindex",-1).hide().after(g.$wrapper),t.isArray(m.items)&&(g.setValue(m.items),delete m.items),l&&C.on("invalid"+y,function(t){t.preventDefault(),g.isInvalid=!0,g.refreshState()}),g.updateOriginalInput(),g.refreshItems(),g.refreshState(),g.updatePlaceholder(),g.isSetup=!0,C.is(":disabled")&&g.disable(),g.on("change",this.onChange),C.data("selectize",g),C.addClass("selectized"),g.trigger("initialize"),!0===m.preload&&g.onSearchChange("")},setupTemplates:function(){var e=this,n=e.settings.labelField,i=e.settings.optgroupLabelField,o={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[i])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[n])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[n])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};e.settings.render=t.extend({},o,e.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]])&&this.on(t,e)},onClick:function(t){var e=this;e.isFocused||(e.focus(),t.preventDefault())},onMouseDown:function(e){var n=this,i=e.isDefaultPrevented();t(e.target);if(n.isFocused){if(e.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var n=this;if(n.isFull()||n.isInputHidden||n.isLocked)return void e.preventDefault();n.settings.splitOn&&setTimeout(function(){var e=n.$control_input.val();if(e.match(n.settings.splitOn))for(var i=t.trim(e).split(n.settings.splitOn),o=0,r=i.length;o<r;o++)n.createItem(i[o])},0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){var e=(t.target,this.$control_input[0],this);if(e.isLocked)return void(9!==t.keyCode&&t.preventDefault());switch(t.keyCode){case 65:if(e.isCmdDown)return void e.selectAll();break;case 27:return void(e.isOpen&&(t.preventDefault(),t.stopPropagation(),e.close()));case 78:if(!t.ctrlKey||t.altKey)break;case 40:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case 80:if(!t.ctrlKey||t.altKey)break;case 38:if(e.$activeOption){e.ignoreHover=!0;var i=e.getAdjacentOption(e.$activeOption,-1);i.length&&e.setActiveOption(i,!0,!0)}return void t.preventDefault();case 13:return void(e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),t.preventDefault()));case 37:return void e.advanceSelection(-1,t);case 39:return void e.advanceSelection(1,t);case 9:return e.settings.selectOnTab&&e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),e.isFull()||t.preventDefault()),void(e.settings.create&&e.createItem()&&t.preventDefault());case 8:case 46:return void e.deleteSelection(t)}return!e.isFull()&&!e.isInputHidden||(r?t.metaKey:t.ctrlKey)?void 0:void t.preventDefault()},onKeyUp:function(t){var e=this;if(e.isLocked)return t&&t.preventDefault();var n=e.$control_input.val()||"";e.lastValue!==n&&(e.lastValue=n,e.onSearchChange(n),e.refreshOptions(),e.trigger("type",n))},onSearchChange:function(t){var e=this,n=e.settings.load;n&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(i){n.apply(e,[t,i])})))},onFocus:function(t){var e=this,n=e.isFocused;if(e.isDisabled)return e.blur(),t&&t.preventDefault(),!1;e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),n||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())},onBlur:function(t,e){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(t);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),e&&e.focus&&e.focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var n,i,o=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),i=t(e.currentTarget),i.hasClass("create")?o.createItem(null,function(){o.settings.closeAfterSelect&&o.close()}):void 0!==(n=i.attr("data-value"))&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(n),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&o.setActiveOption(o.getOption(n)))},onItemSelect:function(t){var e=this;e.isLocked||"multi"===e.settings.mode&&(t.preventDefault(),e.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input;e.val()!==t&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){g(this,e?[]:["change"],function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(e,n){var i,o,r,s,a,l,c,u,p=this;if("single"!==p.settings.mode){if(e=t(e),!e.length)return t(p.$activeItems).removeClass("active"),p.$activeItems=[],void(p.isFocused&&p.showInput());if("mousedown"===(i=n&&n.type.toLowerCase())&&p.isShiftDown&&p.$activeItems.length){for(u=p.$control.children(".active:last"),s=Array.prototype.indexOf.apply(p.$control[0].childNodes,[u[0]]),a=Array.prototype.indexOf.apply(p.$control[0].childNodes,[e[0]]),s>a&&(c=s,s=a,a=c),o=s;o<=a;o++)l=p.$control[0].childNodes[o],-1===p.$activeItems.indexOf(l)&&(t(l).addClass("active"),p.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&p.isCtrlDown||"keydown"===i&&this.isShiftDown?e.hasClass("active")?(r=p.$activeItems.indexOf(e[0]),p.$activeItems.splice(r,1),e.removeClass("active")):p.$activeItems.push(e.addClass("active")[0]):(t(p.$activeItems).removeClass("active"),p.$activeItems=[e.addClass("active")[0]]);p.hideInput(),this.isFocused||p.focus()}},setActiveOption:function(e,n,i){var o,r,s,a,l,u=this;u.$activeOption&&u.$activeOption.removeClass("active"),u.$activeOption=null,e=t(e),e.length&&(u.$activeOption=e.addClass("active"),!n&&c(n)||(o=u.$dropdown_content.height(),r=u.$activeOption.outerHeight(!0),n=u.$dropdown_content.scrollTop()||0,s=u.$activeOption.offset().top-u.$dropdown_content.offset().top+n,a=s,l=s-o+r,s+r>o+n?u.$dropdown_content.stop().animate({scrollTop:l},i?u.settings.scrollDuration:0):s<n&&u.$dropdown_content.stop().animate({scrollTop:a},i?u.settings.scrollDuration:0)))},selectAll:function(){var t=this;"single"!==t.settings.mode&&(t.$activeItems=Array.prototype.slice.apply(t.$control.children(":not(input)").addClass("active")),t.$activeItems.length&&(t.hideInput(),t.close()),t.focus())},hideInput:function(){var t=this;t.setTextboxValue(""),t.$control_input.css({opacity:0,position:"absolute",left:t.rtl?1e4:-1e4}),t.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(e){var n,i,o,r=this,s=r.settings,a=this.getSearchOptions();if(s.score&&"function"!=typeof(o=r.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==r.lastQuery?(r.lastQuery=e,i=r.sifter.search(e,t.extend(a,{score:o})),r.currentResults=i):i=t.extend(!0,{},r.currentResults),s.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==r.items.indexOf(u(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(e){var n,o,r,s,a,l,c,p,d,f,h,g,v,m,y,w;void 0===e&&(e=!0);var b=this,C=t.trim(b.$control_input.val()),x=b.search(C),$=b.$dropdown_content,_=b.$activeOption&&u(b.$activeOption.attr("data-value"));for(s=x.items.length,"number"==typeof b.settings.maxOptions&&(s=Math.min(s,b.settings.maxOptions)),a={},l=[],n=0;n<s;n++)for(c=b.options[x.items[n].id],p=b.render("option",c),d=c[b.settings.optgroupField]||"",f=t.isArray(d)?d:[d],o=0,r=f&&f.length;o<r;o++)d=f[o],b.optgroups.hasOwnProperty(d)||(d=""),a.hasOwnProperty(d)||(a[d]=document.createDocumentFragment(),l.push(d)),a[d].appendChild(p);for(this.settings.lockOptgroupOrder&&l.sort(function(t,e){return(b.optgroups[t].$order||0)-(b.optgroups[e].$order||0)}),h=document.createDocumentFragment(),n=0,s=l.length;n<s;n++)d=l[n],b.optgroups.hasOwnProperty(d)&&a[d].childNodes.length?(g=document.createDocumentFragment(),g.appendChild(b.render("optgroup_header",b.optgroups[d])),g.appendChild(a[d]),h.appendChild(b.render("optgroup",t.extend({},b.optgroups[d],{html:O(g),dom:g})))):h.appendChild(a[d]);if($.html(h),b.settings.highlight&&x.query.length&&x.tokens.length)for($.removeHighlight(),n=0,s=x.tokens.length;n<s;n++)i($,x.tokens[n].regex);if(!b.settings.hideSelected)for(n=0,s=b.items.length;n<s;n++)b.getOption(b.items[n]).addClass("selected");v=b.canCreate(C),v&&($.prepend(b.render("option_create",{input:C})),w=t($[0].childNodes[0])),b.hasOptions=x.items.length>0||v,b.hasOptions?(x.items.length>0?(y=_&&b.getOption(_),y&&y.length?m=y:"single"===b.settings.mode&&b.items.length&&(m=b.getOption(b.items[0])),m&&m.length||(m=w&&!b.settings.addPrecedence?b.getAdjacentOption(w,1):$.find("[data-selectable]:first"))):m=w,b.setActiveOption(m),e&&!b.isOpen&&b.open()):(b.setActiveOption(null),e&&b.isOpen&&b.close())},addOption:function(e){var n,i,o,r=this;if(t.isArray(e))for(n=0,i=e.length;n<i;n++)r.addOption(e[n]);else(o=r.registerOption(e))&&(r.userOptions[o]=!0,r.lastQuery=null,r.trigger("option_add",o,e))},registerOption:function(t){var e=u(t[this.settings.valueField]);return void 0!==e&&null!==e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=u(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,n){var i,o,r,s,a,l,c,p=this;if(e=u(e),r=u(n[p.settings.valueField]),null!==e&&p.options.hasOwnProperty(e)){if("string"!=typeof r)throw new Error("Value must be set in option data");c=p.options[e].$order,r!==e&&(delete p.options[e],-1!==(s=p.items.indexOf(e))&&p.items.splice(s,1,r)),n.$order=n.$order||c,p.options[r]=n,a=p.renderCache.item,l=p.renderCache.option,a&&(delete a[e],delete a[r]),l&&(delete l[e],delete l[r]),-1!==p.items.indexOf(r)&&(i=p.getItem(e),o=t(p.render("item",n)),i.hasClass("active")&&o.addClass("active"),i.replaceWith(o)),p.lastQuery=null,p.isOpen&&p.refreshOptions(!1)}},removeOption:function(t,e){var n=this;t=u(t);var i=n.renderCache.item,o=n.renderCache.option;i&&delete i[t],o&&delete o[t],delete n.userOptions[t],delete n.options[t],n.lastQuery=null,n.trigger("option_remove",t),n.removeItem(t,e)},clearOptions:function(){var t=this;t.loadedSearches={},t.userOptions={},t.renderCache={},t.options=t.sifter.items={},t.lastQuery=null,t.trigger("option_clear"),t.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,n){var i=this.$dropdown.find("[data-selectable]"),o=i.index(e)+n;return o>=0&&o<i.length?i.eq(o):t()},getElementWithValue:function(e,n){if(void 0!==(e=u(e))&&null!==e)for(var i=0,o=n.length;i<o;i++)if(n[i].getAttribute("data-value")===e)return t(n[i]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,n){for(var i=t.isArray(e)?e:[e],o=0,r=i.length;o<r;o++)this.isPending=o<r-1,this.addItem(i[o],n)},addItem:function(e,n){g(this,n?[]:["change"],function(){var i,o,r,s,a,l=this,c=l.settings.mode;if(e=u(e),-1!==l.items.indexOf(e))return void("single"===c&&l.close());l.options.hasOwnProperty(e)&&("single"===c&&l.clear(n),"multi"===c&&l.isFull()||(i=t(l.render("item",l.options[e])),a=l.isFull(),l.items.splice(l.caretPos,0,e),l.insertAtCaret(i),(!l.isPending||!a&&l.isFull())&&l.refreshState(),l.isSetup&&(r=l.$dropdown_content.find("[data-selectable]"),l.isPending||(o=l.getOption(e),s=l.getAdjacentOption(o,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==c),s&&l.setActiveOption(l.getOption(s))),!r.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",e,i),l.updateOriginalInput({silent:n}))))})},removeItem:function(e,n){var i,o,r,s=this;i=e instanceof t?e:s.getItem(e),e=u(i.attr("data-value")),-1!==(o=s.items.indexOf(e))&&(i.remove(),i.hasClass("active")&&(r=s.$activeItems.indexOf(i[0]),s.$activeItems.splice(r,1)),s.items.splice(o,1),s.lastQuery=null,!s.settings.persist&&s.userOptions.hasOwnProperty(e)&&s.removeOption(e,n),o<s.caretPos&&s.setCaret(s.caretPos-1),s.refreshState(),s.updatePlaceholder(),s.updateOriginalInput({silent:n}),s.positionDropdown(),s.trigger("item_remove",e,i))},createItem:function(e,n){var i=this,o=i.caretPos;e=e||t.trim(i.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(e))return r(),!1;i.lock();var s="function"==typeof i.settings.create?this.settings.create:function(t){var e={};return e[i.settings.labelField]=t,e[i.settings.valueField]=t,e},a=f(function(t){if(i.unlock(),!t||"object"!=typeof t)return r();var e=u(t[i.settings.valueField]);if("string"!=typeof e)return r();i.setTextboxValue(""),i.addOption(t),i.setCaret(o),i.addItem(e),i.refreshOptions(n&&"single"!==i.settings.mode),r(t)}),l=s.apply(this,[e,a]);return void 0!==l&&a(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var e=this,n=e.isFull(),i=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!t.isEmptyObject(e.options)).toggleClass("has-items",e.items.length>0),e.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,i,o,r=this;if(t=t||{},1===r.tagType){for(i=[],e=0,n=r.items.length;e<n;e++)o=r.options[r.items[e]][r.settings.labelField]||"",i.push('<option value="'+p(r.items[e])+'" selected="selected">'+p(o)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),r.$input.html(i.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(t.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){
var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&(t.hideInput(),t.$control_input.blur()),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(e){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(e):t(this.$control[0].childNodes[n]).before(e),this.setCaret(n+1)},deleteSelection:function(e){var n,i,o,r,s,a,l,c,u,p=this;if(o=e&&8===e.keyCode?-1:1,r=m(p.$control_input[0]),p.$activeOption&&!p.settings.hideSelected&&(l=p.getAdjacentOption(p.$activeOption,-1).attr("data-value")),s=[],p.$activeItems.length){for(u=p.$control.children(".active:"+(o>0?"last":"first")),a=p.$control.children(":not(input)").index(u),o>0&&a++,n=0,i=p.$activeItems.length;n<i;n++)s.push(t(p.$activeItems[n]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(p.isFocused||"single"===p.settings.mode)&&p.items.length&&(o<0&&0===r.start&&0===r.length?s.push(p.items[p.caretPos-1]):o>0&&r.start===p.$control_input.val().length&&s.push(p.items[p.caretPos]));if(!s.length||"function"==typeof p.settings.onDelete&&!1===p.settings.onDelete.apply(p,[s]))return!1;for(void 0!==a&&p.setCaret(a);s.length;)p.removeItem(s.pop());return p.showInput(),p.positionDropdown(),p.refreshOptions(!0),l&&(c=p.getOption(l),c.length&&p.setActiveOption(c)),!0},advanceSelection:function(t,e){var n,i,o,r,s,a=this;0!==t&&(a.rtl&&(t*=-1),n=t>0?"last":"first",i=m(a.$control_input[0]),a.isFocused&&!a.isInputHidden?(r=a.$control_input.val().length,(t<0?0===i.start&&0===i.length:i.start===r)&&!r&&a.advanceCaret(t,e)):(s=a.$control.children(".active:"+n),s.length&&(o=a.$control.children(":not(input)").index(s),a.setActiveItem(null),a.setCaret(t>0?o+1:o))))},advanceCaret:function(t,e){var n,i,o=this;0!==t&&(n=t>0?"next":"prev",o.isShiftDown?(i=o.$control_input[n](),i.length&&(o.hideInput(),o.setActiveItem(i),e&&e.preventDefault())):o.setCaret(o.caretPos+t))},setCaret:function(e){var n=this;if(e="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,e)),!n.isPending){var i,o,r,s;for(r=n.$control.children(":not(input)"),i=0,o=r.length;i<o;i++)s=t(r[i]).detach(),i<e?n.$control_input.before(s):n.$control.append(s)}n.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var t=this;t.$input.prop("disabled",!0),t.$control_input.prop("disabled",!0).prop("tabindex",-1),t.isDisabled=!0,t.lock()},enable:function(){var t=this;t.$input.prop("disabled",!1),t.$control_input.prop("disabled",!1).prop("tabindex",t.tabIndex),t.isDisabled=!1,t.unlock()},destroy:function(){var e=this,n=e.eventNS,i=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),t(window).off(n),t(document).off(n),t(document.body).off(n),delete e.$input[0].selectize},render:function(e,n){var i,o,r="",s=!1,a=this;return"option"!==e&&"item"!==e||(i=u(n[a.settings.valueField]),s=!!i),s&&(c(a.renderCache[e])||(a.renderCache[e]={}),a.renderCache[e].hasOwnProperty(i))?a.renderCache[e][i]:(r=t(a.settings.render[e].apply(this,[n,p])),"option"===e||"option_create"===e?r.attr("data-selectable",""):"optgroup"===e&&(o=n[a.settings.optgroupValueField]||"",r.attr("data-group",o)),"option"!==e&&"item"!==e||r.attr("data-value",i||""),s&&(a.renderCache[e][i]=r[0]),r[0])},clearCache:function(t){var e=this;void 0===t?e.renderCache={}:delete e.renderCache[t]},canCreate:function(t){var e=this;if(!e.settings.create)return!1;var n=e.settings.createFilter;return t.length&&("function"!=typeof n||n.apply(e,[t]))&&("string"!=typeof n||new RegExp(n).test(t))&&(!(n instanceof RegExp)||n.test(t))}}),C.count=0,C.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var n=t.fn.selectize.defaults,i=t.extend({},n,e),o=i.dataAttr,r=i.labelField,s=i.valueField,a=i.optgroupField,l=i.optgroupLabelField,c=i.optgroupValueField,p=function(e,n){var a,l,c,u,p=e.attr(o);if(p)for(n.options=JSON.parse(p),a=0,l=n.options.length;a<l;a++)n.items.push(n.options[a][s]);else{var d=t.trim(e.val()||"");if(!i.allowEmptyOption&&!d.length)return;for(c=d.split(i.delimiter),a=0,l=c.length;a<l;a++)u={},u[r]=c[a],u[s]=c[a],n.options.push(u);n.items=c}},d=function(e,n){var p,d,f,h,g=n.options,v={},m=function(t){var e=o&&t.attr(o);return"string"==typeof e&&e.length?JSON.parse(e):null},y=function(e,o){e=t(e);var l=u(e.val());if(l||i.allowEmptyOption)if(v.hasOwnProperty(l)){if(o){var c=v[l][a];c?t.isArray(c)?c.push(o):v[l][a]=[c,o]:v[l][a]=o}}else{var p=m(e)||{};p[r]=p[r]||e.text(),p[s]=p[s]||l,p[a]=p[a]||o,v[l]=p,g.push(p),e.is(":selected")&&n.items.push(l)}};for(n.maxItems=e.attr("multiple")?null:1,h=e.children(),p=0,d=h.length;p<d;p++)f=h[p].tagName.toLowerCase(),"optgroup"===f?function(e){var i,o,r,s,a;for(e=t(e),r=e.attr("label"),r&&(s=m(e)||{},s[l]=r,s[c]=r,n.optgroups.push(s)),a=t("option",e),i=0,o=a.length;i<o;i++)y(a[i],r)}(h[p]):"option"===f&&y(h[p])};return this.each(function(){if(!this.selectize){var o=t(this),r=this.tagName.toLowerCase(),s=o.attr("placeholder")||o.attr("data-placeholder");s||i.allowEmptyOption||(s=o.children('option[value=""]').text());var a={placeholder:s,options:[],optgroups:[],items:[]};"select"===r?d(o,a):p(o,a),new C(o,t.extend(!0,{},n,a,e))}})},t.fn.selectize.defaults=C.defaults,t.fn.selectize.support={validity:l},C.define("drag_drop",function(e){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n=this;n.lock=function(){var t=n.lock;return function(){var e=n.$control.data("sortable");return e&&e.disable(),t.apply(n,arguments)}}(),n.unlock=function(){var t=n.unlock;return function(){var e=n.$control.data("sortable");return e&&e.enable(),t.apply(n,arguments)}}(),n.setup=function(){var e=n.setup;return function(){e.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var e=n.$activeItems?n.$activeItems.slice():null,o=[];i.children("[data-value]").each(function(){o.push(t(this).attr("data-value"))}),n.setValue(o),n.setActiveItem(e)}})}}()}}),C.define("dropdown_header",function(e){var n=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=t(e.html(e)),n.$dropdown.prepend(n.$dropdown_header)}}()}),C.define("optgroup_columns",function(e){var n=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,n){var i=e.closest("[data-group]").find("[data-selectable]"),o=i.index(e)+n;return o>=0&&o<i.length?i.eq(o):t()},this.onKeyDown=function(){var t=n.onKeyDown;return function(e){var i,o,r,s;return!this.isOpen||37!==e.keyCode&&39!==e.keyCode?t.apply(this,arguments):(n.ignoreHover=!0,s=this.$activeOption.closest("[data-group]"),i=s.find("[data-selectable]").index(this.$activeOption),s=37===e.keyCode?s.prev("[data-group]"):s.next("[data-group]"),r=s.find("[data-selectable]"),o=r.eq(Math.min(r.length-1,i)),void(o.length&&this.setActiveOption(o)))}}();var i=function(){var t,e=i.width,n=document;return void 0===e&&(t=n.createElement("div"),t.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,n.body.appendChild(t),e=i.width=t.offsetWidth-t.clientWidth,n.body.removeChild(t)),e},o=function(){var o,r,s,a,l,c,u;if(u=t("[data-group]",n.$dropdown_content),(r=u.length)&&n.$dropdown_content.width()){if(e.equalizeHeight){for(s=0,o=0;o<r;o++)s=Math.max(s,u.eq(o).height());u.css({height:s})}e.equalizeWidth&&(c=n.$dropdown_content.innerWidth()-i(),a=Math.round(c/r),u.css({width:a}),r>1&&(l=c-a*(r-1),u.eq(r-1).css({width:l})))}};(e.equalizeHeight||e.equalizeWidth)&&(d.after(this,"positionDropdown",o),d.after(this,"refreshOptions",o))}),C.define("remove_button",function(e){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);if("single"===this.settings.mode)return void function(e,n){n.className="remove-single";var i=e,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+p(n.title)+'">'+n.label+"</a>",r=function(t,e){return t+e};e.setup=function(){var s=i.setup;return function(){if(n.append){var a=t(i.$input.context).attr("id"),l=(t("#"+a),i.settings.render.item);i.settings.render.item=function(t){return r(l.apply(e,arguments),o)}}s.apply(e,arguments),e.$control.on("click","."+n.className,function(t){t.preventDefault(),i.isLocked||i.clear()})}}()}(this,e);!function(e,n){var i=e,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+p(n.title)+'">'+n.label+"</a>",r=function(t,e){var n=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,n)+e+t.substring(n)};e.setup=function(){var s=i.setup;return function(){if(n.append){var a=i.settings.render.item;i.settings.render.item=function(t){return r(a.apply(e,arguments),o)}}s.apply(e,arguments),e.$control.on("click","."+n.className,function(e){if(e.preventDefault(),!i.isLocked){var n=t(e.currentTarget).parent();i.setActiveItem(n),i.deleteSelection()&&i.setCaret(i.items.length)}})}}()}(this,e)}),C.define("restore_on_backspace",function(t){var e=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=function(){var n=e.onKeyDown;return function(e){var i,o;return 8===e.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1)>=0&&i<this.items.length?(o=this.options[this.items[i]],this.deleteSelection(e)&&(this.setTextboxValue(t.text.apply(this,[o])),this.refreshOptions(!0)),void e.preventDefault()):n.apply(this,arguments)}}()}),C}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t;return function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return o(n||t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){var i=t("matches-selector");e.exports=function(t,e,n){for(var o=n?t:t.parentNode;o&&o!==document;){if(i(o,e))return o;o=o.parentNode}}},{"matches-selector":5}],2:[function(t,e,n){function i(t,e,n,i,r){var s=o.apply(this,arguments);return t.addEventListener(n,s,r),{destroy:function(){t.removeEventListener(n,s,r)}}}function o(t,e,n,i){return function(n){n.delegateTarget=r(n.target,e,!0),n.delegateTarget&&i.call(t,n)}}var r=t("closest");e.exports=i},{closest:1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,n){function i(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(t))return o(t,e,n);if(a.nodeList(t))return r(t,e,n);if(a.string(t))return s(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function s(t,e,n){return l(document.body,t,e,n)}var a=t("./is"),l=t("delegate");e.exports=i},{"./is":3,delegate:2}],5:[function(t,e,n){function i(t,e){if(r)return r.call(t,e);for(var n=t.parentNode.querySelectorAll(e),i=0;i<n.length;++i)if(n[i]==t)return!0;return!1}var o=Element.prototype,r=o.matchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector;e.exports=i},{}],6:[function(t,e,n){function i(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(t),n.removeAllRanges(),n.addRange(i),e=n.toString()}return e}e.exports=i},{}],7:[function(t,e,n){function i(){}i.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){o.off(t,i),e.apply(n,arguments)}var o=this;return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,o=n.length;for(i;i<o;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],o=[];if(i&&e)for(var r=0,s=i.length;r<s;r++)i[r].fn!==e&&i[r].fn._!==e&&o.push(i[r]);return o.length?n[t]=o:delete n[t],this}},e.exports=i},{}],8:[function(e,n,i){!function(o,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if(void 0!==i)r(n,e("select"));else{var s={exports:{}};r(s,o.select),o.clipboardAction=s.exports}}(this,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(t){return t&&t.__esModule?t:{default:t}}(e),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){this.selectedText=(0,i.default)(this.target),this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},r(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":o(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=s})},{select:6}],9:[function(e,n,i){!function(o,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if(void 0!==i)r(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var s={exports:{}};r(s,o.clipboardAction,o.tinyEmitter,o.goodListener),o.clipboard=s.exports}}(this,function(t,e,n,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var c=o(e),u=o(n),p=o(i),d=function(t){function e(n,i){r(this,e);var o=s(this,t.call(this));return o.resolveOptions(i),o.listenClick(n),o}return a(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.listenClick=function(t){var e=this;this.listener=(0,p.default)(t,"click",function(t){return e.onClick(t)})},e.prototype.onClick=function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},e.prototype.defaultAction=function(t){return l("action",t)},e.prototype.defaultTarget=function(t){var e=l("target",t);if(e)return document.querySelector(e)},e.prototype.defaultText=function(t){return l("text",t)},e.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(u.default);t.exports=d})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)}),function(t,e){"use strict";var n=function(){function t(t,e,n,i){return"string"==typeof t&&"function"==typeof e&&(n=parseInt(n||10,10),a("actions",t,e,n,i)),p}function e(){var t=u.call(arguments),e=t.shift();return"string"==typeof e&&c("actions",e,t),p}function n(t,e){return"string"==typeof t&&s("actions",t,e),p}function i(t,e,n,i){return"string"==typeof t&&"function"==typeof e&&(n=parseInt(n||10,10),a("filters",t,e,n,i)),p}function o(){var t=u.call(arguments),e=t.shift();return"string"==typeof e?c("filters",e,t):p}function r(t,e){return"string"==typeof t&&s("filters",t,e),p}function s(t,e,n,i){var o,r,s;if(d[t][e])if(n)if(o=d[t][e],i)for(s=o.length;s--;)r=o[s],r.callback===n&&r.context===i&&o.splice(s,1);else for(s=o.length;s--;)o[s].callback===n&&o.splice(s,1);else d[t][e]=[]}function a(t,e,n,i,o){var r={callback:n,priority:i,context:o},s=d[t][e];s?(s.push(r),s=l(s)):s=[r],d[t][e]=s}function l(t){for(var e,n,i,o=1,r=t.length;o<r;o++){for(e=t[o],n=o;(i=t[n-1])&&i.priority>e.priority;)t[n]=t[n-1],--n;t[n]=e}return t}function c(t,e,n){var i,o,r=d[t][e];if(!r)return"filters"===t&&n[0];if(o=r.length,"filters"===t)for(i=0;i<o;i++)n[0]=r[i].callback.apply(r[i].context,n);else for(i=0;i<o;i++)r[i].callback.apply(r[i].context,n);return"filters"!==t||n[0]}var u=Array.prototype.slice,p={removeFilter:r,applyFilters:o,addFilter:i,removeAction:n,doAction:e,addAction:t},d={actions:{},filters:{}};return p};t.wp=t.wp||{},t.wp.hooks=new n}(window),function(t){t(document).ready(function(){t(".pretty-select").selectize(),new Clipboard("#notification_merge_tags .inside ul li code").on("success",function(e){var n=t(e.trigger),i=n.text();n.text(notification.copied),setTimeout(function(){n.text(i)},800)}),t("#notification_trigger_select").selectize().change(function(){var e=t(this),n=t("#notification_merge_tags .inside"),i=t("#notification_merge_tags");i.fadeTo(200,.5);var o={action:"notification_get_merge_tags",trigger:e.val()};t.post(ajaxurl,o,function(o){if(0==o.success){n.html("<p>"+o.data+"</p>");var r={}}else{ul=t("<ul>");var r=o.data;t.each(r,function(t,e){ul.append('<li><code data-clipboard-text="{'+e+'}">{'+e+"}</code></li>")}),n.html(ul)}wp.hooks.doAction("notification.changed_trigger",e.val(),r),i.fadeTo(200,1)})});var e=function(){var e=0;if(1==t("#notification_recipients .recipient").length)var n=!0;else var n=!1;t("#notification_recipients .recipient").each(function(){var i=t(this),o=i.find(".actions .dashicons-trash"),r=i.find("input, select");n?o.addClass("disabled"):o.removeClass("disabled"),r.each(function(){var n=t(this),i=n.attr("name");n.attr("name",i.replace(/notification_recipient\[[0-9]+\]/,"notification_recipient["+e+"]"))}),e++})},n=function(n,i){n=void 0!==n?n:"",i=void 0!==i?i:"";var o=t("#notification_recipients .recipients");o.fadeTo(200,.5);var r={action:"notification_add_recipient",type:n,value:i};t.post(ajaxurl,r,function(n){if(0==n.success)alert(n.data);else{var i=t(n.data);o.append(i),i.find("input, select").each(function(){wp.hooks.doAction("notification.update_input",t(this),t(this).data("value"),t(this).data("update"))})}o.fadeTo(200,1),e()})};t("#notification_recipients").on("click","#notification_add_recipient",function(t){t.preventDefault(),n()}),t("#notification_recipients").on("click",".recipient .actions .dashicons-trash",function(n){n.preventDefault();var i=t(this),o=i.parents(".recipient").first();if(i.hasClass("disabled"))return!1;o.animate({left:"50px",opacity:0},400,"linear",function(){t(this).remove(),e()})}),t("#notification_recipients").on("change",".recipient .group select",function(){var n=t(this),i=n.parent().next(".value").find("input, select").first(),o=i.parent();o.fadeTo(200,.5);var r={action:"notification_get_recipient_input",recipient_name:n.val()};t.post(ajaxurl,r,function(n){if(0==n.success)alert(n.data);else{var i=t(n.data);o.html(i),void 0!==i.data("update")&&wp.hooks.doAction("notification.update_input",i,i.data("value"),i.data("update"))}o.fadeTo(200,1),e()})});var i=function(){t("#notification_recipients .recipient").each(function(){var e=t(this).find(".field.value select, .field.value input");void 0!==e.data("update")&&wp.hooks.doAction("notification.update_input",e,e.data("value"),e.data("update"))})};t(document).ready(i),wp.hooks.addAction("notification.changed_trigger",i),wp.hooks.addAction("notification.update_input",function(e,n,i){if("email_merge_tags"==i){var o=t("#notification_trigger_select").val(),r=e.parent();r.fadeTo(200,.5);var s={action:"notification_get_email_merge_tags",trigger:o};t.post(ajaxurl,s,function(i){0==i.success?alert(i.data):(e.find("option").remove(),e.append(t("<option>")),t.each(i.data,function(i,o){var r={value:i,text:o};i==n&&(r.selected="selected"),e.append(t("<option>",r))})),r.fadeTo(200,1)})}}),wp.hooks.addAction("notification.changed_trigger",function(e,i){if(void 0===tinymce.editors.content)var o=t("#content").val();else var o=tinymce.activeEditor.getContent();if(""==o){var r={action:"notification_get_defaults",trigger:e};t.post(ajaxurl,r,function(e){if(0==e.success)alert(e.data);else{var i=e.data;i.title&&t("#title").val(i.title).focus(),i.template&&(void 0===tinymce.editors.content?t("#content").val(i.template):tinymce.editors.content.setContent(i.template)),i.recipients&&(t("#notification_recipients .recipients .recipient").first().remove(),t.each(i.recipients,function(t,e){n(t,e)}))}})}}),t(".notification-notice").on("click",".dismiss-beg-message",function(e){e.preventDefault();var n=t(this),i={action:"notification_dismiss_beg_message",nonce:n.data("nonce")};t.post(ajaxurl,i,function(t){n.parents(".notification-notice").slideUp()})}),t('#the-list tr[data-slug="notification"] .deactivate a').click(function(t){t.preventDefault()}),t("body").on("submit","#notification-plugin-feedback-form",function(e){e.preventDefault();var n=t(this);n.find(".spinner").addClass("is-active");var i={action:"notification_send_feedback",form:n.serializeArray()};t.post(ajaxurl,i,function(e){window.location.href=t('#the-list tr[data-slug="notification"] .deactivate a').data("deactivate")})})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlbmRvci9zZWxlY3RpemUuanMiLCJ2ZW5kb3IvY2xpcGJvYXJkLmpzIiwidmVuZG9yL2V2ZW50LW1hbmFnZXIuanMiLCJhZG1pbi5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJTaWZ0ZXIiLCJ0aGlzIiwiaXRlbXMiLCJzZXR0aW5ncyIsImRpYWNyaXRpY3MiLCJwcm90b3R5cGUiLCJ0b2tlbml6ZSIsInF1ZXJ5IiwidHJpbSIsIlN0cmluZyIsInRvTG93ZXJDYXNlIiwibGVuZ3RoIiwiaSIsIm4iLCJyZWdleCIsImxldHRlciIsInRva2VucyIsIndvcmRzIiwic3BsaXQiLCJlc2NhcGVfcmVnZXgiLCJESUFDUklUSUNTIiwiaGFzT3duUHJvcGVydHkiLCJyZXBsYWNlIiwiUmVnRXhwIiwicHVzaCIsInN0cmluZyIsIml0ZXJhdG9yIiwib2JqZWN0IiwiY2FsbGJhY2siLCJpc19hcnJheSIsIkFycmF5IiwiZm9yRWFjaCIsImtleSIsImFwcGx5IiwiZ2V0U2NvcmVGdW5jdGlvbiIsInNlYXJjaCIsIm9wdGlvbnMiLCJzZWxmIiwiZmllbGRzIiwidG9rZW5fY291bnQiLCJuZXN0aW5nIiwicHJlcGFyZVNlYXJjaCIsInNjb3JlVmFsdWUiLCJ2YWx1ZSIsInRva2VuIiwic2NvcmUiLCJwb3MiLCJzY29yZU9iamVjdCIsImZpZWxkX2NvdW50IiwiZGF0YSIsImdldGF0dHIiLCJzdW0iLCJjb25qdW5jdGlvbiIsImdldFNvcnRGdW5jdGlvbiIsImZpZWxkIiwiZmllbGRzX2NvdW50IiwibXVsdGlwbGllciIsIm11bHRpcGxpZXJzIiwiZ2V0X2ZpZWxkIiwiaW1wbGljaXRfc2NvcmUiLCJzb3J0Iiwic29ydF9lbXB0eSIsIm5hbWUiLCJyZXN1bHQiLCJpZCIsInVuc2hpZnQiLCJkaXJlY3Rpb24iLCJzcGxpY2UiLCJhIiwiYiIsImNtcCIsImV4dGVuZCIsIm9wdGlvbl9maWVsZHMiLCJvcHRpb25fc29ydCIsIm9wdGlvbl9zb3J0X2VtcHR5IiwidG90YWwiLCJmbl9zb3J0IiwiZm5fc2NvcmUiLCJpdGVtIiwiZmlsdGVyIiwibGltaXQiLCJzbGljZSIsImFzY2lpZm9sZCIsImsiLCJhcmd1bWVudHMiLCJvYmoiLCJuYW1lcyIsInNoaWZ0Iiwic3RyIiwiaXNBcnJheSIsIiQiLCJPYmplY3QiLCJ0b1N0cmluZyIsImNhbGwiLCJjIiwiZCIsImUiLCJmIiwiZyIsImgiLCJqIiwibCIsIm8iLCJwIiwicSIsInIiLCJzIiwidCIsInUiLCJ2IiwidyIsIngiLCJ5IiwieiIsImNodW5rIiwiZm9yZWlnbmxldHRlcnMiLCJsb29rdXAiLCJzdWJzdHJpbmciLCJjaGFyQXQiLCJyZWdleHAiLCJmb3JlaWdubGV0dGVyIiwiTWljcm9QbHVnaW4iLCJtaXhpbiIsIkludGVyZmFjZSIsInBsdWdpbnMiLCJpbml0aWFsaXplUGx1Z2lucyIsInF1ZXVlIiwicmVxdWVzdGVkIiwibG9hZGVkIiwidXRpbHMiLCJyZXF1aXJlIiwibG9hZFBsdWdpbiIsInBsdWdpbiIsIkVycm9yIiwiZm4iLCJ2QXJnIiwiU2VsZWN0aXplIiwialF1ZXJ5IiwiaGlnaGxpZ2h0IiwiJGVsZW1lbnQiLCJwYXR0ZXJuIiwibm9kZSIsInNraXAiLCJub2RlVHlwZSIsIm1hdGNoIiwic3Bhbm5vZGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJtaWRkbGViaXQiLCJzcGxpdFRleHQiLCJtaWRkbGVjbG9uZSIsImNsb25lTm9kZSIsImFwcGVuZENoaWxkIiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsImNoaWxkTm9kZXMiLCJ0ZXN0IiwidGFnTmFtZSIsImVhY2giLCJyZW1vdmVIaWdobGlnaHQiLCJmaW5kIiwiZmlyc3RDaGlsZCIsIm5vZGVOYW1lIiwicGFyZW50Iiwibm9ybWFsaXplIiwiZW5kIiwiTWljcm9FdmVudCIsIm9uIiwiZXZlbnQiLCJmY3QiLCJfZXZlbnRzIiwib2ZmIiwiaW5kZXhPZiIsInRyaWdnZXIiLCJkZXN0T2JqZWN0IiwicHJvcHMiLCJJU19NQUMiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJLRVlfQ01EIiwiS0VZX0NUUkwiLCJTVVBQT1JUU19WQUxJRElUWV9BUEkiLCJ3aW5kb3ciLCJ2YWxpZGl0eSIsImlzc2V0IiwiaGFzaF9rZXkiLCJlc2NhcGVfaHRtbCIsImhvb2siLCJiZWZvcmUiLCJtZXRob2QiLCJvcmlnaW5hbCIsImFmdGVyIiwib25jZSIsImNhbGxlZCIsImRlYm91bmNlIiwiZGVsYXkiLCJ0aW1lb3V0IiwiYXJncyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJkZWJvdW5jZV9ldmVudHMiLCJ0eXBlcyIsInR5cGUiLCJldmVudF9hcmdzIiwid2F0Y2hDaGlsZEV2ZW50IiwiJHBhcmVudCIsInNlbGVjdG9yIiwiY2hpbGQiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiZ2V0U2VsZWN0aW9uIiwiaW5wdXQiLCJzdGFydCIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwic2VsZWN0aW9uIiwiZm9jdXMiLCJzZWwiLCJjcmVhdGVSYW5nZSIsInNlbExlbiIsInRleHQiLCJtb3ZlU3RhcnQiLCJ0cmFuc2ZlclN0eWxlcyIsIiRmcm9tIiwiJHRvIiwicHJvcGVydGllcyIsInN0eWxlcyIsImNzcyIsIm1lYXN1cmVTdHJpbmciLCIkdGVzdCIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsIndpZHRoIiwicGFkZGluZyIsIndoaXRlU3BhY2UiLCJhcHBlbmRUbyIsInJlbW92ZSIsImF1dG9Hcm93IiwiJGlucHV0IiwiY3VycmVudFdpZHRoIiwidXBkYXRlIiwia2V5Q29kZSIsInByaW50YWJsZSIsInBsYWNlaG9sZGVyIiwiY2hhcmFjdGVyIiwibWV0YUtleSIsImFsdEtleSIsImZvcmNlIiwidmFsIiwic2hpZnRLZXkiLCJmcm9tQ2hhckNvZGUiLCJ0b1VwcGVyQ2FzZSIsImF0dHIiLCJ0cmlnZ2VySGFuZGxlciIsImRvbVRvU3RyaW5nIiwidG1wIiwiaW5uZXJIVE1MIiwiZGlyIiwic2VsZWN0aXplIiwiY29tcHV0ZWRTdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiY3VycmVudFN0eWxlIiwicGFyZW50cyIsIm9yZGVyIiwidGFiSW5kZXgiLCJ0YWdUeXBlIiwicnRsIiwiZXZlbnROUyIsImNvdW50IiwiaGlnaGxpZ2h0ZWRWYWx1ZSIsImlzT3BlbiIsImlzRGlzYWJsZWQiLCJpc1JlcXVpcmVkIiwiaXMiLCJpc0ludmFsaWQiLCJpc0xvY2tlZCIsImlzRm9jdXNlZCIsImlzSW5wdXRIaWRkZW4iLCJpc1NldHVwIiwiaXNTaGlmdERvd24iLCJpc0NtZERvd24iLCJpc0N0cmxEb3duIiwiaWdub3JlRm9jdXMiLCJpZ25vcmVCbHVyIiwiaWdub3JlSG92ZXIiLCJoYXNPcHRpb25zIiwiY3VycmVudFJlc3VsdHMiLCJsYXN0VmFsdWUiLCJjYXJldFBvcyIsImxvYWRpbmciLCJsb2FkZWRTZWFyY2hlcyIsIiRhY3RpdmVPcHRpb24iLCIkYWN0aXZlSXRlbXMiLCJvcHRncm91cHMiLCJ1c2VyT3B0aW9ucyIsInJlbmRlckNhY2hlIiwib25TZWFyY2hDaGFuZ2UiLCJsb2FkVGhyb3R0bGUiLCJzaWZ0ZXIiLCJyZWdpc3Rlck9wdGlvbiIsInJlZ2lzdGVyT3B0aW9uR3JvdXAiLCJtb2RlIiwibWF4SXRlbXMiLCJoaWRlU2VsZWN0ZWQiLCJzZXR1cENhbGxiYWNrcyIsInNldHVwVGVtcGxhdGVzIiwic2V0dXAiLCJtZXNzYWdlIiwiY29uc29sZSIsImVycm9yIiwiY29tcG9uZW50IiwiZXhwbGFuYXRpb24iLCJncm91cCIsImdyb3VwRW5kIiwiJHdyYXBwZXIiLCIkY29udHJvbCIsIiRjb250cm9sX2lucHV0IiwiJGRyb3Bkb3duIiwiJGRyb3Bkb3duX2NvbnRlbnQiLCIkZHJvcGRvd25fcGFyZW50IiwiaW5wdXRNb2RlIiwiY2xhc3NlcyIsImNsYXNzZXNfcGx1Z2lucyIsImlucHV0SWQiLCIkd2luZG93IiwiJGRvY3VtZW50IiwiYWRkQ2xhc3MiLCJ3cmFwcGVyQ2xhc3MiLCJpbnB1dENsYXNzIiwiZHJvcGRvd25QYXJlbnQiLCJkcm9wZG93bkNsYXNzIiwiaGlkZSIsImRyb3Bkb3duQ29udGVudENsYXNzIiwiY29weUNsYXNzZXNUb0Ryb3Bkb3duIiwic3R5bGUiLCJqb2luIiwic3BsaXRPbiIsImRlbGltaXRlciIsImRlbGltaXRlckVzY2FwZWQiLCJvbk9wdGlvbkhvdmVyIiwib25PcHRpb25TZWxlY3QiLCJvbkl0ZW1TZWxlY3QiLCJtb3VzZWRvd24iLCJvbk1vdXNlRG93biIsImNsaWNrIiwib25DbGljayIsInN0b3BQcm9wYWdhdGlvbiIsImtleWRvd24iLCJvbktleURvd24iLCJrZXl1cCIsIm9uS2V5VXAiLCJrZXlwcmVzcyIsIm9uS2V5UHJlc3MiLCJyZXNpemUiLCJwb3NpdGlvbkRyb3Bkb3duIiwiYmx1ciIsIm9uQmx1ciIsIm9uRm9jdXMiLCJwYXN0ZSIsIm9uUGFzdGUiLCJoYXMiLCJyZXZlcnRTZXR0aW5ncyIsIiRjaGlsZHJlbiIsImNoaWxkcmVuIiwiZGV0YWNoIiwidGFiaW5kZXgiLCJzZXRWYWx1ZSIsInByZXZlbnREZWZhdWx0IiwicmVmcmVzaFN0YXRlIiwidXBkYXRlT3JpZ2luYWxJbnB1dCIsInJlZnJlc2hJdGVtcyIsInVwZGF0ZVBsYWNlaG9sZGVyIiwiZGlzYWJsZSIsIm9uQ2hhbmdlIiwicHJlbG9hZCIsImZpZWxkX2xhYmVsIiwibGFiZWxGaWVsZCIsImZpZWxkX29wdGdyb3VwIiwib3B0Z3JvdXBMYWJlbEZpZWxkIiwidGVtcGxhdGVzIiwib3B0Z3JvdXAiLCJodG1sIiwib3B0Z3JvdXBfaGVhZGVyIiwiZXNjYXBlIiwib3B0aW9uIiwib3B0aW9uX2NyZWF0ZSIsInJlbmRlciIsImNhbGxiYWNrcyIsImluaXRpYWxpemUiLCJjaGFuZ2UiLCJpdGVtX2FkZCIsIml0ZW1fcmVtb3ZlIiwiY2xlYXIiLCJvcHRpb25fYWRkIiwib3B0aW9uX3JlbW92ZSIsIm9wdGlvbl9jbGVhciIsIm9wdGdyb3VwX2FkZCIsIm9wdGdyb3VwX3JlbW92ZSIsIm9wdGdyb3VwX2NsZWFyIiwiZHJvcGRvd25fb3BlbiIsImRyb3Bkb3duX2Nsb3NlIiwibG9hZCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJjbG9zZSIsIm9wZW4iLCJzZXRBY3RpdmVJdGVtIiwiaXNGdWxsIiwicGFzdGVkVGV4dCIsInNwbGl0SW5wdXQiLCJjcmVhdGVJdGVtIiwid2hpY2giLCJjcmVhdGUiLCJzZWxlY3RBbGwiLCJjdHJsS2V5IiwiJG5leHQiLCJnZXRBZGphY2VudE9wdGlvbiIsInNldEFjdGl2ZU9wdGlvbiIsIiRwcmV2IiwiYWR2YW5jZVNlbGVjdGlvbiIsInNlbGVjdE9uVGFiIiwiZGVsZXRlU2VsZWN0aW9uIiwicmVmcmVzaE9wdGlvbnMiLCJ3YXNGb2N1c2VkIiwic2hvd0lucHV0Iiwib3Blbk9uRm9jdXMiLCJkZXN0IiwiYWN0aXZlRWxlbWVudCIsImRlYWN0aXZhdGUiLCJzZXRUZXh0Ym94VmFsdWUiLCJzZXRDYXJldCIsImNyZWF0ZU9uQmx1ciIsIiR0YXJnZXQiLCJoYXNDbGFzcyIsImNsb3NlQWZ0ZXJTZWxlY3QiLCJsYXN0UXVlcnkiLCJhZGRJdGVtIiwiZ2V0T3B0aW9uIiwibG9hZGluZ0NsYXNzIiwicmVzdWx0cyIsIk1hdGgiLCJtYXgiLCJhZGRPcHRpb24iLCJyZW1vdmVDbGFzcyIsImdldFZhbHVlIiwic2lsZW50IiwiYWRkSXRlbXMiLCIkaXRlbSIsImV2ZW50TmFtZSIsImlkeCIsImJlZ2luIiwic3dhcCIsIiRsYXN0IiwiaGlkZUlucHV0IiwiJG9wdGlvbiIsInNjcm9sbCIsImFuaW1hdGUiLCJoZWlnaHRfbWVudSIsImhlaWdodF9pdGVtIiwic2Nyb2xsX3RvcCIsInNjcm9sbF9ib3R0b20iLCJoZWlnaHQiLCJvdXRlckhlaWdodCIsInNjcm9sbFRvcCIsIm9mZnNldCIsInN0b3AiLCJzY3JvbGxEdXJhdGlvbiIsIm9wYWNpdHkiLCJnZXRTZWFyY2hPcHRpb25zIiwic29ydEZpZWxkIiwic2VhcmNoRmllbGQiLCJzZWFyY2hDb25qdW5jdGlvbiIsImNhbGN1bGF0ZVNjb3JlIiwidHJpZ2dlckRyb3Bkb3duIiwiZ3JvdXBzIiwiZ3JvdXBzX29yZGVyIiwib3B0aW9uX2h0bWwiLCJodG1sX2NoaWxkcmVuIiwiaGFzX2NyZWF0ZV9vcHRpb24iLCIkYWN0aXZlIiwiJGFjdGl2ZV9iZWZvcmUiLCIkY3JlYXRlIiwiYWN0aXZlX2JlZm9yZSIsIm1heE9wdGlvbnMiLCJtaW4iLCJvcHRncm91cEZpZWxkIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImxvY2tPcHRncm91cE9yZGVyIiwiJG9yZGVyIiwiZG9tIiwiY2FuQ3JlYXRlIiwicHJlcGVuZCIsImFkZFByZWNlZGVuY2UiLCJ2YWx1ZUZpZWxkIiwib3B0Z3JvdXBWYWx1ZUZpZWxkIiwiYWRkT3B0aW9uR3JvdXAiLCJyZW1vdmVPcHRpb25Hcm91cCIsImNsZWFyT3B0aW9uR3JvdXBzIiwidXBkYXRlT3B0aW9uIiwiJGl0ZW1fbmV3IiwidmFsdWVfbmV3IiwiaW5kZXhfaXRlbSIsImNhY2hlX2l0ZW1zIiwiY2FjaGVfb3B0aW9ucyIsIm9yZGVyX29sZCIsImdldEl0ZW0iLCJyZXBsYWNlV2l0aCIsInJlbW92ZU9wdGlvbiIsInJlbW92ZUl0ZW0iLCJjbGVhck9wdGlvbnMiLCJnZXRFbGVtZW50V2l0aFZhbHVlIiwiJG9wdGlvbnMiLCJpbmRleCIsImVxIiwiJGVscyIsImdldEF0dHJpYnV0ZSIsInZhbHVlcyIsImlzUGVuZGluZyIsInZhbHVlX25leHQiLCJ3YXNGdWxsIiwiaW5zZXJ0QXRDYXJldCIsInBlcnNpc3QiLCJjYXJldCIsImxvY2siLCJ1bmxvY2siLCJvdXRwdXQiLCJyZWZyZXNoVmFsaWRpdHlTdGF0ZSIsInJlZnJlc2hDbGFzc2VzIiwiaW52YWxpZCIsInByb3AiLCJ0b2dnbGVDbGFzcyIsImlzRW1wdHlPYmplY3QiLCJvcHRzIiwibGFiZWwiLCJyZW1vdmVBdHRyIiwidmlzaWJpbGl0eSIsImRpc3BsYXkiLCJvdXRlcldpZHRoIiwiJGVsIiwib3B0aW9uX3NlbGVjdCIsIiRvcHRpb25fc2VsZWN0IiwiJHRhaWwiLCJvbkRlbGV0ZSIsInBvcCIsInRhaWwiLCJ2YWx1ZUxlbmd0aCIsImFkdmFuY2VDYXJldCIsIiRhZGoiLCIkY2hpbGQiLCJhcHBlbmQiLCJlbmFibGUiLCJkZXN0cm95Iiwic2hvdyIsInJlbW92ZURhdGEiLCJib2R5IiwidGVtcGxhdGVOYW1lIiwiY2FjaGUiLCJjbGVhckNhY2hlIiwiY3JlYXRlRmlsdGVyIiwiZGVmYXVsdHMiLCJhbGxvd0VtcHR5T3B0aW9uIiwiZGF0YUF0dHIiLCJzZXR0aW5nc191c2VyIiwiYXR0cl9kYXRhIiwiZmllbGRfdmFsdWUiLCJmaWVsZF9vcHRncm91cF9sYWJlbCIsImZpZWxkX29wdGdyb3VwX3ZhbHVlIiwiaW5pdF90ZXh0Ym94Iiwic2V0dGluZ3NfZWxlbWVudCIsImRhdGFfcmF3IiwiSlNPTiIsInBhcnNlIiwiaW5pdF9zZWxlY3QiLCJvcHRpb25zTWFwIiwicmVhZERhdGEiLCJhcnIiLCIkb3B0Z3JvdXAiLCJ0YWdfbmFtZSIsInN1cHBvcnQiLCJzb3J0YWJsZSIsImZvcmNlUGxhY2Vob2xkZXJTaXplIiwiZGlzYWJsZWQiLCJ1aSIsImhlbHBlciIsIm92ZXJmbG93IiwiYWN0aXZlIiwidGl0bGUiLCJoZWFkZXJDbGFzcyIsInRpdGxlUm93Q2xhc3MiLCJsYWJlbENsYXNzIiwiY2xvc2VDbGFzcyIsIiRkcm9wZG93bl9oZWFkZXIiLCJlcXVhbGl6ZVdpZHRoIiwiZXF1YWxpemVIZWlnaHQiLCJjbG9zZXN0IiwicHJldiIsIm5leHQiLCJnZXRTY3JvbGxiYXJXaWR0aCIsImRpdiIsImRvYyIsIm9mZnNldFdpZHRoIiwiY2xpZW50V2lkdGgiLCJyZW1vdmVDaGlsZCIsImVxdWFsaXplU2l6ZXMiLCJoZWlnaHRfbWF4Iiwid2lkdGhfbGFzdCIsIndpZHRoX3BhcmVudCIsIiRvcHRncm91cHMiLCJpbm5lcldpZHRoIiwicm91bmQiLCJ0aGlzUmVmIiwiaHRtbF9jb250YWluZXIiLCJodG1sX2VsZW1lbnQiLCJjb250ZXh0IiwicmVuZGVyX2l0ZW0iLCJnbG9iYWwiLCJDbGlwYm9hcmQiLCJjb2RlIiwiMSIsIm1hdGNoZXMiLCJlbGVtZW50IiwiY2hlY2tZb1NlbGYiLCJtYXRjaGVzLXNlbGVjdG9yIiwiMiIsImRlbGVnYXRlIiwidXNlQ2FwdHVyZSIsImxpc3RlbmVyRm4iLCJsaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGVsZWdhdGVUYXJnZXQiLCIzIiwidW5kZWZpbmVkIiwiSFRNTEVsZW1lbnQiLCJub2RlTGlzdCIsIjQiLCJsaXN0ZW4iLCJUeXBlRXJyb3IiLCJsaXN0ZW5Ob2RlIiwibGlzdGVuTm9kZUxpc3QiLCJsaXN0ZW5TZWxlY3RvciIsIi4vaXMiLCI1IiwiZWwiLCJ2ZW5kb3IiLCJub2RlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwcm90byIsIkVsZW1lbnQiLCJtYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCI2Iiwic2VsZWN0Iiwic2VsZWN0ZWRUZXh0Iiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJoYXNBdHRyaWJ1dGUiLCJyYW5nZSIsInNlbGVjdE5vZGVDb250ZW50cyIsInJlbW92ZUFsbFJhbmdlcyIsImFkZFJhbmdlIiwiNyIsIkUiLCJjdHgiLCJfIiwiZW1pdCIsImV2dEFyciIsImxlbiIsImV2dHMiLCJsaXZlRXZlbnRzIiwiOCIsIm1vZCIsImNsaXBib2FyZEFjdGlvbiIsIl9zZWxlY3QiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX3NlbGVjdDIiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl90eXBlb2YiLCJTeW1ib2wiLCJjb25zdHJ1Y3RvciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZGVmaW5lUHJvcGVydHkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJDbGlwYm9hcmRBY3Rpb24iLCJyZXNvbHZlT3B0aW9ucyIsImluaXRTZWxlY3Rpb24iLCJhY3Rpb24iLCJlbWl0dGVyIiwic2VsZWN0RmFrZSIsInNlbGVjdFRhcmdldCIsIl90aGlzIiwiaXNSVEwiLCJkb2N1bWVudEVsZW1lbnQiLCJyZW1vdmVGYWtlIiwiZmFrZUhhbmRsZXJDYWxsYmFjayIsImZha2VIYW5kbGVyIiwiZmFrZUVsZW0iLCJmb250U2l6ZSIsImJvcmRlciIsIm1hcmdpbiIsInBhZ2VZT2Zmc2V0Iiwic2V0QXR0cmlidXRlIiwiY29weVRleHQiLCJzdWNjZWVkZWQiLCJleGVjQ29tbWFuZCIsImVyciIsImhhbmRsZVJlc3VsdCIsImNsZWFyU2VsZWN0aW9uIiwiYmluZCIsInNldCIsIl9hY3Rpb24iLCJnZXQiLCJfdGFyZ2V0IiwiOSIsInRpbnlFbWl0dGVyIiwiZ29vZExpc3RlbmVyIiwiY2xpcGJvYXJkIiwiX2NsaXBib2FyZEFjdGlvbiIsIl90aW55RW1pdHRlciIsIl9nb29kTGlzdGVuZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZ2V0QXR0cmlidXRlVmFsdWUiLCJzdWZmaXgiLCJhdHRyaWJ1dGUiLCJfY2xpcGJvYXJkQWN0aW9uMiIsIl90aW55RW1pdHRlcjIiLCJfZ29vZExpc3RlbmVyMiIsIl9FbWl0dGVyIiwibGlzdGVuQ2xpY2siLCJkZWZhdWx0QWN0aW9uIiwiZGVmYXVsdFRhcmdldCIsImRlZmF1bHRUZXh0IiwiX3RoaXMyIiwicXVlcnlTZWxlY3RvciIsIi4vY2xpcGJvYXJkLWFjdGlvbiIsImdvb2QtbGlzdGVuZXIiLCJ0aW55LWVtaXR0ZXIiLCJFdmVudE1hbmFnZXIiLCJhZGRBY3Rpb24iLCJwcmlvcml0eSIsInBhcnNlSW50IiwiX2FkZEhvb2siLCJNZXRob2RzQXZhaWxhYmxlIiwiZG9BY3Rpb24iLCJfcnVuSG9vayIsInJlbW92ZUFjdGlvbiIsIl9yZW1vdmVIb29rIiwiYWRkRmlsdGVyIiwiYXBwbHlGaWx0ZXJzIiwicmVtb3ZlRmlsdGVyIiwiaGFuZGxlcnMiLCJoYW5kbGVyIiwiU1RPUkFHRSIsImhvb2tPYmplY3QiLCJob29rcyIsIl9ob29rSW5zZXJ0U29ydCIsInRtcEhvb2siLCJwcmV2SG9vayIsImFjdGlvbnMiLCJmaWx0ZXJzIiwid3AiLCJyZWFkeSIsIiRjb2RlIiwidGFnIiwibm90aWZpY2F0aW9uIiwiY29waWVkIiwiJHNlbGVjdCIsIiRjb250YWluZXIiLCIkbWV0YWJveCIsImZhZGVUbyIsInBvc3QiLCJhamF4dXJsIiwicmVzcG9uc2UiLCJzdWNjZXNzIiwidGFncyIsInVsIiwidXBkYXRlX3JlY2lwaWVudHMiLCIkcm93IiwiJHJlbW92ZV9idXR0b24iLCIkaW5wdXRzIiwicGFydF9uYW1lIiwiYWRkX3JlY2lwaWVudCIsImFsZXJ0IiwiJGJ1dHRvbiIsImZpcnN0IiwicmVjaXBpZW50X25hbWUiLCJ1cGRhdGVfYWxsX2lucHV0cyIsInVwZGF0ZV90eXBlIiwidGFnX3ZhbHVlIiwiYXR0cyIsInNlbGVjdGVkIiwidHJpZ2dlcl9zbHVnIiwidGlueW1jZSIsImVkaXRvcnMiLCJjb250ZW50IiwiZWRpdG9yX2NvbnRlbnQiLCJhY3RpdmVFZGl0b3IiLCJnZXRDb250ZW50IiwidGVtcGxhdGUiLCJzZXRDb250ZW50IiwicmVjaXBpZW50cyIsIm5vbmNlIiwic2xpZGVVcCIsIiRmb3JtIiwiZm9ybSIsInNlcmlhbGl6ZUFycmF5IiwibG9jYXRpb24iLCJocmVmIl0sIm1hcHBpbmdzIjoiQ0FnQkEsU0FBQUEsRUFBQUMsR0FDQSxrQkFBQUMsU0FBQUEsT0FBQUMsSUFD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YyxHQUFBOXRCLEVBQUF6RixLQUVBdXpCLEdBQUF2cEIsS0FBQSxZQUFBd0ssU0FBQSxZQUVBLElBQUF4UixJQUNBMm9CLE9BQUEsNkJBQ0E2SCxLQUFBRCxFQUFBRSxpQkFHQWh1QixHQUFBNnJCLEtBQUFDLFFBQUF2dUIsRUFBQSxTQUFBd3VCLEdBQ0FsbUIsT0FBQW9vQixTQUFBQyxLQUFBbHVCLEVBQUEsd0RBQUF6QyxLQUFBLHFCQU9Bd0YiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogc2lmdGVyLmpzXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMyBCcmlhbiBSZWF2aXMgJiBjb250cmlidXRvcnNcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXNcclxuICogZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XHJcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyXHJcbiAqIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0ZcclxuICogQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlXHJcbiAqIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqXHJcbiAqIEBhdXRob3IgQnJpYW4gUmVhdmlzIDxicmlhbkB0aGlyZHJvdXRlLmNvbT5cclxuICovXHJcblxyXG4oZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xyXG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuXHRcdGRlZmluZSgnc2lmdGVyJywgZmFjdG9yeSk7XHJcblx0fSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRyb290LlNpZnRlciA9IGZhY3RvcnkoKTtcclxuXHR9XHJcbn0odGhpcywgZnVuY3Rpb24oKSB7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRleHR1YWxseSBzZWFyY2hlcyBhcnJheXMgYW5kIGhhc2hlcyBvZiBvYmplY3RzXHJcblx0ICogYnkgcHJvcGVydHkgKG9yIG11bHRpcGxlIHByb3BlcnRpZXMpLiBEZXNpZ25lZFxyXG5cdCAqIHNwZWNpZmljYWxseSBmb3IgYXV0b2NvbXBsZXRlLlxyXG5cdCAqXHJcblx0ICogQGNvbnN0cnVjdG9yXHJcblx0ICogQHBhcmFtIHthcnJheXxvYmplY3R9IGl0ZW1zXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IGl0ZW1zXHJcblx0ICovXHJcblx0dmFyIFNpZnRlciA9IGZ1bmN0aW9uKGl0ZW1zLCBzZXR0aW5ncykge1xyXG5cdFx0dGhpcy5pdGVtcyA9IGl0ZW1zO1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzIHx8IHtkaWFjcml0aWNzOiB0cnVlfTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBTcGxpdHMgYSBzZWFyY2ggc3RyaW5nIGludG8gYW4gYXJyYXkgb2YgaW5kaXZpZHVhbFxyXG5cdCAqIHJlZ2V4cHMgdG8gYmUgdXNlZCB0byBtYXRjaCByZXN1bHRzLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5XHJcblx0ICogQHJldHVybnMge2FycmF5fVxyXG5cdCAqL1xyXG5cdFNpZnRlci5wcm90b3R5cGUudG9rZW5pemUgPSBmdW5jdGlvbihxdWVyeSkge1xyXG5cdFx0cXVlcnkgPSB0cmltKFN0cmluZyhxdWVyeSB8fCAnJykudG9Mb3dlckNhc2UoKSk7XHJcblx0XHRpZiAoIXF1ZXJ5IHx8ICFxdWVyeS5sZW5ndGgpIHJldHVybiBbXTtcclxuXHJcblx0XHR2YXIgaSwgbiwgcmVnZXgsIGxldHRlcjtcclxuXHRcdHZhciB0b2tlbnMgPSBbXTtcclxuXHRcdHZhciB3b3JkcyA9IHF1ZXJ5LnNwbGl0KC8gKy8pO1xyXG5cclxuXHRcdGZvciAoaSA9IDAsIG4gPSB3b3Jkcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0cmVnZXggPSBlc2NhcGVfcmVnZXgod29yZHNbaV0pO1xyXG5cdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5kaWFjcml0aWNzKSB7XHJcblx0XHRcdFx0Zm9yIChsZXR0ZXIgaW4gRElBQ1JJVElDUykge1xyXG5cdFx0XHRcdFx0aWYgKERJQUNSSVRJQ1MuaGFzT3duUHJvcGVydHkobGV0dGVyKSkge1xyXG5cdFx0XHRcdFx0XHRyZWdleCA9IHJlZ2V4LnJlcGxhY2UobmV3IFJlZ0V4cChsZXR0ZXIsICdnJyksIERJQUNSSVRJQ1NbbGV0dGVyXSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHRva2Vucy5wdXNoKHtcclxuXHRcdFx0XHRzdHJpbmcgOiB3b3Jkc1tpXSxcclxuXHRcdFx0XHRyZWdleCAgOiBuZXcgUmVnRXhwKHJlZ2V4LCAnaScpXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0b2tlbnM7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogSXRlcmF0ZXMgb3ZlciBhcnJheXMgYW5kIGhhc2hlcy5cclxuXHQgKlxyXG5cdCAqIGBgYFxyXG5cdCAqIHRoaXMuaXRlcmF0b3IodGhpcy5pdGVtcywgZnVuY3Rpb24oaXRlbSwgaWQpIHtcclxuXHQgKiAgICAvLyBpbnZva2VkIGZvciBlYWNoIGl0ZW1cclxuXHQgKiB9KTtcclxuXHQgKiBgYGBcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7YXJyYXl8b2JqZWN0fSBvYmplY3RcclxuXHQgKi9cclxuXHRTaWZ0ZXIucHJvdG90eXBlLml0ZXJhdG9yID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xyXG5cdFx0dmFyIGl0ZXJhdG9yO1xyXG5cdFx0aWYgKGlzX2FycmF5KG9iamVjdCkpIHtcclxuXHRcdFx0aXRlcmF0b3IgPSBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCB8fCBmdW5jdGlvbihjYWxsYmFjaykge1xyXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwLCBuID0gdGhpcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRcdGNhbGxiYWNrKHRoaXNbaV0sIGksIHRoaXMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGl0ZXJhdG9yID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gdGhpcykge1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdFx0XHRjYWxsYmFjayh0aGlzW2tleV0sIGtleSwgdGhpcyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cclxuXHRcdGl0ZXJhdG9yLmFwcGx5KG9iamVjdCwgW2NhbGxiYWNrXSk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIGJlIHVzZWQgdG8gc2NvcmUgaW5kaXZpZHVhbCByZXN1bHRzLlxyXG5cdCAqXHJcblx0ICogR29vZCBtYXRjaGVzIHdpbGwgaGF2ZSBhIGhpZ2hlciBzY29yZSB0aGFuIHBvb3IgbWF0Y2hlcy5cclxuXHQgKiBJZiBhbiBpdGVtIGlzIG5vdCBhIG1hdGNoLCAwIHdpbGwgYmUgcmV0dXJuZWQgYnkgdGhlIGZ1bmN0aW9uLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtvYmplY3R8c3RyaW5nfSBzZWFyY2hcclxuXHQgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAob3B0aW9uYWwpXHJcblx0ICogQHJldHVybnMge2Z1bmN0aW9ufVxyXG5cdCAqL1xyXG5cdFNpZnRlci5wcm90b3R5cGUuZ2V0U2NvcmVGdW5jdGlvbiA9IGZ1bmN0aW9uKHNlYXJjaCwgb3B0aW9ucykge1xyXG5cdFx0dmFyIHNlbGYsIGZpZWxkcywgdG9rZW5zLCB0b2tlbl9jb3VudCwgbmVzdGluZztcclxuXHJcblx0XHRzZWxmICAgICAgICA9IHRoaXM7XHJcblx0XHRzZWFyY2ggICAgICA9IHNlbGYucHJlcGFyZVNlYXJjaChzZWFyY2gsIG9wdGlvbnMpO1xyXG5cdFx0dG9rZW5zICAgICAgPSBzZWFyY2gudG9rZW5zO1xyXG5cdFx0ZmllbGRzICAgICAgPSBzZWFyY2gub3B0aW9ucy5maWVsZHM7XHJcblx0XHR0b2tlbl9jb3VudCA9IHRva2Vucy5sZW5ndGg7XHJcblx0XHRuZXN0aW5nICAgICA9IHNlYXJjaC5vcHRpb25zLm5lc3Rpbmc7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDYWxjdWxhdGVzIGhvdyBjbG9zZSBvZiBhIG1hdGNoIHRoZVxyXG5cdFx0ICogZ2l2ZW4gdmFsdWUgaXMgYWdhaW5zdCBhIHNlYXJjaCB0b2tlbi5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge21peGVkfSB2YWx1ZVxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IHRva2VuXHJcblx0XHQgKiBAcmV0dXJuIHtudW1iZXJ9XHJcblx0XHQgKi9cclxuXHRcdHZhciBzY29yZVZhbHVlID0gZnVuY3Rpb24odmFsdWUsIHRva2VuKSB7XHJcblx0XHRcdHZhciBzY29yZSwgcG9zO1xyXG5cclxuXHRcdFx0aWYgKCF2YWx1ZSkgcmV0dXJuIDA7XHJcblx0XHRcdHZhbHVlID0gU3RyaW5nKHZhbHVlIHx8ICcnKTtcclxuXHRcdFx0cG9zID0gdmFsdWUuc2VhcmNoKHRva2VuLnJlZ2V4KTtcclxuXHRcdFx0aWYgKHBvcyA9PT0gLTEpIHJldHVybiAwO1xyXG5cdFx0XHRzY29yZSA9IHRva2VuLnN0cmluZy5sZW5ndGggLyB2YWx1ZS5sZW5ndGg7XHJcblx0XHRcdGlmIChwb3MgPT09IDApIHNjb3JlICs9IDAuNTtcclxuXHRcdFx0cmV0dXJuIHNjb3JlO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENhbGN1bGF0ZXMgdGhlIHNjb3JlIG9mIGFuIG9iamVjdFxyXG5cdFx0ICogYWdhaW5zdCB0aGUgc2VhcmNoIHF1ZXJ5LlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSB0b2tlblxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGRhdGFcclxuXHRcdCAqIEByZXR1cm4ge251bWJlcn1cclxuXHRcdCAqL1xyXG5cdFx0dmFyIHNjb3JlT2JqZWN0ID0gKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgZmllbGRfY291bnQgPSBmaWVsZHMubGVuZ3RoO1xyXG5cdFx0XHRpZiAoIWZpZWxkX2NvdW50KSB7XHJcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoZmllbGRfY291bnQgPT09IDEpIHtcclxuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24odG9rZW4sIGRhdGEpIHtcclxuXHRcdFx0XHRcdHJldHVybiBzY29yZVZhbHVlKGdldGF0dHIoZGF0YSwgZmllbGRzWzBdLCBuZXN0aW5nKSwgdG9rZW4pO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKHRva2VuLCBkYXRhKSB7XHJcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIHN1bSA9IDA7IGkgPCBmaWVsZF9jb3VudDsgaSsrKSB7XHJcblx0XHRcdFx0XHRzdW0gKz0gc2NvcmVWYWx1ZShnZXRhdHRyKGRhdGEsIGZpZWxkc1tpXSwgbmVzdGluZyksIHRva2VuKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIHN1bSAvIGZpZWxkX2NvdW50O1xyXG5cdFx0XHR9O1xyXG5cdFx0fSkoKTtcclxuXHJcblx0XHRpZiAoIXRva2VuX2NvdW50KSB7XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XHJcblx0XHR9XHJcblx0XHRpZiAodG9rZW5fY291bnQgPT09IDEpIHtcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0XHRyZXR1cm4gc2NvcmVPYmplY3QodG9rZW5zWzBdLCBkYXRhKTtcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoc2VhcmNoLm9wdGlvbnMuY29uanVuY3Rpb24gPT09ICdhbmQnKSB7XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdFx0dmFyIHNjb3JlO1xyXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwLCBzdW0gPSAwOyBpIDwgdG9rZW5fY291bnQ7IGkrKykge1xyXG5cdFx0XHRcdFx0c2NvcmUgPSBzY29yZU9iamVjdCh0b2tlbnNbaV0sIGRhdGEpO1xyXG5cdFx0XHRcdFx0aWYgKHNjb3JlIDw9IDApIHJldHVybiAwO1xyXG5cdFx0XHRcdFx0c3VtICs9IHNjb3JlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gc3VtIC8gdG9rZW5fY291bnQ7XHJcblx0XHRcdH07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwLCBzdW0gPSAwOyBpIDwgdG9rZW5fY291bnQ7IGkrKykge1xyXG5cdFx0XHRcdFx0c3VtICs9IHNjb3JlT2JqZWN0KHRva2Vuc1tpXSwgZGF0YSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBzdW0gLyB0b2tlbl9jb3VudDtcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBjb21wYXJlIHR3b1xyXG5cdCAqIHJlc3VsdHMsIGZvciBzb3J0aW5nIHB1cnBvc2VzLiBJZiBubyBzb3J0aW5nIHNob3VsZFxyXG5cdCAqIGJlIHBlcmZvcm1lZCwgYG51bGxgIHdpbGwgYmUgcmV0dXJuZWQuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHNlYXJjaFxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXHJcblx0ICogQHJldHVybiBmdW5jdGlvbihhLGIpXHJcblx0ICovXHJcblx0U2lmdGVyLnByb3RvdHlwZS5nZXRTb3J0RnVuY3Rpb24gPSBmdW5jdGlvbihzZWFyY2gsIG9wdGlvbnMpIHtcclxuXHRcdHZhciBpLCBuLCBzZWxmLCBmaWVsZCwgZmllbGRzLCBmaWVsZHNfY291bnQsIG11bHRpcGxpZXIsIG11bHRpcGxpZXJzLCBnZXRfZmllbGQsIGltcGxpY2l0X3Njb3JlLCBzb3J0O1xyXG5cclxuXHRcdHNlbGYgICA9IHRoaXM7XHJcblx0XHRzZWFyY2ggPSBzZWxmLnByZXBhcmVTZWFyY2goc2VhcmNoLCBvcHRpb25zKTtcclxuXHRcdHNvcnQgICA9ICghc2VhcmNoLnF1ZXJ5ICYmIG9wdGlvbnMuc29ydF9lbXB0eSkgfHwgb3B0aW9ucy5zb3J0O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRmV0Y2hlcyB0aGUgc3BlY2lmaWVkIHNvcnQgZmllbGQgdmFsdWVcclxuXHRcdCAqIGZyb20gYSBzZWFyY2ggcmVzdWx0IGl0ZW0uXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtICB7c3RyaW5nfSBuYW1lXHJcblx0XHQgKiBAcGFyYW0gIHtvYmplY3R9IHJlc3VsdFxyXG5cdFx0ICogQHJldHVybiB7bWl4ZWR9XHJcblx0XHQgKi9cclxuXHRcdGdldF9maWVsZCA9IGZ1bmN0aW9uKG5hbWUsIHJlc3VsdCkge1xyXG5cdFx0XHRpZiAobmFtZSA9PT0gJyRzY29yZScpIHJldHVybiByZXN1bHQuc2NvcmU7XHJcblx0XHRcdHJldHVybiBnZXRhdHRyKHNlbGYuaXRlbXNbcmVzdWx0LmlkXSwgbmFtZSwgb3B0aW9ucy5uZXN0aW5nKTtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gcGFyc2Ugb3B0aW9uc1xyXG5cdFx0ZmllbGRzID0gW107XHJcblx0XHRpZiAoc29ydCkge1xyXG5cdFx0XHRmb3IgKGkgPSAwLCBuID0gc29ydC5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRpZiAoc2VhcmNoLnF1ZXJ5IHx8IHNvcnRbaV0uZmllbGQgIT09ICckc2NvcmUnKSB7XHJcblx0XHRcdFx0XHRmaWVsZHMucHVzaChzb3J0W2ldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyB0aGUgXCIkc2NvcmVcIiBmaWVsZCBpcyBpbXBsaWVkIHRvIGJlIHRoZSBwcmltYXJ5XHJcblx0XHQvLyBzb3J0IGZpZWxkLCB1bmxlc3MgaXQncyBtYW51YWxseSBzcGVjaWZpZWRcclxuXHRcdGlmIChzZWFyY2gucXVlcnkpIHtcclxuXHRcdFx0aW1wbGljaXRfc2NvcmUgPSB0cnVlO1xyXG5cdFx0XHRmb3IgKGkgPSAwLCBuID0gZmllbGRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdGlmIChmaWVsZHNbaV0uZmllbGQgPT09ICckc2NvcmUnKSB7XHJcblx0XHRcdFx0XHRpbXBsaWNpdF9zY29yZSA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChpbXBsaWNpdF9zY29yZSkge1xyXG5cdFx0XHRcdGZpZWxkcy51bnNoaWZ0KHtmaWVsZDogJyRzY29yZScsIGRpcmVjdGlvbjogJ2Rlc2MnfSk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGZvciAoaSA9IDAsIG4gPSBmaWVsZHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0aWYgKGZpZWxkc1tpXS5maWVsZCA9PT0gJyRzY29yZScpIHtcclxuXHRcdFx0XHRcdGZpZWxkcy5zcGxpY2UoaSwgMSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRtdWx0aXBsaWVycyA9IFtdO1xyXG5cdFx0Zm9yIChpID0gMCwgbiA9IGZpZWxkcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0bXVsdGlwbGllcnMucHVzaChmaWVsZHNbaV0uZGlyZWN0aW9uID09PSAnZGVzYycgPyAtMSA6IDEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGJ1aWxkIGZ1bmN0aW9uXHJcblx0XHRmaWVsZHNfY291bnQgPSBmaWVsZHMubGVuZ3RoO1xyXG5cdFx0aWYgKCFmaWVsZHNfY291bnQpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9IGVsc2UgaWYgKGZpZWxkc19jb3VudCA9PT0gMSkge1xyXG5cdFx0XHRmaWVsZCA9IGZpZWxkc1swXS5maWVsZDtcclxuXHRcdFx0bXVsdGlwbGllciA9IG11bHRpcGxpZXJzWzBdO1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oYSwgYikge1xyXG5cdFx0XHRcdHJldHVybiBtdWx0aXBsaWVyICogY21wKFxyXG5cdFx0XHRcdFx0Z2V0X2ZpZWxkKGZpZWxkLCBhKSxcclxuXHRcdFx0XHRcdGdldF9maWVsZChmaWVsZCwgYilcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcclxuXHRcdFx0XHR2YXIgaSwgcmVzdWx0LCBhX3ZhbHVlLCBiX3ZhbHVlLCBmaWVsZDtcclxuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgZmllbGRzX2NvdW50OyBpKyspIHtcclxuXHRcdFx0XHRcdGZpZWxkID0gZmllbGRzW2ldLmZpZWxkO1xyXG5cdFx0XHRcdFx0cmVzdWx0ID0gbXVsdGlwbGllcnNbaV0gKiBjbXAoXHJcblx0XHRcdFx0XHRcdGdldF9maWVsZChmaWVsZCwgYSksXHJcblx0XHRcdFx0XHRcdGdldF9maWVsZChmaWVsZCwgYilcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRpZiAocmVzdWx0KSByZXR1cm4gcmVzdWx0O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gMDtcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBQYXJzZXMgYSBzZWFyY2ggcXVlcnkgYW5kIHJldHVybnMgYW4gb2JqZWN0XHJcblx0ICogd2l0aCB0b2tlbnMgYW5kIGZpZWxkcyByZWFkeSB0byBiZSBwb3B1bGF0ZWRcclxuXHQgKiB3aXRoIHJlc3VsdHMuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlcclxuXHQgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xyXG5cdCAqIEByZXR1cm5zIHtvYmplY3R9XHJcblx0ICovXHJcblx0U2lmdGVyLnByb3RvdHlwZS5wcmVwYXJlU2VhcmNoID0gZnVuY3Rpb24ocXVlcnksIG9wdGlvbnMpIHtcclxuXHRcdGlmICh0eXBlb2YgcXVlcnkgPT09ICdvYmplY3QnKSByZXR1cm4gcXVlcnk7XHJcblxyXG5cdFx0b3B0aW9ucyA9IGV4dGVuZCh7fSwgb3B0aW9ucyk7XHJcblxyXG5cdFx0dmFyIG9wdGlvbl9maWVsZHMgICAgID0gb3B0aW9ucy5maWVsZHM7XHJcblx0XHR2YXIgb3B0aW9uX3NvcnQgICAgICAgPSBvcHRpb25zLnNvcnQ7XHJcblx0XHR2YXIgb3B0aW9uX3NvcnRfZW1wdHkgPSBvcHRpb25zLnNvcnRfZW1wdHk7XHJcblxyXG5cdFx0aWYgKG9wdGlvbl9maWVsZHMgJiYgIWlzX2FycmF5KG9wdGlvbl9maWVsZHMpKSBvcHRpb25zLmZpZWxkcyA9IFtvcHRpb25fZmllbGRzXTtcclxuXHRcdGlmIChvcHRpb25fc29ydCAmJiAhaXNfYXJyYXkob3B0aW9uX3NvcnQpKSBvcHRpb25zLnNvcnQgPSBbb3B0aW9uX3NvcnRdO1xyXG5cdFx0aWYgKG9wdGlvbl9zb3J0X2VtcHR5ICYmICFpc19hcnJheShvcHRpb25fc29ydF9lbXB0eSkpIG9wdGlvbnMuc29ydF9lbXB0eSA9IFtvcHRpb25fc29ydF9lbXB0eV07XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0b3B0aW9ucyA6IG9wdGlvbnMsXHJcblx0XHRcdHF1ZXJ5ICAgOiBTdHJpbmcocXVlcnkgfHwgJycpLnRvTG93ZXJDYXNlKCksXHJcblx0XHRcdHRva2VucyAgOiB0aGlzLnRva2VuaXplKHF1ZXJ5KSxcclxuXHRcdFx0dG90YWwgICA6IDAsXHJcblx0XHRcdGl0ZW1zICAgOiBbXVxyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBTZWFyY2hlcyB0aHJvdWdoIGFsbCBpdGVtcyBhbmQgcmV0dXJucyBhIHNvcnRlZCBhcnJheSBvZiBtYXRjaGVzLlxyXG5cdCAqXHJcblx0ICogVGhlIGBvcHRpb25zYCBwYXJhbWV0ZXIgY2FuIGNvbnRhaW46XHJcblx0ICpcclxuXHQgKiAgIC0gZmllbGRzIHtzdHJpbmd8YXJyYXl9XHJcblx0ICogICAtIHNvcnQge2FycmF5fVxyXG5cdCAqICAgLSBzY29yZSB7ZnVuY3Rpb259XHJcblx0ICogICAtIGZpbHRlciB7Ym9vbH1cclxuXHQgKiAgIC0gbGltaXQge2ludGVnZXJ9XHJcblx0ICpcclxuXHQgKiBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nOlxyXG5cdCAqXHJcblx0ICogICAtIG9wdGlvbnMge29iamVjdH1cclxuXHQgKiAgIC0gcXVlcnkge3N0cmluZ31cclxuXHQgKiAgIC0gdG9rZW5zIHthcnJheX1cclxuXHQgKiAgIC0gdG90YWwge2ludH1cclxuXHQgKiAgIC0gaXRlbXMge2FycmF5fVxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5XHJcblx0ICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcclxuXHQgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG5cdCAqL1xyXG5cdFNpZnRlci5wcm90b3R5cGUuc2VhcmNoID0gZnVuY3Rpb24ocXVlcnksIG9wdGlvbnMpIHtcclxuXHRcdHZhciBzZWxmID0gdGhpcywgdmFsdWUsIHNjb3JlLCBzZWFyY2gsIGNhbGN1bGF0ZVNjb3JlO1xyXG5cdFx0dmFyIGZuX3NvcnQ7XHJcblx0XHR2YXIgZm5fc2NvcmU7XHJcblxyXG5cdFx0c2VhcmNoICA9IHRoaXMucHJlcGFyZVNlYXJjaChxdWVyeSwgb3B0aW9ucyk7XHJcblx0XHRvcHRpb25zID0gc2VhcmNoLm9wdGlvbnM7XHJcblx0XHRxdWVyeSAgID0gc2VhcmNoLnF1ZXJ5O1xyXG5cclxuXHRcdC8vIGdlbmVyYXRlIHJlc3VsdCBzY29yaW5nIGZ1bmN0aW9uXHJcblx0XHRmbl9zY29yZSA9IG9wdGlvbnMuc2NvcmUgfHwgc2VsZi5nZXRTY29yZUZ1bmN0aW9uKHNlYXJjaCk7XHJcblxyXG5cdFx0Ly8gcGVyZm9ybSBzZWFyY2ggYW5kIHNvcnRcclxuXHRcdGlmIChxdWVyeS5sZW5ndGgpIHtcclxuXHRcdFx0c2VsZi5pdGVyYXRvcihzZWxmLml0ZW1zLCBmdW5jdGlvbihpdGVtLCBpZCkge1xyXG5cdFx0XHRcdHNjb3JlID0gZm5fc2NvcmUoaXRlbSk7XHJcblx0XHRcdFx0aWYgKG9wdGlvbnMuZmlsdGVyID09PSBmYWxzZSB8fCBzY29yZSA+IDApIHtcclxuXHRcdFx0XHRcdHNlYXJjaC5pdGVtcy5wdXNoKHsnc2NvcmUnOiBzY29yZSwgJ2lkJzogaWR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c2VsZi5pdGVyYXRvcihzZWxmLml0ZW1zLCBmdW5jdGlvbihpdGVtLCBpZCkge1xyXG5cdFx0XHRcdHNlYXJjaC5pdGVtcy5wdXNoKHsnc2NvcmUnOiAxLCAnaWQnOiBpZH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmbl9zb3J0ID0gc2VsZi5nZXRTb3J0RnVuY3Rpb24oc2VhcmNoLCBvcHRpb25zKTtcclxuXHRcdGlmIChmbl9zb3J0KSBzZWFyY2guaXRlbXMuc29ydChmbl9zb3J0KTtcclxuXHJcblx0XHQvLyBhcHBseSBsaW1pdHNcclxuXHRcdHNlYXJjaC50b3RhbCA9IHNlYXJjaC5pdGVtcy5sZW5ndGg7XHJcblx0XHRpZiAodHlwZW9mIG9wdGlvbnMubGltaXQgPT09ICdudW1iZXInKSB7XHJcblx0XHRcdHNlYXJjaC5pdGVtcyA9IHNlYXJjaC5pdGVtcy5zbGljZSgwLCBvcHRpb25zLmxpbWl0KTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gc2VhcmNoO1xyXG5cdH07XHJcblxyXG5cdC8vIHV0aWxpdGllc1xyXG5cdC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC1cclxuXHJcblx0dmFyIGNtcCA9IGZ1bmN0aW9uKGEsIGIpIHtcclxuXHRcdGlmICh0eXBlb2YgYSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGIgPT09ICdudW1iZXInKSB7XHJcblx0XHRcdHJldHVybiBhID4gYiA/IDEgOiAoYSA8IGIgPyAtMSA6IDApO1xyXG5cdFx0fVxyXG5cdFx0YSA9IGFzY2lpZm9sZChTdHJpbmcoYSB8fCAnJykpO1xyXG5cdFx0YiA9IGFzY2lpZm9sZChTdHJpbmcoYiB8fCAnJykpO1xyXG5cdFx0aWYgKGEgPiBiKSByZXR1cm4gMTtcclxuXHRcdGlmIChiID4gYSkgcmV0dXJuIC0xO1xyXG5cdFx0cmV0dXJuIDA7XHJcblx0fTtcclxuXHJcblx0dmFyIGV4dGVuZCA9IGZ1bmN0aW9uKGEsIGIpIHtcclxuXHRcdHZhciBpLCBuLCBrLCBvYmplY3Q7XHJcblx0XHRmb3IgKGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRvYmplY3QgPSBhcmd1bWVudHNbaV07XHJcblx0XHRcdGlmICghb2JqZWN0KSBjb250aW51ZTtcclxuXHRcdFx0Zm9yIChrIGluIG9iamVjdCkge1xyXG5cdFx0XHRcdGlmIChvYmplY3QuaGFzT3duUHJvcGVydHkoaykpIHtcclxuXHRcdFx0XHRcdGFba10gPSBvYmplY3Rba107XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gYTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBBIHByb3BlcnR5IGdldHRlciByZXNvbHZpbmcgZG90LW5vdGF0aW9uXHJcblx0ICogQHBhcmFtICB7T2JqZWN0fSAgb2JqICAgICBUaGUgcm9vdCBvYmplY3QgdG8gZmV0Y2ggcHJvcGVydHkgb25cclxuXHQgKiBAcGFyYW0gIHtTdHJpbmd9ICBuYW1lICAgIFRoZSBvcHRpb25hbGx5IGRvdHRlZCBwcm9wZXJ0eSBuYW1lIHRvIGZldGNoXHJcblx0ICogQHBhcmFtICB7Qm9vbGVhbn0gbmVzdGluZyBIYW5kbGUgbmVzdGluZyBvciBub3RcclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgICAgIFRoZSByZXNvbHZlZCBwcm9wZXJ0eSB2YWx1ZVxyXG5cdCAqL1xyXG5cdHZhciBnZXRhdHRyID0gZnVuY3Rpb24ob2JqLCBuYW1lLCBuZXN0aW5nKSB7XHJcblx0ICAgIGlmICghb2JqIHx8ICFuYW1lKSByZXR1cm47XHJcblx0ICAgIGlmICghbmVzdGluZykgcmV0dXJuIG9ialtuYW1lXTtcclxuXHQgICAgdmFyIG5hbWVzID0gbmFtZS5zcGxpdChcIi5cIik7XHJcblx0ICAgIHdoaWxlKG5hbWVzLmxlbmd0aCAmJiAob2JqID0gb2JqW25hbWVzLnNoaWZ0KCldKSk7XHJcblx0ICAgIHJldHVybiBvYmo7XHJcblx0fTtcclxuXHJcblx0dmFyIHRyaW0gPSBmdW5jdGlvbihzdHIpIHtcclxuXHRcdHJldHVybiAoc3RyICsgJycpLnJlcGxhY2UoL15cXHMrfFxccyskfC9nLCAnJyk7XHJcblx0fTtcclxuXHJcblx0dmFyIGVzY2FwZV9yZWdleCA9IGZ1bmN0aW9uKHN0cikge1xyXG5cdFx0cmV0dXJuIChzdHIgKyAnJykucmVwbGFjZSgvKFsuPyorXiRbXFxdXFxcXCgpe318LV0pL2csICdcXFxcJDEnKTtcclxuXHR9O1xyXG5cclxuXHR2YXIgaXNfYXJyYXkgPSBBcnJheS5pc0FycmF5IHx8ICh0eXBlb2YgJCAhPT0gJ3VuZGVmaW5lZCcgJiYgJC5pc0FycmF5KSB8fCBmdW5jdGlvbihvYmplY3QpIHtcclxuXHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqZWN0KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcclxuXHR9O1xyXG5cclxuXHR2YXIgRElBQ1JJVElDUyA9IHtcclxuXHRcdCdhJzogJ1th4biA4biBxILEg8OCw6LHjceOyLrisaXIpsin4bqg4bqhw4TDpMOAw6DDgcOhxIDEgcODw6PDhcOlxIXEhMODxIXEhF0nLFxyXG5cdFx0J2InOiAnW2LikKLOss6SQuC4v/CQjIHhm5JdJyxcclxuXHRcdCdjJzogJ1tjxIbEh8SIxInEjMSNxIrEi0PMhGPMhMOHw6fhuIjhuInIu8i8xofGiMmV4bSE77yj772DXScsXHJcblx0XHQnZCc6ICdbZMSOxI/huIrhuIvhuJDhuJHhuIzhuI3huJLhuJPhuI7huI/EkMSRRMymZMymxonJlsaKyZfGi8aM4bWt4baB4baRyKHhtIXvvKTvvYTDsF0nLFxyXG5cdFx0J2UnOiAnW2XDicOpw4jDqMOKw6rhuJjhuJnEmsSbxJTEleG6vOG6veG4muG4m+G6uuG6u8SWxJfDi8OrxJLEk8ioyKnEmMSZ4baSyYbJh8iEyIXhur7hur/hu4Dhu4Hhu4Thu4Xhu4Lhu4PhuJzhuJ3huJbhuJfhuJThuJXIhsiH4bq44bq54buG4buH4rG44bSH77yl772FyZjHncaPxpDOtV0nLFxyXG5cdFx0J2YnOiAnW2bGkcaS4bie4bifXScsXHJcblx0XHQnZyc6ICdbZ8mi4oKyx6THpcScxJ3EnsSfxKLEo8aTyaDEoMShXScsXHJcblx0XHQnaCc6ICdbaMSkxKXEpsSn4bio4bip4bqW4bqW4bik4bil4bii4bijyabKsMe2xpVdJyxcclxuXHRcdCdpJzogJ1tpw43DrcOMw6zErMStw47DrsePx5DDj8Ov4biu4bivxKjEqcSuxK/EqsSr4buI4buJyIjIiciKyIvhu4rhu4vhuKzhuK3Gl8moyajMhuG1u+G2lsSwaUnEscmq77yp772JXScsXHJcblx0XHQnaic6ICdbasi3xLTEtcmIyYnKncmfyrJdJyxcclxuXHRcdCdrJzogJ1trxpjGmeqdgOqdgeG4sOG4sceox6nhuLLhuLPhuLThuLXOus+w4oKtXScsXHJcblx0XHQnbCc6ICdbbMWBxYLEvcS+xLvEvMS5xLrhuLbhuLfhuLjhuLnhuLzhuL3huLrhuLvEv8WAyL3GmuKxoOKxoeKxosmryazhtoXJrci0yp/vvKzvvYxdJyxcclxuXHRcdCduJzogJ1tuxYPFhMe4x7nFh8WIw5HDseG5hOG5hcWFxYbhuYbhuYfhuYrhuYvhuYjhuYlOzIhuzIjGncmyyKDGnuG1sOG2h8mzyLXJtO+8ru+9jsWKxYtdJyxcclxuXHRcdCdvJzogJ1tvw5jDuMOWw7bDk8Ozw5LDssOUw7THkceSxZDFkcWOxY/Irsiv4buM4buNxp/JtcagxqHhu47hu4/FjMWNw5XDtceqx6vIjMiN1ZXWhV0nLFxyXG5cdFx0J3AnOiAnW3DhuZThuZXhuZbhuZfisaPhtb3GpMal4bWxXScsXHJcblx0XHQncSc6ICdbceqdluqdl8qgyYrJi+qdmOqdmXHMg10nLFxyXG5cdFx0J3InOiAnW3LFlMWVyYzJjcWYxZnFlsWX4bmY4bmZyJDIkciSyJPhuZrhuZvisaTJvV0nLFxyXG5cdFx0J3MnOiAnW3PFmsWb4bmg4bmh4bmi4bmj6p6o6p6pxZzFncWgxaHFnsWfyJjImVPMiHPMiF0nLFxyXG5cdFx0J3QnOiAnW3TFpMWl4bmq4bmrxaLFo+G5rOG5rcauyojImsib4bmw4bmx4bmu4bmvxqzGrV0nLFxyXG5cdFx0J3UnOiAnW3XFrMWtyYTKieG7pOG7pcOcw7zDmsO6w5nDucObw7vHk8eUxbDFscWsxa3Gr8aw4bum4bunxarFq8WoxanFssWzyJTIleKIql0nLFxyXG5cdFx0J3YnOiAnW3bhubzhub3hub7hub/GssqL6p2e6p2f4rGxyotdJyxcclxuXHRcdCd3JzogJ1t34bqC4bqD4bqA4bqBxbTFteG6hOG6heG6huG6h+G6iOG6iV0nLFxyXG5cdFx0J3gnOiAnW3jhuozhuo3huorhuovPh10nLFxyXG5cdFx0J3knOiAnW3nDncO94buy4buzxbbFt8W4w7/hu7jhu7nhuo7huo/hu7Thu7XJjsmPxrPGtF0nLFxyXG5cdFx0J3onOiAnW3rFucW64bqQ4bqRxb3FvsW7xbzhupLhupPhupThupXGtca2XSdcclxuXHR9O1xyXG5cclxuXHR2YXIgYXNjaWlmb2xkID0gKGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGksIG4sIGssIGNodW5rO1xyXG5cdFx0dmFyIGZvcmVpZ25sZXR0ZXJzID0gJyc7XHJcblx0XHR2YXIgbG9va3VwID0ge307XHJcblx0XHRmb3IgKGsgaW4gRElBQ1JJVElDUykge1xyXG5cdFx0XHRpZiAoRElBQ1JJVElDUy5oYXNPd25Qcm9wZXJ0eShrKSkge1xyXG5cdFx0XHRcdGNodW5rID0gRElBQ1JJVElDU1trXS5zdWJzdHJpbmcoMiwgRElBQ1JJVElDU1trXS5sZW5ndGggLSAxKTtcclxuXHRcdFx0XHRmb3JlaWdubGV0dGVycyArPSBjaHVuaztcclxuXHRcdFx0XHRmb3IgKGkgPSAwLCBuID0gY2h1bmsubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0XHRsb29rdXBbY2h1bmsuY2hhckF0KGkpXSA9IGs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHR2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgnWycgKyAgZm9yZWlnbmxldHRlcnMgKyAnXScsICdnJyk7XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24oc3RyKSB7XHJcblx0XHRcdHJldHVybiBzdHIucmVwbGFjZShyZWdleHAsIGZ1bmN0aW9uKGZvcmVpZ25sZXR0ZXIpIHtcclxuXHRcdFx0XHRyZXR1cm4gbG9va3VwW2ZvcmVpZ25sZXR0ZXJdO1xyXG5cdFx0XHR9KS50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0fTtcclxuXHR9KSgpO1xyXG5cclxuXHJcblx0Ly8gZXhwb3J0XHJcblx0Ly8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxyXG5cclxuXHRyZXR1cm4gU2lmdGVyO1xyXG59KSk7XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiBtaWNyb3BsdWdpbi5qc1xyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMgQnJpYW4gUmVhdmlzICYgY29udHJpYnV0b3JzXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzXHJcbiAqIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxyXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlclxyXG4gKiB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GXHJcbiAqIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZVxyXG4gKiBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEJyaWFuIFJlYXZpcyA8YnJpYW5AdGhpcmRyb3V0ZS5jb20+XHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcclxuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XHJcblx0XHRkZWZpbmUoJ21pY3JvcGx1Z2luJywgZmFjdG9yeSk7XHJcblx0fSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRyb290Lk1pY3JvUGx1Z2luID0gZmFjdG9yeSgpO1xyXG5cdH1cclxufSh0aGlzLCBmdW5jdGlvbigpIHtcclxuXHR2YXIgTWljcm9QbHVnaW4gPSB7fTtcclxuXHJcblx0TWljcm9QbHVnaW4ubWl4aW4gPSBmdW5jdGlvbihJbnRlcmZhY2UpIHtcclxuXHRcdEludGVyZmFjZS5wbHVnaW5zID0ge307XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbml0aWFsaXplcyB0aGUgbGlzdGVkIHBsdWdpbnMgKHdpdGggb3B0aW9ucykuXHJcblx0XHQgKiBBY2NlcHRhYmxlIGZvcm1hdHM6XHJcblx0XHQgKlxyXG5cdFx0ICogTGlzdCAod2l0aG91dCBvcHRpb25zKTpcclxuXHRcdCAqICAgWydhJywgJ2InLCAnYyddXHJcblx0XHQgKlxyXG5cdFx0ICogTGlzdCAod2l0aCBvcHRpb25zKTpcclxuXHRcdCAqICAgW3snbmFtZSc6ICdhJywgb3B0aW9uczoge319LCB7J25hbWUnOiAnYicsIG9wdGlvbnM6IHt9fV1cclxuXHRcdCAqXHJcblx0XHQgKiBIYXNoICh3aXRoIG9wdGlvbnMpOlxyXG5cdFx0ICogICB7J2EnOiB7IC4uLiB9LCAnYic6IHsgLi4uIH0sICdjJzogeyAuLi4gfX1cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge21peGVkfSBwbHVnaW5zXHJcblx0XHQgKi9cclxuXHRcdEludGVyZmFjZS5wcm90b3R5cGUuaW5pdGlhbGl6ZVBsdWdpbnMgPSBmdW5jdGlvbihwbHVnaW5zKSB7XHJcblx0XHRcdHZhciBpLCBuLCBrZXk7XHJcblx0XHRcdHZhciBzZWxmICA9IHRoaXM7XHJcblx0XHRcdHZhciBxdWV1ZSA9IFtdO1xyXG5cclxuXHRcdFx0c2VsZi5wbHVnaW5zID0ge1xyXG5cdFx0XHRcdG5hbWVzICAgICA6IFtdLFxyXG5cdFx0XHRcdHNldHRpbmdzICA6IHt9LFxyXG5cdFx0XHRcdHJlcXVlc3RlZCA6IHt9LFxyXG5cdFx0XHRcdGxvYWRlZCAgICA6IHt9XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRpZiAodXRpbHMuaXNBcnJheShwbHVnaW5zKSkge1xyXG5cdFx0XHRcdGZvciAoaSA9IDAsIG4gPSBwbHVnaW5zLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBwbHVnaW5zW2ldID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHBsdWdpbnNbaV0pO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5wbHVnaW5zLnNldHRpbmdzW3BsdWdpbnNbaV0ubmFtZV0gPSBwbHVnaW5zW2ldLm9wdGlvbnM7XHJcblx0XHRcdFx0XHRcdHF1ZXVlLnB1c2gocGx1Z2luc1tpXS5uYW1lKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAocGx1Z2lucykge1xyXG5cdFx0XHRcdGZvciAoa2V5IGluIHBsdWdpbnMpIHtcclxuXHRcdFx0XHRcdGlmIChwbHVnaW5zLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5wbHVnaW5zLnNldHRpbmdzW2tleV0gPSBwbHVnaW5zW2tleV07XHJcblx0XHRcdFx0XHRcdHF1ZXVlLnB1c2goa2V5KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHdoaWxlIChxdWV1ZS5sZW5ndGgpIHtcclxuXHRcdFx0XHRzZWxmLnJlcXVpcmUocXVldWUuc2hpZnQoKSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0SW50ZXJmYWNlLnByb3RvdHlwZS5sb2FkUGx1Z2luID0gZnVuY3Rpb24obmFtZSkge1xyXG5cdFx0XHR2YXIgc2VsZiAgICA9IHRoaXM7XHJcblx0XHRcdHZhciBwbHVnaW5zID0gc2VsZi5wbHVnaW5zO1xyXG5cdFx0XHR2YXIgcGx1Z2luICA9IEludGVyZmFjZS5wbHVnaW5zW25hbWVdO1xyXG5cclxuXHRcdFx0aWYgKCFJbnRlcmZhY2UucGx1Z2lucy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGZpbmQgXCInICsgIG5hbWUgKyAnXCIgcGx1Z2luJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHBsdWdpbnMucmVxdWVzdGVkW25hbWVdID0gdHJ1ZTtcclxuXHRcdFx0cGx1Z2lucy5sb2FkZWRbbmFtZV0gPSBwbHVnaW4uZm4uYXBwbHkoc2VsZiwgW3NlbGYucGx1Z2lucy5zZXR0aW5nc1tuYW1lXSB8fCB7fV0pO1xyXG5cdFx0XHRwbHVnaW5zLm5hbWVzLnB1c2gobmFtZSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW5pdGlhbGl6ZXMgYSBwbHVnaW4uXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcclxuXHRcdCAqL1xyXG5cdFx0SW50ZXJmYWNlLnByb3RvdHlwZS5yZXF1aXJlID0gZnVuY3Rpb24obmFtZSkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdHZhciBwbHVnaW5zID0gc2VsZi5wbHVnaW5zO1xyXG5cclxuXHRcdFx0aWYgKCFzZWxmLnBsdWdpbnMubG9hZGVkLmhhc093blByb3BlcnR5KG5hbWUpKSB7XHJcblx0XHRcdFx0aWYgKHBsdWdpbnMucmVxdWVzdGVkW25hbWVdKSB7XHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1BsdWdpbiBoYXMgY2lyY3VsYXIgZGVwZW5kZW5jeSAoXCInICsgbmFtZSArICdcIiknKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c2VsZi5sb2FkUGx1Z2luKG5hbWUpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gcGx1Z2lucy5sb2FkZWRbbmFtZV07XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVnaXN0ZXJzIGEgcGx1Z2luLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXHJcblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxyXG5cdFx0ICovXHJcblx0XHRJbnRlcmZhY2UuZGVmaW5lID0gZnVuY3Rpb24obmFtZSwgZm4pIHtcclxuXHRcdFx0SW50ZXJmYWNlLnBsdWdpbnNbbmFtZV0gPSB7XHJcblx0XHRcdFx0J25hbWUnIDogbmFtZSxcclxuXHRcdFx0XHQnZm4nICAgOiBmblxyXG5cdFx0XHR9O1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHR2YXIgdXRpbHMgPSB7XHJcblx0XHRpc0FycmF5OiBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uKHZBcmcpIHtcclxuXHRcdFx0cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2QXJnKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gTWljcm9QbHVnaW47XHJcbn0pKTtcclxuXHJcbi8qKlxyXG4gKiBzZWxlY3RpemUuanMgKHYwLjEyLjQpXHJcbiAqIENvcHlyaWdodCAoYykgMjAxM+KAkzIwMTUgQnJpYW4gUmVhdmlzICYgY29udHJpYnV0b3JzXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzXHJcbiAqIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxyXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlclxyXG4gKiB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GXHJcbiAqIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZVxyXG4gKiBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEJyaWFuIFJlYXZpcyA8YnJpYW5AdGhpcmRyb3V0ZS5jb20+XHJcbiAqL1xyXG5cclxuLypqc2hpbnQgY3VybHk6ZmFsc2UgKi9cclxuLypqc2hpbnQgYnJvd3Nlcjp0cnVlICovXHJcblxyXG4oZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xyXG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuXHRcdGRlZmluZSgnc2VsZWN0aXplJywgWydqcXVlcnknLCdzaWZ0ZXInLCdtaWNyb3BsdWdpbiddLCBmYWN0b3J5KTtcclxuXHR9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xyXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpLCByZXF1aXJlKCdzaWZ0ZXInKSwgcmVxdWlyZSgnbWljcm9wbHVnaW4nKSk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJvb3QuU2VsZWN0aXplID0gZmFjdG9yeShyb290LmpRdWVyeSwgcm9vdC5TaWZ0ZXIsIHJvb3QuTWljcm9QbHVnaW4pO1xyXG5cdH1cclxufSh0aGlzLCBmdW5jdGlvbigkLCBTaWZ0ZXIsIE1pY3JvUGx1Z2luKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHR2YXIgaGlnaGxpZ2h0ID0gZnVuY3Rpb24oJGVsZW1lbnQsIHBhdHRlcm4pIHtcclxuXHRcdGlmICh0eXBlb2YgcGF0dGVybiA9PT0gJ3N0cmluZycgJiYgIXBhdHRlcm4ubGVuZ3RoKSByZXR1cm47XHJcblx0XHR2YXIgcmVnZXggPSAodHlwZW9mIHBhdHRlcm4gPT09ICdzdHJpbmcnKSA/IG5ldyBSZWdFeHAocGF0dGVybiwgJ2knKSA6IHBhdHRlcm47XHJcblxyXG5cdFx0dmFyIGhpZ2hsaWdodCA9IGZ1bmN0aW9uKG5vZGUpIHtcclxuXHRcdFx0dmFyIHNraXAgPSAwO1xyXG5cdFx0XHRpZiAobm9kZS5ub2RlVHlwZSA9PT0gMykge1xyXG5cdFx0XHRcdHZhciBwb3MgPSBub2RlLmRhdGEuc2VhcmNoKHJlZ2V4KTtcclxuXHRcdFx0XHRpZiAocG9zID49IDAgJiYgbm9kZS5kYXRhLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdHZhciBtYXRjaCA9IG5vZGUuZGF0YS5tYXRjaChyZWdleCk7XHJcblx0XHRcdFx0XHR2YXIgc3Bhbm5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblx0XHRcdFx0XHRzcGFubm9kZS5jbGFzc05hbWUgPSAnaGlnaGxpZ2h0JztcclxuXHRcdFx0XHRcdHZhciBtaWRkbGViaXQgPSBub2RlLnNwbGl0VGV4dChwb3MpO1xyXG5cdFx0XHRcdFx0dmFyIGVuZGJpdCA9IG1pZGRsZWJpdC5zcGxpdFRleHQobWF0Y2hbMF0ubGVuZ3RoKTtcclxuXHRcdFx0XHRcdHZhciBtaWRkbGVjbG9uZSA9IG1pZGRsZWJpdC5jbG9uZU5vZGUodHJ1ZSk7XHJcblx0XHRcdFx0XHRzcGFubm9kZS5hcHBlbmRDaGlsZChtaWRkbGVjbG9uZSk7XHJcblx0XHRcdFx0XHRtaWRkbGViaXQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoc3Bhbm5vZGUsIG1pZGRsZWJpdCk7XHJcblx0XHRcdFx0XHRza2lwID0gMTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSAmJiBub2RlLmNoaWxkTm9kZXMgJiYgIS8oc2NyaXB0fHN0eWxlKS9pLnRlc3Qobm9kZS50YWdOYW1lKSkge1xyXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDsgKytpKSB7XHJcblx0XHRcdFx0XHRpICs9IGhpZ2hsaWdodChub2RlLmNoaWxkTm9kZXNbaV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gc2tpcDtcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuICRlbGVtZW50LmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdGhpZ2hsaWdodCh0aGlzKTtcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIHJlbW92ZUhpZ2hsaWdodCBmbiBjb3BpZWQgZnJvbSBoaWdobGlnaHQgdjUgYW5kXHJcblx0ICogZWRpdGVkIHRvIHJlbW92ZSB3aXRoKCkgYW5kIHBhc3MganMgc3RyaWN0IG1vZGVcclxuXHQgKi9cclxuXHQkLmZuLnJlbW92ZUhpZ2hsaWdodCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuZmluZChcInNwYW4uaGlnaGxpZ2h0XCIpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMucGFyZW50Tm9kZS5maXJzdENoaWxkLm5vZGVOYW1lO1xyXG5cdFx0XHR2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xyXG5cdFx0XHRwYXJlbnQucmVwbGFjZUNoaWxkKHRoaXMuZmlyc3RDaGlsZCwgdGhpcyk7XHJcblx0XHRcdHBhcmVudC5ub3JtYWxpemUoKTtcclxuXHRcdH0pLmVuZCgpO1xyXG5cdH07XHJcblxyXG5cclxuXHR2YXIgTWljcm9FdmVudCA9IGZ1bmN0aW9uKCkge307XHJcblx0TWljcm9FdmVudC5wcm90b3R5cGUgPSB7XHJcblx0XHRvbjogZnVuY3Rpb24oZXZlbnQsIGZjdCl7XHJcblx0XHRcdHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcclxuXHRcdFx0dGhpcy5fZXZlbnRzW2V2ZW50XSA9IHRoaXMuX2V2ZW50c1tldmVudF0gfHwgW107XHJcblx0XHRcdHRoaXMuX2V2ZW50c1tldmVudF0ucHVzaChmY3QpO1xyXG5cdFx0fSxcclxuXHRcdG9mZjogZnVuY3Rpb24oZXZlbnQsIGZjdCl7XHJcblx0XHRcdHZhciBuID0gYXJndW1lbnRzLmxlbmd0aDtcclxuXHRcdFx0aWYgKG4gPT09IDApIHJldHVybiBkZWxldGUgdGhpcy5fZXZlbnRzO1xyXG5cdFx0XHRpZiAobiA9PT0gMSkgcmV0dXJuIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZlbnRdO1xyXG5cclxuXHRcdFx0dGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xyXG5cdFx0XHRpZiAoZXZlbnQgaW4gdGhpcy5fZXZlbnRzID09PSBmYWxzZSkgcmV0dXJuO1xyXG5cdFx0XHR0aGlzLl9ldmVudHNbZXZlbnRdLnNwbGljZSh0aGlzLl9ldmVudHNbZXZlbnRdLmluZGV4T2YoZmN0KSwgMSk7XHJcblx0XHR9LFxyXG5cdFx0dHJpZ2dlcjogZnVuY3Rpb24oZXZlbnQgLyogLCBhcmdzLi4uICovKXtcclxuXHRcdFx0dGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xyXG5cdFx0XHRpZiAoZXZlbnQgaW4gdGhpcy5fZXZlbnRzID09PSBmYWxzZSkgcmV0dXJuO1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2V2ZW50c1tldmVudF0ubGVuZ3RoOyBpKyspe1xyXG5cdFx0XHRcdHRoaXMuX2V2ZW50c1tldmVudF1baV0uYXBwbHkodGhpcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBNaXhpbiB3aWxsIGRlbGVnYXRlIGFsbCBNaWNyb0V2ZW50LmpzIGZ1bmN0aW9uIGluIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXHJcblx0ICpcclxuXHQgKiAtIE1pY3JvRXZlbnQubWl4aW4oRm9vYmFyKSB3aWxsIG1ha2UgRm9vYmFyIGFibGUgdG8gdXNlIE1pY3JvRXZlbnRcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSB0aGUgb2JqZWN0IHdoaWNoIHdpbGwgc3VwcG9ydCBNaWNyb0V2ZW50XHJcblx0ICovXHJcblx0TWljcm9FdmVudC5taXhpbiA9IGZ1bmN0aW9uKGRlc3RPYmplY3Qpe1xyXG5cdFx0dmFyIHByb3BzID0gWydvbicsICdvZmYnLCAndHJpZ2dlciddO1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKyl7XHJcblx0XHRcdGRlc3RPYmplY3QucHJvdG90eXBlW3Byb3BzW2ldXSA9IE1pY3JvRXZlbnQucHJvdG90eXBlW3Byb3BzW2ldXTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHR2YXIgSVNfTUFDICAgICAgICA9IC9NYWMvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcblxyXG5cdHZhciBLRVlfQSAgICAgICAgID0gNjU7XHJcblx0dmFyIEtFWV9DT01NQSAgICAgPSAxODg7XHJcblx0dmFyIEtFWV9SRVRVUk4gICAgPSAxMztcclxuXHR2YXIgS0VZX0VTQyAgICAgICA9IDI3O1xyXG5cdHZhciBLRVlfTEVGVCAgICAgID0gMzc7XHJcblx0dmFyIEtFWV9VUCAgICAgICAgPSAzODtcclxuXHR2YXIgS0VZX1AgICAgICAgICA9IDgwO1xyXG5cdHZhciBLRVlfUklHSFQgICAgID0gMzk7XHJcblx0dmFyIEtFWV9ET1dOICAgICAgPSA0MDtcclxuXHR2YXIgS0VZX04gICAgICAgICA9IDc4O1xyXG5cdHZhciBLRVlfQkFDS1NQQUNFID0gODtcclxuXHR2YXIgS0VZX0RFTEVURSAgICA9IDQ2O1xyXG5cdHZhciBLRVlfU0hJRlQgICAgID0gMTY7XHJcblx0dmFyIEtFWV9DTUQgICAgICAgPSBJU19NQUMgPyA5MSA6IDE3O1xyXG5cdHZhciBLRVlfQ1RSTCAgICAgID0gSVNfTUFDID8gMTggOiAxNztcclxuXHR2YXIgS0VZX1RBQiAgICAgICA9IDk7XHJcblxyXG5cdHZhciBUQUdfU0VMRUNUICAgID0gMTtcclxuXHR2YXIgVEFHX0lOUFVUICAgICA9IDI7XHJcblxyXG5cdC8vIGZvciBub3csIGFuZHJvaWQgc3VwcG9ydCBpbiBnZW5lcmFsIGlzIHRvbyBzcG90dHkgdG8gc3VwcG9ydCB2YWxpZGl0eVxyXG5cdHZhciBTVVBQT1JUU19WQUxJRElUWV9BUEkgPSAhL2FuZHJvaWQvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JykudmFsaWRpdHk7XHJcblxyXG5cclxuXHR2YXIgaXNzZXQgPSBmdW5jdGlvbihvYmplY3QpIHtcclxuXHRcdHJldHVybiB0eXBlb2Ygb2JqZWN0ICE9PSAndW5kZWZpbmVkJztcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBDb252ZXJ0cyBhIHNjYWxhciB0byBpdHMgYmVzdCBzdHJpbmcgcmVwcmVzZW50YXRpb25cclxuXHQgKiBmb3IgaGFzaCBrZXlzIGFuZCBIVE1MIGF0dHJpYnV0ZSB2YWx1ZXMuXHJcblx0ICpcclxuXHQgKiBUcmFuc2Zvcm1hdGlvbnM6XHJcblx0ICogICAnc3RyJyAgICAgLT4gJ3N0cidcclxuXHQgKiAgIG51bGwgICAgICAtPiAnJ1xyXG5cdCAqICAgdW5kZWZpbmVkIC0+ICcnXHJcblx0ICogICB0cnVlICAgICAgLT4gJzEnXHJcblx0ICogICBmYWxzZSAgICAgLT4gJzAnXHJcblx0ICogICAwICAgICAgICAgLT4gJzAnXHJcblx0ICogICAxICAgICAgICAgLT4gJzEnXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcclxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9XHJcblx0ICovXHJcblx0dmFyIGhhc2hfa2V5ID0gZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHZhbHVlID09PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykgcmV0dXJuIHZhbHVlID8gJzEnIDogJzAnO1xyXG5cdFx0cmV0dXJuIHZhbHVlICsgJyc7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogRXNjYXBlcyBhIHN0cmluZyBmb3IgdXNlIHdpdGhpbiBIVE1MLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHN0clxyXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9XHJcblx0ICovXHJcblx0dmFyIGVzY2FwZV9odG1sID0gZnVuY3Rpb24oc3RyKSB7XHJcblx0XHRyZXR1cm4gKHN0ciArICcnKVxyXG5cdFx0XHQucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxyXG5cdFx0XHQucmVwbGFjZSgvPC9nLCAnJmx0OycpXHJcblx0XHRcdC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcclxuXHRcdFx0LnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBFc2NhcGVzIFwiJFwiIGNoYXJhY3RlcnMgaW4gcmVwbGFjZW1lbnQgc3RyaW5ncy5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG5cdCAqL1xyXG5cdHZhciBlc2NhcGVfcmVwbGFjZSA9IGZ1bmN0aW9uKHN0cikge1xyXG5cdFx0cmV0dXJuIChzdHIgKyAnJykucmVwbGFjZSgvXFwkL2csICckJCQkJyk7XHJcblx0fTtcclxuXHJcblx0dmFyIGhvb2sgPSB7fTtcclxuXHJcblx0LyoqXHJcblx0ICogV3JhcHMgYG1ldGhvZGAgb24gYHNlbGZgIHNvIHRoYXQgYGZuYFxyXG5cdCAqIGlzIGludm9rZWQgYmVmb3JlIHRoZSBvcmlnaW5hbCBtZXRob2QuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge29iamVjdH0gc2VsZlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcclxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxyXG5cdCAqL1xyXG5cdGhvb2suYmVmb3JlID0gZnVuY3Rpb24oc2VsZiwgbWV0aG9kLCBmbikge1xyXG5cdFx0dmFyIG9yaWdpbmFsID0gc2VsZlttZXRob2RdO1xyXG5cdFx0c2VsZlttZXRob2RdID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGZuLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XHJcblx0XHRcdHJldHVybiBvcmlnaW5hbC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBXcmFwcyBgbWV0aG9kYCBvbiBgc2VsZmAgc28gdGhhdCBgZm5gXHJcblx0ICogaXMgaW52b2tlZCBhZnRlciB0aGUgb3JpZ2luYWwgbWV0aG9kLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IHNlbGZcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXHJcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cclxuXHQgKi9cclxuXHRob29rLmFmdGVyID0gZnVuY3Rpb24oc2VsZiwgbWV0aG9kLCBmbikge1xyXG5cdFx0dmFyIG9yaWdpbmFsID0gc2VsZlttZXRob2RdO1xyXG5cdFx0c2VsZlttZXRob2RdID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciByZXN1bHQgPSBvcmlnaW5hbC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRmbi5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBXcmFwcyBgZm5gIHNvIHRoYXQgaXQgY2FuIG9ubHkgYmUgaW52b2tlZCBvbmNlLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cclxuXHQgKiBAcmV0dXJucyB7ZnVuY3Rpb259XHJcblx0ICovXHJcblx0dmFyIG9uY2UgPSBmdW5jdGlvbihmbikge1xyXG5cdFx0dmFyIGNhbGxlZCA9IGZhbHNlO1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoY2FsbGVkKSByZXR1cm47XHJcblx0XHRcdGNhbGxlZCA9IHRydWU7XHJcblx0XHRcdGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFdyYXBzIGBmbmAgc28gdGhhdCBpdCBjYW4gb25seSBiZSBjYWxsZWQgb25jZVxyXG5cdCAqIGV2ZXJ5IGBkZWxheWAgbWlsbGlzZWNvbmRzIChpbnZva2VkIG9uIHRoZSBmYWxsaW5nIGVkZ2UpLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cclxuXHQgKiBAcGFyYW0ge2ludH0gZGVsYXlcclxuXHQgKiBAcmV0dXJucyB7ZnVuY3Rpb259XHJcblx0ICovXHJcblx0dmFyIGRlYm91bmNlID0gZnVuY3Rpb24oZm4sIGRlbGF5KSB7XHJcblx0XHR2YXIgdGltZW91dDtcclxuXHRcdHJldHVybiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHR2YXIgYXJncyA9IGFyZ3VtZW50cztcclxuXHRcdFx0d2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuXHRcdFx0dGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xyXG5cdFx0XHR9LCBkZWxheSk7XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIERlYm91bmNlIGFsbCBmaXJlZCBldmVudHMgdHlwZXMgbGlzdGVkIGluIGB0eXBlc2BcclxuXHQgKiB3aGlsZSBleGVjdXRpbmcgdGhlIHByb3ZpZGVkIGBmbmAuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge29iamVjdH0gc2VsZlxyXG5cdCAqIEBwYXJhbSB7YXJyYXl9IHR5cGVzXHJcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cclxuXHQgKi9cclxuXHR2YXIgZGVib3VuY2VfZXZlbnRzID0gZnVuY3Rpb24oc2VsZiwgdHlwZXMsIGZuKSB7XHJcblx0XHR2YXIgdHlwZTtcclxuXHRcdHZhciB0cmlnZ2VyID0gc2VsZi50cmlnZ2VyO1xyXG5cdFx0dmFyIGV2ZW50X2FyZ3MgPSB7fTtcclxuXHJcblx0XHQvLyBvdmVycmlkZSB0cmlnZ2VyIG1ldGhvZFxyXG5cdFx0c2VsZi50cmlnZ2VyID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciB0eXBlID0gYXJndW1lbnRzWzBdO1xyXG5cdFx0XHRpZiAodHlwZXMuaW5kZXhPZih0eXBlKSAhPT0gLTEpIHtcclxuXHRcdFx0XHRldmVudF9hcmdzW3R5cGVdID0gYXJndW1lbnRzO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiB0cmlnZ2VyLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gaW52b2tlIHByb3ZpZGVkIGZ1bmN0aW9uXHJcblx0XHRmbi5hcHBseShzZWxmLCBbXSk7XHJcblx0XHRzZWxmLnRyaWdnZXIgPSB0cmlnZ2VyO1xyXG5cclxuXHRcdC8vIHRyaWdnZXIgcXVldWVkIGV2ZW50c1xyXG5cdFx0Zm9yICh0eXBlIGluIGV2ZW50X2FyZ3MpIHtcclxuXHRcdFx0aWYgKGV2ZW50X2FyZ3MuaGFzT3duUHJvcGVydHkodHlwZSkpIHtcclxuXHRcdFx0XHR0cmlnZ2VyLmFwcGx5KHNlbGYsIGV2ZW50X2FyZ3NbdHlwZV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogQSB3b3JrYXJvdW5kIGZvciBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC82Njk2XHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge29iamVjdH0gJHBhcmVudCAtIFBhcmVudCBlbGVtZW50IHRvIGxpc3RlbiBvbi5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgLSBFdmVudCBuYW1lLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciAtIERlc2NlbmRhbnQgc2VsZWN0b3IgdG8gZmlsdGVyIGJ5LlxyXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gRXZlbnQgaGFuZGxlci5cclxuXHQgKi9cclxuXHR2YXIgd2F0Y2hDaGlsZEV2ZW50ID0gZnVuY3Rpb24oJHBhcmVudCwgZXZlbnQsIHNlbGVjdG9yLCBmbikge1xyXG5cdFx0JHBhcmVudC5vbihldmVudCwgc2VsZWN0b3IsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dmFyIGNoaWxkID0gZS50YXJnZXQ7XHJcblx0XHRcdHdoaWxlIChjaGlsZCAmJiBjaGlsZC5wYXJlbnROb2RlICE9PSAkcGFyZW50WzBdKSB7XHJcblx0XHRcdFx0Y2hpbGQgPSBjaGlsZC5wYXJlbnROb2RlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGUuY3VycmVudFRhcmdldCA9IGNoaWxkO1xyXG5cdFx0XHRyZXR1cm4gZm4uYXBwbHkodGhpcywgW2VdKTtcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIERldGVybWluZXMgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIHdpdGhpbiBhIHRleHQgaW5wdXQgY29udHJvbC5cclxuXHQgKiBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nOlxyXG5cdCAqICAgLSBzdGFydFxyXG5cdCAqICAgLSBsZW5ndGhcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBpbnB1dFxyXG5cdCAqIEByZXR1cm5zIHtvYmplY3R9XHJcblx0ICovXHJcblx0dmFyIGdldFNlbGVjdGlvbiA9IGZ1bmN0aW9uKGlucHV0KSB7XHJcblx0XHR2YXIgcmVzdWx0ID0ge307XHJcblx0XHRpZiAoJ3NlbGVjdGlvblN0YXJ0JyBpbiBpbnB1dCkge1xyXG5cdFx0XHRyZXN1bHQuc3RhcnQgPSBpbnB1dC5zZWxlY3Rpb25TdGFydDtcclxuXHRcdFx0cmVzdWx0Lmxlbmd0aCA9IGlucHV0LnNlbGVjdGlvbkVuZCAtIHJlc3VsdC5zdGFydDtcclxuXHRcdH0gZWxzZSBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uKSB7XHJcblx0XHRcdGlucHV0LmZvY3VzKCk7XHJcblx0XHRcdHZhciBzZWwgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcclxuXHRcdFx0dmFyIHNlbExlbiA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLnRleHQubGVuZ3RoO1xyXG5cdFx0XHRzZWwubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLCAtaW5wdXQudmFsdWUubGVuZ3RoKTtcclxuXHRcdFx0cmVzdWx0LnN0YXJ0ID0gc2VsLnRleHQubGVuZ3RoIC0gc2VsTGVuO1xyXG5cdFx0XHRyZXN1bHQubGVuZ3RoID0gc2VsTGVuO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBDb3BpZXMgQ1NTIHByb3BlcnRpZXMgZnJvbSBvbmUgZWxlbWVudCB0byBhbm90aGVyLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtvYmplY3R9ICRmcm9tXHJcblx0ICogQHBhcmFtIHtvYmplY3R9ICR0b1xyXG5cdCAqIEBwYXJhbSB7YXJyYXl9IHByb3BlcnRpZXNcclxuXHQgKi9cclxuXHR2YXIgdHJhbnNmZXJTdHlsZXMgPSBmdW5jdGlvbigkZnJvbSwgJHRvLCBwcm9wZXJ0aWVzKSB7XHJcblx0XHR2YXIgaSwgbiwgc3R5bGVzID0ge307XHJcblx0XHRpZiAocHJvcGVydGllcykge1xyXG5cdFx0XHRmb3IgKGkgPSAwLCBuID0gcHJvcGVydGllcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRzdHlsZXNbcHJvcGVydGllc1tpXV0gPSAkZnJvbS5jc3MocHJvcGVydGllc1tpXSk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHN0eWxlcyA9ICRmcm9tLmNzcygpO1xyXG5cdFx0fVxyXG5cdFx0JHRvLmNzcyhzdHlsZXMpO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIE1lYXN1cmVzIHRoZSB3aWR0aCBvZiBhIHN0cmluZyB3aXRoaW4gYVxyXG5cdCAqIHBhcmVudCBlbGVtZW50IChpbiBwaXhlbHMpLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHN0clxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSAkcGFyZW50XHJcblx0ICogQHJldHVybnMge2ludH1cclxuXHQgKi9cclxuXHR2YXIgbWVhc3VyZVN0cmluZyA9IGZ1bmN0aW9uKHN0ciwgJHBhcmVudCkge1xyXG5cdFx0aWYgKCFzdHIpIHtcclxuXHRcdFx0cmV0dXJuIDA7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyICR0ZXN0ID0gJCgnPHRlc3Q+JykuY3NzKHtcclxuXHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXHJcblx0XHRcdHRvcDogLTk5OTk5LFxyXG5cdFx0XHRsZWZ0OiAtOTk5OTksXHJcblx0XHRcdHdpZHRoOiAnYXV0bycsXHJcblx0XHRcdHBhZGRpbmc6IDAsXHJcblx0XHRcdHdoaXRlU3BhY2U6ICdwcmUnXHJcblx0XHR9KS50ZXh0KHN0cikuYXBwZW5kVG8oJ2JvZHknKTtcclxuXHJcblx0XHR0cmFuc2ZlclN0eWxlcygkcGFyZW50LCAkdGVzdCwgW1xyXG5cdFx0XHQnbGV0dGVyU3BhY2luZycsXHJcblx0XHRcdCdmb250U2l6ZScsXHJcblx0XHRcdCdmb250RmFtaWx5JyxcclxuXHRcdFx0J2ZvbnRXZWlnaHQnLFxyXG5cdFx0XHQndGV4dFRyYW5zZm9ybSdcclxuXHRcdF0pO1xyXG5cclxuXHRcdHZhciB3aWR0aCA9ICR0ZXN0LndpZHRoKCk7XHJcblx0XHQkdGVzdC5yZW1vdmUoKTtcclxuXHJcblx0XHRyZXR1cm4gd2lkdGg7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogU2V0cyB1cCBhbiBpbnB1dCB0byBncm93IGhvcml6b250YWxseSBhcyB0aGUgdXNlclxyXG5cdCAqIHR5cGVzLiBJZiB0aGUgdmFsdWUgaXMgY2hhbmdlZCBtYW51YWxseSwgeW91IGNhblxyXG5cdCAqIHRyaWdnZXIgdGhlIFwidXBkYXRlXCIgaGFuZGxlciB0byByZXNpemU6XHJcblx0ICpcclxuXHQgKiAkaW5wdXQudHJpZ2dlcigndXBkYXRlJyk7XHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge29iamVjdH0gJGlucHV0XHJcblx0ICovXHJcblx0dmFyIGF1dG9Hcm93ID0gZnVuY3Rpb24oJGlucHV0KSB7XHJcblx0XHR2YXIgY3VycmVudFdpZHRoID0gbnVsbDtcclxuXHJcblx0XHR2YXIgdXBkYXRlID0gZnVuY3Rpb24oZSwgb3B0aW9ucykge1xyXG5cdFx0XHR2YXIgdmFsdWUsIGtleUNvZGUsIHByaW50YWJsZSwgcGxhY2Vob2xkZXIsIHdpZHRoO1xyXG5cdFx0XHR2YXIgc2hpZnQsIGNoYXJhY3Rlciwgc2VsZWN0aW9uO1xyXG5cdFx0XHRlID0gZSB8fCB3aW5kb3cuZXZlbnQgfHwge307XHJcblx0XHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cclxuXHRcdFx0aWYgKGUubWV0YUtleSB8fCBlLmFsdEtleSkgcmV0dXJuO1xyXG5cdFx0XHRpZiAoIW9wdGlvbnMuZm9yY2UgJiYgJGlucHV0LmRhdGEoJ2dyb3cnKSA9PT0gZmFsc2UpIHJldHVybjtcclxuXHJcblx0XHRcdHZhbHVlID0gJGlucHV0LnZhbCgpO1xyXG5cdFx0XHRpZiAoZS50eXBlICYmIGUudHlwZS50b0xvd2VyQ2FzZSgpID09PSAna2V5ZG93bicpIHtcclxuXHRcdFx0XHRrZXlDb2RlID0gZS5rZXlDb2RlO1xyXG5cdFx0XHRcdHByaW50YWJsZSA9IChcclxuXHRcdFx0XHRcdChrZXlDb2RlID49IDk3ICYmIGtleUNvZGUgPD0gMTIyKSB8fCAvLyBhLXpcclxuXHRcdFx0XHRcdChrZXlDb2RlID49IDY1ICYmIGtleUNvZGUgPD0gOTApICB8fCAvLyBBLVpcclxuXHRcdFx0XHRcdChrZXlDb2RlID49IDQ4ICYmIGtleUNvZGUgPD0gNTcpICB8fCAvLyAwLTlcclxuXHRcdFx0XHRcdGtleUNvZGUgPT09IDMyIC8vIHNwYWNlXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0aWYgKGtleUNvZGUgPT09IEtFWV9ERUxFVEUgfHwga2V5Q29kZSA9PT0gS0VZX0JBQ0tTUEFDRSkge1xyXG5cdFx0XHRcdFx0c2VsZWN0aW9uID0gZ2V0U2VsZWN0aW9uKCRpbnB1dFswXSk7XHJcblx0XHRcdFx0XHRpZiAoc2VsZWN0aW9uLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygwLCBzZWxlY3Rpb24uc3RhcnQpICsgdmFsdWUuc3Vic3RyaW5nKHNlbGVjdGlvbi5zdGFydCArIHNlbGVjdGlvbi5sZW5ndGgpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChrZXlDb2RlID09PSBLRVlfQkFDS1NQQUNFICYmIHNlbGVjdGlvbi5zdGFydCkge1xyXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygwLCBzZWxlY3Rpb24uc3RhcnQgLSAxKSArIHZhbHVlLnN1YnN0cmluZyhzZWxlY3Rpb24uc3RhcnQgKyAxKTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoa2V5Q29kZSA9PT0gS0VZX0RFTEVURSAmJiB0eXBlb2Ygc2VsZWN0aW9uLnN0YXJ0ICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygwLCBzZWxlY3Rpb24uc3RhcnQpICsgdmFsdWUuc3Vic3RyaW5nKHNlbGVjdGlvbi5zdGFydCArIDEpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAocHJpbnRhYmxlKSB7XHJcblx0XHRcdFx0XHRzaGlmdCA9IGUuc2hpZnRLZXk7XHJcblx0XHRcdFx0XHRjaGFyYWN0ZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUua2V5Q29kZSk7XHJcblx0XHRcdFx0XHRpZiAoc2hpZnQpIGNoYXJhY3RlciA9IGNoYXJhY3Rlci50b1VwcGVyQ2FzZSgpO1xyXG5cdFx0XHRcdFx0ZWxzZSBjaGFyYWN0ZXIgPSBjaGFyYWN0ZXIudG9Mb3dlckNhc2UoKTtcclxuXHRcdFx0XHRcdHZhbHVlICs9IGNoYXJhY3RlcjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHBsYWNlaG9sZGVyID0gJGlucHV0LmF0dHIoJ3BsYWNlaG9sZGVyJyk7XHJcblx0XHRcdGlmICghdmFsdWUgJiYgcGxhY2Vob2xkZXIpIHtcclxuXHRcdFx0XHR2YWx1ZSA9IHBsYWNlaG9sZGVyO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR3aWR0aCA9IG1lYXN1cmVTdHJpbmcodmFsdWUsICRpbnB1dCkgKyA0O1xyXG5cdFx0XHRpZiAod2lkdGggIT09IGN1cnJlbnRXaWR0aCkge1xyXG5cdFx0XHRcdGN1cnJlbnRXaWR0aCA9IHdpZHRoO1xyXG5cdFx0XHRcdCRpbnB1dC53aWR0aCh3aWR0aCk7XHJcblx0XHRcdFx0JGlucHV0LnRyaWdnZXJIYW5kbGVyKCdyZXNpemUnKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkaW5wdXQub24oJ2tleWRvd24ga2V5dXAgdXBkYXRlIGJsdXInLCB1cGRhdGUpO1xyXG5cdFx0dXBkYXRlKCk7XHJcblx0fTtcclxuXHJcblx0dmFyIGRvbVRvU3RyaW5nID0gZnVuY3Rpb24oZCkge1xyXG5cdFx0dmFyIHRtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuXHRcdHRtcC5hcHBlbmRDaGlsZChkLmNsb25lTm9kZSh0cnVlKSk7XHJcblxyXG5cdFx0cmV0dXJuIHRtcC5pbm5lckhUTUw7XHJcblx0fTtcclxuXHJcblx0dmFyIGxvZ0Vycm9yID0gZnVuY3Rpb24obWVzc2FnZSwgb3B0aW9ucyl7XHJcblx0XHRpZighb3B0aW9ucykgb3B0aW9ucyA9IHt9O1xyXG5cdFx0dmFyIGNvbXBvbmVudCA9IFwiU2VsZWN0aXplXCI7XHJcblxyXG5cdFx0Y29uc29sZS5lcnJvcihjb21wb25lbnQgKyBcIjogXCIgKyBtZXNzYWdlKVxyXG5cclxuXHRcdGlmKG9wdGlvbnMuZXhwbGFuYXRpb24pe1xyXG5cdFx0XHQvLyBjb25zb2xlLmdyb3VwIGlzIHVuZGVmaW5lZCBpbiA8SUUxMVxyXG5cdFx0XHRpZihjb25zb2xlLmdyb3VwKSBjb25zb2xlLmdyb3VwKCk7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3Iob3B0aW9ucy5leHBsYW5hdGlvbik7XHJcblx0XHRcdGlmKGNvbnNvbGUuZ3JvdXApIGNvbnNvbGUuZ3JvdXBFbmQoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxuXHR2YXIgU2VsZWN0aXplID0gZnVuY3Rpb24oJGlucHV0LCBzZXR0aW5ncykge1xyXG5cdFx0dmFyIGtleSwgaSwgbiwgZGlyLCBpbnB1dCwgc2VsZiA9IHRoaXM7XHJcblx0XHRpbnB1dCA9ICRpbnB1dFswXTtcclxuXHRcdGlucHV0LnNlbGVjdGl6ZSA9IHNlbGY7XHJcblxyXG5cdFx0Ly8gZGV0ZWN0IHJ0bCBlbnZpcm9ubWVudFxyXG5cdFx0dmFyIGNvbXB1dGVkU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSAmJiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShpbnB1dCwgbnVsbCk7XHJcblx0XHRkaXIgPSBjb21wdXRlZFN0eWxlID8gY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdkaXJlY3Rpb24nKSA6IGlucHV0LmN1cnJlbnRTdHlsZSAmJiBpbnB1dC5jdXJyZW50U3R5bGUuZGlyZWN0aW9uO1xyXG5cdFx0ZGlyID0gZGlyIHx8ICRpbnB1dC5wYXJlbnRzKCdbZGlyXTpmaXJzdCcpLmF0dHIoJ2RpcicpIHx8ICcnO1xyXG5cclxuXHRcdC8vIHNldHVwIGRlZmF1bHQgc3RhdGVcclxuXHRcdCQuZXh0ZW5kKHNlbGYsIHtcclxuXHRcdFx0b3JkZXIgICAgICAgICAgICA6IDAsXHJcblx0XHRcdHNldHRpbmdzICAgICAgICAgOiBzZXR0aW5ncyxcclxuXHRcdFx0JGlucHV0ICAgICAgICAgICA6ICRpbnB1dCxcclxuXHRcdFx0dGFiSW5kZXggICAgICAgICA6ICRpbnB1dC5hdHRyKCd0YWJpbmRleCcpIHx8ICcnLFxyXG5cdFx0XHR0YWdUeXBlICAgICAgICAgIDogaW5wdXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc2VsZWN0JyA/IFRBR19TRUxFQ1QgOiBUQUdfSU5QVVQsXHJcblx0XHRcdHJ0bCAgICAgICAgICAgICAgOiAvcnRsL2kudGVzdChkaXIpLFxyXG5cclxuXHRcdFx0ZXZlbnROUyAgICAgICAgICA6ICcuc2VsZWN0aXplJyArICgrK1NlbGVjdGl6ZS5jb3VudCksXHJcblx0XHRcdGhpZ2hsaWdodGVkVmFsdWUgOiBudWxsLFxyXG5cdFx0XHRpc09wZW4gICAgICAgICAgIDogZmFsc2UsXHJcblx0XHRcdGlzRGlzYWJsZWQgICAgICAgOiBmYWxzZSxcclxuXHRcdFx0aXNSZXF1aXJlZCAgICAgICA6ICRpbnB1dC5pcygnW3JlcXVpcmVkXScpLFxyXG5cdFx0XHRpc0ludmFsaWQgICAgICAgIDogZmFsc2UsXHJcblx0XHRcdGlzTG9ja2VkICAgICAgICAgOiBmYWxzZSxcclxuXHRcdFx0aXNGb2N1c2VkICAgICAgICA6IGZhbHNlLFxyXG5cdFx0XHRpc0lucHV0SGlkZGVuICAgIDogZmFsc2UsXHJcblx0XHRcdGlzU2V0dXAgICAgICAgICAgOiBmYWxzZSxcclxuXHRcdFx0aXNTaGlmdERvd24gICAgICA6IGZhbHNlLFxyXG5cdFx0XHRpc0NtZERvd24gICAgICAgIDogZmFsc2UsXHJcblx0XHRcdGlzQ3RybERvd24gICAgICAgOiBmYWxzZSxcclxuXHRcdFx0aWdub3JlRm9jdXMgICAgICA6IGZhbHNlLFxyXG5cdFx0XHRpZ25vcmVCbHVyICAgICAgIDogZmFsc2UsXHJcblx0XHRcdGlnbm9yZUhvdmVyICAgICAgOiBmYWxzZSxcclxuXHRcdFx0aGFzT3B0aW9ucyAgICAgICA6IGZhbHNlLFxyXG5cdFx0XHRjdXJyZW50UmVzdWx0cyAgIDogbnVsbCxcclxuXHRcdFx0bGFzdFZhbHVlICAgICAgICA6ICcnLFxyXG5cdFx0XHRjYXJldFBvcyAgICAgICAgIDogMCxcclxuXHRcdFx0bG9hZGluZyAgICAgICAgICA6IDAsXHJcblx0XHRcdGxvYWRlZFNlYXJjaGVzICAgOiB7fSxcclxuXHJcblx0XHRcdCRhY3RpdmVPcHRpb24gICAgOiBudWxsLFxyXG5cdFx0XHQkYWN0aXZlSXRlbXMgICAgIDogW10sXHJcblxyXG5cdFx0XHRvcHRncm91cHMgICAgICAgIDoge30sXHJcblx0XHRcdG9wdGlvbnMgICAgICAgICAgOiB7fSxcclxuXHRcdFx0dXNlck9wdGlvbnMgICAgICA6IHt9LFxyXG5cdFx0XHRpdGVtcyAgICAgICAgICAgIDogW10sXHJcblx0XHRcdHJlbmRlckNhY2hlICAgICAgOiB7fSxcclxuXHRcdFx0b25TZWFyY2hDaGFuZ2UgICA6IHNldHRpbmdzLmxvYWRUaHJvdHRsZSA9PT0gbnVsbCA/IHNlbGYub25TZWFyY2hDaGFuZ2UgOiBkZWJvdW5jZShzZWxmLm9uU2VhcmNoQ2hhbmdlLCBzZXR0aW5ncy5sb2FkVGhyb3R0bGUpXHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBzZWFyY2ggc3lzdGVtXHJcblx0XHRzZWxmLnNpZnRlciA9IG5ldyBTaWZ0ZXIodGhpcy5vcHRpb25zLCB7ZGlhY3JpdGljczogc2V0dGluZ3MuZGlhY3JpdGljc30pO1xyXG5cclxuXHRcdC8vIGJ1aWxkIG9wdGlvbnMgdGFibGVcclxuXHRcdGlmIChzZWxmLnNldHRpbmdzLm9wdGlvbnMpIHtcclxuXHRcdFx0Zm9yIChpID0gMCwgbiA9IHNlbGYuc2V0dGluZ3Mub3B0aW9ucy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRzZWxmLnJlZ2lzdGVyT3B0aW9uKHNlbGYuc2V0dGluZ3Mub3B0aW9uc1tpXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZGVsZXRlIHNlbGYuc2V0dGluZ3Mub3B0aW9ucztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBidWlsZCBvcHRncm91cCB0YWJsZVxyXG5cdFx0aWYgKHNlbGYuc2V0dGluZ3Mub3B0Z3JvdXBzKSB7XHJcblx0XHRcdGZvciAoaSA9IDAsIG4gPSBzZWxmLnNldHRpbmdzLm9wdGdyb3Vwcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRzZWxmLnJlZ2lzdGVyT3B0aW9uR3JvdXAoc2VsZi5zZXR0aW5ncy5vcHRncm91cHNbaV0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGRlbGV0ZSBzZWxmLnNldHRpbmdzLm9wdGdyb3VwcztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBvcHRpb24tZGVwZW5kZW50IGRlZmF1bHRzXHJcblx0XHRzZWxmLnNldHRpbmdzLm1vZGUgPSBzZWxmLnNldHRpbmdzLm1vZGUgfHwgKHNlbGYuc2V0dGluZ3MubWF4SXRlbXMgPT09IDEgPyAnc2luZ2xlJyA6ICdtdWx0aScpO1xyXG5cdFx0aWYgKHR5cGVvZiBzZWxmLnNldHRpbmdzLmhpZGVTZWxlY3RlZCAhPT0gJ2Jvb2xlYW4nKSB7XHJcblx0XHRcdHNlbGYuc2V0dGluZ3MuaGlkZVNlbGVjdGVkID0gc2VsZi5zZXR0aW5ncy5tb2RlID09PSAnbXVsdGknO1xyXG5cdFx0fVxyXG5cclxuXHRcdHNlbGYuaW5pdGlhbGl6ZVBsdWdpbnMoc2VsZi5zZXR0aW5ncy5wbHVnaW5zKTtcclxuXHRcdHNlbGYuc2V0dXBDYWxsYmFja3MoKTtcclxuXHRcdHNlbGYuc2V0dXBUZW1wbGF0ZXMoKTtcclxuXHRcdHNlbGYuc2V0dXAoKTtcclxuXHR9O1xyXG5cclxuXHQvLyBtaXhpbnNcclxuXHQvLyAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxyXG5cclxuXHRNaWNyb0V2ZW50Lm1peGluKFNlbGVjdGl6ZSk7XHJcblxyXG5cdGlmKHR5cGVvZiBNaWNyb1BsdWdpbiAhPT0gXCJ1bmRlZmluZWRcIil7XHJcblx0XHRNaWNyb1BsdWdpbi5taXhpbihTZWxlY3RpemUpO1xyXG5cdH1lbHNle1xyXG5cdFx0bG9nRXJyb3IoXCJEZXBlbmRlbmN5IE1pY3JvUGx1Z2luIGlzIG1pc3NpbmdcIixcclxuXHRcdFx0e2V4cGxhbmF0aW9uOlxyXG5cdFx0XHRcdFwiTWFrZSBzdXJlIHlvdSBlaXRoZXI6ICgxKSBhcmUgdXNpbmcgdGhlIFxcXCJzdGFuZGFsb25lXFxcIiBcIitcclxuXHRcdFx0XHRcInZlcnNpb24gb2YgU2VsZWN0aXplLCBvciAoMikgcmVxdWlyZSBNaWNyb1BsdWdpbiBiZWZvcmUgeW91IFwiK1xyXG5cdFx0XHRcdFwibG9hZCBTZWxlY3RpemUuXCJ9XHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblxyXG5cdC8vIG1ldGhvZHNcclxuXHQvLyAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxyXG5cclxuXHQkLmV4dGVuZChTZWxlY3RpemUucHJvdG90eXBlLCB7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDcmVhdGVzIGFsbCBlbGVtZW50cyBhbmQgc2V0cyB1cCBldmVudCBiaW5kaW5ncy5cclxuXHRcdCAqL1xyXG5cdFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2VsZiAgICAgID0gdGhpcztcclxuXHRcdFx0dmFyIHNldHRpbmdzICA9IHNlbGYuc2V0dGluZ3M7XHJcblx0XHRcdHZhciBldmVudE5TICAgPSBzZWxmLmV2ZW50TlM7XHJcblx0XHRcdHZhciAkd2luZG93ICAgPSAkKHdpbmRvdyk7XHJcblx0XHRcdHZhciAkZG9jdW1lbnQgPSAkKGRvY3VtZW50KTtcclxuXHRcdFx0dmFyICRpbnB1dCAgICA9IHNlbGYuJGlucHV0O1xyXG5cclxuXHRcdFx0dmFyICR3cmFwcGVyO1xyXG5cdFx0XHR2YXIgJGNvbnRyb2w7XHJcblx0XHRcdHZhciAkY29udHJvbF9pbnB1dDtcclxuXHRcdFx0dmFyICRkcm9wZG93bjtcclxuXHRcdFx0dmFyICRkcm9wZG93bl9jb250ZW50O1xyXG5cdFx0XHR2YXIgJGRyb3Bkb3duX3BhcmVudDtcclxuXHRcdFx0dmFyIGlucHV0TW9kZTtcclxuXHRcdFx0dmFyIHRpbWVvdXRfYmx1cjtcclxuXHRcdFx0dmFyIHRpbWVvdXRfZm9jdXM7XHJcblx0XHRcdHZhciBjbGFzc2VzO1xyXG5cdFx0XHR2YXIgY2xhc3Nlc19wbHVnaW5zO1xyXG5cdFx0XHR2YXIgaW5wdXRJZDtcclxuXHJcblx0XHRcdGlucHV0TW9kZSAgICAgICAgID0gc2VsZi5zZXR0aW5ncy5tb2RlO1xyXG5cdFx0XHRjbGFzc2VzICAgICAgICAgICA9ICRpbnB1dC5hdHRyKCdjbGFzcycpIHx8ICcnO1xyXG5cclxuXHRcdFx0JHdyYXBwZXIgICAgICAgICAgPSAkKCc8ZGl2PicpLmFkZENsYXNzKHNldHRpbmdzLndyYXBwZXJDbGFzcykuYWRkQ2xhc3MoY2xhc3NlcykuYWRkQ2xhc3MoaW5wdXRNb2RlKTtcclxuXHRcdFx0JGNvbnRyb2wgICAgICAgICAgPSAkKCc8ZGl2PicpLmFkZENsYXNzKHNldHRpbmdzLmlucHV0Q2xhc3MpLmFkZENsYXNzKCdpdGVtcycpLmFwcGVuZFRvKCR3cmFwcGVyKTtcclxuXHRcdFx0JGNvbnRyb2xfaW5wdXQgICAgPSAkKCc8aW5wdXQgdHlwZT1cInRleHRcIiBhdXRvY29tcGxldGU9XCJvZmZcIiAvPicpLmFwcGVuZFRvKCRjb250cm9sKS5hdHRyKCd0YWJpbmRleCcsICRpbnB1dC5pcygnOmRpc2FibGVkJykgPyAnLTEnIDogc2VsZi50YWJJbmRleCk7XHJcblx0XHRcdCRkcm9wZG93bl9wYXJlbnQgID0gJChzZXR0aW5ncy5kcm9wZG93blBhcmVudCB8fCAkd3JhcHBlcik7XHJcblx0XHRcdCRkcm9wZG93biAgICAgICAgID0gJCgnPGRpdj4nKS5hZGRDbGFzcyhzZXR0aW5ncy5kcm9wZG93bkNsYXNzKS5hZGRDbGFzcyhpbnB1dE1vZGUpLmhpZGUoKS5hcHBlbmRUbygkZHJvcGRvd25fcGFyZW50KTtcclxuXHRcdFx0JGRyb3Bkb3duX2NvbnRlbnQgPSAkKCc8ZGl2PicpLmFkZENsYXNzKHNldHRpbmdzLmRyb3Bkb3duQ29udGVudENsYXNzKS5hcHBlbmRUbygkZHJvcGRvd24pO1xyXG5cclxuXHRcdFx0aWYoaW5wdXRJZCA9ICRpbnB1dC5hdHRyKCdpZCcpKSB7XHJcblx0XHRcdFx0JGNvbnRyb2xfaW5wdXQuYXR0cignaWQnLCBpbnB1dElkICsgJy1zZWxlY3RpemVkJyk7XHJcblx0XHRcdFx0JChcImxhYmVsW2Zvcj0nXCIraW5wdXRJZCtcIiddXCIpLmF0dHIoJ2ZvcicsIGlucHV0SWQgKyAnLXNlbGVjdGl6ZWQnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYoc2VsZi5zZXR0aW5ncy5jb3B5Q2xhc3Nlc1RvRHJvcGRvd24pIHtcclxuXHRcdFx0XHQkZHJvcGRvd24uYWRkQ2xhc3MoY2xhc3Nlcyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdCR3cmFwcGVyLmNzcyh7XHJcblx0XHRcdFx0d2lkdGg6ICRpbnB1dFswXS5zdHlsZS53aWR0aFxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGlmIChzZWxmLnBsdWdpbnMubmFtZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0Y2xhc3Nlc19wbHVnaW5zID0gJ3BsdWdpbi0nICsgc2VsZi5wbHVnaW5zLm5hbWVzLmpvaW4oJyBwbHVnaW4tJyk7XHJcblx0XHRcdFx0JHdyYXBwZXIuYWRkQ2xhc3MoY2xhc3Nlc19wbHVnaW5zKTtcclxuXHRcdFx0XHQkZHJvcGRvd24uYWRkQ2xhc3MoY2xhc3Nlc19wbHVnaW5zKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKChzZXR0aW5ncy5tYXhJdGVtcyA9PT0gbnVsbCB8fCBzZXR0aW5ncy5tYXhJdGVtcyA+IDEpICYmIHNlbGYudGFnVHlwZSA9PT0gVEFHX1NFTEVDVCkge1xyXG5cdFx0XHRcdCRpbnB1dC5hdHRyKCdtdWx0aXBsZScsICdtdWx0aXBsZScpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5wbGFjZWhvbGRlcikge1xyXG5cdFx0XHRcdCRjb250cm9sX2lucHV0LmF0dHIoJ3BsYWNlaG9sZGVyJywgc2V0dGluZ3MucGxhY2Vob2xkZXIpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBpZiBzcGxpdE9uIHdhcyBub3QgcGFzc2VkIGluLCBjb25zdHJ1Y3QgaXQgZnJvbSB0aGUgZGVsaW1pdGVyIHRvIGFsbG93IHBhc3RpbmcgdW5pdmVyc2FsbHlcclxuXHRcdFx0aWYgKCFzZWxmLnNldHRpbmdzLnNwbGl0T24gJiYgc2VsZi5zZXR0aW5ncy5kZWxpbWl0ZXIpIHtcclxuXHRcdFx0XHR2YXIgZGVsaW1pdGVyRXNjYXBlZCA9IHNlbGYuc2V0dGluZ3MuZGVsaW1pdGVyLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpO1xyXG5cdFx0XHRcdHNlbGYuc2V0dGluZ3Muc3BsaXRPbiA9IG5ldyBSZWdFeHAoJ1xcXFxzKicgKyBkZWxpbWl0ZXJFc2NhcGVkICsgJytcXFxccyonKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCRpbnB1dC5hdHRyKCdhdXRvY29ycmVjdCcpKSB7XHJcblx0XHRcdFx0JGNvbnRyb2xfaW5wdXQuYXR0cignYXV0b2NvcnJlY3QnLCAkaW5wdXQuYXR0cignYXV0b2NvcnJlY3QnKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICgkaW5wdXQuYXR0cignYXV0b2NhcGl0YWxpemUnKSkge1xyXG5cdFx0XHRcdCRjb250cm9sX2lucHV0LmF0dHIoJ2F1dG9jYXBpdGFsaXplJywgJGlucHV0LmF0dHIoJ2F1dG9jYXBpdGFsaXplJykpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzZWxmLiR3cmFwcGVyICAgICAgICAgID0gJHdyYXBwZXI7XHJcblx0XHRcdHNlbGYuJGNvbnRyb2wgICAgICAgICAgPSAkY29udHJvbDtcclxuXHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dCAgICA9ICRjb250cm9sX2lucHV0O1xyXG5cdFx0XHRzZWxmLiRkcm9wZG93biAgICAgICAgID0gJGRyb3Bkb3duO1xyXG5cdFx0XHRzZWxmLiRkcm9wZG93bl9jb250ZW50ID0gJGRyb3Bkb3duX2NvbnRlbnQ7XHJcblxyXG5cdFx0XHQkZHJvcGRvd24ub24oJ21vdXNlZW50ZXInLCAnW2RhdGEtc2VsZWN0YWJsZV0nLCBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYub25PcHRpb25Ib3Zlci5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9KTtcclxuXHRcdFx0JGRyb3Bkb3duLm9uKCdtb3VzZWRvd24gY2xpY2snLCAnW2RhdGEtc2VsZWN0YWJsZV0nLCBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYub25PcHRpb25TZWxlY3QuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSk7XHJcblx0XHRcdHdhdGNoQ2hpbGRFdmVudCgkY29udHJvbCwgJ21vdXNlZG93bicsICcqOm5vdChpbnB1dCknLCBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYub25JdGVtU2VsZWN0LmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH0pO1xyXG5cdFx0XHRhdXRvR3JvdygkY29udHJvbF9pbnB1dCk7XHJcblxyXG5cdFx0XHQkY29udHJvbC5vbih7XHJcblx0XHRcdFx0bW91c2Vkb3duIDogZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uTW91c2VEb3duLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH0sXHJcblx0XHRcdFx0Y2xpY2sgICAgIDogZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uQ2xpY2suYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRjb250cm9sX2lucHV0Lm9uKHtcclxuXHRcdFx0XHRtb3VzZWRvd24gOiBmdW5jdGlvbihlKSB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IH0sXHJcblx0XHRcdFx0a2V5ZG93biAgIDogZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uS2V5RG93bi5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9LFxyXG5cdFx0XHRcdGtleXVwICAgICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vbktleVVwLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH0sXHJcblx0XHRcdFx0a2V5cHJlc3MgIDogZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uS2V5UHJlc3MuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSxcclxuXHRcdFx0XHRyZXNpemUgICAgOiBmdW5jdGlvbigpIHsgc2VsZi5wb3NpdGlvbkRyb3Bkb3duLmFwcGx5KHNlbGYsIFtdKTsgfSxcclxuXHRcdFx0XHRibHVyICAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYub25CbHVyLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH0sXHJcblx0XHRcdFx0Zm9jdXMgICAgIDogZnVuY3Rpb24oKSB7IHNlbGYuaWdub3JlQmx1ciA9IGZhbHNlOyByZXR1cm4gc2VsZi5vbkZvY3VzLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH0sXHJcblx0XHRcdFx0cGFzdGUgICAgIDogZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uUGFzdGUuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRkb2N1bWVudC5vbigna2V5ZG93bicgKyBldmVudE5TLCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0c2VsZi5pc0NtZERvd24gPSBlW0lTX01BQyA/ICdtZXRhS2V5JyA6ICdjdHJsS2V5J107XHJcblx0XHRcdFx0c2VsZi5pc0N0cmxEb3duID0gZVtJU19NQUMgPyAnYWx0S2V5JyA6ICdjdHJsS2V5J107XHJcblx0XHRcdFx0c2VsZi5pc1NoaWZ0RG93biA9IGUuc2hpZnRLZXk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JGRvY3VtZW50Lm9uKCdrZXl1cCcgKyBldmVudE5TLCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0aWYgKGUua2V5Q29kZSA9PT0gS0VZX0NUUkwpIHNlbGYuaXNDdHJsRG93biA9IGZhbHNlO1xyXG5cdFx0XHRcdGlmIChlLmtleUNvZGUgPT09IEtFWV9TSElGVCkgc2VsZi5pc1NoaWZ0RG93biA9IGZhbHNlO1xyXG5cdFx0XHRcdGlmIChlLmtleUNvZGUgPT09IEtFWV9DTUQpIHNlbGYuaXNDbWREb3duID0gZmFsc2U7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JGRvY3VtZW50Lm9uKCdtb3VzZWRvd24nICsgZXZlbnROUywgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdGlmIChzZWxmLmlzRm9jdXNlZCkge1xyXG5cdFx0XHRcdFx0Ly8gcHJldmVudCBldmVudHMgb24gdGhlIGRyb3Bkb3duIHNjcm9sbGJhciBmcm9tIGNhdXNpbmcgdGhlIGNvbnRyb2wgdG8gYmx1clxyXG5cdFx0XHRcdFx0aWYgKGUudGFyZ2V0ID09PSBzZWxmLiRkcm9wZG93blswXSB8fCBlLnRhcmdldC5wYXJlbnROb2RlID09PSBzZWxmLiRkcm9wZG93blswXSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvLyBibHVyIG9uIGNsaWNrIG91dHNpZGVcclxuXHRcdFx0XHRcdGlmICghc2VsZi4kY29udHJvbC5oYXMoZS50YXJnZXQpLmxlbmd0aCAmJiBlLnRhcmdldCAhPT0gc2VsZi4kY29udHJvbFswXSkge1xyXG5cdFx0XHRcdFx0XHRzZWxmLmJsdXIoZS50YXJnZXQpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkd2luZG93Lm9uKFsnc2Nyb2xsJyArIGV2ZW50TlMsICdyZXNpemUnICsgZXZlbnROU10uam9pbignICcpLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRpZiAoc2VsZi5pc09wZW4pIHtcclxuXHRcdFx0XHRcdHNlbGYucG9zaXRpb25Ecm9wZG93bi5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdCR3aW5kb3cub24oJ21vdXNlbW92ZScgKyBldmVudE5TLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRzZWxmLmlnbm9yZUhvdmVyID0gZmFsc2U7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gc3RvcmUgb3JpZ2luYWwgY2hpbGRyZW4gYW5kIHRhYiBpbmRleCBzbyB0aGF0IHRoZXkgY2FuIGJlXHJcblx0XHRcdC8vIHJlc3RvcmVkIHdoZW4gdGhlIGRlc3Ryb3koKSBtZXRob2QgaXMgY2FsbGVkLlxyXG5cdFx0XHR0aGlzLnJldmVydFNldHRpbmdzID0ge1xyXG5cdFx0XHRcdCRjaGlsZHJlbiA6ICRpbnB1dC5jaGlsZHJlbigpLmRldGFjaCgpLFxyXG5cdFx0XHRcdHRhYmluZGV4ICA6ICRpbnB1dC5hdHRyKCd0YWJpbmRleCcpXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQkaW5wdXQuYXR0cigndGFiaW5kZXgnLCAtMSkuaGlkZSgpLmFmdGVyKHNlbGYuJHdyYXBwZXIpO1xyXG5cclxuXHRcdFx0aWYgKCQuaXNBcnJheShzZXR0aW5ncy5pdGVtcykpIHtcclxuXHRcdFx0XHRzZWxmLnNldFZhbHVlKHNldHRpbmdzLml0ZW1zKTtcclxuXHRcdFx0XHRkZWxldGUgc2V0dGluZ3MuaXRlbXM7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGZlYXR1cmUgZGV0ZWN0IGZvciB0aGUgdmFsaWRhdGlvbiBBUElcclxuXHRcdFx0aWYgKFNVUFBPUlRTX1ZBTElESVRZX0FQSSkge1xyXG5cdFx0XHRcdCRpbnB1dC5vbignaW52YWxpZCcgKyBldmVudE5TLCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRzZWxmLmlzSW52YWxpZCA9IHRydWU7XHJcblx0XHRcdFx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzZWxmLnVwZGF0ZU9yaWdpbmFsSW5wdXQoKTtcclxuXHRcdFx0c2VsZi5yZWZyZXNoSXRlbXMoKTtcclxuXHRcdFx0c2VsZi5yZWZyZXNoU3RhdGUoKTtcclxuXHRcdFx0c2VsZi51cGRhdGVQbGFjZWhvbGRlcigpO1xyXG5cdFx0XHRzZWxmLmlzU2V0dXAgPSB0cnVlO1xyXG5cclxuXHRcdFx0aWYgKCRpbnB1dC5pcygnOmRpc2FibGVkJykpIHtcclxuXHRcdFx0XHRzZWxmLmRpc2FibGUoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c2VsZi5vbignY2hhbmdlJywgdGhpcy5vbkNoYW5nZSk7XHJcblxyXG5cdFx0XHQkaW5wdXQuZGF0YSgnc2VsZWN0aXplJywgc2VsZik7XHJcblx0XHRcdCRpbnB1dC5hZGRDbGFzcygnc2VsZWN0aXplZCcpO1xyXG5cdFx0XHRzZWxmLnRyaWdnZXIoJ2luaXRpYWxpemUnKTtcclxuXHJcblx0XHRcdC8vIHByZWxvYWQgb3B0aW9uc1xyXG5cdFx0XHRpZiAoc2V0dGluZ3MucHJlbG9hZCA9PT0gdHJ1ZSkge1xyXG5cdFx0XHRcdHNlbGYub25TZWFyY2hDaGFuZ2UoJycpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNldHMgdXAgZGVmYXVsdCByZW5kZXJpbmcgZnVuY3Rpb25zLlxyXG5cdFx0ICovXHJcblx0XHRzZXR1cFRlbXBsYXRlczogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0dmFyIGZpZWxkX2xhYmVsID0gc2VsZi5zZXR0aW5ncy5sYWJlbEZpZWxkO1xyXG5cdFx0XHR2YXIgZmllbGRfb3B0Z3JvdXAgPSBzZWxmLnNldHRpbmdzLm9wdGdyb3VwTGFiZWxGaWVsZDtcclxuXHJcblx0XHRcdHZhciB0ZW1wbGF0ZXMgPSB7XHJcblx0XHRcdFx0J29wdGdyb3VwJzogZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuICc8ZGl2IGNsYXNzPVwib3B0Z3JvdXBcIj4nICsgZGF0YS5odG1sICsgJzwvZGl2Pic7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHQnb3B0Z3JvdXBfaGVhZGVyJzogZnVuY3Rpb24oZGF0YSwgZXNjYXBlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJzxkaXYgY2xhc3M9XCJvcHRncm91cC1oZWFkZXJcIj4nICsgZXNjYXBlKGRhdGFbZmllbGRfb3B0Z3JvdXBdKSArICc8L2Rpdj4nO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0J29wdGlvbic6IGZ1bmN0aW9uKGRhdGEsIGVzY2FwZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuICc8ZGl2IGNsYXNzPVwib3B0aW9uXCI+JyArIGVzY2FwZShkYXRhW2ZpZWxkX2xhYmVsXSkgKyAnPC9kaXY+JztcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdCdpdGVtJzogZnVuY3Rpb24oZGF0YSwgZXNjYXBlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJzxkaXYgY2xhc3M9XCJpdGVtXCI+JyArIGVzY2FwZShkYXRhW2ZpZWxkX2xhYmVsXSkgKyAnPC9kaXY+JztcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdCdvcHRpb25fY3JlYXRlJzogZnVuY3Rpb24oZGF0YSwgZXNjYXBlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJzxkaXYgY2xhc3M9XCJjcmVhdGVcIj5BZGQgPHN0cm9uZz4nICsgZXNjYXBlKGRhdGEuaW5wdXQpICsgJzwvc3Ryb25nPiZoZWxsaXA7PC9kaXY+JztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRzZWxmLnNldHRpbmdzLnJlbmRlciA9ICQuZXh0ZW5kKHt9LCB0ZW1wbGF0ZXMsIHNlbGYuc2V0dGluZ3MucmVuZGVyKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBNYXBzIGZpcmVkIGV2ZW50cyB0byBjYWxsYmFja3MgcHJvdmlkZWRcclxuXHRcdCAqIGluIHRoZSBzZXR0aW5ncyB1c2VkIHdoZW4gY3JlYXRpbmcgdGhlIGNvbnRyb2wuXHJcblx0XHQgKi9cclxuXHRcdHNldHVwQ2FsbGJhY2tzOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIGtleSwgZm4sIGNhbGxiYWNrcyA9IHtcclxuXHRcdFx0XHQnaW5pdGlhbGl6ZScgICAgICA6ICdvbkluaXRpYWxpemUnLFxyXG5cdFx0XHRcdCdjaGFuZ2UnICAgICAgICAgIDogJ29uQ2hhbmdlJyxcclxuXHRcdFx0XHQnaXRlbV9hZGQnICAgICAgICA6ICdvbkl0ZW1BZGQnLFxyXG5cdFx0XHRcdCdpdGVtX3JlbW92ZScgICAgIDogJ29uSXRlbVJlbW92ZScsXHJcblx0XHRcdFx0J2NsZWFyJyAgICAgICAgICAgOiAnb25DbGVhcicsXHJcblx0XHRcdFx0J29wdGlvbl9hZGQnICAgICAgOiAnb25PcHRpb25BZGQnLFxyXG5cdFx0XHRcdCdvcHRpb25fcmVtb3ZlJyAgIDogJ29uT3B0aW9uUmVtb3ZlJyxcclxuXHRcdFx0XHQnb3B0aW9uX2NsZWFyJyAgICA6ICdvbk9wdGlvbkNsZWFyJyxcclxuXHRcdFx0XHQnb3B0Z3JvdXBfYWRkJyAgICA6ICdvbk9wdGlvbkdyb3VwQWRkJyxcclxuXHRcdFx0XHQnb3B0Z3JvdXBfcmVtb3ZlJyA6ICdvbk9wdGlvbkdyb3VwUmVtb3ZlJyxcclxuXHRcdFx0XHQnb3B0Z3JvdXBfY2xlYXInICA6ICdvbk9wdGlvbkdyb3VwQ2xlYXInLFxyXG5cdFx0XHRcdCdkcm9wZG93bl9vcGVuJyAgIDogJ29uRHJvcGRvd25PcGVuJyxcclxuXHRcdFx0XHQnZHJvcGRvd25fY2xvc2UnICA6ICdvbkRyb3Bkb3duQ2xvc2UnLFxyXG5cdFx0XHRcdCd0eXBlJyAgICAgICAgICAgIDogJ29uVHlwZScsXHJcblx0XHRcdFx0J2xvYWQnICAgICAgICAgICAgOiAnb25Mb2FkJyxcclxuXHRcdFx0XHQnZm9jdXMnICAgICAgICAgICA6ICdvbkZvY3VzJyxcclxuXHRcdFx0XHQnYmx1cicgICAgICAgICAgICA6ICdvbkJsdXInXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRmb3IgKGtleSBpbiBjYWxsYmFja3MpIHtcclxuXHRcdFx0XHRpZiAoY2FsbGJhY2tzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRcdGZuID0gdGhpcy5zZXR0aW5nc1tjYWxsYmFja3Nba2V5XV07XHJcblx0XHRcdFx0XHRpZiAoZm4pIHRoaXMub24oa2V5LCBmbik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVHJpZ2dlcmVkIHdoZW4gdGhlIG1haW4gY29udHJvbCBlbGVtZW50XHJcblx0XHQgKiBoYXMgYSBjbGljayBldmVudC5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZVxyXG5cdFx0ICogQHJldHVybiB7Ym9vbGVhbn1cclxuXHRcdCAqL1xyXG5cdFx0b25DbGljazogZnVuY3Rpb24oZSkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHQvLyBuZWNlc3NhcnkgZm9yIG1vYmlsZSB3ZWJraXQgZGV2aWNlcyAobWFudWFsIGZvY3VzIHRyaWdnZXJpbmdcclxuXHRcdFx0Ly8gaXMgaWdub3JlZCB1bmxlc3MgaW52b2tlZCB3aXRoaW4gYSBjbGljayBldmVudClcclxuXHRcdFx0aWYgKCFzZWxmLmlzRm9jdXNlZCkge1xyXG5cdFx0XHRcdHNlbGYuZm9jdXMoKTtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgbWFpbiBjb250cm9sIGVsZW1lbnRcclxuXHRcdCAqIGhhcyBhIG1vdXNlIGRvd24gZXZlbnQuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGVcclxuXHRcdCAqIEByZXR1cm4ge2Jvb2xlYW59XHJcblx0XHQgKi9cclxuXHRcdG9uTW91c2VEb3duOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0dmFyIGRlZmF1bHRQcmV2ZW50ZWQgPSBlLmlzRGVmYXVsdFByZXZlbnRlZCgpO1xyXG5cdFx0XHR2YXIgJHRhcmdldCA9ICQoZS50YXJnZXQpO1xyXG5cclxuXHRcdFx0aWYgKHNlbGYuaXNGb2N1c2VkKSB7XHJcblx0XHRcdFx0Ly8gcmV0YWluIGZvY3VzIGJ5IHByZXZlbnRpbmcgbmF0aXZlIGhhbmRsaW5nLiBpZiB0aGVcclxuXHRcdFx0XHQvLyBldmVudCB0YXJnZXQgaXMgdGhlIGlucHV0IGl0IHNob3VsZCBub3QgYmUgbW9kaWZpZWQuXHJcblx0XHRcdFx0Ly8gb3RoZXJ3aXNlLCB0ZXh0IHNlbGVjdGlvbiB3aXRoaW4gdGhlIGlucHV0IHdvbid0IHdvcmsuXHJcblx0XHRcdFx0aWYgKGUudGFyZ2V0ICE9PSBzZWxmLiRjb250cm9sX2lucHV0WzBdKSB7XHJcblx0XHRcdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5tb2RlID09PSAnc2luZ2xlJykge1xyXG5cdFx0XHRcdFx0XHQvLyB0b2dnbGUgZHJvcGRvd25cclxuXHRcdFx0XHRcdFx0c2VsZi5pc09wZW4gPyBzZWxmLmNsb3NlKCkgOiBzZWxmLm9wZW4oKTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIWRlZmF1bHRQcmV2ZW50ZWQpIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5zZXRBY3RpdmVJdGVtKG51bGwpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBnaXZlIGNvbnRyb2wgZm9jdXNcclxuXHRcdFx0XHRpZiAoIWRlZmF1bHRQcmV2ZW50ZWQpIHtcclxuXHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRzZWxmLmZvY3VzKCk7XHJcblx0XHRcdFx0XHR9LCAwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgdmFsdWUgb2YgdGhlIGNvbnRyb2wgaGFzIGJlZW4gY2hhbmdlZC5cclxuXHRcdCAqIFRoaXMgc2hvdWxkIHByb3BhZ2F0ZSB0aGUgZXZlbnQgdG8gdGhlIG9yaWdpbmFsIERPTVxyXG5cdFx0ICogaW5wdXQgLyBzZWxlY3QgZWxlbWVudC5cclxuXHRcdCAqL1xyXG5cdFx0b25DaGFuZ2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLiRpbnB1dC50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUcmlnZ2VyZWQgb24gPGlucHV0PiBwYXN0ZS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZVxyXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XHJcblx0XHQgKi9cclxuXHRcdG9uUGFzdGU6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0aWYgKHNlbGYuaXNGdWxsKCkgfHwgc2VsZi5pc0lucHV0SGlkZGVuIHx8IHNlbGYuaXNMb2NrZWQpIHtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBJZiBhIHJlZ2V4IG9yIHN0cmluZyBpcyBpbmNsdWRlZCwgdGhpcyB3aWxsIHNwbGl0IHRoZSBwYXN0ZWRcclxuXHRcdFx0Ly8gaW5wdXQgYW5kIGNyZWF0ZSBJdGVtcyBmb3IgZWFjaCBzZXBhcmF0ZSB2YWx1ZVxyXG5cdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5zcGxpdE9uKSB7XHJcblxyXG5cdFx0XHRcdC8vIFdhaXQgZm9yIHBhc3RlZCB0ZXh0IHRvIGJlIHJlY29nbml6ZWQgaW4gdmFsdWVcclxuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dmFyIHBhc3RlZFRleHQgPSBzZWxmLiRjb250cm9sX2lucHV0LnZhbCgpO1xyXG5cdFx0XHRcdFx0aWYoIXBhc3RlZFRleHQubWF0Y2goc2VsZi5zZXR0aW5ncy5zcGxpdE9uKSl7IHJldHVybiB9XHJcblxyXG5cdFx0XHRcdFx0dmFyIHNwbGl0SW5wdXQgPSAkLnRyaW0ocGFzdGVkVGV4dCkuc3BsaXQoc2VsZi5zZXR0aW5ncy5zcGxpdE9uKTtcclxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwLCBuID0gc3BsaXRJbnB1dC5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5jcmVhdGVJdGVtKHNwbGl0SW5wdXRbaV0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sIDApO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVHJpZ2dlcmVkIG9uIDxpbnB1dD4ga2V5cHJlc3MuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGVcclxuXHRcdCAqIEByZXR1cm5zIHtib29sZWFufVxyXG5cdFx0ICovXHJcblx0XHRvbktleVByZXNzOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdGlmICh0aGlzLmlzTG9ja2VkKSByZXR1cm4gZSAmJiBlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdHZhciBjaGFyYWN0ZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUua2V5Q29kZSB8fCBlLndoaWNoKTtcclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuY3JlYXRlICYmIHRoaXMuc2V0dGluZ3MubW9kZSA9PT0gJ211bHRpJyAmJiBjaGFyYWN0ZXIgPT09IHRoaXMuc2V0dGluZ3MuZGVsaW1pdGVyKSB7XHJcblx0XHRcdFx0dGhpcy5jcmVhdGVJdGVtKCk7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRyaWdnZXJlZCBvbiA8aW5wdXQ+IGtleWRvd24uXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGVcclxuXHRcdCAqIEByZXR1cm5zIHtib29sZWFufVxyXG5cdFx0ICovXHJcblx0XHRvbktleURvd246IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dmFyIGlzSW5wdXQgPSBlLnRhcmdldCA9PT0gdGhpcy4kY29udHJvbF9pbnB1dFswXTtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0aWYgKHNlbGYuaXNMb2NrZWQpIHtcclxuXHRcdFx0XHRpZiAoZS5rZXlDb2RlICE9PSBLRVlfVEFCKSB7XHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c3dpdGNoIChlLmtleUNvZGUpIHtcclxuXHRcdFx0XHRjYXNlIEtFWV9BOlxyXG5cdFx0XHRcdFx0aWYgKHNlbGYuaXNDbWREb3duKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYuc2VsZWN0QWxsKCk7XHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgS0VZX0VTQzpcclxuXHRcdFx0XHRcdGlmIChzZWxmLmlzT3Blbikge1xyXG5cdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRcdHNlbGYuY2xvc2UoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRjYXNlIEtFWV9OOlxyXG5cdFx0XHRcdFx0aWYgKCFlLmN0cmxLZXkgfHwgZS5hbHRLZXkpIGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgS0VZX0RPV046XHJcblx0XHRcdFx0XHRpZiAoIXNlbGYuaXNPcGVuICYmIHNlbGYuaGFzT3B0aW9ucykge1xyXG5cdFx0XHRcdFx0XHRzZWxmLm9wZW4oKTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoc2VsZi4kYWN0aXZlT3B0aW9uKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYuaWdub3JlSG92ZXIgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR2YXIgJG5leHQgPSBzZWxmLmdldEFkamFjZW50T3B0aW9uKHNlbGYuJGFjdGl2ZU9wdGlvbiwgMSk7XHJcblx0XHRcdFx0XHRcdGlmICgkbmV4dC5sZW5ndGgpIHNlbGYuc2V0QWN0aXZlT3B0aW9uKCRuZXh0LCB0cnVlLCB0cnVlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRjYXNlIEtFWV9QOlxyXG5cdFx0XHRcdFx0aWYgKCFlLmN0cmxLZXkgfHwgZS5hbHRLZXkpIGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgS0VZX1VQOlxyXG5cdFx0XHRcdFx0aWYgKHNlbGYuJGFjdGl2ZU9wdGlvbikge1xyXG5cdFx0XHRcdFx0XHRzZWxmLmlnbm9yZUhvdmVyID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0dmFyICRwcmV2ID0gc2VsZi5nZXRBZGphY2VudE9wdGlvbihzZWxmLiRhY3RpdmVPcHRpb24sIC0xKTtcclxuXHRcdFx0XHRcdFx0aWYgKCRwcmV2Lmxlbmd0aCkgc2VsZi5zZXRBY3RpdmVPcHRpb24oJHByZXYsIHRydWUsIHRydWUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdGNhc2UgS0VZX1JFVFVSTjpcclxuXHRcdFx0XHRcdGlmIChzZWxmLmlzT3BlbiAmJiBzZWxmLiRhY3RpdmVPcHRpb24pIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5vbk9wdGlvblNlbGVjdCh7Y3VycmVudFRhcmdldDogc2VsZi4kYWN0aXZlT3B0aW9ufSk7XHJcblx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRjYXNlIEtFWV9MRUZUOlxyXG5cdFx0XHRcdFx0c2VsZi5hZHZhbmNlU2VsZWN0aW9uKC0xLCBlKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRjYXNlIEtFWV9SSUdIVDpcclxuXHRcdFx0XHRcdHNlbGYuYWR2YW5jZVNlbGVjdGlvbigxLCBlKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRjYXNlIEtFWV9UQUI6XHJcblx0XHRcdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5zZWxlY3RPblRhYiAmJiBzZWxmLmlzT3BlbiAmJiBzZWxmLiRhY3RpdmVPcHRpb24pIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5vbk9wdGlvblNlbGVjdCh7Y3VycmVudFRhcmdldDogc2VsZi4kYWN0aXZlT3B0aW9ufSk7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBEZWZhdWx0IGJlaGF2aW91ciBpcyB0byBqdW1wIHRvIHRoZSBuZXh0IGZpZWxkLCB3ZSBvbmx5IHdhbnQgdGhpc1xyXG5cdFx0XHRcdFx0XHQvLyBpZiB0aGUgY3VycmVudCBmaWVsZCBkb2Vzbid0IGFjY2VwdCBhbnkgbW9yZSBlbnRyaWVzXHJcblx0XHRcdFx0XHRcdGlmICghc2VsZi5pc0Z1bGwoKSkge1xyXG5cdFx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MuY3JlYXRlICYmIHNlbGYuY3JlYXRlSXRlbSgpKSB7XHJcblx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRjYXNlIEtFWV9CQUNLU1BBQ0U6XHJcblx0XHRcdFx0Y2FzZSBLRVlfREVMRVRFOlxyXG5cdFx0XHRcdFx0c2VsZi5kZWxldGVTZWxlY3Rpb24oZSk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICgoc2VsZi5pc0Z1bGwoKSB8fCBzZWxmLmlzSW5wdXRIaWRkZW4pICYmICEoSVNfTUFDID8gZS5tZXRhS2V5IDogZS5jdHJsS2V5KSkge1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUcmlnZ2VyZWQgb24gPGlucHV0PiBrZXl1cC5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZVxyXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XHJcblx0XHQgKi9cclxuXHRcdG9uS2V5VXA6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0aWYgKHNlbGYuaXNMb2NrZWQpIHJldHVybiBlICYmIGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0dmFyIHZhbHVlID0gc2VsZi4kY29udHJvbF9pbnB1dC52YWwoKSB8fCAnJztcclxuXHRcdFx0aWYgKHNlbGYubGFzdFZhbHVlICE9PSB2YWx1ZSkge1xyXG5cdFx0XHRcdHNlbGYubGFzdFZhbHVlID0gdmFsdWU7XHJcblx0XHRcdFx0c2VsZi5vblNlYXJjaENoYW5nZSh2YWx1ZSk7XHJcblx0XHRcdFx0c2VsZi5yZWZyZXNoT3B0aW9ucygpO1xyXG5cdFx0XHRcdHNlbGYudHJpZ2dlcigndHlwZScsIHZhbHVlKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEludm9rZXMgdGhlIHVzZXItcHJvdmlkZSBvcHRpb24gcHJvdmlkZXIgLyBsb2FkZXIuXHJcblx0XHQgKlxyXG5cdFx0ICogTm90ZTogdGhpcyBmdW5jdGlvbiBpcyBkZWJvdW5jZWQgaW4gdGhlIFNlbGVjdGl6ZVxyXG5cdFx0ICogY29uc3RydWN0b3IgKGJ5IGBzZXR0aW5ncy5sb2FkVGhyb3R0bGVgIG1pbGxpc2Vjb25kcylcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcclxuXHRcdCAqL1xyXG5cdFx0b25TZWFyY2hDaGFuZ2U6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0dmFyIGZuID0gc2VsZi5zZXR0aW5ncy5sb2FkO1xyXG5cdFx0XHRpZiAoIWZuKSByZXR1cm47XHJcblx0XHRcdGlmIChzZWxmLmxvYWRlZFNlYXJjaGVzLmhhc093blByb3BlcnR5KHZhbHVlKSkgcmV0dXJuO1xyXG5cdFx0XHRzZWxmLmxvYWRlZFNlYXJjaGVzW3ZhbHVlXSA9IHRydWU7XHJcblx0XHRcdHNlbGYubG9hZChmdW5jdGlvbihjYWxsYmFjaykge1xyXG5cdFx0XHRcdGZuLmFwcGx5KHNlbGYsIFt2YWx1ZSwgY2FsbGJhY2tdKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVHJpZ2dlcmVkIG9uIDxpbnB1dD4gZm9jdXMuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGUgKG9wdGlvbmFsKVxyXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XHJcblx0XHQgKi9cclxuXHRcdG9uRm9jdXM6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHR2YXIgd2FzRm9jdXNlZCA9IHNlbGYuaXNGb2N1c2VkO1xyXG5cclxuXHRcdFx0aWYgKHNlbGYuaXNEaXNhYmxlZCkge1xyXG5cdFx0XHRcdHNlbGYuYmx1cigpO1xyXG5cdFx0XHRcdGUgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHNlbGYuaWdub3JlRm9jdXMpIHJldHVybjtcclxuXHRcdFx0c2VsZi5pc0ZvY3VzZWQgPSB0cnVlO1xyXG5cdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5wcmVsb2FkID09PSAnZm9jdXMnKSBzZWxmLm9uU2VhcmNoQ2hhbmdlKCcnKTtcclxuXHJcblx0XHRcdGlmICghd2FzRm9jdXNlZCkgc2VsZi50cmlnZ2VyKCdmb2N1cycpO1xyXG5cclxuXHRcdFx0aWYgKCFzZWxmLiRhY3RpdmVJdGVtcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRzZWxmLnNob3dJbnB1dCgpO1xyXG5cdFx0XHRcdHNlbGYuc2V0QWN0aXZlSXRlbShudWxsKTtcclxuXHRcdFx0XHRzZWxmLnJlZnJlc2hPcHRpb25zKCEhc2VsZi5zZXR0aW5ncy5vcGVuT25Gb2N1cyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNlbGYucmVmcmVzaFN0YXRlKCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVHJpZ2dlcmVkIG9uIDxpbnB1dD4gYmx1ci5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZVxyXG5cdFx0ICogQHBhcmFtIHtFbGVtZW50fSBkZXN0XHJcblx0XHQgKi9cclxuXHRcdG9uQmx1cjogZnVuY3Rpb24oZSwgZGVzdCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdGlmICghc2VsZi5pc0ZvY3VzZWQpIHJldHVybjtcclxuXHRcdFx0c2VsZi5pc0ZvY3VzZWQgPSBmYWxzZTtcclxuXHJcblx0XHRcdGlmIChzZWxmLmlnbm9yZUZvY3VzKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCFzZWxmLmlnbm9yZUJsdXIgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gc2VsZi4kZHJvcGRvd25fY29udGVudFswXSkge1xyXG5cdFx0XHRcdC8vIG5lY2Vzc2FyeSB0byBwcmV2ZW50IElFIGNsb3NpbmcgdGhlIGRyb3Bkb3duIHdoZW4gdGhlIHNjcm9sbGJhciBpcyBjbGlja2VkXHJcblx0XHRcdFx0c2VsZi5pZ25vcmVCbHVyID0gdHJ1ZTtcclxuXHRcdFx0XHRzZWxmLm9uRm9jdXMoZSk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHNlbGYuY2xvc2UoKTtcclxuXHRcdFx0XHRzZWxmLnNldFRleHRib3hWYWx1ZSgnJyk7XHJcblx0XHRcdFx0c2VsZi5zZXRBY3RpdmVJdGVtKG51bGwpO1xyXG5cdFx0XHRcdHNlbGYuc2V0QWN0aXZlT3B0aW9uKG51bGwpO1xyXG5cdFx0XHRcdHNlbGYuc2V0Q2FyZXQoc2VsZi5pdGVtcy5sZW5ndGgpO1xyXG5cdFx0XHRcdHNlbGYucmVmcmVzaFN0YXRlKCk7XHJcblxyXG5cdFx0XHRcdC8vIElFMTEgYnVnOiBlbGVtZW50IHN0aWxsIG1hcmtlZCBhcyBhY3RpdmVcclxuXHRcdFx0XHRkZXN0ICYmIGRlc3QuZm9jdXMgJiYgZGVzdC5mb2N1cygpO1xyXG5cclxuXHRcdFx0XHRzZWxmLmlnbm9yZUZvY3VzID0gZmFsc2U7XHJcblx0XHRcdFx0c2VsZi50cmlnZ2VyKCdibHVyJyk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRzZWxmLmlnbm9yZUZvY3VzID0gdHJ1ZTtcclxuXHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MuY3JlYXRlICYmIHNlbGYuc2V0dGluZ3MuY3JlYXRlT25CbHVyKSB7XHJcblx0XHRcdFx0c2VsZi5jcmVhdGVJdGVtKG51bGwsIGZhbHNlLCBkZWFjdGl2YXRlKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRkZWFjdGl2YXRlKCk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgdXNlciByb2xscyBvdmVyXHJcblx0XHQgKiBhbiBvcHRpb24gaW4gdGhlIGF1dG9jb21wbGV0ZSBkcm9wZG93biBtZW51LlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlXHJcblx0XHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuXHRcdCAqL1xyXG5cdFx0b25PcHRpb25Ib3ZlcjogZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRpZiAodGhpcy5pZ25vcmVIb3ZlcikgcmV0dXJuO1xyXG5cdFx0XHR0aGlzLnNldEFjdGl2ZU9wdGlvbihlLmN1cnJlbnRUYXJnZXQsIGZhbHNlKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBjbGlja3Mgb24gYW4gb3B0aW9uXHJcblx0XHQgKiBpbiB0aGUgYXV0b2NvbXBsZXRlIGRyb3Bkb3duIG1lbnUuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGVcclxuXHRcdCAqIEByZXR1cm5zIHtib29sZWFufVxyXG5cdFx0ICovXHJcblx0XHRvbk9wdGlvblNlbGVjdDogZnVuY3Rpb24oZSkge1xyXG5cdFx0XHR2YXIgdmFsdWUsICR0YXJnZXQsICRvcHRpb24sIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0aWYgKGUucHJldmVudERlZmF1bHQpIHtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0JHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuXHRcdFx0aWYgKCR0YXJnZXQuaGFzQ2xhc3MoJ2NyZWF0ZScpKSB7XHJcblx0XHRcdFx0c2VsZi5jcmVhdGVJdGVtKG51bGwsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MuY2xvc2VBZnRlclNlbGVjdCkge1xyXG5cdFx0XHRcdFx0XHRzZWxmLmNsb3NlKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dmFsdWUgPSAkdGFyZ2V0LmF0dHIoJ2RhdGEtdmFsdWUnKTtcclxuXHRcdFx0XHRpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdFx0c2VsZi5sYXN0UXVlcnkgPSBudWxsO1xyXG5cdFx0XHRcdFx0c2VsZi5zZXRUZXh0Ym94VmFsdWUoJycpO1xyXG5cdFx0XHRcdFx0c2VsZi5hZGRJdGVtKHZhbHVlKTtcclxuXHRcdFx0XHRcdGlmIChzZWxmLnNldHRpbmdzLmNsb3NlQWZ0ZXJTZWxlY3QpIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5jbG9zZSgpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmICghc2VsZi5zZXR0aW5ncy5oaWRlU2VsZWN0ZWQgJiYgZS50eXBlICYmIC9tb3VzZS8udGVzdChlLnR5cGUpKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYuc2V0QWN0aXZlT3B0aW9uKHNlbGYuZ2V0T3B0aW9uKHZhbHVlKSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIG9uIGFuIGl0ZW1cclxuXHRcdCAqIHRoYXQgaGFzIGJlZW4gc2VsZWN0ZWQuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGVcclxuXHRcdCAqIEByZXR1cm5zIHtib29sZWFufVxyXG5cdFx0ICovXHJcblx0XHRvbkl0ZW1TZWxlY3Q6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0aWYgKHNlbGYuaXNMb2NrZWQpIHJldHVybjtcclxuXHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ211bHRpJykge1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRzZWxmLnNldEFjdGl2ZUl0ZW0oZS5jdXJyZW50VGFyZ2V0LCBlKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEludm9rZXMgdGhlIHByb3ZpZGVkIG1ldGhvZCB0aGF0IHByb3ZpZGVzXHJcblx0XHQgKiByZXN1bHRzIHRvIGEgY2FsbGJhY2stLS13aGljaCBhcmUgdGhlbiBhZGRlZFxyXG5cdFx0ICogYXMgb3B0aW9ucyB0byB0aGUgY29udHJvbC5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxyXG5cdFx0ICovXHJcblx0XHRsb2FkOiBmdW5jdGlvbihmbikge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdHZhciAkd3JhcHBlciA9IHNlbGYuJHdyYXBwZXIuYWRkQ2xhc3Moc2VsZi5zZXR0aW5ncy5sb2FkaW5nQ2xhc3MpO1xyXG5cclxuXHRcdFx0c2VsZi5sb2FkaW5nKys7XHJcblx0XHRcdGZuLmFwcGx5KHNlbGYsIFtmdW5jdGlvbihyZXN1bHRzKSB7XHJcblx0XHRcdFx0c2VsZi5sb2FkaW5nID0gTWF0aC5tYXgoc2VsZi5sb2FkaW5nIC0gMSwgMCk7XHJcblx0XHRcdFx0aWYgKHJlc3VsdHMgJiYgcmVzdWx0cy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdHNlbGYuYWRkT3B0aW9uKHJlc3VsdHMpO1xyXG5cdFx0XHRcdFx0c2VsZi5yZWZyZXNoT3B0aW9ucyhzZWxmLmlzRm9jdXNlZCAmJiAhc2VsZi5pc0lucHV0SGlkZGVuKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKCFzZWxmLmxvYWRpbmcpIHtcclxuXHRcdFx0XHRcdCR3cmFwcGVyLnJlbW92ZUNsYXNzKHNlbGYuc2V0dGluZ3MubG9hZGluZ0NsYXNzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c2VsZi50cmlnZ2VyKCdsb2FkJywgcmVzdWx0cyk7XHJcblx0XHRcdH1dKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZXRzIHRoZSBpbnB1dCBmaWVsZCBvZiB0aGUgY29udHJvbCB0byB0aGUgc3BlY2lmaWVkIHZhbHVlLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxyXG5cdFx0ICovXHJcblx0XHRzZXRUZXh0Ym94VmFsdWU6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdHZhciAkaW5wdXQgPSB0aGlzLiRjb250cm9sX2lucHV0O1xyXG5cdFx0XHR2YXIgY2hhbmdlZCA9ICRpbnB1dC52YWwoKSAhPT0gdmFsdWU7XHJcblx0XHRcdGlmIChjaGFuZ2VkKSB7XHJcblx0XHRcdFx0JGlucHV0LnZhbCh2YWx1ZSkudHJpZ2dlckhhbmRsZXIoJ3VwZGF0ZScpO1xyXG5cdFx0XHRcdHRoaXMubGFzdFZhbHVlID0gdmFsdWU7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgY29udHJvbC4gSWYgbXVsdGlwbGUgaXRlbXNcclxuXHRcdCAqIGNhbiBiZSBzZWxlY3RlZCAoZS5nLiA8c2VsZWN0IG11bHRpcGxlPiksIHRoaXMgcmV0dXJuc1xyXG5cdFx0ICogYW4gYXJyYXkuIElmIG9ubHkgb25lIGl0ZW0gY2FuIGJlIHNlbGVjdGVkLCB0aGlzXHJcblx0XHQgKiByZXR1cm5zIGEgc3RyaW5nLlxyXG5cdFx0ICpcclxuXHRcdCAqIEByZXR1cm5zIHttaXhlZH1cclxuXHRcdCAqL1xyXG5cdFx0Z2V0VmFsdWU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAodGhpcy50YWdUeXBlID09PSBUQUdfU0VMRUNUICYmIHRoaXMuJGlucHV0LmF0dHIoJ211bHRpcGxlJykpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5pdGVtcztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5pdGVtcy5qb2luKHRoaXMuc2V0dGluZ3MuZGVsaW1pdGVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlc2V0cyB0aGUgc2VsZWN0ZWQgaXRlbXMgdG8gdGhlIGdpdmVuIHZhbHVlLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7bWl4ZWR9IHZhbHVlXHJcblx0XHQgKi9cclxuXHRcdHNldFZhbHVlOiBmdW5jdGlvbih2YWx1ZSwgc2lsZW50KSB7XHJcblx0XHRcdHZhciBldmVudHMgPSBzaWxlbnQgPyBbXSA6IFsnY2hhbmdlJ107XHJcblxyXG5cdFx0XHRkZWJvdW5jZV9ldmVudHModGhpcywgZXZlbnRzLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR0aGlzLmNsZWFyKHNpbGVudCk7XHJcblx0XHRcdFx0dGhpcy5hZGRJdGVtcyh2YWx1ZSwgc2lsZW50KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2V0cyB0aGUgc2VsZWN0ZWQgaXRlbS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gJGl0ZW1cclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlIChvcHRpb25hbClcclxuXHRcdCAqL1xyXG5cdFx0c2V0QWN0aXZlSXRlbTogZnVuY3Rpb24oJGl0ZW0sIGUpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHR2YXIgZXZlbnROYW1lO1xyXG5cdFx0XHR2YXIgaSwgaWR4LCBiZWdpbiwgZW5kLCBpdGVtLCBzd2FwO1xyXG5cdFx0XHR2YXIgJGxhc3Q7XHJcblxyXG5cdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5tb2RlID09PSAnc2luZ2xlJykgcmV0dXJuO1xyXG5cdFx0XHQkaXRlbSA9ICQoJGl0ZW0pO1xyXG5cclxuXHRcdFx0Ly8gY2xlYXIgdGhlIGFjdGl2ZSBzZWxlY3Rpb25cclxuXHRcdFx0aWYgKCEkaXRlbS5sZW5ndGgpIHtcclxuXHRcdFx0XHQkKHNlbGYuJGFjdGl2ZUl0ZW1zKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0c2VsZi4kYWN0aXZlSXRlbXMgPSBbXTtcclxuXHRcdFx0XHRpZiAoc2VsZi5pc0ZvY3VzZWQpIHtcclxuXHRcdFx0XHRcdHNlbGYuc2hvd0lucHV0KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gbW9kaWZ5IHNlbGVjdGlvblxyXG5cdFx0XHRldmVudE5hbWUgPSBlICYmIGUudHlwZS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuXHRcdFx0aWYgKGV2ZW50TmFtZSA9PT0gJ21vdXNlZG93bicgJiYgc2VsZi5pc1NoaWZ0RG93biAmJiBzZWxmLiRhY3RpdmVJdGVtcy5sZW5ndGgpIHtcclxuXHRcdFx0XHQkbGFzdCA9IHNlbGYuJGNvbnRyb2wuY2hpbGRyZW4oJy5hY3RpdmU6bGFzdCcpO1xyXG5cdFx0XHRcdGJlZ2luID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuYXBwbHkoc2VsZi4kY29udHJvbFswXS5jaGlsZE5vZGVzLCBbJGxhc3RbMF1dKTtcclxuXHRcdFx0XHRlbmQgICA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmFwcGx5KHNlbGYuJGNvbnRyb2xbMF0uY2hpbGROb2RlcywgWyRpdGVtWzBdXSk7XHJcblx0XHRcdFx0aWYgKGJlZ2luID4gZW5kKSB7XHJcblx0XHRcdFx0XHRzd2FwICA9IGJlZ2luO1xyXG5cdFx0XHRcdFx0YmVnaW4gPSBlbmQ7XHJcblx0XHRcdFx0XHRlbmQgICA9IHN3YXA7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZvciAoaSA9IGJlZ2luOyBpIDw9IGVuZDsgaSsrKSB7XHJcblx0XHRcdFx0XHRpdGVtID0gc2VsZi4kY29udHJvbFswXS5jaGlsZE5vZGVzW2ldO1xyXG5cdFx0XHRcdFx0aWYgKHNlbGYuJGFjdGl2ZUl0ZW1zLmluZGV4T2YoaXRlbSkgPT09IC0xKSB7XHJcblx0XHRcdFx0XHRcdCQoaXRlbSkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdFx0XHRzZWxmLiRhY3RpdmVJdGVtcy5wdXNoKGl0ZW0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdH0gZWxzZSBpZiAoKGV2ZW50TmFtZSA9PT0gJ21vdXNlZG93bicgJiYgc2VsZi5pc0N0cmxEb3duKSB8fCAoZXZlbnROYW1lID09PSAna2V5ZG93bicgJiYgdGhpcy5pc1NoaWZ0RG93bikpIHtcclxuXHRcdFx0XHRpZiAoJGl0ZW0uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcblx0XHRcdFx0XHRpZHggPSBzZWxmLiRhY3RpdmVJdGVtcy5pbmRleE9mKCRpdGVtWzBdKTtcclxuXHRcdFx0XHRcdHNlbGYuJGFjdGl2ZUl0ZW1zLnNwbGljZShpZHgsIDEpO1xyXG5cdFx0XHRcdFx0JGl0ZW0ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRzZWxmLiRhY3RpdmVJdGVtcy5wdXNoKCRpdGVtLmFkZENsYXNzKCdhY3RpdmUnKVswXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCQoc2VsZi4kYWN0aXZlSXRlbXMpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0XHRzZWxmLiRhY3RpdmVJdGVtcyA9IFskaXRlbS5hZGRDbGFzcygnYWN0aXZlJylbMF1dO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBlbnN1cmUgY29udHJvbCBoYXMgZm9jdXNcclxuXHRcdFx0c2VsZi5oaWRlSW5wdXQoKTtcclxuXHRcdFx0aWYgKCF0aGlzLmlzRm9jdXNlZCkge1xyXG5cdFx0XHRcdHNlbGYuZm9jdXMoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNldHMgdGhlIHNlbGVjdGVkIGl0ZW0gaW4gdGhlIGRyb3Bkb3duIG1lbnVcclxuXHRcdCAqIG9mIGF2YWlsYWJsZSBvcHRpb25zLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSAkb2JqZWN0XHJcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IHNjcm9sbFxyXG5cdFx0ICogQHBhcmFtIHtib29sZWFufSBhbmltYXRlXHJcblx0XHQgKi9cclxuXHRcdHNldEFjdGl2ZU9wdGlvbjogZnVuY3Rpb24oJG9wdGlvbiwgc2Nyb2xsLCBhbmltYXRlKSB7XHJcblx0XHRcdHZhciBoZWlnaHRfbWVudSwgaGVpZ2h0X2l0ZW0sIHk7XHJcblx0XHRcdHZhciBzY3JvbGxfdG9wLCBzY3JvbGxfYm90dG9tO1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHRpZiAoc2VsZi4kYWN0aXZlT3B0aW9uKSBzZWxmLiRhY3RpdmVPcHRpb24ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRzZWxmLiRhY3RpdmVPcHRpb24gPSBudWxsO1xyXG5cclxuXHRcdFx0JG9wdGlvbiA9ICQoJG9wdGlvbik7XHJcblx0XHRcdGlmICghJG9wdGlvbi5sZW5ndGgpIHJldHVybjtcclxuXHJcblx0XHRcdHNlbGYuJGFjdGl2ZU9wdGlvbiA9ICRvcHRpb24uYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cclxuXHRcdFx0aWYgKHNjcm9sbCB8fCAhaXNzZXQoc2Nyb2xsKSkge1xyXG5cclxuXHRcdFx0XHRoZWlnaHRfbWVudSAgID0gc2VsZi4kZHJvcGRvd25fY29udGVudC5oZWlnaHQoKTtcclxuXHRcdFx0XHRoZWlnaHRfaXRlbSAgID0gc2VsZi4kYWN0aXZlT3B0aW9uLm91dGVySGVpZ2h0KHRydWUpO1xyXG5cdFx0XHRcdHNjcm9sbCAgICAgICAgPSBzZWxmLiRkcm9wZG93bl9jb250ZW50LnNjcm9sbFRvcCgpIHx8IDA7XHJcblx0XHRcdFx0eSAgICAgICAgICAgICA9IHNlbGYuJGFjdGl2ZU9wdGlvbi5vZmZzZXQoKS50b3AgLSBzZWxmLiRkcm9wZG93bl9jb250ZW50Lm9mZnNldCgpLnRvcCArIHNjcm9sbDtcclxuXHRcdFx0XHRzY3JvbGxfdG9wICAgID0geTtcclxuXHRcdFx0XHRzY3JvbGxfYm90dG9tID0geSAtIGhlaWdodF9tZW51ICsgaGVpZ2h0X2l0ZW07XHJcblxyXG5cdFx0XHRcdGlmICh5ICsgaGVpZ2h0X2l0ZW0gPiBoZWlnaHRfbWVudSArIHNjcm9sbCkge1xyXG5cdFx0XHRcdFx0c2VsZi4kZHJvcGRvd25fY29udGVudC5zdG9wKCkuYW5pbWF0ZSh7c2Nyb2xsVG9wOiBzY3JvbGxfYm90dG9tfSwgYW5pbWF0ZSA/IHNlbGYuc2V0dGluZ3Muc2Nyb2xsRHVyYXRpb24gOiAwKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKHkgPCBzY3JvbGwpIHtcclxuXHRcdFx0XHRcdHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQuc3RvcCgpLmFuaW1hdGUoe3Njcm9sbFRvcDogc2Nyb2xsX3RvcH0sIGFuaW1hdGUgPyBzZWxmLnNldHRpbmdzLnNjcm9sbER1cmF0aW9uIDogMCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNlbGVjdHMgYWxsIGl0ZW1zIChDVFJMICsgQSkuXHJcblx0XHQgKi9cclxuXHRcdHNlbGVjdEFsbDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ3NpbmdsZScpIHJldHVybjtcclxuXHJcblx0XHRcdHNlbGYuJGFjdGl2ZUl0ZW1zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KHNlbGYuJGNvbnRyb2wuY2hpbGRyZW4oJzpub3QoaW5wdXQpJykuYWRkQ2xhc3MoJ2FjdGl2ZScpKTtcclxuXHRcdFx0aWYgKHNlbGYuJGFjdGl2ZUl0ZW1zLmxlbmd0aCkge1xyXG5cdFx0XHRcdHNlbGYuaGlkZUlucHV0KCk7XHJcblx0XHRcdFx0c2VsZi5jbG9zZSgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHNlbGYuZm9jdXMoKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBIaWRlcyB0aGUgaW5wdXQgZWxlbWVudCBvdXQgb2Ygdmlldywgd2hpbGVcclxuXHRcdCAqIHJldGFpbmluZyBpdHMgZm9jdXMuXHJcblx0XHQgKi9cclxuXHRcdGhpZGVJbnB1dDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdHNlbGYuc2V0VGV4dGJveFZhbHVlKCcnKTtcclxuXHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dC5jc3Moe29wYWNpdHk6IDAsIHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBsZWZ0OiBzZWxmLnJ0bCA/IDEwMDAwIDogLTEwMDAwfSk7XHJcblx0XHRcdHNlbGYuaXNJbnB1dEhpZGRlbiA9IHRydWU7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVzdG9yZXMgaW5wdXQgdmlzaWJpbGl0eS5cclxuXHRcdCAqL1xyXG5cdFx0c2hvd0lucHV0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy4kY29udHJvbF9pbnB1dC5jc3Moe29wYWNpdHk6IDEsIHBvc2l0aW9uOiAncmVsYXRpdmUnLCBsZWZ0OiAwfSk7XHJcblx0XHRcdHRoaXMuaXNJbnB1dEhpZGRlbiA9IGZhbHNlO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEdpdmVzIHRoZSBjb250cm9sIGZvY3VzLlxyXG5cdFx0ICovXHJcblx0XHRmb2N1czogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0aWYgKHNlbGYuaXNEaXNhYmxlZCkgcmV0dXJuO1xyXG5cclxuXHRcdFx0c2VsZi5pZ25vcmVGb2N1cyA9IHRydWU7XHJcblx0XHRcdHNlbGYuJGNvbnRyb2xfaW5wdXRbMF0uZm9jdXMoKTtcclxuXHRcdFx0d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0c2VsZi5pZ25vcmVGb2N1cyA9IGZhbHNlO1xyXG5cdFx0XHRcdHNlbGYub25Gb2N1cygpO1xyXG5cdFx0XHR9LCAwKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBGb3JjZXMgdGhlIGNvbnRyb2wgb3V0IG9mIGZvY3VzLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7RWxlbWVudH0gZGVzdFxyXG5cdFx0ICovXHJcblx0XHRibHVyOiBmdW5jdGlvbihkZXN0KSB7XHJcblx0XHRcdHRoaXMuJGNvbnRyb2xfaW5wdXRbMF0uYmx1cigpO1xyXG5cdFx0XHR0aGlzLm9uQmx1cihudWxsLCBkZXN0KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBzY29yZXMgYW4gb2JqZWN0XHJcblx0XHQgKiB0byBzaG93IGhvdyBnb29kIG9mIGEgbWF0Y2ggaXQgaXMgdG8gdGhlXHJcblx0XHQgKiBwcm92aWRlZCBxdWVyeS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXHJcblx0XHQgKiBAcmV0dXJuIHtmdW5jdGlvbn1cclxuXHRcdCAqL1xyXG5cdFx0Z2V0U2NvcmVGdW5jdGlvbjogZnVuY3Rpb24ocXVlcnkpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuc2lmdGVyLmdldFNjb3JlRnVuY3Rpb24ocXVlcnksIHRoaXMuZ2V0U2VhcmNoT3B0aW9ucygpKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIHNlYXJjaCBvcHRpb25zIGZvciBzaWZ0ZXIgKHRoZSBzeXN0ZW1cclxuXHRcdCAqIGZvciBzY29yaW5nIGFuZCBzb3J0aW5nIHJlc3VsdHMpLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2JyaWFucmVhdmlzL3NpZnRlci5qc1xyXG5cdFx0ICogQHJldHVybiB7b2JqZWN0fVxyXG5cdFx0ICovXHJcblx0XHRnZXRTZWFyY2hPcHRpb25zOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNldHRpbmdzID0gdGhpcy5zZXR0aW5ncztcclxuXHRcdFx0dmFyIHNvcnQgPSBzZXR0aW5ncy5zb3J0RmllbGQ7XHJcblx0XHRcdGlmICh0eXBlb2Ygc29ydCA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRzb3J0ID0gW3tmaWVsZDogc29ydH1dO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdGZpZWxkcyAgICAgIDogc2V0dGluZ3Muc2VhcmNoRmllbGQsXHJcblx0XHRcdFx0Y29uanVuY3Rpb24gOiBzZXR0aW5ncy5zZWFyY2hDb25qdW5jdGlvbixcclxuXHRcdFx0XHRzb3J0ICAgICAgICA6IHNvcnRcclxuXHRcdFx0fTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZWFyY2hlcyB0aHJvdWdoIGF2YWlsYWJsZSBvcHRpb25zIGFuZCByZXR1cm5zXHJcblx0XHQgKiBhIHNvcnRlZCBhcnJheSBvZiBtYXRjaGVzLlxyXG5cdFx0ICpcclxuXHRcdCAqIFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmc6XHJcblx0XHQgKlxyXG5cdFx0ICogICAtIHF1ZXJ5IHtzdHJpbmd9XHJcblx0XHQgKiAgIC0gdG9rZW5zIHthcnJheX1cclxuXHRcdCAqICAgLSB0b3RhbCB7aW50fVxyXG5cdFx0ICogICAtIGl0ZW1zIHthcnJheX1cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlcclxuXHRcdCAqIEByZXR1cm5zIHtvYmplY3R9XHJcblx0XHQgKi9cclxuXHRcdHNlYXJjaDogZnVuY3Rpb24ocXVlcnkpIHtcclxuXHRcdFx0dmFyIGksIHZhbHVlLCBzY29yZSwgcmVzdWx0LCBjYWxjdWxhdGVTY29yZTtcclxuXHRcdFx0dmFyIHNlbGYgICAgID0gdGhpcztcclxuXHRcdFx0dmFyIHNldHRpbmdzID0gc2VsZi5zZXR0aW5ncztcclxuXHRcdFx0dmFyIG9wdGlvbnMgID0gdGhpcy5nZXRTZWFyY2hPcHRpb25zKCk7XHJcblxyXG5cdFx0XHQvLyB2YWxpZGF0ZSB1c2VyLXByb3ZpZGVkIHJlc3VsdCBzY29yaW5nIGZ1bmN0aW9uXHJcblx0XHRcdGlmIChzZXR0aW5ncy5zY29yZSkge1xyXG5cdFx0XHRcdGNhbGN1bGF0ZVNjb3JlID0gc2VsZi5zZXR0aW5ncy5zY29yZS5hcHBseSh0aGlzLCBbcXVlcnldKTtcclxuXHRcdFx0XHRpZiAodHlwZW9mIGNhbGN1bGF0ZVNjb3JlICE9PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1NlbGVjdGl6ZSBcInNjb3JlXCIgc2V0dGluZyBtdXN0IGJlIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgZnVuY3Rpb24nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHBlcmZvcm0gc2VhcmNoXHJcblx0XHRcdGlmIChxdWVyeSAhPT0gc2VsZi5sYXN0UXVlcnkpIHtcclxuXHRcdFx0XHRzZWxmLmxhc3RRdWVyeSA9IHF1ZXJ5O1xyXG5cdFx0XHRcdHJlc3VsdCA9IHNlbGYuc2lmdGVyLnNlYXJjaChxdWVyeSwgJC5leHRlbmQob3B0aW9ucywge3Njb3JlOiBjYWxjdWxhdGVTY29yZX0pKTtcclxuXHRcdFx0XHRzZWxmLmN1cnJlbnRSZXN1bHRzID0gcmVzdWx0O1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc3VsdCA9ICQuZXh0ZW5kKHRydWUsIHt9LCBzZWxmLmN1cnJlbnRSZXN1bHRzKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZmlsdGVyIG91dCBzZWxlY3RlZCBpdGVtc1xyXG5cdFx0XHRpZiAoc2V0dGluZ3MuaGlkZVNlbGVjdGVkKSB7XHJcblx0XHRcdFx0Zm9yIChpID0gcmVzdWx0Lml0ZW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdFx0XHRpZiAoc2VsZi5pdGVtcy5pbmRleE9mKGhhc2hfa2V5KHJlc3VsdC5pdGVtc1tpXS5pZCkpICE9PSAtMSkge1xyXG5cdFx0XHRcdFx0XHRyZXN1bHQuaXRlbXMuc3BsaWNlKGksIDEpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZWZyZXNoZXMgdGhlIGxpc3Qgb2YgYXZhaWxhYmxlIG9wdGlvbnMgc2hvd25cclxuXHRcdCAqIGluIHRoZSBhdXRvY29tcGxldGUgZHJvcGRvd24gbWVudS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IHRyaWdnZXJEcm9wZG93blxyXG5cdFx0ICovXHJcblx0XHRyZWZyZXNoT3B0aW9uczogZnVuY3Rpb24odHJpZ2dlckRyb3Bkb3duKSB7XHJcblx0XHRcdHZhciBpLCBqLCBrLCBuLCBncm91cHMsIGdyb3Vwc19vcmRlciwgb3B0aW9uLCBvcHRpb25faHRtbCwgb3B0Z3JvdXAsIG9wdGdyb3VwcywgaHRtbCwgaHRtbF9jaGlsZHJlbiwgaGFzX2NyZWF0ZV9vcHRpb247XHJcblx0XHRcdHZhciAkYWN0aXZlLCAkYWN0aXZlX2JlZm9yZSwgJGNyZWF0ZTtcclxuXHJcblx0XHRcdGlmICh0eXBlb2YgdHJpZ2dlckRyb3Bkb3duID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdHRyaWdnZXJEcm9wZG93biA9IHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBzZWxmICAgICAgICAgICAgICA9IHRoaXM7XHJcblx0XHRcdHZhciBxdWVyeSAgICAgICAgICAgICA9ICQudHJpbShzZWxmLiRjb250cm9sX2lucHV0LnZhbCgpKTtcclxuXHRcdFx0dmFyIHJlc3VsdHMgICAgICAgICAgID0gc2VsZi5zZWFyY2gocXVlcnkpO1xyXG5cdFx0XHR2YXIgJGRyb3Bkb3duX2NvbnRlbnQgPSBzZWxmLiRkcm9wZG93bl9jb250ZW50O1xyXG5cdFx0XHR2YXIgYWN0aXZlX2JlZm9yZSAgICAgPSBzZWxmLiRhY3RpdmVPcHRpb24gJiYgaGFzaF9rZXkoc2VsZi4kYWN0aXZlT3B0aW9uLmF0dHIoJ2RhdGEtdmFsdWUnKSk7XHJcblxyXG5cdFx0XHQvLyBidWlsZCBtYXJrdXBcclxuXHRcdFx0biA9IHJlc3VsdHMuaXRlbXMubGVuZ3RoO1xyXG5cdFx0XHRpZiAodHlwZW9mIHNlbGYuc2V0dGluZ3MubWF4T3B0aW9ucyA9PT0gJ251bWJlcicpIHtcclxuXHRcdFx0XHRuID0gTWF0aC5taW4obiwgc2VsZi5zZXR0aW5ncy5tYXhPcHRpb25zKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gcmVuZGVyIGFuZCBncm91cCBhdmFpbGFibGUgb3B0aW9ucyBpbmRpdmlkdWFsbHlcclxuXHRcdFx0Z3JvdXBzID0ge307XHJcblx0XHRcdGdyb3Vwc19vcmRlciA9IFtdO1xyXG5cclxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdG9wdGlvbiAgICAgID0gc2VsZi5vcHRpb25zW3Jlc3VsdHMuaXRlbXNbaV0uaWRdO1xyXG5cdFx0XHRcdG9wdGlvbl9odG1sID0gc2VsZi5yZW5kZXIoJ29wdGlvbicsIG9wdGlvbik7XHJcblx0XHRcdFx0b3B0Z3JvdXAgICAgPSBvcHRpb25bc2VsZi5zZXR0aW5ncy5vcHRncm91cEZpZWxkXSB8fCAnJztcclxuXHRcdFx0XHRvcHRncm91cHMgICA9ICQuaXNBcnJheShvcHRncm91cCkgPyBvcHRncm91cCA6IFtvcHRncm91cF07XHJcblxyXG5cdFx0XHRcdGZvciAoaiA9IDAsIGsgPSBvcHRncm91cHMgJiYgb3B0Z3JvdXBzLmxlbmd0aDsgaiA8IGs7IGorKykge1xyXG5cdFx0XHRcdFx0b3B0Z3JvdXAgPSBvcHRncm91cHNbal07XHJcblx0XHRcdFx0XHRpZiAoIXNlbGYub3B0Z3JvdXBzLmhhc093blByb3BlcnR5KG9wdGdyb3VwKSkge1xyXG5cdFx0XHRcdFx0XHRvcHRncm91cCA9ICcnO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKCFncm91cHMuaGFzT3duUHJvcGVydHkob3B0Z3JvdXApKSB7XHJcblx0XHRcdFx0XHRcdGdyb3Vwc1tvcHRncm91cF0gPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcblx0XHRcdFx0XHRcdGdyb3Vwc19vcmRlci5wdXNoKG9wdGdyb3VwKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGdyb3Vwc1tvcHRncm91cF0uYXBwZW5kQ2hpbGQob3B0aW9uX2h0bWwpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gc29ydCBvcHRncm91cHNcclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MubG9ja09wdGdyb3VwT3JkZXIpIHtcclxuXHRcdFx0XHRncm91cHNfb3JkZXIuc29ydChmdW5jdGlvbihhLCBiKSB7XHJcblx0XHRcdFx0XHR2YXIgYV9vcmRlciA9IHNlbGYub3B0Z3JvdXBzW2FdLiRvcmRlciB8fCAwO1xyXG5cdFx0XHRcdFx0dmFyIGJfb3JkZXIgPSBzZWxmLm9wdGdyb3Vwc1tiXS4kb3JkZXIgfHwgMDtcclxuXHRcdFx0XHRcdHJldHVybiBhX29yZGVyIC0gYl9vcmRlcjtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gcmVuZGVyIG9wdGdyb3VwIGhlYWRlcnMgJiBqb2luIGdyb3Vwc1xyXG5cdFx0XHRodG1sID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG5cdFx0XHRmb3IgKGkgPSAwLCBuID0gZ3JvdXBzX29yZGVyLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdG9wdGdyb3VwID0gZ3JvdXBzX29yZGVyW2ldO1xyXG5cdFx0XHRcdGlmIChzZWxmLm9wdGdyb3Vwcy5oYXNPd25Qcm9wZXJ0eShvcHRncm91cCkgJiYgZ3JvdXBzW29wdGdyb3VwXS5jaGlsZE5vZGVzLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0Ly8gcmVuZGVyIHRoZSBvcHRncm91cCBoZWFkZXIgYW5kIG9wdGlvbnMgd2l0aGluIGl0LFxyXG5cdFx0XHRcdFx0Ly8gdGhlbiBwYXNzIGl0IHRvIHRoZSB3cmFwcGVyIHRlbXBsYXRlXHJcblx0XHRcdFx0XHRodG1sX2NoaWxkcmVuID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG5cdFx0XHRcdFx0aHRtbF9jaGlsZHJlbi5hcHBlbmRDaGlsZChzZWxmLnJlbmRlcignb3B0Z3JvdXBfaGVhZGVyJywgc2VsZi5vcHRncm91cHNbb3B0Z3JvdXBdKSk7XHJcblx0XHRcdFx0XHRodG1sX2NoaWxkcmVuLmFwcGVuZENoaWxkKGdyb3Vwc1tvcHRncm91cF0pO1xyXG5cclxuXHRcdFx0XHRcdGh0bWwuYXBwZW5kQ2hpbGQoc2VsZi5yZW5kZXIoJ29wdGdyb3VwJywgJC5leHRlbmQoe30sIHNlbGYub3B0Z3JvdXBzW29wdGdyb3VwXSwge1xyXG5cdFx0XHRcdFx0XHRodG1sOiBkb21Ub1N0cmluZyhodG1sX2NoaWxkcmVuKSxcclxuXHRcdFx0XHRcdFx0ZG9tOiAgaHRtbF9jaGlsZHJlblxyXG5cdFx0XHRcdFx0fSkpKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aHRtbC5hcHBlbmRDaGlsZChncm91cHNbb3B0Z3JvdXBdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdCRkcm9wZG93bl9jb250ZW50Lmh0bWwoaHRtbCk7XHJcblxyXG5cdFx0XHQvLyBoaWdobGlnaHQgbWF0Y2hpbmcgdGVybXMgaW5saW5lXHJcblx0XHRcdGlmIChzZWxmLnNldHRpbmdzLmhpZ2hsaWdodCAmJiByZXN1bHRzLnF1ZXJ5Lmxlbmd0aCAmJiByZXN1bHRzLnRva2Vucy5sZW5ndGgpIHtcclxuXHRcdFx0XHQkZHJvcGRvd25fY29udGVudC5yZW1vdmVIaWdobGlnaHQoKTtcclxuXHRcdFx0XHRmb3IgKGkgPSAwLCBuID0gcmVzdWx0cy50b2tlbnMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0XHRoaWdobGlnaHQoJGRyb3Bkb3duX2NvbnRlbnQsIHJlc3VsdHMudG9rZW5zW2ldLnJlZ2V4KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGFkZCBcInNlbGVjdGVkXCIgY2xhc3MgdG8gc2VsZWN0ZWQgb3B0aW9uc1xyXG5cdFx0XHRpZiAoIXNlbGYuc2V0dGluZ3MuaGlkZVNlbGVjdGVkKSB7XHJcblx0XHRcdFx0Zm9yIChpID0gMCwgbiA9IHNlbGYuaXRlbXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0XHRzZWxmLmdldE9wdGlvbihzZWxmLml0ZW1zW2ldKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGFkZCBjcmVhdGUgb3B0aW9uXHJcblx0XHRcdGhhc19jcmVhdGVfb3B0aW9uID0gc2VsZi5jYW5DcmVhdGUocXVlcnkpO1xyXG5cdFx0XHRpZiAoaGFzX2NyZWF0ZV9vcHRpb24pIHtcclxuXHRcdFx0XHQkZHJvcGRvd25fY29udGVudC5wcmVwZW5kKHNlbGYucmVuZGVyKCdvcHRpb25fY3JlYXRlJywge2lucHV0OiBxdWVyeX0pKTtcclxuXHRcdFx0XHQkY3JlYXRlID0gJCgkZHJvcGRvd25fY29udGVudFswXS5jaGlsZE5vZGVzWzBdKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gYWN0aXZhdGVcclxuXHRcdFx0c2VsZi5oYXNPcHRpb25zID0gcmVzdWx0cy5pdGVtcy5sZW5ndGggPiAwIHx8IGhhc19jcmVhdGVfb3B0aW9uO1xyXG5cdFx0XHRpZiAoc2VsZi5oYXNPcHRpb25zKSB7XHJcblx0XHRcdFx0aWYgKHJlc3VsdHMuaXRlbXMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0JGFjdGl2ZV9iZWZvcmUgPSBhY3RpdmVfYmVmb3JlICYmIHNlbGYuZ2V0T3B0aW9uKGFjdGl2ZV9iZWZvcmUpO1xyXG5cdFx0XHRcdFx0aWYgKCRhY3RpdmVfYmVmb3JlICYmICRhY3RpdmVfYmVmb3JlLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHQkYWN0aXZlID0gJGFjdGl2ZV9iZWZvcmU7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ3NpbmdsZScgJiYgc2VsZi5pdGVtcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0JGFjdGl2ZSA9IHNlbGYuZ2V0T3B0aW9uKHNlbGYuaXRlbXNbMF0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKCEkYWN0aXZlIHx8ICEkYWN0aXZlLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRpZiAoJGNyZWF0ZSAmJiAhc2VsZi5zZXR0aW5ncy5hZGRQcmVjZWRlbmNlKSB7XHJcblx0XHRcdFx0XHRcdFx0JGFjdGl2ZSA9IHNlbGYuZ2V0QWRqYWNlbnRPcHRpb24oJGNyZWF0ZSwgMSk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0JGFjdGl2ZSA9ICRkcm9wZG93bl9jb250ZW50LmZpbmQoJ1tkYXRhLXNlbGVjdGFibGVdOmZpcnN0Jyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0JGFjdGl2ZSA9ICRjcmVhdGU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHNlbGYuc2V0QWN0aXZlT3B0aW9uKCRhY3RpdmUpO1xyXG5cdFx0XHRcdGlmICh0cmlnZ2VyRHJvcGRvd24gJiYgIXNlbGYuaXNPcGVuKSB7IHNlbGYub3BlbigpOyB9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c2VsZi5zZXRBY3RpdmVPcHRpb24obnVsbCk7XHJcblx0XHRcdFx0aWYgKHRyaWdnZXJEcm9wZG93biAmJiBzZWxmLmlzT3BlbikgeyBzZWxmLmNsb3NlKCk7IH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFkZHMgYW4gYXZhaWxhYmxlIG9wdGlvbi4gSWYgaXQgYWxyZWFkeSBleGlzdHMsXHJcblx0XHQgKiBub3RoaW5nIHdpbGwgaGFwcGVuLiBOb3RlOiB0aGlzIGRvZXMgbm90IHJlZnJlc2hcclxuXHRcdCAqIHRoZSBvcHRpb25zIGxpc3QgZHJvcGRvd24gKHVzZSBgcmVmcmVzaE9wdGlvbnNgXHJcblx0XHQgKiBmb3IgdGhhdCkuXHJcblx0XHQgKlxyXG5cdFx0ICogVXNhZ2U6XHJcblx0XHQgKlxyXG5cdFx0ICogICB0aGlzLmFkZE9wdGlvbihkYXRhKVxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fGFycmF5fSBkYXRhXHJcblx0XHQgKi9cclxuXHRcdGFkZE9wdGlvbjogZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0XHR2YXIgaSwgbiwgdmFsdWUsIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0aWYgKCQuaXNBcnJheShkYXRhKSkge1xyXG5cdFx0XHRcdGZvciAoaSA9IDAsIG4gPSBkYXRhLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdFx0c2VsZi5hZGRPcHRpb24oZGF0YVtpXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHZhbHVlID0gc2VsZi5yZWdpc3Rlck9wdGlvbihkYXRhKSkge1xyXG5cdFx0XHRcdHNlbGYudXNlck9wdGlvbnNbdmFsdWVdID0gdHJ1ZTtcclxuXHRcdFx0XHRzZWxmLmxhc3RRdWVyeSA9IG51bGw7XHJcblx0XHRcdFx0c2VsZi50cmlnZ2VyKCdvcHRpb25fYWRkJywgdmFsdWUsIGRhdGEpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVnaXN0ZXJzIGFuIG9wdGlvbiB0byB0aGUgcG9vbCBvZiBvcHRpb25zLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhXHJcblx0XHQgKiBAcmV0dXJuIHtib29sZWFufHN0cmluZ31cclxuXHRcdCAqL1xyXG5cdFx0cmVnaXN0ZXJPcHRpb246IGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0dmFyIGtleSA9IGhhc2hfa2V5KGRhdGFbdGhpcy5zZXR0aW5ncy52YWx1ZUZpZWxkXSk7XHJcblx0XHRcdGlmICh0eXBlb2Yga2V5ID09PSAndW5kZWZpbmVkJyB8fCBrZXkgPT09IG51bGwgfHwgdGhpcy5vcHRpb25zLmhhc093blByb3BlcnR5KGtleSkpIHJldHVybiBmYWxzZTtcclxuXHRcdFx0ZGF0YS4kb3JkZXIgPSBkYXRhLiRvcmRlciB8fCArK3RoaXMub3JkZXI7XHJcblx0XHRcdHRoaXMub3B0aW9uc1trZXldID0gZGF0YTtcclxuXHRcdFx0cmV0dXJuIGtleTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZWdpc3RlcnMgYW4gb3B0aW9uIGdyb3VwIHRvIHRoZSBwb29sIG9mIG9wdGlvbiBncm91cHMuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGRhdGFcclxuXHRcdCAqIEByZXR1cm4ge2Jvb2xlYW58c3RyaW5nfVxyXG5cdFx0ICovXHJcblx0XHRyZWdpc3Rlck9wdGlvbkdyb3VwOiBmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdHZhciBrZXkgPSBoYXNoX2tleShkYXRhW3RoaXMuc2V0dGluZ3Mub3B0Z3JvdXBWYWx1ZUZpZWxkXSk7XHJcblx0XHRcdGlmICgha2V5KSByZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0XHRkYXRhLiRvcmRlciA9IGRhdGEuJG9yZGVyIHx8ICsrdGhpcy5vcmRlcjtcclxuXHRcdFx0dGhpcy5vcHRncm91cHNba2V5XSA9IGRhdGE7XHJcblx0XHRcdHJldHVybiBrZXk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVnaXN0ZXJzIGEgbmV3IG9wdGdyb3VwIGZvciBvcHRpb25zXHJcblx0XHQgKiB0byBiZSBidWNrZXRlZCBpbnRvLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBpZFxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGRhdGFcclxuXHRcdCAqL1xyXG5cdFx0YWRkT3B0aW9uR3JvdXA6IGZ1bmN0aW9uKGlkLCBkYXRhKSB7XHJcblx0XHRcdGRhdGFbdGhpcy5zZXR0aW5ncy5vcHRncm91cFZhbHVlRmllbGRdID0gaWQ7XHJcblx0XHRcdGlmIChpZCA9IHRoaXMucmVnaXN0ZXJPcHRpb25Hcm91cChkYXRhKSkge1xyXG5cdFx0XHRcdHRoaXMudHJpZ2dlcignb3B0Z3JvdXBfYWRkJywgaWQsIGRhdGEpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVtb3ZlcyBhbiBleGlzdGluZyBvcHRpb24gZ3JvdXAuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGlkXHJcblx0XHQgKi9cclxuXHRcdHJlbW92ZU9wdGlvbkdyb3VwOiBmdW5jdGlvbihpZCkge1xyXG5cdFx0XHRpZiAodGhpcy5vcHRncm91cHMuaGFzT3duUHJvcGVydHkoaWQpKSB7XHJcblx0XHRcdFx0ZGVsZXRlIHRoaXMub3B0Z3JvdXBzW2lkXTtcclxuXHRcdFx0XHR0aGlzLnJlbmRlckNhY2hlID0ge307XHJcblx0XHRcdFx0dGhpcy50cmlnZ2VyKCdvcHRncm91cF9yZW1vdmUnLCBpZCk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDbGVhcnMgYWxsIGV4aXN0aW5nIG9wdGlvbiBncm91cHMuXHJcblx0XHQgKi9cclxuXHRcdGNsZWFyT3B0aW9uR3JvdXBzOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5vcHRncm91cHMgPSB7fTtcclxuXHRcdFx0dGhpcy5yZW5kZXJDYWNoZSA9IHt9O1xyXG5cdFx0XHR0aGlzLnRyaWdnZXIoJ29wdGdyb3VwX2NsZWFyJyk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlcyBhbiBvcHRpb24gYXZhaWxhYmxlIGZvciBzZWxlY3Rpb24uIElmXHJcblx0XHQgKiBpdCBpcyB2aXNpYmxlIGluIHRoZSBzZWxlY3RlZCBpdGVtcyBvciBvcHRpb25zXHJcblx0XHQgKiBkcm9wZG93biwgaXQgd2lsbCBiZSByZS1yZW5kZXJlZCBhdXRvbWF0aWNhbGx5LlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGRhdGFcclxuXHRcdCAqL1xyXG5cdFx0dXBkYXRlT3B0aW9uOiBmdW5jdGlvbih2YWx1ZSwgZGF0YSkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdHZhciAkaXRlbSwgJGl0ZW1fbmV3O1xyXG5cdFx0XHR2YXIgdmFsdWVfbmV3LCBpbmRleF9pdGVtLCBjYWNoZV9pdGVtcywgY2FjaGVfb3B0aW9ucywgb3JkZXJfb2xkO1xyXG5cclxuXHRcdFx0dmFsdWUgICAgID0gaGFzaF9rZXkodmFsdWUpO1xyXG5cdFx0XHR2YWx1ZV9uZXcgPSBoYXNoX2tleShkYXRhW3NlbGYuc2V0dGluZ3MudmFsdWVGaWVsZF0pO1xyXG5cclxuXHRcdFx0Ly8gc2FuaXR5IGNoZWNrc1xyXG5cdFx0XHRpZiAodmFsdWUgPT09IG51bGwpIHJldHVybjtcclxuXHRcdFx0aWYgKCFzZWxmLm9wdGlvbnMuaGFzT3duUHJvcGVydHkodmFsdWUpKSByZXR1cm47XHJcblx0XHRcdGlmICh0eXBlb2YgdmFsdWVfbmV3ICE9PSAnc3RyaW5nJykgdGhyb3cgbmV3IEVycm9yKCdWYWx1ZSBtdXN0IGJlIHNldCBpbiBvcHRpb24gZGF0YScpO1xyXG5cclxuXHRcdFx0b3JkZXJfb2xkID0gc2VsZi5vcHRpb25zW3ZhbHVlXS4kb3JkZXI7XHJcblxyXG5cdFx0XHQvLyB1cGRhdGUgcmVmZXJlbmNlc1xyXG5cdFx0XHRpZiAodmFsdWVfbmV3ICE9PSB2YWx1ZSkge1xyXG5cdFx0XHRcdGRlbGV0ZSBzZWxmLm9wdGlvbnNbdmFsdWVdO1xyXG5cdFx0XHRcdGluZGV4X2l0ZW0gPSBzZWxmLml0ZW1zLmluZGV4T2YodmFsdWUpO1xyXG5cdFx0XHRcdGlmIChpbmRleF9pdGVtICE9PSAtMSkge1xyXG5cdFx0XHRcdFx0c2VsZi5pdGVtcy5zcGxpY2UoaW5kZXhfaXRlbSwgMSwgdmFsdWVfbmV3KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0ZGF0YS4kb3JkZXIgPSBkYXRhLiRvcmRlciB8fCBvcmRlcl9vbGQ7XHJcblx0XHRcdHNlbGYub3B0aW9uc1t2YWx1ZV9uZXddID0gZGF0YTtcclxuXHJcblx0XHRcdC8vIGludmFsaWRhdGUgcmVuZGVyIGNhY2hlXHJcblx0XHRcdGNhY2hlX2l0ZW1zID0gc2VsZi5yZW5kZXJDYWNoZVsnaXRlbSddO1xyXG5cdFx0XHRjYWNoZV9vcHRpb25zID0gc2VsZi5yZW5kZXJDYWNoZVsnb3B0aW9uJ107XHJcblxyXG5cdFx0XHRpZiAoY2FjaGVfaXRlbXMpIHtcclxuXHRcdFx0XHRkZWxldGUgY2FjaGVfaXRlbXNbdmFsdWVdO1xyXG5cdFx0XHRcdGRlbGV0ZSBjYWNoZV9pdGVtc1t2YWx1ZV9uZXddO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChjYWNoZV9vcHRpb25zKSB7XHJcblx0XHRcdFx0ZGVsZXRlIGNhY2hlX29wdGlvbnNbdmFsdWVdO1xyXG5cdFx0XHRcdGRlbGV0ZSBjYWNoZV9vcHRpb25zW3ZhbHVlX25ld107XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHVwZGF0ZSB0aGUgaXRlbSBpZiBpdCdzIHNlbGVjdGVkXHJcblx0XHRcdGlmIChzZWxmLml0ZW1zLmluZGV4T2YodmFsdWVfbmV3KSAhPT0gLTEpIHtcclxuXHRcdFx0XHQkaXRlbSA9IHNlbGYuZ2V0SXRlbSh2YWx1ZSk7XHJcblx0XHRcdFx0JGl0ZW1fbmV3ID0gJChzZWxmLnJlbmRlcignaXRlbScsIGRhdGEpKTtcclxuXHRcdFx0XHRpZiAoJGl0ZW0uaGFzQ2xhc3MoJ2FjdGl2ZScpKSAkaXRlbV9uZXcuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdCRpdGVtLnJlcGxhY2VXaXRoKCRpdGVtX25ldyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGludmFsaWRhdGUgbGFzdCBxdWVyeSBiZWNhdXNlIHdlIG1pZ2h0IGhhdmUgdXBkYXRlZCB0aGUgc29ydEZpZWxkXHJcblx0XHRcdHNlbGYubGFzdFF1ZXJ5ID0gbnVsbDtcclxuXHJcblx0XHRcdC8vIHVwZGF0ZSBkcm9wZG93biBjb250ZW50c1xyXG5cdFx0XHRpZiAoc2VsZi5pc09wZW4pIHtcclxuXHRcdFx0XHRzZWxmLnJlZnJlc2hPcHRpb25zKGZhbHNlKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZXMgYSBzaW5nbGUgb3B0aW9uLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxyXG5cdFx0ICogQHBhcmFtIHtib29sZWFufSBzaWxlbnRcclxuXHRcdCAqL1xyXG5cdFx0cmVtb3ZlT3B0aW9uOiBmdW5jdGlvbih2YWx1ZSwgc2lsZW50KSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0dmFsdWUgPSBoYXNoX2tleSh2YWx1ZSk7XHJcblxyXG5cdFx0XHR2YXIgY2FjaGVfaXRlbXMgPSBzZWxmLnJlbmRlckNhY2hlWydpdGVtJ107XHJcblx0XHRcdHZhciBjYWNoZV9vcHRpb25zID0gc2VsZi5yZW5kZXJDYWNoZVsnb3B0aW9uJ107XHJcblx0XHRcdGlmIChjYWNoZV9pdGVtcykgZGVsZXRlIGNhY2hlX2l0ZW1zW3ZhbHVlXTtcclxuXHRcdFx0aWYgKGNhY2hlX29wdGlvbnMpIGRlbGV0ZSBjYWNoZV9vcHRpb25zW3ZhbHVlXTtcclxuXHJcblx0XHRcdGRlbGV0ZSBzZWxmLnVzZXJPcHRpb25zW3ZhbHVlXTtcclxuXHRcdFx0ZGVsZXRlIHNlbGYub3B0aW9uc1t2YWx1ZV07XHJcblx0XHRcdHNlbGYubGFzdFF1ZXJ5ID0gbnVsbDtcclxuXHRcdFx0c2VsZi50cmlnZ2VyKCdvcHRpb25fcmVtb3ZlJywgdmFsdWUpO1xyXG5cdFx0XHRzZWxmLnJlbW92ZUl0ZW0odmFsdWUsIHNpbGVudCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2xlYXJzIGFsbCBvcHRpb25zLlxyXG5cdFx0ICovXHJcblx0XHRjbGVhck9wdGlvbnM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHRzZWxmLmxvYWRlZFNlYXJjaGVzID0ge307XHJcblx0XHRcdHNlbGYudXNlck9wdGlvbnMgPSB7fTtcclxuXHRcdFx0c2VsZi5yZW5kZXJDYWNoZSA9IHt9O1xyXG5cdFx0XHRzZWxmLm9wdGlvbnMgPSBzZWxmLnNpZnRlci5pdGVtcyA9IHt9O1xyXG5cdFx0XHRzZWxmLmxhc3RRdWVyeSA9IG51bGw7XHJcblx0XHRcdHNlbGYudHJpZ2dlcignb3B0aW9uX2NsZWFyJyk7XHJcblx0XHRcdHNlbGYuY2xlYXIoKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIHRoZSBqUXVlcnkgZWxlbWVudCBvZiB0aGUgb3B0aW9uXHJcblx0XHQgKiBtYXRjaGluZyB0aGUgZ2l2ZW4gdmFsdWUuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXHJcblx0XHQgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG5cdFx0ICovXHJcblx0XHRnZXRPcHRpb246IGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldEVsZW1lbnRXaXRoVmFsdWUodmFsdWUsIHRoaXMuJGRyb3Bkb3duX2NvbnRlbnQuZmluZCgnW2RhdGEtc2VsZWN0YWJsZV0nKSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyB0aGUgalF1ZXJ5IGVsZW1lbnQgb2YgdGhlIG5leHQgb3JcclxuXHRcdCAqIHByZXZpb3VzIHNlbGVjdGFibGUgb3B0aW9uLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSAkb3B0aW9uXHJcblx0XHQgKiBAcGFyYW0ge2ludH0gZGlyZWN0aW9uICBjYW4gYmUgMSBmb3IgbmV4dCBvciAtMSBmb3IgcHJldmlvdXNcclxuXHRcdCAqIEByZXR1cm4ge29iamVjdH1cclxuXHRcdCAqL1xyXG5cdFx0Z2V0QWRqYWNlbnRPcHRpb246IGZ1bmN0aW9uKCRvcHRpb24sIGRpcmVjdGlvbikge1xyXG5cdFx0XHR2YXIgJG9wdGlvbnMgPSB0aGlzLiRkcm9wZG93bi5maW5kKCdbZGF0YS1zZWxlY3RhYmxlXScpO1xyXG5cdFx0XHR2YXIgaW5kZXggICAgPSAkb3B0aW9ucy5pbmRleCgkb3B0aW9uKSArIGRpcmVjdGlvbjtcclxuXHJcblx0XHRcdHJldHVybiBpbmRleCA+PSAwICYmIGluZGV4IDwgJG9wdGlvbnMubGVuZ3RoID8gJG9wdGlvbnMuZXEoaW5kZXgpIDogJCgpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEZpbmRzIHRoZSBmaXJzdCBlbGVtZW50IHdpdGggYSBcImRhdGEtdmFsdWVcIiBhdHRyaWJ1dGVcclxuXHRcdCAqIHRoYXQgbWF0Y2hlcyB0aGUgZ2l2ZW4gdmFsdWUuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHttaXhlZH0gdmFsdWVcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSAkZWxzXHJcblx0XHQgKiBAcmV0dXJuIHtvYmplY3R9XHJcblx0XHQgKi9cclxuXHRcdGdldEVsZW1lbnRXaXRoVmFsdWU6IGZ1bmN0aW9uKHZhbHVlLCAkZWxzKSB7XHJcblx0XHRcdHZhbHVlID0gaGFzaF9rZXkodmFsdWUpO1xyXG5cclxuXHRcdFx0aWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgIT09IG51bGwpIHtcclxuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbiA9ICRlbHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0XHRpZiAoJGVsc1tpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKSA9PT0gdmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICQoJGVsc1tpXSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gJCgpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgdGhlIGpRdWVyeSBlbGVtZW50IG9mIHRoZSBpdGVtXHJcblx0XHQgKiBtYXRjaGluZyB0aGUgZ2l2ZW4gdmFsdWUuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXHJcblx0XHQgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG5cdFx0ICovXHJcblx0XHRnZXRJdGVtOiBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRFbGVtZW50V2l0aFZhbHVlKHZhbHVlLCB0aGlzLiRjb250cm9sLmNoaWxkcmVuKCkpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFwiU2VsZWN0c1wiIG11bHRpcGxlIGl0ZW1zIGF0IG9uY2UuIEFkZHMgdGhlbSB0byB0aGUgbGlzdFxyXG5cdFx0ICogYXQgdGhlIGN1cnJlbnQgY2FyZXQgcG9zaXRpb24uXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXHJcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IHNpbGVudFxyXG5cdFx0ICovXHJcblx0XHRhZGRJdGVtczogZnVuY3Rpb24odmFsdWVzLCBzaWxlbnQpIHtcclxuXHRcdFx0dmFyIGl0ZW1zID0gJC5pc0FycmF5KHZhbHVlcykgPyB2YWx1ZXMgOiBbdmFsdWVzXTtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIG4gPSBpdGVtcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHR0aGlzLmlzUGVuZGluZyA9IChpIDwgbiAtIDEpO1xyXG5cdFx0XHRcdHRoaXMuYWRkSXRlbShpdGVtc1tpXSwgc2lsZW50KTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFwiU2VsZWN0c1wiIGFuIGl0ZW0uIEFkZHMgaXQgdG8gdGhlIGxpc3RcclxuXHRcdCAqIGF0IHRoZSBjdXJyZW50IGNhcmV0IHBvc2l0aW9uLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxyXG5cdFx0ICogQHBhcmFtIHtib29sZWFufSBzaWxlbnRcclxuXHRcdCAqL1xyXG5cdFx0YWRkSXRlbTogZnVuY3Rpb24odmFsdWUsIHNpbGVudCkge1xyXG5cdFx0XHR2YXIgZXZlbnRzID0gc2lsZW50ID8gW10gOiBbJ2NoYW5nZSddO1xyXG5cclxuXHRcdFx0ZGVib3VuY2VfZXZlbnRzKHRoaXMsIGV2ZW50cywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dmFyICRpdGVtLCAkb3B0aW9uLCAkb3B0aW9ucztcclxuXHRcdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdFx0dmFyIGlucHV0TW9kZSA9IHNlbGYuc2V0dGluZ3MubW9kZTtcclxuXHRcdFx0XHR2YXIgaSwgYWN0aXZlLCB2YWx1ZV9uZXh0LCB3YXNGdWxsO1xyXG5cdFx0XHRcdHZhbHVlID0gaGFzaF9rZXkodmFsdWUpO1xyXG5cclxuXHRcdFx0XHRpZiAoc2VsZi5pdGVtcy5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdGlmIChpbnB1dE1vZGUgPT09ICdzaW5nbGUnKSBzZWxmLmNsb3NlKCk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoIXNlbGYub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkpIHJldHVybjtcclxuXHRcdFx0XHRpZiAoaW5wdXRNb2RlID09PSAnc2luZ2xlJykgc2VsZi5jbGVhcihzaWxlbnQpO1xyXG5cdFx0XHRcdGlmIChpbnB1dE1vZGUgPT09ICdtdWx0aScgJiYgc2VsZi5pc0Z1bGwoKSkgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHQkaXRlbSA9ICQoc2VsZi5yZW5kZXIoJ2l0ZW0nLCBzZWxmLm9wdGlvbnNbdmFsdWVdKSk7XHJcblx0XHRcdFx0d2FzRnVsbCA9IHNlbGYuaXNGdWxsKCk7XHJcblx0XHRcdFx0c2VsZi5pdGVtcy5zcGxpY2Uoc2VsZi5jYXJldFBvcywgMCwgdmFsdWUpO1xyXG5cdFx0XHRcdHNlbGYuaW5zZXJ0QXRDYXJldCgkaXRlbSk7XHJcblx0XHRcdFx0aWYgKCFzZWxmLmlzUGVuZGluZyB8fCAoIXdhc0Z1bGwgJiYgc2VsZi5pc0Z1bGwoKSkpIHtcclxuXHRcdFx0XHRcdHNlbGYucmVmcmVzaFN0YXRlKCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoc2VsZi5pc1NldHVwKSB7XHJcblx0XHRcdFx0XHQkb3B0aW9ucyA9IHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQuZmluZCgnW2RhdGEtc2VsZWN0YWJsZV0nKTtcclxuXHJcblx0XHRcdFx0XHQvLyB1cGRhdGUgbWVudSAvIHJlbW92ZSB0aGUgb3B0aW9uIChpZiB0aGlzIGlzIG5vdCBvbmUgaXRlbSBiZWluZyBhZGRlZCBhcyBwYXJ0IG9mIHNlcmllcylcclxuXHRcdFx0XHRcdGlmICghc2VsZi5pc1BlbmRpbmcpIHtcclxuXHRcdFx0XHRcdFx0JG9wdGlvbiA9IHNlbGYuZ2V0T3B0aW9uKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0dmFsdWVfbmV4dCA9IHNlbGYuZ2V0QWRqYWNlbnRPcHRpb24oJG9wdGlvbiwgMSkuYXR0cignZGF0YS12YWx1ZScpO1xyXG5cdFx0XHRcdFx0XHRzZWxmLnJlZnJlc2hPcHRpb25zKHNlbGYuaXNGb2N1c2VkICYmIGlucHV0TW9kZSAhPT0gJ3NpbmdsZScpO1xyXG5cdFx0XHRcdFx0XHRpZiAodmFsdWVfbmV4dCkge1xyXG5cdFx0XHRcdFx0XHRcdHNlbGYuc2V0QWN0aXZlT3B0aW9uKHNlbGYuZ2V0T3B0aW9uKHZhbHVlX25leHQpKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIGhpZGUgdGhlIG1lbnUgaWYgdGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIGhhdmUgYmVlbiBzZWxlY3RlZCBvciBubyBvcHRpb25zIGFyZSBsZWZ0XHJcblx0XHRcdFx0XHRpZiAoISRvcHRpb25zLmxlbmd0aCB8fCBzZWxmLmlzRnVsbCgpKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYuY2xvc2UoKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHNlbGYucG9zaXRpb25Ecm9wZG93bigpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHNlbGYudXBkYXRlUGxhY2Vob2xkZXIoKTtcclxuXHRcdFx0XHRcdHNlbGYudHJpZ2dlcignaXRlbV9hZGQnLCB2YWx1ZSwgJGl0ZW0pO1xyXG5cdFx0XHRcdFx0c2VsZi51cGRhdGVPcmlnaW5hbElucHV0KHtzaWxlbnQ6IHNpbGVudH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVtb3ZlcyB0aGUgc2VsZWN0ZWQgaXRlbSBtYXRjaGluZ1xyXG5cdFx0ICogdGhlIHByb3ZpZGVkIHZhbHVlLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxyXG5cdFx0ICovXHJcblx0XHRyZW1vdmVJdGVtOiBmdW5jdGlvbih2YWx1ZSwgc2lsZW50KSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0dmFyICRpdGVtLCBpLCBpZHg7XHJcblxyXG5cdFx0XHQkaXRlbSA9ICh2YWx1ZSBpbnN0YW5jZW9mICQpID8gdmFsdWUgOiBzZWxmLmdldEl0ZW0odmFsdWUpO1xyXG5cdFx0XHR2YWx1ZSA9IGhhc2hfa2V5KCRpdGVtLmF0dHIoJ2RhdGEtdmFsdWUnKSk7XHJcblx0XHRcdGkgPSBzZWxmLml0ZW1zLmluZGV4T2YodmFsdWUpO1xyXG5cclxuXHRcdFx0aWYgKGkgIT09IC0xKSB7XHJcblx0XHRcdFx0JGl0ZW0ucmVtb3ZlKCk7XHJcblx0XHRcdFx0aWYgKCRpdGVtLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG5cdFx0XHRcdFx0aWR4ID0gc2VsZi4kYWN0aXZlSXRlbXMuaW5kZXhPZigkaXRlbVswXSk7XHJcblx0XHRcdFx0XHRzZWxmLiRhY3RpdmVJdGVtcy5zcGxpY2UoaWR4LCAxKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHNlbGYuaXRlbXMuc3BsaWNlKGksIDEpO1xyXG5cdFx0XHRcdHNlbGYubGFzdFF1ZXJ5ID0gbnVsbDtcclxuXHRcdFx0XHRpZiAoIXNlbGYuc2V0dGluZ3MucGVyc2lzdCAmJiBzZWxmLnVzZXJPcHRpb25zLmhhc093blByb3BlcnR5KHZhbHVlKSkge1xyXG5cdFx0XHRcdFx0c2VsZi5yZW1vdmVPcHRpb24odmFsdWUsIHNpbGVudCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoaSA8IHNlbGYuY2FyZXRQb3MpIHtcclxuXHRcdFx0XHRcdHNlbGYuc2V0Q2FyZXQoc2VsZi5jYXJldFBvcyAtIDEpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0c2VsZi5yZWZyZXNoU3RhdGUoKTtcclxuXHRcdFx0XHRzZWxmLnVwZGF0ZVBsYWNlaG9sZGVyKCk7XHJcblx0XHRcdFx0c2VsZi51cGRhdGVPcmlnaW5hbElucHV0KHtzaWxlbnQ6IHNpbGVudH0pO1xyXG5cdFx0XHRcdHNlbGYucG9zaXRpb25Ecm9wZG93bigpO1xyXG5cdFx0XHRcdHNlbGYudHJpZ2dlcignaXRlbV9yZW1vdmUnLCB2YWx1ZSwgJGl0ZW0pO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW52b2tlcyB0aGUgYGNyZWF0ZWAgbWV0aG9kIHByb3ZpZGVkIGluIHRoZVxyXG5cdFx0ICogc2VsZWN0aXplIG9wdGlvbnMgdGhhdCBzaG91bGQgcHJvdmlkZSB0aGUgZGF0YVxyXG5cdFx0ICogZm9yIHRoZSBuZXcgaXRlbSwgZ2l2ZW4gdGhlIHVzZXIgaW5wdXQuXHJcblx0XHQgKlxyXG5cdFx0ICogT25jZSB0aGlzIGNvbXBsZXRlcywgaXQgd2lsbCBiZSBhZGRlZFxyXG5cdFx0ICogdG8gdGhlIGl0ZW0gbGlzdC5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcclxuXHRcdCAqIEBwYXJhbSB7Ym9vbGVhbn0gW3RyaWdnZXJEcm9wZG93bl1cclxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja11cclxuXHRcdCAqIEByZXR1cm4ge2Jvb2xlYW59XHJcblx0XHQgKi9cclxuXHRcdGNyZWF0ZUl0ZW06IGZ1bmN0aW9uKGlucHV0LCB0cmlnZ2VyRHJvcGRvd24pIHtcclxuXHRcdFx0dmFyIHNlbGYgID0gdGhpcztcclxuXHRcdFx0dmFyIGNhcmV0ID0gc2VsZi5jYXJldFBvcztcclxuXHRcdFx0aW5wdXQgPSBpbnB1dCB8fCAkLnRyaW0oc2VsZi4kY29udHJvbF9pbnB1dC52YWwoKSB8fCAnJyk7XHJcblxyXG5cdFx0XHR2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xyXG5cdFx0XHRpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSBjYWxsYmFjayA9IGZ1bmN0aW9uKCkge307XHJcblxyXG5cdFx0XHRpZiAodHlwZW9mIHRyaWdnZXJEcm9wZG93biAhPT0gJ2Jvb2xlYW4nKSB7XHJcblx0XHRcdFx0dHJpZ2dlckRyb3Bkb3duID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCFzZWxmLmNhbkNyZWF0ZShpbnB1dCkpIHtcclxuXHRcdFx0XHRjYWxsYmFjaygpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c2VsZi5sb2NrKCk7XHJcblxyXG5cdFx0XHR2YXIgc2V0dXAgPSAodHlwZW9mIHNlbGYuc2V0dGluZ3MuY3JlYXRlID09PSAnZnVuY3Rpb24nKSA/IHRoaXMuc2V0dGluZ3MuY3JlYXRlIDogZnVuY3Rpb24oaW5wdXQpIHtcclxuXHRcdFx0XHR2YXIgZGF0YSA9IHt9O1xyXG5cdFx0XHRcdGRhdGFbc2VsZi5zZXR0aW5ncy5sYWJlbEZpZWxkXSA9IGlucHV0O1xyXG5cdFx0XHRcdGRhdGFbc2VsZi5zZXR0aW5ncy52YWx1ZUZpZWxkXSA9IGlucHV0O1xyXG5cdFx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0dmFyIGNyZWF0ZSA9IG9uY2UoZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0XHRcdHNlbGYudW5sb2NrKCk7XHJcblxyXG5cdFx0XHRcdGlmICghZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gJ29iamVjdCcpIHJldHVybiBjYWxsYmFjaygpO1xyXG5cdFx0XHRcdHZhciB2YWx1ZSA9IGhhc2hfa2V5KGRhdGFbc2VsZi5zZXR0aW5ncy52YWx1ZUZpZWxkXSk7XHJcblx0XHRcdFx0aWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiBjYWxsYmFjaygpO1xyXG5cclxuXHRcdFx0XHRzZWxmLnNldFRleHRib3hWYWx1ZSgnJyk7XHJcblx0XHRcdFx0c2VsZi5hZGRPcHRpb24oZGF0YSk7XHJcblx0XHRcdFx0c2VsZi5zZXRDYXJldChjYXJldCk7XHJcblx0XHRcdFx0c2VsZi5hZGRJdGVtKHZhbHVlKTtcclxuXHRcdFx0XHRzZWxmLnJlZnJlc2hPcHRpb25zKHRyaWdnZXJEcm9wZG93biAmJiBzZWxmLnNldHRpbmdzLm1vZGUgIT09ICdzaW5nbGUnKTtcclxuXHRcdFx0XHRjYWxsYmFjayhkYXRhKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHR2YXIgb3V0cHV0ID0gc2V0dXAuYXBwbHkodGhpcywgW2lucHV0LCBjcmVhdGVdKTtcclxuXHRcdFx0aWYgKHR5cGVvZiBvdXRwdXQgIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0Y3JlYXRlKG91dHB1dCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlLXJlbmRlcnMgdGhlIHNlbGVjdGVkIGl0ZW0gbGlzdHMuXHJcblx0XHQgKi9cclxuXHRcdHJlZnJlc2hJdGVtczogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMubGFzdFF1ZXJ5ID0gbnVsbDtcclxuXHJcblx0XHRcdGlmICh0aGlzLmlzU2V0dXApIHtcclxuXHRcdFx0XHR0aGlzLmFkZEl0ZW0odGhpcy5pdGVtcyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMucmVmcmVzaFN0YXRlKCk7XHJcblx0XHRcdHRoaXMudXBkYXRlT3JpZ2luYWxJbnB1dCgpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZXMgYWxsIHN0YXRlLWRlcGVuZGVudCBhdHRyaWJ1dGVzXHJcblx0XHQgKiBhbmQgQ1NTIGNsYXNzZXMuXHJcblx0XHQgKi9cclxuXHRcdHJlZnJlc2hTdGF0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMucmVmcmVzaFZhbGlkaXR5U3RhdGUoKTtcclxuXHRcdFx0dGhpcy5yZWZyZXNoQ2xhc3NlcygpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZSB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgb2YgYm90aCBpbnB1dCBhbmQgY29udHJvbCBpbnB1dC5cclxuXHRcdCAqXHJcblx0XHQgKiBUaGUgYHJlcXVpcmVkYCBwcm9wZXJ0eSBuZWVkcyB0byBiZSBhY3RpdmF0ZWQgb24gdGhlIGNvbnRyb2wgaW5wdXRcclxuXHRcdCAqIGZvciB0aGUgZXJyb3IgdG8gYmUgZGlzcGxheWVkIGF0IHRoZSByaWdodCBwbGFjZS4gYHJlcXVpcmVkYCBhbHNvXHJcblx0XHQgKiBuZWVkcyB0byBiZSB0ZW1wb3JhcmlseSBkZWFjdGl2YXRlZCBvbiB0aGUgaW5wdXQgc2luY2UgdGhlIGlucHV0IGlzXHJcblx0XHQgKiBoaWRkZW4gYW5kIGNhbid0IHNob3cgZXJyb3JzLlxyXG5cdFx0ICovXHJcblx0XHRyZWZyZXNoVmFsaWRpdHlTdGF0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICghdGhpcy5pc1JlcXVpcmVkKSByZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0XHR2YXIgaW52YWxpZCA9ICF0aGlzLml0ZW1zLmxlbmd0aDtcclxuXHJcblx0XHRcdHRoaXMuaXNJbnZhbGlkID0gaW52YWxpZDtcclxuXHRcdFx0dGhpcy4kY29udHJvbF9pbnB1dC5wcm9wKCdyZXF1aXJlZCcsIGludmFsaWQpO1xyXG5cdFx0XHR0aGlzLiRpbnB1dC5wcm9wKCdyZXF1aXJlZCcsICFpbnZhbGlkKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGVzIGFsbCBzdGF0ZS1kZXBlbmRlbnQgQ1NTIGNsYXNzZXMuXHJcblx0XHQgKi9cclxuXHRcdHJlZnJlc2hDbGFzc2VzOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgICAgID0gdGhpcztcclxuXHRcdFx0dmFyIGlzRnVsbCAgID0gc2VsZi5pc0Z1bGwoKTtcclxuXHRcdFx0dmFyIGlzTG9ja2VkID0gc2VsZi5pc0xvY2tlZDtcclxuXHJcblx0XHRcdHNlbGYuJHdyYXBwZXJcclxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoJ3J0bCcsIHNlbGYucnRsKTtcclxuXHJcblx0XHRcdHNlbGYuJGNvbnRyb2xcclxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoJ2ZvY3VzJywgc2VsZi5pc0ZvY3VzZWQpXHJcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcsIHNlbGYuaXNEaXNhYmxlZClcclxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoJ3JlcXVpcmVkJywgc2VsZi5pc1JlcXVpcmVkKVxyXG5cdFx0XHRcdC50b2dnbGVDbGFzcygnaW52YWxpZCcsIHNlbGYuaXNJbnZhbGlkKVxyXG5cdFx0XHRcdC50b2dnbGVDbGFzcygnbG9ja2VkJywgaXNMb2NrZWQpXHJcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCdmdWxsJywgaXNGdWxsKS50b2dnbGVDbGFzcygnbm90LWZ1bGwnLCAhaXNGdWxsKVxyXG5cdFx0XHRcdC50b2dnbGVDbGFzcygnaW5wdXQtYWN0aXZlJywgc2VsZi5pc0ZvY3VzZWQgJiYgIXNlbGYuaXNJbnB1dEhpZGRlbilcclxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoJ2Ryb3Bkb3duLWFjdGl2ZScsIHNlbGYuaXNPcGVuKVxyXG5cdFx0XHRcdC50b2dnbGVDbGFzcygnaGFzLW9wdGlvbnMnLCAhJC5pc0VtcHR5T2JqZWN0KHNlbGYub3B0aW9ucykpXHJcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCdoYXMtaXRlbXMnLCBzZWxmLml0ZW1zLmxlbmd0aCA+IDApO1xyXG5cclxuXHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dC5kYXRhKCdncm93JywgIWlzRnVsbCAmJiAhaXNMb2NrZWQpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIERldGVybWluZXMgd2hldGhlciBvciBub3QgbW9yZSBpdGVtcyBjYW4gYmUgYWRkZWRcclxuXHRcdCAqIHRvIHRoZSBjb250cm9sIHdpdGhvdXQgZXhjZWVkaW5nIHRoZSB1c2VyLWRlZmluZWQgbWF4aW11bS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuXHRcdCAqL1xyXG5cdFx0aXNGdWxsOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuc2V0dGluZ3MubWF4SXRlbXMgIT09IG51bGwgJiYgdGhpcy5pdGVtcy5sZW5ndGggPj0gdGhpcy5zZXR0aW5ncy5tYXhJdGVtcztcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZWZyZXNoZXMgdGhlIG9yaWdpbmFsIDxzZWxlY3Q+IG9yIDxpbnB1dD5cclxuXHRcdCAqIGVsZW1lbnQgdG8gcmVmbGVjdCB0aGUgY3VycmVudCBzdGF0ZS5cclxuXHRcdCAqL1xyXG5cdFx0dXBkYXRlT3JpZ2luYWxJbnB1dDogZnVuY3Rpb24ob3B0cykge1xyXG5cdFx0XHR2YXIgaSwgbiwgb3B0aW9ucywgbGFiZWwsIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRvcHRzID0gb3B0cyB8fCB7fTtcclxuXHJcblx0XHRcdGlmIChzZWxmLnRhZ1R5cGUgPT09IFRBR19TRUxFQ1QpIHtcclxuXHRcdFx0XHRvcHRpb25zID0gW107XHJcblx0XHRcdFx0Zm9yIChpID0gMCwgbiA9IHNlbGYuaXRlbXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0XHRsYWJlbCA9IHNlbGYub3B0aW9uc1tzZWxmLml0ZW1zW2ldXVtzZWxmLnNldHRpbmdzLmxhYmVsRmllbGRdIHx8ICcnO1xyXG5cdFx0XHRcdFx0b3B0aW9ucy5wdXNoKCc8b3B0aW9uIHZhbHVlPVwiJyArIGVzY2FwZV9odG1sKHNlbGYuaXRlbXNbaV0pICsgJ1wiIHNlbGVjdGVkPVwic2VsZWN0ZWRcIj4nICsgZXNjYXBlX2h0bWwobGFiZWwpICsgJzwvb3B0aW9uPicpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoIW9wdGlvbnMubGVuZ3RoICYmICF0aGlzLiRpbnB1dC5hdHRyKCdtdWx0aXBsZScpKSB7XHJcblx0XHRcdFx0XHRvcHRpb25zLnB1c2goJzxvcHRpb24gdmFsdWU9XCJcIiBzZWxlY3RlZD1cInNlbGVjdGVkXCI+PC9vcHRpb24+Jyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHNlbGYuJGlucHV0Lmh0bWwob3B0aW9ucy5qb2luKCcnKSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c2VsZi4kaW5wdXQudmFsKHNlbGYuZ2V0VmFsdWUoKSk7XHJcblx0XHRcdFx0c2VsZi4kaW5wdXQuYXR0cigndmFsdWUnLHNlbGYuJGlucHV0LnZhbCgpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHNlbGYuaXNTZXR1cCkge1xyXG5cdFx0XHRcdGlmICghb3B0cy5zaWxlbnQpIHtcclxuXHRcdFx0XHRcdHNlbGYudHJpZ2dlcignY2hhbmdlJywgc2VsZi4kaW5wdXQudmFsKCkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNob3dzL2hpZGUgdGhlIGlucHV0IHBsYWNlaG9sZGVyIGRlcGVuZGluZ1xyXG5cdFx0ICogb24gaWYgdGhlcmUgaXRlbXMgaW4gdGhlIGxpc3QgYWxyZWFkeS5cclxuXHRcdCAqL1xyXG5cdFx0dXBkYXRlUGxhY2Vob2xkZXI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoIXRoaXMuc2V0dGluZ3MucGxhY2Vob2xkZXIpIHJldHVybjtcclxuXHRcdFx0dmFyICRpbnB1dCA9IHRoaXMuJGNvbnRyb2xfaW5wdXQ7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5pdGVtcy5sZW5ndGgpIHtcclxuXHRcdFx0XHQkaW5wdXQucmVtb3ZlQXR0cigncGxhY2Vob2xkZXInKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkaW5wdXQuYXR0cigncGxhY2Vob2xkZXInLCB0aGlzLnNldHRpbmdzLnBsYWNlaG9sZGVyKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQkaW5wdXQudHJpZ2dlckhhbmRsZXIoJ3VwZGF0ZScsIHtmb3JjZTogdHJ1ZX0pO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNob3dzIHRoZSBhdXRvY29tcGxldGUgZHJvcGRvd24gY29udGFpbmluZ1xyXG5cdFx0ICogdGhlIGF2YWlsYWJsZSBvcHRpb25zLlxyXG5cdFx0ICovXHJcblx0XHRvcGVuOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0aWYgKHNlbGYuaXNMb2NrZWQgfHwgc2VsZi5pc09wZW4gfHwgKHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ211bHRpJyAmJiBzZWxmLmlzRnVsbCgpKSkgcmV0dXJuO1xyXG5cdFx0XHRzZWxmLmZvY3VzKCk7XHJcblx0XHRcdHNlbGYuaXNPcGVuID0gdHJ1ZTtcclxuXHRcdFx0c2VsZi5yZWZyZXNoU3RhdGUoKTtcclxuXHRcdFx0c2VsZi4kZHJvcGRvd24uY3NzKHt2aXNpYmlsaXR5OiAnaGlkZGVuJywgZGlzcGxheTogJ2Jsb2NrJ30pO1xyXG5cdFx0XHRzZWxmLnBvc2l0aW9uRHJvcGRvd24oKTtcclxuXHRcdFx0c2VsZi4kZHJvcGRvd24uY3NzKHt2aXNpYmlsaXR5OiAndmlzaWJsZSd9KTtcclxuXHRcdFx0c2VsZi50cmlnZ2VyKCdkcm9wZG93bl9vcGVuJywgc2VsZi4kZHJvcGRvd24pO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENsb3NlcyB0aGUgYXV0b2NvbXBsZXRlIGRyb3Bkb3duIG1lbnUuXHJcblx0XHQgKi9cclxuXHRcdGNsb3NlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHR2YXIgdHJpZ2dlciA9IHNlbGYuaXNPcGVuO1xyXG5cclxuXHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ3NpbmdsZScgJiYgc2VsZi5pdGVtcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRzZWxmLmhpZGVJbnB1dCgpO1xyXG5cdFx0XHRcdHNlbGYuJGNvbnRyb2xfaW5wdXQuYmx1cigpOyAvLyBjbG9zZSBrZXlib2FyZCBvbiBpT1NcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c2VsZi5pc09wZW4gPSBmYWxzZTtcclxuXHRcdFx0c2VsZi4kZHJvcGRvd24uaGlkZSgpO1xyXG5cdFx0XHRzZWxmLnNldEFjdGl2ZU9wdGlvbihudWxsKTtcclxuXHRcdFx0c2VsZi5yZWZyZXNoU3RhdGUoKTtcclxuXHJcblx0XHRcdGlmICh0cmlnZ2VyKSBzZWxmLnRyaWdnZXIoJ2Ryb3Bkb3duX2Nsb3NlJywgc2VsZi4kZHJvcGRvd24pO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENhbGN1bGF0ZXMgYW5kIGFwcGxpZXMgdGhlIGFwcHJvcHJpYXRlXHJcblx0XHQgKiBwb3NpdGlvbiBvZiB0aGUgZHJvcGRvd24uXHJcblx0XHQgKi9cclxuXHRcdHBvc2l0aW9uRHJvcGRvd246IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgJGNvbnRyb2wgPSB0aGlzLiRjb250cm9sO1xyXG5cdFx0XHR2YXIgb2Zmc2V0ID0gdGhpcy5zZXR0aW5ncy5kcm9wZG93blBhcmVudCA9PT0gJ2JvZHknID8gJGNvbnRyb2wub2Zmc2V0KCkgOiAkY29udHJvbC5wb3NpdGlvbigpO1xyXG5cdFx0XHRvZmZzZXQudG9wICs9ICRjb250cm9sLm91dGVySGVpZ2h0KHRydWUpO1xyXG5cclxuXHRcdFx0dGhpcy4kZHJvcGRvd24uY3NzKHtcclxuXHRcdFx0XHR3aWR0aCA6ICRjb250cm9sLm91dGVyV2lkdGgoKSxcclxuXHRcdFx0XHR0b3AgICA6IG9mZnNldC50b3AsXHJcblx0XHRcdFx0bGVmdCAgOiBvZmZzZXQubGVmdFxyXG5cdFx0XHR9KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXNldHMgLyBjbGVhcnMgYWxsIHNlbGVjdGVkIGl0ZW1zXHJcblx0XHQgKiBmcm9tIHRoZSBjb250cm9sLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7Ym9vbGVhbn0gc2lsZW50XHJcblx0XHQgKi9cclxuXHRcdGNsZWFyOiBmdW5jdGlvbihzaWxlbnQpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0aWYgKCFzZWxmLml0ZW1zLmxlbmd0aCkgcmV0dXJuO1xyXG5cdFx0XHRzZWxmLiRjb250cm9sLmNoaWxkcmVuKCc6bm90KGlucHV0KScpLnJlbW92ZSgpO1xyXG5cdFx0XHRzZWxmLml0ZW1zID0gW107XHJcblx0XHRcdHNlbGYubGFzdFF1ZXJ5ID0gbnVsbDtcclxuXHRcdFx0c2VsZi5zZXRDYXJldCgwKTtcclxuXHRcdFx0c2VsZi5zZXRBY3RpdmVJdGVtKG51bGwpO1xyXG5cdFx0XHRzZWxmLnVwZGF0ZVBsYWNlaG9sZGVyKCk7XHJcblx0XHRcdHNlbGYudXBkYXRlT3JpZ2luYWxJbnB1dCh7c2lsZW50OiBzaWxlbnR9KTtcclxuXHRcdFx0c2VsZi5yZWZyZXNoU3RhdGUoKTtcclxuXHRcdFx0c2VsZi5zaG93SW5wdXQoKTtcclxuXHRcdFx0c2VsZi50cmlnZ2VyKCdjbGVhcicpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEEgaGVscGVyIG1ldGhvZCBmb3IgaW5zZXJ0aW5nIGFuIGVsZW1lbnRcclxuXHRcdCAqIGF0IHRoZSBjdXJyZW50IGNhcmV0IHBvc2l0aW9uLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSAkZWxcclxuXHRcdCAqL1xyXG5cdFx0aW5zZXJ0QXRDYXJldDogZnVuY3Rpb24oJGVsKSB7XHJcblx0XHRcdHZhciBjYXJldCA9IE1hdGgubWluKHRoaXMuY2FyZXRQb3MsIHRoaXMuaXRlbXMubGVuZ3RoKTtcclxuXHRcdFx0aWYgKGNhcmV0ID09PSAwKSB7XHJcblx0XHRcdFx0dGhpcy4kY29udHJvbC5wcmVwZW5kKCRlbCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JCh0aGlzLiRjb250cm9sWzBdLmNoaWxkTm9kZXNbY2FyZXRdKS5iZWZvcmUoJGVsKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLnNldENhcmV0KGNhcmV0ICsgMSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVtb3ZlcyB0aGUgY3VycmVudCBzZWxlY3RlZCBpdGVtKHMpLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlIChvcHRpb25hbClcclxuXHRcdCAqIEByZXR1cm5zIHtib29sZWFufVxyXG5cdFx0ICovXHJcblx0XHRkZWxldGVTZWxlY3Rpb246IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dmFyIGksIG4sIGRpcmVjdGlvbiwgc2VsZWN0aW9uLCB2YWx1ZXMsIGNhcmV0LCBvcHRpb25fc2VsZWN0LCAkb3B0aW9uX3NlbGVjdCwgJHRhaWw7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdGRpcmVjdGlvbiA9IChlICYmIGUua2V5Q29kZSA9PT0gS0VZX0JBQ0tTUEFDRSkgPyAtMSA6IDE7XHJcblx0XHRcdHNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbihzZWxmLiRjb250cm9sX2lucHV0WzBdKTtcclxuXHJcblx0XHRcdGlmIChzZWxmLiRhY3RpdmVPcHRpb24gJiYgIXNlbGYuc2V0dGluZ3MuaGlkZVNlbGVjdGVkKSB7XHJcblx0XHRcdFx0b3B0aW9uX3NlbGVjdCA9IHNlbGYuZ2V0QWRqYWNlbnRPcHRpb24oc2VsZi4kYWN0aXZlT3B0aW9uLCAtMSkuYXR0cignZGF0YS12YWx1ZScpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBkZXRlcm1pbmUgaXRlbXMgdGhhdCB3aWxsIGJlIHJlbW92ZWRcclxuXHRcdFx0dmFsdWVzID0gW107XHJcblxyXG5cdFx0XHRpZiAoc2VsZi4kYWN0aXZlSXRlbXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0JHRhaWwgPSBzZWxmLiRjb250cm9sLmNoaWxkcmVuKCcuYWN0aXZlOicgKyAoZGlyZWN0aW9uID4gMCA/ICdsYXN0JyA6ICdmaXJzdCcpKTtcclxuXHRcdFx0XHRjYXJldCA9IHNlbGYuJGNvbnRyb2wuY2hpbGRyZW4oJzpub3QoaW5wdXQpJykuaW5kZXgoJHRhaWwpO1xyXG5cdFx0XHRcdGlmIChkaXJlY3Rpb24gPiAwKSB7IGNhcmV0Kys7IH1cclxuXHJcblx0XHRcdFx0Zm9yIChpID0gMCwgbiA9IHNlbGYuJGFjdGl2ZUl0ZW1zLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdFx0dmFsdWVzLnB1c2goJChzZWxmLiRhY3RpdmVJdGVtc1tpXSkuYXR0cignZGF0YS12YWx1ZScpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKGUpIHtcclxuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKChzZWxmLmlzRm9jdXNlZCB8fCBzZWxmLnNldHRpbmdzLm1vZGUgPT09ICdzaW5nbGUnKSAmJiBzZWxmLml0ZW1zLmxlbmd0aCkge1xyXG5cdFx0XHRcdGlmIChkaXJlY3Rpb24gPCAwICYmIHNlbGVjdGlvbi5zdGFydCA9PT0gMCAmJiBzZWxlY3Rpb24ubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdFx0XHR2YWx1ZXMucHVzaChzZWxmLml0ZW1zW3NlbGYuY2FyZXRQb3MgLSAxXSk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChkaXJlY3Rpb24gPiAwICYmIHNlbGVjdGlvbi5zdGFydCA9PT0gc2VsZi4kY29udHJvbF9pbnB1dC52YWwoKS5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdHZhbHVlcy5wdXNoKHNlbGYuaXRlbXNbc2VsZi5jYXJldFBvc10pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gYWxsb3cgdGhlIGNhbGxiYWNrIHRvIGFib3J0XHJcblx0XHRcdGlmICghdmFsdWVzLmxlbmd0aCB8fCAodHlwZW9mIHNlbGYuc2V0dGluZ3Mub25EZWxldGUgPT09ICdmdW5jdGlvbicgJiYgc2VsZi5zZXR0aW5ncy5vbkRlbGV0ZS5hcHBseShzZWxmLCBbdmFsdWVzXSkgPT09IGZhbHNlKSkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gcGVyZm9ybSByZW1vdmFsXHJcblx0XHRcdGlmICh0eXBlb2YgY2FyZXQgIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0c2VsZi5zZXRDYXJldChjYXJldCk7XHJcblx0XHRcdH1cclxuXHRcdFx0d2hpbGUgKHZhbHVlcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRzZWxmLnJlbW92ZUl0ZW0odmFsdWVzLnBvcCgpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c2VsZi5zaG93SW5wdXQoKTtcclxuXHRcdFx0c2VsZi5wb3NpdGlvbkRyb3Bkb3duKCk7XHJcblx0XHRcdHNlbGYucmVmcmVzaE9wdGlvbnModHJ1ZSk7XHJcblxyXG5cdFx0XHQvLyBzZWxlY3QgcHJldmlvdXMgb3B0aW9uXHJcblx0XHRcdGlmIChvcHRpb25fc2VsZWN0KSB7XHJcblx0XHRcdFx0JG9wdGlvbl9zZWxlY3QgPSBzZWxmLmdldE9wdGlvbihvcHRpb25fc2VsZWN0KTtcclxuXHRcdFx0XHRpZiAoJG9wdGlvbl9zZWxlY3QubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZU9wdGlvbigkb3B0aW9uX3NlbGVjdCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZWxlY3RzIHRoZSBwcmV2aW91cyAvIG5leHQgaXRlbSAoZGVwZW5kaW5nXHJcblx0XHQgKiBvbiB0aGUgYGRpcmVjdGlvbmAgYXJndW1lbnQpLlxyXG5cdFx0ICpcclxuXHRcdCAqID4gMCAtIHJpZ2h0XHJcblx0XHQgKiA8IDAgLSBsZWZ0XHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtpbnR9IGRpcmVjdGlvblxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGUgKG9wdGlvbmFsKVxyXG5cdFx0ICovXHJcblx0XHRhZHZhbmNlU2VsZWN0aW9uOiBmdW5jdGlvbihkaXJlY3Rpb24sIGUpIHtcclxuXHRcdFx0dmFyIHRhaWwsIHNlbGVjdGlvbiwgaWR4LCB2YWx1ZUxlbmd0aCwgY3Vyc29yQXRFZGdlLCAkdGFpbDtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0aWYgKGRpcmVjdGlvbiA9PT0gMCkgcmV0dXJuO1xyXG5cdFx0XHRpZiAoc2VsZi5ydGwpIGRpcmVjdGlvbiAqPSAtMTtcclxuXHJcblx0XHRcdHRhaWwgPSBkaXJlY3Rpb24gPiAwID8gJ2xhc3QnIDogJ2ZpcnN0JztcclxuXHRcdFx0c2VsZWN0aW9uID0gZ2V0U2VsZWN0aW9uKHNlbGYuJGNvbnRyb2xfaW5wdXRbMF0pO1xyXG5cclxuXHRcdFx0aWYgKHNlbGYuaXNGb2N1c2VkICYmICFzZWxmLmlzSW5wdXRIaWRkZW4pIHtcclxuXHRcdFx0XHR2YWx1ZUxlbmd0aCA9IHNlbGYuJGNvbnRyb2xfaW5wdXQudmFsKCkubGVuZ3RoO1xyXG5cdFx0XHRcdGN1cnNvckF0RWRnZSA9IGRpcmVjdGlvbiA8IDBcclxuXHRcdFx0XHRcdD8gc2VsZWN0aW9uLnN0YXJ0ID09PSAwICYmIHNlbGVjdGlvbi5sZW5ndGggPT09IDBcclxuXHRcdFx0XHRcdDogc2VsZWN0aW9uLnN0YXJ0ID09PSB2YWx1ZUxlbmd0aDtcclxuXHJcblx0XHRcdFx0aWYgKGN1cnNvckF0RWRnZSAmJiAhdmFsdWVMZW5ndGgpIHtcclxuXHRcdFx0XHRcdHNlbGYuYWR2YW5jZUNhcmV0KGRpcmVjdGlvbiwgZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCR0YWlsID0gc2VsZi4kY29udHJvbC5jaGlsZHJlbignLmFjdGl2ZTonICsgdGFpbCk7XHJcblx0XHRcdFx0aWYgKCR0YWlsLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0aWR4ID0gc2VsZi4kY29udHJvbC5jaGlsZHJlbignOm5vdChpbnB1dCknKS5pbmRleCgkdGFpbCk7XHJcblx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZUl0ZW0obnVsbCk7XHJcblx0XHRcdFx0XHRzZWxmLnNldENhcmV0KGRpcmVjdGlvbiA+IDAgPyBpZHggKyAxIDogaWR4KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBNb3ZlcyB0aGUgY2FyZXQgbGVmdCAvIHJpZ2h0LlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7aW50fSBkaXJlY3Rpb25cclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlIChvcHRpb25hbClcclxuXHRcdCAqL1xyXG5cdFx0YWR2YW5jZUNhcmV0OiBmdW5jdGlvbihkaXJlY3Rpb24sIGUpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLCBmbiwgJGFkajtcclxuXHJcblx0XHRcdGlmIChkaXJlY3Rpb24gPT09IDApIHJldHVybjtcclxuXHJcblx0XHRcdGZuID0gZGlyZWN0aW9uID4gMCA/ICduZXh0JyA6ICdwcmV2JztcclxuXHRcdFx0aWYgKHNlbGYuaXNTaGlmdERvd24pIHtcclxuXHRcdFx0XHQkYWRqID0gc2VsZi4kY29udHJvbF9pbnB1dFtmbl0oKTtcclxuXHRcdFx0XHRpZiAoJGFkai5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdHNlbGYuaGlkZUlucHV0KCk7XHJcblx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZUl0ZW0oJGFkaik7XHJcblx0XHRcdFx0XHRlICYmIGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c2VsZi5zZXRDYXJldChzZWxmLmNhcmV0UG9zICsgZGlyZWN0aW9uKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIE1vdmVzIHRoZSBjYXJldCB0byB0aGUgc3BlY2lmaWVkIGluZGV4LlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7aW50fSBpXHJcblx0XHQgKi9cclxuXHRcdHNldENhcmV0OiBmdW5jdGlvbihpKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdGlmIChzZWxmLnNldHRpbmdzLm1vZGUgPT09ICdzaW5nbGUnKSB7XHJcblx0XHRcdFx0aSA9IHNlbGYuaXRlbXMubGVuZ3RoO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihzZWxmLml0ZW1zLmxlbmd0aCwgaSkpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZighc2VsZi5pc1BlbmRpbmcpIHtcclxuXHRcdFx0XHQvLyB0aGUgaW5wdXQgbXVzdCBiZSBtb3ZlZCBieSBsZWF2aW5nIGl0IGluIHBsYWNlIGFuZCBtb3ZpbmcgdGhlXHJcblx0XHRcdFx0Ly8gc2libGluZ3MsIGR1ZSB0byB0aGUgZmFjdCB0aGF0IGZvY3VzIGNhbm5vdCBiZSByZXN0b3JlZCBvbmNlIGxvc3RcclxuXHRcdFx0XHQvLyBvbiBtb2JpbGUgd2Via2l0IGRldmljZXNcclxuXHRcdFx0XHR2YXIgaiwgbiwgZm4sICRjaGlsZHJlbiwgJGNoaWxkO1xyXG5cdFx0XHRcdCRjaGlsZHJlbiA9IHNlbGYuJGNvbnRyb2wuY2hpbGRyZW4oJzpub3QoaW5wdXQpJyk7XHJcblx0XHRcdFx0Zm9yIChqID0gMCwgbiA9ICRjaGlsZHJlbi5sZW5ndGg7IGogPCBuOyBqKyspIHtcclxuXHRcdFx0XHRcdCRjaGlsZCA9ICQoJGNoaWxkcmVuW2pdKS5kZXRhY2goKTtcclxuXHRcdFx0XHRcdGlmIChqIDwgIGkpIHtcclxuXHRcdFx0XHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dC5iZWZvcmUoJGNoaWxkKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHNlbGYuJGNvbnRyb2wuYXBwZW5kKCRjaGlsZCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzZWxmLmNhcmV0UG9zID0gaTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBEaXNhYmxlcyB1c2VyIGlucHV0IG9uIHRoZSBjb250cm9sLiBVc2VkIHdoaWxlXHJcblx0XHQgKiBpdGVtcyBhcmUgYmVpbmcgYXN5bmNocm9ub3VzbHkgY3JlYXRlZC5cclxuXHRcdCAqL1xyXG5cdFx0bG9jazogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdFx0dGhpcy5pc0xvY2tlZCA9IHRydWU7XHJcblx0XHRcdHRoaXMucmVmcmVzaFN0YXRlKCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmUtZW5hYmxlcyB1c2VyIGlucHV0IG9uIHRoZSBjb250cm9sLlxyXG5cdFx0ICovXHJcblx0XHR1bmxvY2s6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLmlzTG9ja2VkID0gZmFsc2U7XHJcblx0XHRcdHRoaXMucmVmcmVzaFN0YXRlKCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRGlzYWJsZXMgdXNlciBpbnB1dCBvbiB0aGUgY29udHJvbCBjb21wbGV0ZWx5LlxyXG5cdFx0ICogV2hpbGUgZGlzYWJsZWQsIGl0IGNhbm5vdCByZWNlaXZlIGZvY3VzLlxyXG5cdFx0ICovXHJcblx0XHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRzZWxmLiRpbnB1dC5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG5cdFx0XHRzZWxmLiRjb250cm9sX2lucHV0LnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSkucHJvcCgndGFiaW5kZXgnLCAtMSk7XHJcblx0XHRcdHNlbGYuaXNEaXNhYmxlZCA9IHRydWU7XHJcblx0XHRcdHNlbGYubG9jaygpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEVuYWJsZXMgdGhlIGNvbnRyb2wgc28gdGhhdCBpdCBjYW4gcmVzcG9uZFxyXG5cdFx0ICogdG8gZm9jdXMgYW5kIHVzZXIgaW5wdXQuXHJcblx0XHQgKi9cclxuXHRcdGVuYWJsZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0c2VsZi4kaW5wdXQucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcblx0XHRcdHNlbGYuJGNvbnRyb2xfaW5wdXQucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSkucHJvcCgndGFiaW5kZXgnLCBzZWxmLnRhYkluZGV4KTtcclxuXHRcdFx0c2VsZi5pc0Rpc2FibGVkID0gZmFsc2U7XHJcblx0XHRcdHNlbGYudW5sb2NrKCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ29tcGxldGVseSBkZXN0cm95cyB0aGUgY29udHJvbCBhbmRcclxuXHRcdCAqIHVuYmluZHMgYWxsIGV2ZW50IGxpc3RlbmVycyBzbyB0aGF0IGl0IGNhblxyXG5cdFx0ICogYmUgZ2FyYmFnZSBjb2xsZWN0ZWQuXHJcblx0XHQgKi9cclxuXHRcdGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdHZhciBldmVudE5TID0gc2VsZi5ldmVudE5TO1xyXG5cdFx0XHR2YXIgcmV2ZXJ0U2V0dGluZ3MgPSBzZWxmLnJldmVydFNldHRpbmdzO1xyXG5cclxuXHRcdFx0c2VsZi50cmlnZ2VyKCdkZXN0cm95Jyk7XHJcblx0XHRcdHNlbGYub2ZmKCk7XHJcblx0XHRcdHNlbGYuJHdyYXBwZXIucmVtb3ZlKCk7XHJcblx0XHRcdHNlbGYuJGRyb3Bkb3duLnJlbW92ZSgpO1xyXG5cclxuXHRcdFx0c2VsZi4kaW5wdXRcclxuXHRcdFx0XHQuaHRtbCgnJylcclxuXHRcdFx0XHQuYXBwZW5kKHJldmVydFNldHRpbmdzLiRjaGlsZHJlbilcclxuXHRcdFx0XHQucmVtb3ZlQXR0cigndGFiaW5kZXgnKVxyXG5cdFx0XHRcdC5yZW1vdmVDbGFzcygnc2VsZWN0aXplZCcpXHJcblx0XHRcdFx0LmF0dHIoe3RhYmluZGV4OiByZXZlcnRTZXR0aW5ncy50YWJpbmRleH0pXHJcblx0XHRcdFx0LnNob3coKTtcclxuXHJcblx0XHRcdHNlbGYuJGNvbnRyb2xfaW5wdXQucmVtb3ZlRGF0YSgnZ3JvdycpO1xyXG5cdFx0XHRzZWxmLiRpbnB1dC5yZW1vdmVEYXRhKCdzZWxlY3RpemUnKTtcclxuXHJcblx0XHRcdCQod2luZG93KS5vZmYoZXZlbnROUyk7XHJcblx0XHRcdCQoZG9jdW1lbnQpLm9mZihldmVudE5TKTtcclxuXHRcdFx0JChkb2N1bWVudC5ib2R5KS5vZmYoZXZlbnROUyk7XHJcblxyXG5cdFx0XHRkZWxldGUgc2VsZi4kaW5wdXRbMF0uc2VsZWN0aXplO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEEgaGVscGVyIG1ldGhvZCBmb3IgcmVuZGVyaW5nIFwiaXRlbVwiIGFuZFxyXG5cdFx0ICogXCJvcHRpb25cIiB0ZW1wbGF0ZXMsIGdpdmVuIHRoZSBkYXRhLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZU5hbWVcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhXHJcblx0XHQgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG5cdFx0ICovXHJcblx0XHRyZW5kZXI6IGZ1bmN0aW9uKHRlbXBsYXRlTmFtZSwgZGF0YSkge1xyXG5cdFx0XHR2YXIgdmFsdWUsIGlkLCBsYWJlbDtcclxuXHRcdFx0dmFyIGh0bWwgPSAnJztcclxuXHRcdFx0dmFyIGNhY2hlID0gZmFsc2U7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0dmFyIHJlZ2V4X3RhZyA9IC9eW1xcdCBcXHJcXG5dKjwoW2Etel1bYS16MC05XFwtX10qKD86XFw6W2Etel1bYS16MC05XFwtX10qKT8pL2k7XHJcblxyXG5cdFx0XHRpZiAodGVtcGxhdGVOYW1lID09PSAnb3B0aW9uJyB8fCB0ZW1wbGF0ZU5hbWUgPT09ICdpdGVtJykge1xyXG5cdFx0XHRcdHZhbHVlID0gaGFzaF9rZXkoZGF0YVtzZWxmLnNldHRpbmdzLnZhbHVlRmllbGRdKTtcclxuXHRcdFx0XHRjYWNoZSA9ICEhdmFsdWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHB1bGwgbWFya3VwIGZyb20gY2FjaGUgaWYgaXQgZXhpc3RzXHJcblx0XHRcdGlmIChjYWNoZSkge1xyXG5cdFx0XHRcdGlmICghaXNzZXQoc2VsZi5yZW5kZXJDYWNoZVt0ZW1wbGF0ZU5hbWVdKSkge1xyXG5cdFx0XHRcdFx0c2VsZi5yZW5kZXJDYWNoZVt0ZW1wbGF0ZU5hbWVdID0ge307XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChzZWxmLnJlbmRlckNhY2hlW3RlbXBsYXRlTmFtZV0uaGFzT3duUHJvcGVydHkodmFsdWUpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gc2VsZi5yZW5kZXJDYWNoZVt0ZW1wbGF0ZU5hbWVdW3ZhbHVlXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHJlbmRlciBtYXJrdXBcclxuXHRcdFx0aHRtbCA9ICQoc2VsZi5zZXR0aW5ncy5yZW5kZXJbdGVtcGxhdGVOYW1lXS5hcHBseSh0aGlzLCBbZGF0YSwgZXNjYXBlX2h0bWxdKSk7XHJcblxyXG5cdFx0XHQvLyBhZGQgbWFuZGF0b3J5IGF0dHJpYnV0ZXNcclxuXHRcdFx0aWYgKHRlbXBsYXRlTmFtZSA9PT0gJ29wdGlvbicgfHwgdGVtcGxhdGVOYW1lID09PSAnb3B0aW9uX2NyZWF0ZScpIHtcclxuXHRcdFx0XHRodG1sLmF0dHIoJ2RhdGEtc2VsZWN0YWJsZScsICcnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmICh0ZW1wbGF0ZU5hbWUgPT09ICdvcHRncm91cCcpIHtcclxuXHRcdFx0XHRpZCA9IGRhdGFbc2VsZi5zZXR0aW5ncy5vcHRncm91cFZhbHVlRmllbGRdIHx8ICcnO1xyXG5cdFx0XHRcdGh0bWwuYXR0cignZGF0YS1ncm91cCcsIGlkKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodGVtcGxhdGVOYW1lID09PSAnb3B0aW9uJyB8fCB0ZW1wbGF0ZU5hbWUgPT09ICdpdGVtJykge1xyXG5cdFx0XHRcdGh0bWwuYXR0cignZGF0YS12YWx1ZScsIHZhbHVlIHx8ICcnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gdXBkYXRlIGNhY2hlXHJcblx0XHRcdGlmIChjYWNoZSkge1xyXG5cdFx0XHRcdHNlbGYucmVuZGVyQ2FjaGVbdGVtcGxhdGVOYW1lXVt2YWx1ZV0gPSBodG1sWzBdO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gaHRtbFswXTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDbGVhcnMgdGhlIHJlbmRlciBjYWNoZSBmb3IgYSB0ZW1wbGF0ZS4gSWZcclxuXHRcdCAqIG5vIHRlbXBsYXRlIGlzIGdpdmVuLCBjbGVhcnMgYWxsIHJlbmRlclxyXG5cdFx0ICogY2FjaGVzLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZU5hbWVcclxuXHRcdCAqL1xyXG5cdFx0Y2xlYXJDYWNoZTogZnVuY3Rpb24odGVtcGxhdGVOYW1lKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0aWYgKHR5cGVvZiB0ZW1wbGF0ZU5hbWUgPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0c2VsZi5yZW5kZXJDYWNoZSA9IHt9O1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGRlbGV0ZSBzZWxmLnJlbmRlckNhY2hlW3RlbXBsYXRlTmFtZV07XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IHRvIGRpc3BsYXkgdGhlXHJcblx0XHQgKiBjcmVhdGUgaXRlbSBwcm9tcHQsIGdpdmVuIGEgdXNlciBpbnB1dC5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gaW5wdXRcclxuXHRcdCAqIEByZXR1cm4ge2Jvb2xlYW59XHJcblx0XHQgKi9cclxuXHRcdGNhbkNyZWF0ZTogZnVuY3Rpb24oaW5wdXQpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRpZiAoIXNlbGYuc2V0dGluZ3MuY3JlYXRlKSByZXR1cm4gZmFsc2U7XHJcblx0XHRcdHZhciBmaWx0ZXIgPSBzZWxmLnNldHRpbmdzLmNyZWF0ZUZpbHRlcjtcclxuXHRcdFx0cmV0dXJuIGlucHV0Lmxlbmd0aFxyXG5cdFx0XHRcdCYmICh0eXBlb2YgZmlsdGVyICE9PSAnZnVuY3Rpb24nIHx8IGZpbHRlci5hcHBseShzZWxmLCBbaW5wdXRdKSlcclxuXHRcdFx0XHQmJiAodHlwZW9mIGZpbHRlciAhPT0gJ3N0cmluZycgfHwgbmV3IFJlZ0V4cChmaWx0ZXIpLnRlc3QoaW5wdXQpKVxyXG5cdFx0XHRcdCYmICghKGZpbHRlciBpbnN0YW5jZW9mIFJlZ0V4cCkgfHwgZmlsdGVyLnRlc3QoaW5wdXQpKTtcclxuXHRcdH1cclxuXHJcblx0fSk7XHJcblxyXG5cclxuXHRTZWxlY3RpemUuY291bnQgPSAwO1xyXG5cdFNlbGVjdGl6ZS5kZWZhdWx0cyA9IHtcclxuXHRcdG9wdGlvbnM6IFtdLFxyXG5cdFx0b3B0Z3JvdXBzOiBbXSxcclxuXHJcblx0XHRwbHVnaW5zOiBbXSxcclxuXHRcdGRlbGltaXRlcjogJywnLFxyXG5cdFx0c3BsaXRPbjogbnVsbCwgLy8gcmVnZXhwIG9yIHN0cmluZyBmb3Igc3BsaXR0aW5nIHVwIHZhbHVlcyBmcm9tIGEgcGFzdGUgY29tbWFuZFxyXG5cdFx0cGVyc2lzdDogdHJ1ZSxcclxuXHRcdGRpYWNyaXRpY3M6IHRydWUsXHJcblx0XHRjcmVhdGU6IGZhbHNlLFxyXG5cdFx0Y3JlYXRlT25CbHVyOiBmYWxzZSxcclxuXHRcdGNyZWF0ZUZpbHRlcjogbnVsbCxcclxuXHRcdGhpZ2hsaWdodDogdHJ1ZSxcclxuXHRcdG9wZW5PbkZvY3VzOiB0cnVlLFxyXG5cdFx0bWF4T3B0aW9uczogMTAwMCxcclxuXHRcdG1heEl0ZW1zOiBudWxsLFxyXG5cdFx0aGlkZVNlbGVjdGVkOiBudWxsLFxyXG5cdFx0YWRkUHJlY2VkZW5jZTogZmFsc2UsXHJcblx0XHRzZWxlY3RPblRhYjogZmFsc2UsXHJcblx0XHRwcmVsb2FkOiBmYWxzZSxcclxuXHRcdGFsbG93RW1wdHlPcHRpb246IGZhbHNlLFxyXG5cdFx0Y2xvc2VBZnRlclNlbGVjdDogZmFsc2UsXHJcblxyXG5cdFx0c2Nyb2xsRHVyYXRpb246IDYwLFxyXG5cdFx0bG9hZFRocm90dGxlOiAzMDAsXHJcblx0XHRsb2FkaW5nQ2xhc3M6ICdsb2FkaW5nJyxcclxuXHJcblx0XHRkYXRhQXR0cjogJ2RhdGEtZGF0YScsXHJcblx0XHRvcHRncm91cEZpZWxkOiAnb3B0Z3JvdXAnLFxyXG5cdFx0dmFsdWVGaWVsZDogJ3ZhbHVlJyxcclxuXHRcdGxhYmVsRmllbGQ6ICd0ZXh0JyxcclxuXHRcdG9wdGdyb3VwTGFiZWxGaWVsZDogJ2xhYmVsJyxcclxuXHRcdG9wdGdyb3VwVmFsdWVGaWVsZDogJ3ZhbHVlJyxcclxuXHRcdGxvY2tPcHRncm91cE9yZGVyOiBmYWxzZSxcclxuXHJcblx0XHRzb3J0RmllbGQ6ICckb3JkZXInLFxyXG5cdFx0c2VhcmNoRmllbGQ6IFsndGV4dCddLFxyXG5cdFx0c2VhcmNoQ29uanVuY3Rpb246ICdhbmQnLFxyXG5cclxuXHRcdG1vZGU6IG51bGwsXHJcblx0XHR3cmFwcGVyQ2xhc3M6ICdzZWxlY3RpemUtY29udHJvbCcsXHJcblx0XHRpbnB1dENsYXNzOiAnc2VsZWN0aXplLWlucHV0JyxcclxuXHRcdGRyb3Bkb3duQ2xhc3M6ICdzZWxlY3RpemUtZHJvcGRvd24nLFxyXG5cdFx0ZHJvcGRvd25Db250ZW50Q2xhc3M6ICdzZWxlY3RpemUtZHJvcGRvd24tY29udGVudCcsXHJcblxyXG5cdFx0ZHJvcGRvd25QYXJlbnQ6IG51bGwsXHJcblxyXG5cdFx0Y29weUNsYXNzZXNUb0Ryb3Bkb3duOiB0cnVlLFxyXG5cclxuXHRcdC8qXHJcblx0XHRsb2FkICAgICAgICAgICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKHF1ZXJ5LCBjYWxsYmFjaykgeyAuLi4gfVxyXG5cdFx0c2NvcmUgICAgICAgICAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbihzZWFyY2gpIHsgLi4uIH1cclxuXHRcdG9uSW5pdGlhbGl6ZSAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24oKSB7IC4uLiB9XHJcblx0XHRvbkNoYW5nZSAgICAgICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKHZhbHVlKSB7IC4uLiB9XHJcblx0XHRvbkl0ZW1BZGQgICAgICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKHZhbHVlLCAkaXRlbSkgeyAuLi4gfVxyXG5cdFx0b25JdGVtUmVtb3ZlICAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbih2YWx1ZSkgeyAuLi4gfVxyXG5cdFx0b25DbGVhciAgICAgICAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbigpIHsgLi4uIH1cclxuXHRcdG9uT3B0aW9uQWRkICAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24odmFsdWUsIGRhdGEpIHsgLi4uIH1cclxuXHRcdG9uT3B0aW9uUmVtb3ZlICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24odmFsdWUpIHsgLi4uIH1cclxuXHRcdG9uT3B0aW9uQ2xlYXIgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24oKSB7IC4uLiB9XHJcblx0XHRvbk9wdGlvbkdyb3VwQWRkICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKGlkLCBkYXRhKSB7IC4uLiB9XHJcblx0XHRvbk9wdGlvbkdyb3VwUmVtb3ZlICA6IG51bGwsIC8vIGZ1bmN0aW9uKGlkKSB7IC4uLiB9XHJcblx0XHRvbk9wdGlvbkdyb3VwQ2xlYXIgICA6IG51bGwsIC8vIGZ1bmN0aW9uKCkgeyAuLi4gfVxyXG5cdFx0b25Ecm9wZG93bk9wZW4gICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbigkZHJvcGRvd24pIHsgLi4uIH1cclxuXHRcdG9uRHJvcGRvd25DbG9zZSAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24oJGRyb3Bkb3duKSB7IC4uLiB9XHJcblx0XHRvblR5cGUgICAgICAgICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKHN0cikgeyAuLi4gfVxyXG5cdFx0b25EZWxldGUgICAgICAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbih2YWx1ZXMpIHsgLi4uIH1cclxuXHRcdCovXHJcblxyXG5cdFx0cmVuZGVyOiB7XHJcblx0XHRcdC8qXHJcblx0XHRcdGl0ZW06IG51bGwsXHJcblx0XHRcdG9wdGdyb3VwOiBudWxsLFxyXG5cdFx0XHRvcHRncm91cF9oZWFkZXI6IG51bGwsXHJcblx0XHRcdG9wdGlvbjogbnVsbCxcclxuXHRcdFx0b3B0aW9uX2NyZWF0ZTogbnVsbFxyXG5cdFx0XHQqL1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cclxuXHQkLmZuLnNlbGVjdGl6ZSA9IGZ1bmN0aW9uKHNldHRpbmdzX3VzZXIpIHtcclxuXHRcdHZhciBkZWZhdWx0cyAgICAgICAgICAgICA9ICQuZm4uc2VsZWN0aXplLmRlZmF1bHRzO1xyXG5cdFx0dmFyIHNldHRpbmdzICAgICAgICAgICAgID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBzZXR0aW5nc191c2VyKTtcclxuXHRcdHZhciBhdHRyX2RhdGEgICAgICAgICAgICA9IHNldHRpbmdzLmRhdGFBdHRyO1xyXG5cdFx0dmFyIGZpZWxkX2xhYmVsICAgICAgICAgID0gc2V0dGluZ3MubGFiZWxGaWVsZDtcclxuXHRcdHZhciBmaWVsZF92YWx1ZSAgICAgICAgICA9IHNldHRpbmdzLnZhbHVlRmllbGQ7XHJcblx0XHR2YXIgZmllbGRfb3B0Z3JvdXAgICAgICAgPSBzZXR0aW5ncy5vcHRncm91cEZpZWxkO1xyXG5cdFx0dmFyIGZpZWxkX29wdGdyb3VwX2xhYmVsID0gc2V0dGluZ3Mub3B0Z3JvdXBMYWJlbEZpZWxkO1xyXG5cdFx0dmFyIGZpZWxkX29wdGdyb3VwX3ZhbHVlID0gc2V0dGluZ3Mub3B0Z3JvdXBWYWx1ZUZpZWxkO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW5pdGlhbGl6ZXMgc2VsZWN0aXplIGZyb20gYSA8aW5wdXQgdHlwZT1cInRleHRcIj4gZWxlbWVudC5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gJGlucHV0XHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3NfZWxlbWVudFxyXG5cdFx0ICovXHJcblx0XHR2YXIgaW5pdF90ZXh0Ym94ID0gZnVuY3Rpb24oJGlucHV0LCBzZXR0aW5nc19lbGVtZW50KSB7XHJcblx0XHRcdHZhciBpLCBuLCB2YWx1ZXMsIG9wdGlvbjtcclxuXHJcblx0XHRcdHZhciBkYXRhX3JhdyA9ICRpbnB1dC5hdHRyKGF0dHJfZGF0YSk7XHJcblxyXG5cdFx0XHRpZiAoIWRhdGFfcmF3KSB7XHJcblx0XHRcdFx0dmFyIHZhbHVlID0gJC50cmltKCRpbnB1dC52YWwoKSB8fCAnJyk7XHJcblx0XHRcdFx0aWYgKCFzZXR0aW5ncy5hbGxvd0VtcHR5T3B0aW9uICYmICF2YWx1ZS5sZW5ndGgpIHJldHVybjtcclxuXHRcdFx0XHR2YWx1ZXMgPSB2YWx1ZS5zcGxpdChzZXR0aW5ncy5kZWxpbWl0ZXIpO1xyXG5cdFx0XHRcdGZvciAoaSA9IDAsIG4gPSB2YWx1ZXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0XHRvcHRpb24gPSB7fTtcclxuXHRcdFx0XHRcdG9wdGlvbltmaWVsZF9sYWJlbF0gPSB2YWx1ZXNbaV07XHJcblx0XHRcdFx0XHRvcHRpb25bZmllbGRfdmFsdWVdID0gdmFsdWVzW2ldO1xyXG5cdFx0XHRcdFx0c2V0dGluZ3NfZWxlbWVudC5vcHRpb25zLnB1c2gob3B0aW9uKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c2V0dGluZ3NfZWxlbWVudC5pdGVtcyA9IHZhbHVlcztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRzZXR0aW5nc19lbGVtZW50Lm9wdGlvbnMgPSBKU09OLnBhcnNlKGRhdGFfcmF3KTtcclxuXHRcdFx0XHRmb3IgKGkgPSAwLCBuID0gc2V0dGluZ3NfZWxlbWVudC5vcHRpb25zLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdFx0c2V0dGluZ3NfZWxlbWVudC5pdGVtcy5wdXNoKHNldHRpbmdzX2VsZW1lbnQub3B0aW9uc1tpXVtmaWVsZF92YWx1ZV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluaXRpYWxpemVzIHNlbGVjdGl6ZSBmcm9tIGEgPHNlbGVjdD4gZWxlbWVudC5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gJGlucHV0XHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3NfZWxlbWVudFxyXG5cdFx0ICovXHJcblx0XHR2YXIgaW5pdF9zZWxlY3QgPSBmdW5jdGlvbigkaW5wdXQsIHNldHRpbmdzX2VsZW1lbnQpIHtcclxuXHRcdFx0dmFyIGksIG4sIHRhZ05hbWUsICRjaGlsZHJlbiwgb3JkZXIgPSAwO1xyXG5cdFx0XHR2YXIgb3B0aW9ucyA9IHNldHRpbmdzX2VsZW1lbnQub3B0aW9ucztcclxuXHRcdFx0dmFyIG9wdGlvbnNNYXAgPSB7fTtcclxuXHJcblx0XHRcdHZhciByZWFkRGF0YSA9IGZ1bmN0aW9uKCRlbCkge1xyXG5cdFx0XHRcdHZhciBkYXRhID0gYXR0cl9kYXRhICYmICRlbC5hdHRyKGF0dHJfZGF0YSk7XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyAmJiBkYXRhLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0dmFyIGFkZE9wdGlvbiA9IGZ1bmN0aW9uKCRvcHRpb24sIGdyb3VwKSB7XHJcblx0XHRcdFx0JG9wdGlvbiA9ICQoJG9wdGlvbik7XHJcblxyXG5cdFx0XHRcdHZhciB2YWx1ZSA9IGhhc2hfa2V5KCRvcHRpb24udmFsKCkpO1xyXG5cdFx0XHRcdGlmICghdmFsdWUgJiYgIXNldHRpbmdzLmFsbG93RW1wdHlPcHRpb24pIHJldHVybjtcclxuXHJcblx0XHRcdFx0Ly8gaWYgdGhlIG9wdGlvbiBhbHJlYWR5IGV4aXN0cywgaXQncyBwcm9iYWJseSBiZWVuXHJcblx0XHRcdFx0Ly8gZHVwbGljYXRlZCBpbiBhbm90aGVyIG9wdGdyb3VwLiBpbiB0aGlzIGNhc2UsIHB1c2hcclxuXHRcdFx0XHQvLyB0aGUgY3VycmVudCBncm91cCB0byB0aGUgXCJvcHRncm91cFwiIHByb3BlcnR5IG9uIHRoZVxyXG5cdFx0XHRcdC8vIGV4aXN0aW5nIG9wdGlvbiBzbyB0aGF0IGl0J3MgcmVuZGVyZWQgaW4gYm90aCBwbGFjZXMuXHJcblx0XHRcdFx0aWYgKG9wdGlvbnNNYXAuaGFzT3duUHJvcGVydHkodmFsdWUpKSB7XHJcblx0XHRcdFx0XHRpZiAoZ3JvdXApIHtcclxuXHRcdFx0XHRcdFx0dmFyIGFyciA9IG9wdGlvbnNNYXBbdmFsdWVdW2ZpZWxkX29wdGdyb3VwXTtcclxuXHRcdFx0XHRcdFx0aWYgKCFhcnIpIHtcclxuXHRcdFx0XHRcdFx0XHRvcHRpb25zTWFwW3ZhbHVlXVtmaWVsZF9vcHRncm91cF0gPSBncm91cDtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICghJC5pc0FycmF5KGFycikpIHtcclxuXHRcdFx0XHRcdFx0XHRvcHRpb25zTWFwW3ZhbHVlXVtmaWVsZF9vcHRncm91cF0gPSBbYXJyLCBncm91cF07XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0YXJyLnB1c2goZ3JvdXApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR2YXIgb3B0aW9uICAgICAgICAgICAgID0gcmVhZERhdGEoJG9wdGlvbikgfHwge307XHJcblx0XHRcdFx0b3B0aW9uW2ZpZWxkX2xhYmVsXSAgICA9IG9wdGlvbltmaWVsZF9sYWJlbF0gfHwgJG9wdGlvbi50ZXh0KCk7XHJcblx0XHRcdFx0b3B0aW9uW2ZpZWxkX3ZhbHVlXSAgICA9IG9wdGlvbltmaWVsZF92YWx1ZV0gfHwgdmFsdWU7XHJcblx0XHRcdFx0b3B0aW9uW2ZpZWxkX29wdGdyb3VwXSA9IG9wdGlvbltmaWVsZF9vcHRncm91cF0gfHwgZ3JvdXA7XHJcblxyXG5cdFx0XHRcdG9wdGlvbnNNYXBbdmFsdWVdID0gb3B0aW9uO1xyXG5cdFx0XHRcdG9wdGlvbnMucHVzaChvcHRpb24pO1xyXG5cclxuXHRcdFx0XHRpZiAoJG9wdGlvbi5pcygnOnNlbGVjdGVkJykpIHtcclxuXHRcdFx0XHRcdHNldHRpbmdzX2VsZW1lbnQuaXRlbXMucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0dmFyIGFkZEdyb3VwID0gZnVuY3Rpb24oJG9wdGdyb3VwKSB7XHJcblx0XHRcdFx0dmFyIGksIG4sIGlkLCBvcHRncm91cCwgJG9wdGlvbnM7XHJcblxyXG5cdFx0XHRcdCRvcHRncm91cCA9ICQoJG9wdGdyb3VwKTtcclxuXHRcdFx0XHRpZCA9ICRvcHRncm91cC5hdHRyKCdsYWJlbCcpO1xyXG5cclxuXHRcdFx0XHRpZiAoaWQpIHtcclxuXHRcdFx0XHRcdG9wdGdyb3VwID0gcmVhZERhdGEoJG9wdGdyb3VwKSB8fCB7fTtcclxuXHRcdFx0XHRcdG9wdGdyb3VwW2ZpZWxkX29wdGdyb3VwX2xhYmVsXSA9IGlkO1xyXG5cdFx0XHRcdFx0b3B0Z3JvdXBbZmllbGRfb3B0Z3JvdXBfdmFsdWVdID0gaWQ7XHJcblx0XHRcdFx0XHRzZXR0aW5nc19lbGVtZW50Lm9wdGdyb3Vwcy5wdXNoKG9wdGdyb3VwKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdCRvcHRpb25zID0gJCgnb3B0aW9uJywgJG9wdGdyb3VwKTtcclxuXHRcdFx0XHRmb3IgKGkgPSAwLCBuID0gJG9wdGlvbnMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0XHRhZGRPcHRpb24oJG9wdGlvbnNbaV0sIGlkKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRzZXR0aW5nc19lbGVtZW50Lm1heEl0ZW1zID0gJGlucHV0LmF0dHIoJ211bHRpcGxlJykgPyBudWxsIDogMTtcclxuXHJcblx0XHRcdCRjaGlsZHJlbiA9ICRpbnB1dC5jaGlsZHJlbigpO1xyXG5cdFx0XHRmb3IgKGkgPSAwLCBuID0gJGNoaWxkcmVuLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdHRhZ05hbWUgPSAkY2hpbGRyZW5baV0udGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0XHRcdGlmICh0YWdOYW1lID09PSAnb3B0Z3JvdXAnKSB7XHJcblx0XHRcdFx0XHRhZGRHcm91cCgkY2hpbGRyZW5baV0pO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAodGFnTmFtZSA9PT0gJ29wdGlvbicpIHtcclxuXHRcdFx0XHRcdGFkZE9wdGlvbigkY2hpbGRyZW5baV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAodGhpcy5zZWxlY3RpemUpIHJldHVybjtcclxuXHJcblx0XHRcdHZhciBpbnN0YW5jZTtcclxuXHRcdFx0dmFyICRpbnB1dCA9ICQodGhpcyk7XHJcblx0XHRcdHZhciB0YWdfbmFtZSA9IHRoaXMudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0XHR2YXIgcGxhY2Vob2xkZXIgPSAkaW5wdXQuYXR0cigncGxhY2Vob2xkZXInKSB8fCAkaW5wdXQuYXR0cignZGF0YS1wbGFjZWhvbGRlcicpO1xyXG5cdFx0XHRpZiAoIXBsYWNlaG9sZGVyICYmICFzZXR0aW5ncy5hbGxvd0VtcHR5T3B0aW9uKSB7XHJcblx0XHRcdFx0cGxhY2Vob2xkZXIgPSAkaW5wdXQuY2hpbGRyZW4oJ29wdGlvblt2YWx1ZT1cIlwiXScpLnRleHQoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIHNldHRpbmdzX2VsZW1lbnQgPSB7XHJcblx0XHRcdFx0J3BsYWNlaG9sZGVyJyA6IHBsYWNlaG9sZGVyLFxyXG5cdFx0XHRcdCdvcHRpb25zJyAgICAgOiBbXSxcclxuXHRcdFx0XHQnb3B0Z3JvdXBzJyAgIDogW10sXHJcblx0XHRcdFx0J2l0ZW1zJyAgICAgICA6IFtdXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRpZiAodGFnX25hbWUgPT09ICdzZWxlY3QnKSB7XHJcblx0XHRcdFx0aW5pdF9zZWxlY3QoJGlucHV0LCBzZXR0aW5nc19lbGVtZW50KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpbml0X3RleHRib3goJGlucHV0LCBzZXR0aW5nc19lbGVtZW50KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aW5zdGFuY2UgPSBuZXcgU2VsZWN0aXplKCRpbnB1dCwgJC5leHRlbmQodHJ1ZSwge30sIGRlZmF1bHRzLCBzZXR0aW5nc19lbGVtZW50LCBzZXR0aW5nc191c2VyKSk7XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQkLmZuLnNlbGVjdGl6ZS5kZWZhdWx0cyA9IFNlbGVjdGl6ZS5kZWZhdWx0cztcclxuXHQkLmZuLnNlbGVjdGl6ZS5zdXBwb3J0ID0ge1xyXG5cdFx0dmFsaWRpdHk6IFNVUFBPUlRTX1ZBTElESVRZX0FQSVxyXG5cdH07XHJcblxyXG5cclxuXHRTZWxlY3RpemUuZGVmaW5lKCdkcmFnX2Ryb3AnLCBmdW5jdGlvbihvcHRpb25zKSB7XHJcblx0XHRpZiAoISQuZm4uc29ydGFibGUpIHRocm93IG5ldyBFcnJvcignVGhlIFwiZHJhZ19kcm9wXCIgcGx1Z2luIHJlcXVpcmVzIGpRdWVyeSBVSSBcInNvcnRhYmxlXCIuJyk7XHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5tb2RlICE9PSAnbXVsdGknKSByZXR1cm47XHJcblx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0c2VsZi5sb2NrID0gKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLmxvY2s7XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2YXIgc29ydGFibGUgPSBzZWxmLiRjb250cm9sLmRhdGEoJ3NvcnRhYmxlJyk7XHJcblx0XHRcdFx0aWYgKHNvcnRhYmxlKSBzb3J0YWJsZS5kaXNhYmxlKCk7XHJcblx0XHRcdFx0cmV0dXJuIG9yaWdpbmFsLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XHJcblx0XHRcdH07XHJcblx0XHR9KSgpO1xyXG5cclxuXHRcdHNlbGYudW5sb2NrID0gKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLnVubG9jaztcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHZhciBzb3J0YWJsZSA9IHNlbGYuJGNvbnRyb2wuZGF0YSgnc29ydGFibGUnKTtcclxuXHRcdFx0XHRpZiAoc29ydGFibGUpIHNvcnRhYmxlLmVuYWJsZSgpO1xyXG5cdFx0XHRcdHJldHVybiBvcmlnaW5hbC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSkoKTtcclxuXHJcblx0XHRzZWxmLnNldHVwID0gKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLnNldHVwO1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0b3JpZ2luYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHJcblx0XHRcdFx0dmFyICRjb250cm9sID0gc2VsZi4kY29udHJvbC5zb3J0YWJsZSh7XHJcblx0XHRcdFx0XHRpdGVtczogJ1tkYXRhLXZhbHVlXScsXHJcblx0XHRcdFx0XHRmb3JjZVBsYWNlaG9sZGVyU2l6ZTogdHJ1ZSxcclxuXHRcdFx0XHRcdGRpc2FibGVkOiBzZWxmLmlzTG9ja2VkLFxyXG5cdFx0XHRcdFx0c3RhcnQ6IGZ1bmN0aW9uKGUsIHVpKSB7XHJcblx0XHRcdFx0XHRcdHVpLnBsYWNlaG9sZGVyLmNzcygnd2lkdGgnLCB1aS5oZWxwZXIuY3NzKCd3aWR0aCcpKTtcclxuXHRcdFx0XHRcdFx0JGNvbnRyb2wuY3NzKHtvdmVyZmxvdzogJ3Zpc2libGUnfSk7XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0c3RvcDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdCRjb250cm9sLmNzcyh7b3ZlcmZsb3c6ICdoaWRkZW4nfSk7XHJcblx0XHRcdFx0XHRcdHZhciBhY3RpdmUgPSBzZWxmLiRhY3RpdmVJdGVtcyA/IHNlbGYuJGFjdGl2ZUl0ZW1zLnNsaWNlKCkgOiBudWxsO1xyXG5cdFx0XHRcdFx0XHR2YXIgdmFsdWVzID0gW107XHJcblx0XHRcdFx0XHRcdCRjb250cm9sLmNoaWxkcmVuKCdbZGF0YS12YWx1ZV0nKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdHZhbHVlcy5wdXNoKCQodGhpcykuYXR0cignZGF0YS12YWx1ZScpKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdHNlbGYuc2V0VmFsdWUodmFsdWVzKTtcclxuXHRcdFx0XHRcdFx0c2VsZi5zZXRBY3RpdmVJdGVtKGFjdGl2ZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH07XHJcblx0XHR9KSgpO1xyXG5cclxuXHR9KTtcclxuXHJcblx0U2VsZWN0aXplLmRlZmluZSgnZHJvcGRvd25faGVhZGVyJywgZnVuY3Rpb24ob3B0aW9ucykge1xyXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdG9wdGlvbnMgPSAkLmV4dGVuZCh7XHJcblx0XHRcdHRpdGxlICAgICAgICAgOiAnVW50aXRsZWQnLFxyXG5cdFx0XHRoZWFkZXJDbGFzcyAgIDogJ3NlbGVjdGl6ZS1kcm9wZG93bi1oZWFkZXInLFxyXG5cdFx0XHR0aXRsZVJvd0NsYXNzIDogJ3NlbGVjdGl6ZS1kcm9wZG93bi1oZWFkZXItdGl0bGUnLFxyXG5cdFx0XHRsYWJlbENsYXNzICAgIDogJ3NlbGVjdGl6ZS1kcm9wZG93bi1oZWFkZXItbGFiZWwnLFxyXG5cdFx0XHRjbG9zZUNsYXNzICAgIDogJ3NlbGVjdGl6ZS1kcm9wZG93bi1oZWFkZXItY2xvc2UnLFxyXG5cclxuXHRcdFx0aHRtbDogZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0XHRcdHJldHVybiAoXHJcblx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIicgKyBkYXRhLmhlYWRlckNsYXNzICsgJ1wiPicgK1xyXG5cdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIicgKyBkYXRhLnRpdGxlUm93Q2xhc3MgKyAnXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0JzxzcGFuIGNsYXNzPVwiJyArIGRhdGEubGFiZWxDbGFzcyArICdcIj4nICsgZGF0YS50aXRsZSArICc8L3NwYW4+JyArXHJcblx0XHRcdFx0XHRcdFx0JzxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBjbGFzcz1cIicgKyBkYXRhLmNsb3NlQ2xhc3MgKyAnXCI+JnRpbWVzOzwvYT4nICtcclxuXHRcdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdFx0JzwvZGl2PidcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9LCBvcHRpb25zKTtcclxuXHJcblx0XHRzZWxmLnNldHVwID0gKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLnNldHVwO1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0b3JpZ2luYWwuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcclxuXHRcdFx0XHRzZWxmLiRkcm9wZG93bl9oZWFkZXIgPSAkKG9wdGlvbnMuaHRtbChvcHRpb25zKSk7XHJcblx0XHRcdFx0c2VsZi4kZHJvcGRvd24ucHJlcGVuZChzZWxmLiRkcm9wZG93bl9oZWFkZXIpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSkoKTtcclxuXHJcblx0fSk7XHJcblxyXG5cdFNlbGVjdGl6ZS5kZWZpbmUoJ29wdGdyb3VwX2NvbHVtbnMnLCBmdW5jdGlvbihvcHRpb25zKSB7XHJcblx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0b3B0aW9ucyA9ICQuZXh0ZW5kKHtcclxuXHRcdFx0ZXF1YWxpemVXaWR0aCAgOiB0cnVlLFxyXG5cdFx0XHRlcXVhbGl6ZUhlaWdodCA6IHRydWVcclxuXHRcdH0sIG9wdGlvbnMpO1xyXG5cclxuXHRcdHRoaXMuZ2V0QWRqYWNlbnRPcHRpb24gPSBmdW5jdGlvbigkb3B0aW9uLCBkaXJlY3Rpb24pIHtcclxuXHRcdFx0dmFyICRvcHRpb25zID0gJG9wdGlvbi5jbG9zZXN0KCdbZGF0YS1ncm91cF0nKS5maW5kKCdbZGF0YS1zZWxlY3RhYmxlXScpO1xyXG5cdFx0XHR2YXIgaW5kZXggICAgPSAkb3B0aW9ucy5pbmRleCgkb3B0aW9uKSArIGRpcmVjdGlvbjtcclxuXHJcblx0XHRcdHJldHVybiBpbmRleCA+PSAwICYmIGluZGV4IDwgJG9wdGlvbnMubGVuZ3RoID8gJG9wdGlvbnMuZXEoaW5kZXgpIDogJCgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLm9uS2V5RG93biA9IChmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIG9yaWdpbmFsID0gc2VsZi5vbktleURvd247XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0dmFyIGluZGV4LCAkb3B0aW9uLCAkb3B0aW9ucywgJG9wdGdyb3VwO1xyXG5cclxuXHRcdFx0XHRpZiAodGhpcy5pc09wZW4gJiYgKGUua2V5Q29kZSA9PT0gS0VZX0xFRlQgfHwgZS5rZXlDb2RlID09PSBLRVlfUklHSFQpKSB7XHJcblx0XHRcdFx0XHRzZWxmLmlnbm9yZUhvdmVyID0gdHJ1ZTtcclxuXHRcdFx0XHRcdCRvcHRncm91cCA9IHRoaXMuJGFjdGl2ZU9wdGlvbi5jbG9zZXN0KCdbZGF0YS1ncm91cF0nKTtcclxuXHRcdFx0XHRcdGluZGV4ID0gJG9wdGdyb3VwLmZpbmQoJ1tkYXRhLXNlbGVjdGFibGVdJykuaW5kZXgodGhpcy4kYWN0aXZlT3B0aW9uKTtcclxuXHJcblx0XHRcdFx0XHRpZihlLmtleUNvZGUgPT09IEtFWV9MRUZUKSB7XHJcblx0XHRcdFx0XHRcdCRvcHRncm91cCA9ICRvcHRncm91cC5wcmV2KCdbZGF0YS1ncm91cF0nKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdCRvcHRncm91cCA9ICRvcHRncm91cC5uZXh0KCdbZGF0YS1ncm91cF0nKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQkb3B0aW9ucyA9ICRvcHRncm91cC5maW5kKCdbZGF0YS1zZWxlY3RhYmxlXScpO1xyXG5cdFx0XHRcdFx0JG9wdGlvbiAgPSAkb3B0aW9ucy5lcShNYXRoLm1pbigkb3B0aW9ucy5sZW5ndGggLSAxLCBpbmRleCkpO1xyXG5cdFx0XHRcdFx0aWYgKCRvcHRpb24ubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuc2V0QWN0aXZlT3B0aW9uKCRvcHRpb24pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdH07XHJcblx0XHR9KSgpO1xyXG5cclxuXHRcdHZhciBnZXRTY3JvbGxiYXJXaWR0aCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgZGl2O1xyXG5cdFx0XHR2YXIgd2lkdGggPSBnZXRTY3JvbGxiYXJXaWR0aC53aWR0aDtcclxuXHRcdFx0dmFyIGRvYyA9IGRvY3VtZW50O1xyXG5cclxuXHRcdFx0aWYgKHR5cGVvZiB3aWR0aCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRkaXYgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9ICc8ZGl2IHN0eWxlPVwid2lkdGg6NTBweDtoZWlnaHQ6NTBweDtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi01MHB4O3RvcDotNTBweDtvdmVyZmxvdzphdXRvO1wiPjxkaXYgc3R5bGU9XCJ3aWR0aDoxcHg7aGVpZ2h0OjEwMHB4O1wiPjwvZGl2PjwvZGl2Pic7XHJcblx0XHRcdFx0ZGl2ID0gZGl2LmZpcnN0Q2hpbGQ7XHJcblx0XHRcdFx0ZG9jLmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcclxuXHRcdFx0XHR3aWR0aCA9IGdldFNjcm9sbGJhcldpZHRoLndpZHRoID0gZGl2Lm9mZnNldFdpZHRoIC0gZGl2LmNsaWVudFdpZHRoO1xyXG5cdFx0XHRcdGRvYy5ib2R5LnJlbW92ZUNoaWxkKGRpdik7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHdpZHRoO1xyXG5cdFx0fTtcclxuXHJcblx0XHR2YXIgZXF1YWxpemVTaXplcyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgaSwgbiwgaGVpZ2h0X21heCwgd2lkdGgsIHdpZHRoX2xhc3QsIHdpZHRoX3BhcmVudCwgJG9wdGdyb3VwcztcclxuXHJcblx0XHRcdCRvcHRncm91cHMgPSAkKCdbZGF0YS1ncm91cF0nLCBzZWxmLiRkcm9wZG93bl9jb250ZW50KTtcclxuXHRcdFx0biA9ICRvcHRncm91cHMubGVuZ3RoO1xyXG5cdFx0XHRpZiAoIW4gfHwgIXNlbGYuJGRyb3Bkb3duX2NvbnRlbnQud2lkdGgoKSkgcmV0dXJuO1xyXG5cclxuXHRcdFx0aWYgKG9wdGlvbnMuZXF1YWxpemVIZWlnaHQpIHtcclxuXHRcdFx0XHRoZWlnaHRfbWF4ID0gMDtcclxuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0XHRoZWlnaHRfbWF4ID0gTWF0aC5tYXgoaGVpZ2h0X21heCwgJG9wdGdyb3Vwcy5lcShpKS5oZWlnaHQoKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRvcHRncm91cHMuY3NzKHtoZWlnaHQ6IGhlaWdodF9tYXh9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKG9wdGlvbnMuZXF1YWxpemVXaWR0aCkge1xyXG5cdFx0XHRcdHdpZHRoX3BhcmVudCA9IHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQuaW5uZXJXaWR0aCgpIC0gZ2V0U2Nyb2xsYmFyV2lkdGgoKTtcclxuXHRcdFx0XHR3aWR0aCA9IE1hdGgucm91bmQod2lkdGhfcGFyZW50IC8gbik7XHJcblx0XHRcdFx0JG9wdGdyb3Vwcy5jc3Moe3dpZHRoOiB3aWR0aH0pO1xyXG5cdFx0XHRcdGlmIChuID4gMSkge1xyXG5cdFx0XHRcdFx0d2lkdGhfbGFzdCA9IHdpZHRoX3BhcmVudCAtIHdpZHRoICogKG4gLSAxKTtcclxuXHRcdFx0XHRcdCRvcHRncm91cHMuZXEobiAtIDEpLmNzcyh7d2lkdGg6IHdpZHRoX2xhc3R9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMuZXF1YWxpemVIZWlnaHQgfHwgb3B0aW9ucy5lcXVhbGl6ZVdpZHRoKSB7XHJcblx0XHRcdGhvb2suYWZ0ZXIodGhpcywgJ3Bvc2l0aW9uRHJvcGRvd24nLCBlcXVhbGl6ZVNpemVzKTtcclxuXHRcdFx0aG9vay5hZnRlcih0aGlzLCAncmVmcmVzaE9wdGlvbnMnLCBlcXVhbGl6ZVNpemVzKTtcclxuXHRcdH1cclxuXHJcblxyXG5cdH0pO1xyXG5cclxuXHRTZWxlY3RpemUuZGVmaW5lKCdyZW1vdmVfYnV0dG9uJywgZnVuY3Rpb24ob3B0aW9ucykge1xyXG5cdFx0b3B0aW9ucyA9ICQuZXh0ZW5kKHtcclxuXHRcdFx0XHRsYWJlbCAgICAgOiAnJnRpbWVzOycsXHJcblx0XHRcdFx0dGl0bGUgICAgIDogJ1JlbW92ZScsXHJcblx0XHRcdFx0Y2xhc3NOYW1lIDogJ3JlbW92ZScsXHJcblx0XHRcdFx0YXBwZW5kICAgIDogdHJ1ZVxyXG5cdFx0XHR9LCBvcHRpb25zKTtcclxuXHJcblx0XHRcdHZhciBzaW5nbGVDbG9zZSA9IGZ1bmN0aW9uKHRoaXNSZWYsIG9wdGlvbnMpIHtcclxuXHJcblx0XHRcdFx0b3B0aW9ucy5jbGFzc05hbWUgPSAncmVtb3ZlLXNpbmdsZSc7XHJcblxyXG5cdFx0XHRcdHZhciBzZWxmID0gdGhpc1JlZjtcclxuXHRcdFx0XHR2YXIgaHRtbCA9ICc8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgY2xhc3M9XCInICsgb3B0aW9ucy5jbGFzc05hbWUgKyAnXCIgdGFiaW5kZXg9XCItMVwiIHRpdGxlPVwiJyArIGVzY2FwZV9odG1sKG9wdGlvbnMudGl0bGUpICsgJ1wiPicgKyBvcHRpb25zLmxhYmVsICsgJzwvYT4nO1xyXG5cclxuXHRcdFx0XHQvKipcclxuXHRcdFx0XHQgKiBBcHBlbmRzIGFuIGVsZW1lbnQgYXMgYSBjaGlsZCAod2l0aCByYXcgSFRNTCkuXHJcblx0XHRcdFx0ICpcclxuXHRcdFx0XHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbF9jb250YWluZXJcclxuXHRcdFx0XHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbF9lbGVtZW50XHJcblx0XHRcdFx0ICogQHJldHVybiB7c3RyaW5nfVxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdHZhciBhcHBlbmQgPSBmdW5jdGlvbihodG1sX2NvbnRhaW5lciwgaHRtbF9lbGVtZW50KSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gaHRtbF9jb250YWluZXIgKyBodG1sX2VsZW1lbnQ7XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0dGhpc1JlZi5zZXR1cCA9IChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdHZhciBvcmlnaW5hbCA9IHNlbGYuc2V0dXA7XHJcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdC8vIG92ZXJyaWRlIHRoZSBpdGVtIHJlbmRlcmluZyBtZXRob2QgdG8gYWRkIHRoZSBidXR0b24gdG8gZWFjaFxyXG5cdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5hcHBlbmQpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgaWQgPSAkKHNlbGYuJGlucHV0LmNvbnRleHQpLmF0dHIoJ2lkJyk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIHNlbGVjdGl6ZXIgPSAkKCcjJytpZCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdHZhciByZW5kZXJfaXRlbSA9IHNlbGYuc2V0dGluZ3MucmVuZGVyLml0ZW07XHJcblx0XHRcdFx0XHRcdFx0c2VsZi5zZXR0aW5ncy5yZW5kZXIuaXRlbSA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBhcHBlbmQocmVuZGVyX2l0ZW0uYXBwbHkodGhpc1JlZiwgYXJndW1lbnRzKSwgaHRtbCk7XHJcblx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0b3JpZ2luYWwuYXBwbHkodGhpc1JlZiwgYXJndW1lbnRzKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIGFkZCBldmVudCBsaXN0ZW5lclxyXG5cdFx0XHRcdFx0XHR0aGlzUmVmLiRjb250cm9sLm9uKCdjbGljaycsICcuJyArIG9wdGlvbnMuY2xhc3NOYW1lLCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChzZWxmLmlzTG9ja2VkKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0XHRcdHNlbGYuY2xlYXIoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9KSgpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0dmFyIG11bHRpQ2xvc2UgPSBmdW5jdGlvbih0aGlzUmVmLCBvcHRpb25zKSB7XHJcblxyXG5cdFx0XHRcdHZhciBzZWxmID0gdGhpc1JlZjtcclxuXHRcdFx0XHR2YXIgaHRtbCA9ICc8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgY2xhc3M9XCInICsgb3B0aW9ucy5jbGFzc05hbWUgKyAnXCIgdGFiaW5kZXg9XCItMVwiIHRpdGxlPVwiJyArIGVzY2FwZV9odG1sKG9wdGlvbnMudGl0bGUpICsgJ1wiPicgKyBvcHRpb25zLmxhYmVsICsgJzwvYT4nO1xyXG5cclxuXHRcdFx0XHQvKipcclxuXHRcdFx0XHQgKiBBcHBlbmRzIGFuIGVsZW1lbnQgYXMgYSBjaGlsZCAod2l0aCByYXcgSFRNTCkuXHJcblx0XHRcdFx0ICpcclxuXHRcdFx0XHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbF9jb250YWluZXJcclxuXHRcdFx0XHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbF9lbGVtZW50XHJcblx0XHRcdFx0ICogQHJldHVybiB7c3RyaW5nfVxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdHZhciBhcHBlbmQgPSBmdW5jdGlvbihodG1sX2NvbnRhaW5lciwgaHRtbF9lbGVtZW50KSB7XHJcblx0XHRcdFx0XHR2YXIgcG9zID0gaHRtbF9jb250YWluZXIuc2VhcmNoKC8oPFxcL1tePl0rPlxccyopJC8pO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGh0bWxfY29udGFpbmVyLnN1YnN0cmluZygwLCBwb3MpICsgaHRtbF9lbGVtZW50ICsgaHRtbF9jb250YWluZXIuc3Vic3RyaW5nKHBvcyk7XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0dGhpc1JlZi5zZXR1cCA9IChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdHZhciBvcmlnaW5hbCA9IHNlbGYuc2V0dXA7XHJcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdC8vIG92ZXJyaWRlIHRoZSBpdGVtIHJlbmRlcmluZyBtZXRob2QgdG8gYWRkIHRoZSBidXR0b24gdG8gZWFjaFxyXG5cdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5hcHBlbmQpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgcmVuZGVyX2l0ZW0gPSBzZWxmLnNldHRpbmdzLnJlbmRlci5pdGVtO1xyXG5cdFx0XHRcdFx0XHRcdHNlbGYuc2V0dGluZ3MucmVuZGVyLml0ZW0gPSBmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gYXBwZW5kKHJlbmRlcl9pdGVtLmFwcGx5KHRoaXNSZWYsIGFyZ3VtZW50cyksIGh0bWwpO1xyXG5cdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdG9yaWdpbmFsLmFwcGx5KHRoaXNSZWYsIGFyZ3VtZW50cyk7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBhZGQgZXZlbnQgbGlzdGVuZXJcclxuXHRcdFx0XHRcdFx0dGhpc1JlZi4kY29udHJvbC5vbignY2xpY2snLCAnLicgKyBvcHRpb25zLmNsYXNzTmFtZSwgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoc2VsZi5pc0xvY2tlZCkgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHRcdFx0XHR2YXIgJGl0ZW0gPSAkKGUuY3VycmVudFRhcmdldCkucGFyZW50KCk7XHJcblx0XHRcdFx0XHRcdFx0c2VsZi5zZXRBY3RpdmVJdGVtKCRpdGVtKTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoc2VsZi5kZWxldGVTZWxlY3Rpb24oKSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0c2VsZi5zZXRDYXJldChzZWxmLml0ZW1zLmxlbmd0aCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH0pKCk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5tb2RlID09PSAnc2luZ2xlJykge1xyXG5cdFx0XHRcdHNpbmdsZUNsb3NlKHRoaXMsIG9wdGlvbnMpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRtdWx0aUNsb3NlKHRoaXMsIG9wdGlvbnMpO1xyXG5cdFx0XHR9XHJcblx0fSk7XHJcblxyXG5cclxuXHRTZWxlY3RpemUuZGVmaW5lKCdyZXN0b3JlX29uX2JhY2tzcGFjZScsIGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuXHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRvcHRpb25zLnRleHQgPSBvcHRpb25zLnRleHQgfHwgZnVuY3Rpb24ob3B0aW9uKSB7XHJcblx0XHRcdHJldHVybiBvcHRpb25bdGhpcy5zZXR0aW5ncy5sYWJlbEZpZWxkXTtcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5vbktleURvd24gPSAoZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBvcmlnaW5hbCA9IHNlbGYub25LZXlEb3duO1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdHZhciBpbmRleCwgb3B0aW9uO1xyXG5cdFx0XHRcdGlmIChlLmtleUNvZGUgPT09IEtFWV9CQUNLU1BBQ0UgJiYgdGhpcy4kY29udHJvbF9pbnB1dC52YWwoKSA9PT0gJycgJiYgIXRoaXMuJGFjdGl2ZUl0ZW1zLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0aW5kZXggPSB0aGlzLmNhcmV0UG9zIC0gMTtcclxuXHRcdFx0XHRcdGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5pdGVtcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0b3B0aW9uID0gdGhpcy5vcHRpb25zW3RoaXMuaXRlbXNbaW5kZXhdXTtcclxuXHRcdFx0XHRcdFx0aWYgKHRoaXMuZGVsZXRlU2VsZWN0aW9uKGUpKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5zZXRUZXh0Ym94VmFsdWUob3B0aW9ucy50ZXh0LmFwcGx5KHRoaXMsIFtvcHRpb25dKSk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5yZWZyZXNoT3B0aW9ucyh0cnVlKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdH07XHJcblx0XHR9KSgpO1xyXG5cdH0pO1xyXG5cclxuXHJcblx0cmV0dXJuIFNlbGVjdGl6ZTtcclxufSkpO1xyXG4iLCIvKiFcclxuICogY2xpcGJvYXJkLmpzIHYxLjUuMTJcclxuICogaHR0cHM6Ly96ZW5vcm9jaGEuZ2l0aHViLmlvL2NsaXBib2FyZC5qc1xyXG4gKlxyXG4gKiBMaWNlbnNlZCBNSVQgwqkgWmVubyBSb2NoYVxyXG4gKi9cclxuKGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09XCJvYmplY3RcIiYmdHlwZW9mIG1vZHVsZSE9PVwidW5kZWZpbmVkXCIpe21vZHVsZS5leHBvcnRzPWYoKX1lbHNlIGlmKHR5cGVvZiBkZWZpbmU9PT1cImZ1bmN0aW9uXCImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT1cInVuZGVmaW5lZFwiKXtnPXdpbmRvd31lbHNlIGlmKHR5cGVvZiBnbG9iYWwhPT1cInVuZGVmaW5lZFwiKXtnPWdsb2JhbH1lbHNlIGlmKHR5cGVvZiBzZWxmIT09XCJ1bmRlZmluZWRcIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuQ2xpcGJvYXJkID0gZigpfX0pKGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xyXG52YXIgbWF0Y2hlcyA9IHJlcXVpcmUoJ21hdGNoZXMtc2VsZWN0b3InKVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZWxlbWVudCwgc2VsZWN0b3IsIGNoZWNrWW9TZWxmKSB7XHJcbiAgdmFyIHBhcmVudCA9IGNoZWNrWW9TZWxmID8gZWxlbWVudCA6IGVsZW1lbnQucGFyZW50Tm9kZVxyXG5cclxuICB3aGlsZSAocGFyZW50ICYmIHBhcmVudCAhPT0gZG9jdW1lbnQpIHtcclxuICAgIGlmIChtYXRjaGVzKHBhcmVudCwgc2VsZWN0b3IpKSByZXR1cm4gcGFyZW50O1xyXG4gICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGVcclxuICB9XHJcbn1cclxuXHJcbn0se1wibWF0Y2hlcy1zZWxlY3RvclwiOjV9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxudmFyIGNsb3Nlc3QgPSByZXF1aXJlKCdjbG9zZXN0Jyk7XHJcblxyXG4vKipcclxuICogRGVsZWdhdGVzIGV2ZW50IHRvIGEgc2VsZWN0b3IuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICogQHBhcmFtIHtCb29sZWFufSB1c2VDYXB0dXJlXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICovXHJcbmZ1bmN0aW9uIGRlbGVnYXRlKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSkge1xyXG4gICAgdmFyIGxpc3RlbmVyRm4gPSBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cclxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lckZuLCB1c2VDYXB0dXJlKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogRmluZHMgY2xvc2VzdCBtYXRjaCBhbmQgaW52b2tlcyBjYWxsYmFjay5cclxuICpcclxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxyXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cclxuICovXHJcbmZ1bmN0aW9uIGxpc3RlbmVyKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLmRlbGVnYXRlVGFyZ2V0ID0gY2xvc2VzdChlLnRhcmdldCwgc2VsZWN0b3IsIHRydWUpO1xyXG5cclxuICAgICAgICBpZiAoZS5kZWxlZ2F0ZVRhcmdldCkge1xyXG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKGVsZW1lbnQsIGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBkZWxlZ2F0ZTtcclxuXHJcbn0se1wiY2xvc2VzdFwiOjF9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxuLyoqXHJcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgSFRNTCBlbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICovXHJcbmV4cG9ydHMubm9kZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICYmIHZhbHVlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcclxuICAgICAgICAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIGxpc3Qgb2YgSFRNTCBlbGVtZW50cy5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqL1xyXG5leHBvcnRzLm5vZGVMaXN0ID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHZhciB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcclxuXHJcbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICYmICh0eXBlID09PSAnW29iamVjdCBOb2RlTGlzdF0nIHx8IHR5cGUgPT09ICdbb2JqZWN0IEhUTUxDb2xsZWN0aW9uXScpXHJcbiAgICAgICAgJiYgKCdsZW5ndGgnIGluIHZhbHVlKVxyXG4gICAgICAgICYmICh2YWx1ZS5sZW5ndGggPT09IDAgfHwgZXhwb3J0cy5ub2RlKHZhbHVlWzBdKSk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBzdHJpbmcuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxyXG4gKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gKi9cclxuZXhwb3J0cy5zdHJpbmcgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZydcclxuICAgICAgICB8fCB2YWx1ZSBpbnN0YW5jZW9mIFN0cmluZztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICovXHJcbmV4cG9ydHMuZm4gPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgdmFyIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xyXG5cclxuICAgIHJldHVybiB0eXBlID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xyXG59O1xyXG5cclxufSx7fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XHJcbnZhciBpcyA9IHJlcXVpcmUoJy4vaXMnKTtcclxudmFyIGRlbGVnYXRlID0gcmVxdWlyZSgnZGVsZWdhdGUnKTtcclxuXHJcbi8qKlxyXG4gKiBWYWxpZGF0ZXMgYWxsIHBhcmFtcyBhbmQgY2FsbHMgdGhlIHJpZ2h0XHJcbiAqIGxpc3RlbmVyIGZ1bmN0aW9uIGJhc2VkIG9uIGl0cyB0YXJnZXQgdHlwZS5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8SFRNTENvbGxlY3Rpb258Tm9kZUxpc3R9IHRhcmdldFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAqL1xyXG5mdW5jdGlvbiBsaXN0ZW4odGFyZ2V0LCB0eXBlLCBjYWxsYmFjaykge1xyXG4gICAgaWYgKCF0YXJnZXQgJiYgIXR5cGUgJiYgIWNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50cycpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXMuc3RyaW5nKHR5cGUpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYSBTdHJpbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzLmZuKGNhbGxiYWNrKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoaXJkIGFyZ3VtZW50IG11c3QgYmUgYSBGdW5jdGlvbicpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpcy5ub2RlKHRhcmdldCkpIHtcclxuICAgICAgICByZXR1cm4gbGlzdGVuTm9kZSh0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzLm5vZGVMaXN0KHRhcmdldCkpIHtcclxuICAgICAgICByZXR1cm4gbGlzdGVuTm9kZUxpc3QodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpcy5zdHJpbmcodGFyZ2V0KSkge1xyXG4gICAgICAgIHJldHVybiBsaXN0ZW5TZWxlY3Rvcih0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBTdHJpbmcsIEhUTUxFbGVtZW50LCBIVE1MQ29sbGVjdGlvbiwgb3IgTm9kZUxpc3QnKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYSBIVE1MIGVsZW1lbnRcclxuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICogQHJldHVybiB7T2JqZWN0fVxyXG4gKi9cclxuZnVuY3Rpb24gbGlzdGVuTm9kZShub2RlLCB0eXBlLCBjYWxsYmFjaykge1xyXG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0byBhIGxpc3Qgb2YgSFRNTCBlbGVtZW50c1xyXG4gKiBhbmQgcmV0dXJucyBhIHJlbW92ZSBsaXN0ZW5lciBmdW5jdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtOb2RlTGlzdHxIVE1MQ29sbGVjdGlvbn0gbm9kZUxpc3RcclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICogQHJldHVybiB7T2JqZWN0fVxyXG4gKi9cclxuZnVuY3Rpb24gbGlzdGVuTm9kZUxpc3Qobm9kZUxpc3QsIHR5cGUsIGNhbGxiYWNrKSB7XHJcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVMaXN0LCBmdW5jdGlvbihub2RlKSB7XHJcbiAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobm9kZUxpc3QsIGZ1bmN0aW9uKG5vZGUpIHtcclxuICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0byBhIHNlbGVjdG9yXHJcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICogQHJldHVybiB7T2JqZWN0fVxyXG4gKi9cclxuZnVuY3Rpb24gbGlzdGVuU2VsZWN0b3Ioc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrKSB7XHJcbiAgICByZXR1cm4gZGVsZWdhdGUoZG9jdW1lbnQuYm9keSwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBsaXN0ZW47XHJcblxyXG59LHtcIi4vaXNcIjozLFwiZGVsZWdhdGVcIjoyfV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XHJcblxyXG4vKipcclxuICogRWxlbWVudCBwcm90b3R5cGUuXHJcbiAqL1xyXG5cclxudmFyIHByb3RvID0gRWxlbWVudC5wcm90b3R5cGU7XHJcblxyXG4vKipcclxuICogVmVuZG9yIGZ1bmN0aW9uLlxyXG4gKi9cclxuXHJcbnZhciB2ZW5kb3IgPSBwcm90by5tYXRjaGVzU2VsZWN0b3JcclxuICB8fCBwcm90by53ZWJraXRNYXRjaGVzU2VsZWN0b3JcclxuICB8fCBwcm90by5tb3pNYXRjaGVzU2VsZWN0b3JcclxuICB8fCBwcm90by5tc01hdGNoZXNTZWxlY3RvclxyXG4gIHx8IHByb3RvLm9NYXRjaGVzU2VsZWN0b3I7XHJcblxyXG4vKipcclxuICogRXhwb3NlIGBtYXRjaCgpYC5cclxuICovXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG1hdGNoO1xyXG5cclxuLyoqXHJcbiAqIE1hdGNoIGBlbGAgdG8gYHNlbGVjdG9yYC5cclxuICpcclxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5mdW5jdGlvbiBtYXRjaChlbCwgc2VsZWN0b3IpIHtcclxuICBpZiAodmVuZG9yKSByZXR1cm4gdmVuZG9yLmNhbGwoZWwsIHNlbGVjdG9yKTtcclxuICB2YXIgbm9kZXMgPSBlbC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyArK2kpIHtcclxuICAgIGlmIChub2Rlc1tpXSA9PSBlbCkgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG59LHt9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxuZnVuY3Rpb24gc2VsZWN0KGVsZW1lbnQpIHtcclxuICAgIHZhciBzZWxlY3RlZFRleHQ7XHJcblxyXG4gICAgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdJTlBVVCcgfHwgZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xyXG4gICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICBlbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKDAsIGVsZW1lbnQudmFsdWUubGVuZ3RoKTtcclxuXHJcbiAgICAgICAgc2VsZWN0ZWRUZXh0ID0gZWxlbWVudC52YWx1ZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJykpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5mb2N1cygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xyXG5cclxuICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZWxlbWVudCk7XHJcbiAgICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xyXG4gICAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XHJcblxyXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IHNlbGVjdGlvbi50b1N0cmluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzZWxlY3RlZFRleHQ7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gc2VsZWN0O1xyXG5cclxufSx7fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XHJcbmZ1bmN0aW9uIEUgKCkge1xyXG5cdC8vIEtlZXAgdGhpcyBlbXB0eSBzbyBpdCdzIGVhc2llciB0byBpbmhlcml0IGZyb21cclxuICAvLyAodmlhIGh0dHBzOi8vZ2l0aHViLmNvbS9saXBzbWFjayBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvaXNzdWVzLzMpXHJcbn1cclxuXHJcbkUucHJvdG90eXBlID0ge1xyXG5cdG9uOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xyXG4gICAgdmFyIGUgPSB0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KTtcclxuXHJcbiAgICAoZVtuYW1lXSB8fCAoZVtuYW1lXSA9IFtdKSkucHVzaCh7XHJcbiAgICAgIGZuOiBjYWxsYmFjayxcclxuICAgICAgY3R4OiBjdHhcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0sXHJcblxyXG4gIG9uY2U6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgY3R4KSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBmdW5jdGlvbiBsaXN0ZW5lciAoKSB7XHJcbiAgICAgIHNlbGYub2ZmKG5hbWUsIGxpc3RlbmVyKTtcclxuICAgICAgY2FsbGJhY2suYXBwbHkoY3R4LCBhcmd1bWVudHMpO1xyXG4gICAgfTtcclxuXHJcbiAgICBsaXN0ZW5lci5fID0gY2FsbGJhY2tcclxuICAgIHJldHVybiB0aGlzLm9uKG5hbWUsIGxpc3RlbmVyLCBjdHgpO1xyXG4gIH0sXHJcblxyXG4gIGVtaXQ6IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICB2YXIgZGF0YSA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuICAgIHZhciBldnRBcnIgPSAoKHRoaXMuZSB8fCAodGhpcy5lID0ge30pKVtuYW1lXSB8fCBbXSkuc2xpY2UoKTtcclxuICAgIHZhciBpID0gMDtcclxuICAgIHZhciBsZW4gPSBldnRBcnIubGVuZ3RoO1xyXG5cclxuICAgIGZvciAoaTsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgIGV2dEFycltpXS5mbi5hcHBseShldnRBcnJbaV0uY3R4LCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG5cclxuICBvZmY6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykge1xyXG4gICAgdmFyIGUgPSB0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KTtcclxuICAgIHZhciBldnRzID0gZVtuYW1lXTtcclxuICAgIHZhciBsaXZlRXZlbnRzID0gW107XHJcblxyXG4gICAgaWYgKGV2dHMgJiYgY2FsbGJhY2spIHtcclxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV2dHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBpZiAoZXZ0c1tpXS5mbiAhPT0gY2FsbGJhY2sgJiYgZXZ0c1tpXS5mbi5fICE9PSBjYWxsYmFjaylcclxuICAgICAgICAgIGxpdmVFdmVudHMucHVzaChldnRzW2ldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSBldmVudCBmcm9tIHF1ZXVlIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtcclxuICAgIC8vIFN1Z2dlc3RlZCBieSBodHRwczovL2dpdGh1Yi5jb20vbGF6ZFxyXG4gICAgLy8gUmVmOiBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRjb3JnYW4vdGlueS1lbWl0dGVyL2NvbW1pdC9jNmViZmFhOWJjOTczYjMzZDExMGE4NGEzMDc3NDJiN2NmOTRjOTUzI2NvbW1pdGNvbW1lbnQtNTAyNDkxMFxyXG5cclxuICAgIChsaXZlRXZlbnRzLmxlbmd0aClcclxuICAgICAgPyBlW25hbWVdID0gbGl2ZUV2ZW50c1xyXG4gICAgICA6IGRlbGV0ZSBlW25hbWVdO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gRTtcclxuXHJcbn0se31dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xyXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xyXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XHJcbiAgICAgICAgZGVmaW5lKFsnbW9kdWxlJywgJ3NlbGVjdCddLCBmYWN0b3J5KTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBmYWN0b3J5KG1vZHVsZSwgcmVxdWlyZSgnc2VsZWN0JykpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgbW9kID0ge1xyXG4gICAgICAgICAgICBleHBvcnRzOiB7fVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZmFjdG9yeShtb2QsIGdsb2JhbC5zZWxlY3QpO1xyXG4gICAgICAgIGdsb2JhbC5jbGlwYm9hcmRBY3Rpb24gPSBtb2QuZXhwb3J0cztcclxuICAgIH1cclxufSkodGhpcywgZnVuY3Rpb24gKG1vZHVsZSwgX3NlbGVjdCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBfc2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdCk7XHJcblxyXG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcclxuICAgICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiBvYmpcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XHJcbiAgICB9IDogZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcclxuICAgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcclxuICAgICAgICAgICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcclxuICAgICAgICAgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XHJcbiAgICAgICAgICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcclxuICAgICAgICB9O1xyXG4gICAgfSgpO1xyXG5cclxuICAgIHZhciBDbGlwYm9hcmRBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcclxuICAgICAgICAgKi9cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gQ2xpcGJvYXJkQWN0aW9uKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaXBib2FyZEFjdGlvbik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlc29sdmVPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgICAgICB0aGlzLmluaXRTZWxlY3Rpb24oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERlZmluZXMgYmFzZSBwcm9wZXJ0aWVzIHBhc3NlZCBmcm9tIGNvbnN0cnVjdG9yLlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICAgICAgICovXHJcblxyXG5cclxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLnJlc29sdmVPcHRpb25zID0gZnVuY3Rpb24gcmVzb2x2ZU9wdGlvbnMoKSB7XHJcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFjdGlvbiA9IG9wdGlvbnMuYWN0aW9uO1xyXG4gICAgICAgICAgICB0aGlzLmVtaXR0ZXIgPSBvcHRpb25zLmVtaXR0ZXI7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQ7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dCA9IG9wdGlvbnMudGV4dDtcclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyID0gb3B0aW9ucy50cmlnZ2VyO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAnJztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLmluaXRTZWxlY3Rpb24gPSBmdW5jdGlvbiBpbml0U2VsZWN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdEZha2UoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RUYXJnZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUuc2VsZWN0RmFrZSA9IGZ1bmN0aW9uIHNlbGVjdEZha2UoKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICB2YXIgaXNSVEwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXInKSA9PSAncnRsJztcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRmFrZSgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJlbW92ZUZha2UoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlciA9IGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spIHx8IHRydWU7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcclxuICAgICAgICAgICAgLy8gUHJldmVudCB6b29taW5nIG9uIGlPU1xyXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLmZvbnRTaXplID0gJzEycHQnO1xyXG4gICAgICAgICAgICAvLyBSZXNldCBib3ggbW9kZWxcclxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5ib3JkZXIgPSAnMCc7XHJcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUucGFkZGluZyA9ICcwJztcclxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5tYXJnaW4gPSAnMCc7XHJcbiAgICAgICAgICAgIC8vIE1vdmUgZWxlbWVudCBvdXQgb2Ygc2NyZWVuIGhvcml6b250YWxseVxyXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZVtpc1JUTCA/ICdyaWdodCcgOiAnbGVmdCddID0gJy05OTk5cHgnO1xyXG4gICAgICAgICAgICAvLyBNb3ZlIGVsZW1lbnQgdG8gdGhlIHNhbWUgcG9zaXRpb24gdmVydGljYWxseVxyXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnRvcCA9ICh3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCkgKyAncHgnO1xyXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnNldEF0dHJpYnV0ZSgncmVhZG9ubHknLCAnJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0udmFsdWUgPSB0aGlzLnRleHQ7XHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZmFrZUVsZW0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAoMCwgX3NlbGVjdDIuZGVmYXVsdCkodGhpcy5mYWtlRWxlbSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29weVRleHQoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLnJlbW92ZUZha2UgPSBmdW5jdGlvbiByZW1vdmVGYWtlKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5mYWtlSGFuZGxlcikge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZha2VFbGVtKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZmFrZUVsZW0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLnNlbGVjdFRhcmdldCA9IGZ1bmN0aW9uIHNlbGVjdFRhcmdldCgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAoMCwgX3NlbGVjdDIuZGVmYXVsdCkodGhpcy50YXJnZXQpO1xyXG4gICAgICAgICAgICB0aGlzLmNvcHlUZXh0KCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5jb3B5VGV4dCA9IGZ1bmN0aW9uIGNvcHlUZXh0KCkge1xyXG4gICAgICAgICAgICB2YXIgc3VjY2VlZGVkID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHN1Y2NlZWRlZCA9IGRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuYWN0aW9uKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZWVkZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXN1bHQoc3VjY2VlZGVkKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLmhhbmRsZVJlc3VsdCA9IGZ1bmN0aW9uIGhhbmRsZVJlc3VsdChzdWNjZWVkZWQpIHtcclxuICAgICAgICAgICAgaWYgKHN1Y2NlZWRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0dGVyLmVtaXQoJ3N1Y2Nlc3MnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnNlbGVjdGVkVGV4dCxcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiB0aGlzLnRyaWdnZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJTZWxlY3Rpb246IHRoaXMuY2xlYXJTZWxlY3Rpb24uYmluZCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXR0ZXIuZW1pdCgnZXJyb3InLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiB0aGlzLnRyaWdnZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJTZWxlY3Rpb246IHRoaXMuY2xlYXJTZWxlY3Rpb24uYmluZCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLmNsZWFyU2VsZWN0aW9uID0gZnVuY3Rpb24gY2xlYXJTZWxlY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQuYmx1cigpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVGYWtlKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgX2NyZWF0ZUNsYXNzKENsaXBib2FyZEFjdGlvbiwgW3tcclxuICAgICAgICAgICAga2V5OiAnYWN0aW9uJyxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gJ2NvcHknIDogYXJndW1lbnRzWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGlvbiA9IGFjdGlvbjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYWN0aW9uICE9PSAnY29weScgJiYgdGhpcy5fYWN0aW9uICE9PSAnY3V0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcImFjdGlvblwiIHZhbHVlLCB1c2UgZWl0aGVyIFwiY29weVwiIG9yIFwiY3V0XCInKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYWN0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBrZXk6ICd0YXJnZXQnLFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgJiYgKHR5cGVvZiB0YXJnZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHRhcmdldCkpID09PSAnb2JqZWN0JyAmJiB0YXJnZXQubm9kZVR5cGUgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aW9uID09PSAnY29weScgJiYgdGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgYXR0cmlidXRlLiBQbGVhc2UgdXNlIFwicmVhZG9ubHlcIiBpbnN0ZWFkIG9mIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aW9uID09PSAnY3V0JyAmJiAodGFyZ2V0Lmhhc0F0dHJpYnV0ZSgncmVhZG9ubHknKSB8fCB0YXJnZXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgYXR0cmlidXRlLiBZb3UgY2FuXFwndCBjdXQgdGV4dCBmcm9tIGVsZW1lbnRzIHdpdGggXCJyZWFkb25seVwiIG9yIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGVzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiB2YWx1ZSwgdXNlIGEgdmFsaWQgRWxlbWVudCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfV0pO1xyXG5cclxuICAgICAgICByZXR1cm4gQ2xpcGJvYXJkQWN0aW9uO1xyXG4gICAgfSgpO1xyXG5cclxuICAgIG1vZHVsZS5leHBvcnRzID0gQ2xpcGJvYXJkQWN0aW9uO1xyXG59KTtcclxuXHJcbn0se1wic2VsZWN0XCI6Nn1dLDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xyXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xyXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XHJcbiAgICAgICAgZGVmaW5lKFsnbW9kdWxlJywgJy4vY2xpcGJvYXJkLWFjdGlvbicsICd0aW55LWVtaXR0ZXInLCAnZ29vZC1saXN0ZW5lciddLCBmYWN0b3J5KTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBmYWN0b3J5KG1vZHVsZSwgcmVxdWlyZSgnLi9jbGlwYm9hcmQtYWN0aW9uJyksIHJlcXVpcmUoJ3RpbnktZW1pdHRlcicpLCByZXF1aXJlKCdnb29kLWxpc3RlbmVyJykpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgbW9kID0ge1xyXG4gICAgICAgICAgICBleHBvcnRzOiB7fVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZmFjdG9yeShtb2QsIGdsb2JhbC5jbGlwYm9hcmRBY3Rpb24sIGdsb2JhbC50aW55RW1pdHRlciwgZ2xvYmFsLmdvb2RMaXN0ZW5lcik7XHJcbiAgICAgICAgZ2xvYmFsLmNsaXBib2FyZCA9IG1vZC5leHBvcnRzO1xyXG4gICAgfVxyXG59KSh0aGlzLCBmdW5jdGlvbiAobW9kdWxlLCBfY2xpcGJvYXJkQWN0aW9uLCBfdGlueUVtaXR0ZXIsIF9nb29kTGlzdGVuZXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgX2NsaXBib2FyZEFjdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGlwYm9hcmRBY3Rpb24pO1xyXG5cclxuICAgIHZhciBfdGlueUVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGlueUVtaXR0ZXIpO1xyXG5cclxuICAgIHZhciBfZ29vZExpc3RlbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dvb2RMaXN0ZW5lcik7XHJcblxyXG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcclxuICAgICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiBvYmpcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcclxuICAgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XHJcbiAgICAgICAgaWYgKCFzZWxmKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcclxuICAgICAgICAgICAgY29uc3RydWN0b3I6IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBzdWJDbGFzcyxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcclxuICAgIH1cclxuXHJcbiAgICB2YXIgQ2xpcGJvYXJkID0gZnVuY3Rpb24gKF9FbWl0dGVyKSB7XHJcbiAgICAgICAgX2luaGVyaXRzKENsaXBib2FyZCwgX0VtaXR0ZXIpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudHxIVE1MQ29sbGVjdGlvbnxOb2RlTGlzdH0gdHJpZ2dlclxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICAgICAgICovXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIENsaXBib2FyZCh0cmlnZ2VyLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGlwYm9hcmQpO1xyXG5cclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0VtaXR0ZXIuY2FsbCh0aGlzKSk7XHJcblxyXG4gICAgICAgICAgICBfdGhpcy5yZXNvbHZlT3B0aW9ucyhvcHRpb25zKTtcclxuICAgICAgICAgICAgX3RoaXMubGlzdGVuQ2xpY2sodHJpZ2dlcik7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERlZmluZXMgaWYgYXR0cmlidXRlcyB3b3VsZCBiZSByZXNvbHZlZCB1c2luZyBpbnRlcm5hbCBzZXR0ZXIgZnVuY3Rpb25zXHJcbiAgICAgICAgICogb3IgY3VzdG9tIGZ1bmN0aW9ucyB0aGF0IHdlcmUgcGFzc2VkIGluIHRoZSBjb25zdHJ1Y3Rvci5cclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xyXG4gICAgICAgICAqL1xyXG5cclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5yZXNvbHZlT3B0aW9ucyA9IGZ1bmN0aW9uIHJlc29sdmVPcHRpb25zKCkge1xyXG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSB0eXBlb2Ygb3B0aW9ucy5hY3Rpb24gPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLmFjdGlvbiA6IHRoaXMuZGVmYXVsdEFjdGlvbjtcclxuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSB0eXBlb2Ygb3B0aW9ucy50YXJnZXQgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLnRhcmdldCA6IHRoaXMuZGVmYXVsdFRhcmdldDtcclxuICAgICAgICAgICAgdGhpcy50ZXh0ID0gdHlwZW9mIG9wdGlvbnMudGV4dCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMudGV4dCA6IHRoaXMuZGVmYXVsdFRleHQ7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5saXN0ZW5DbGljayA9IGZ1bmN0aW9uIGxpc3RlbkNsaWNrKHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyID0gKDAsIF9nb29kTGlzdGVuZXIyLmRlZmF1bHQpKHRyaWdnZXIsICdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uQ2xpY2soZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENsaXBib2FyZC5wcm90b3R5cGUub25DbGljayA9IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xyXG4gICAgICAgICAgICB2YXIgdHJpZ2dlciA9IGUuZGVsZWdhdGVUYXJnZXQgfHwgZS5jdXJyZW50VGFyZ2V0O1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuY2xpcGJvYXJkQWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbmV3IF9jbGlwYm9hcmRBY3Rpb24yLmRlZmF1bHQoe1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvbih0cmlnZ2VyKSxcclxuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy50YXJnZXQodHJpZ2dlciksXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRleHQodHJpZ2dlciksXHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyOiB0cmlnZ2VyLFxyXG4gICAgICAgICAgICAgICAgZW1pdHRlcjogdGhpc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmQucHJvdG90eXBlLmRlZmF1bHRBY3Rpb24gPSBmdW5jdGlvbiBkZWZhdWx0QWN0aW9uKHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdldEF0dHJpYnV0ZVZhbHVlKCdhY3Rpb24nLCB0cmlnZ2VyKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmQucHJvdG90eXBlLmRlZmF1bHRUYXJnZXQgPSBmdW5jdGlvbiBkZWZhdWx0VGFyZ2V0KHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gZ2V0QXR0cmlidXRlVmFsdWUoJ3RhcmdldCcsIHRyaWdnZXIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmQucHJvdG90eXBlLmRlZmF1bHRUZXh0ID0gZnVuY3Rpb24gZGVmYXVsdFRleHQodHJpZ2dlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0QXR0cmlidXRlVmFsdWUoJ3RleHQnLCB0cmlnZ2VyKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyLmRlc3Ryb3koKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNsaXBib2FyZEFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24uZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIENsaXBib2FyZDtcclxuICAgIH0oX3RpbnlFbWl0dGVyMi5kZWZhdWx0KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0byByZXRyaWV2ZSBhdHRyaWJ1dGUgdmFsdWUuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3VmZml4XHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0QXR0cmlidXRlVmFsdWUoc3VmZml4LCBlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIGF0dHJpYnV0ZSA9ICdkYXRhLWNsaXBib2FyZC0nICsgc3VmZml4O1xyXG5cclxuICAgICAgICBpZiAoIWVsZW1lbnQuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBDbGlwYm9hcmQ7XHJcbn0pO1xyXG5cclxufSx7XCIuL2NsaXBib2FyZC1hY3Rpb25cIjo4LFwiZ29vZC1saXN0ZW5lclwiOjQsXCJ0aW55LWVtaXR0ZXJcIjo3fV19LHt9LFs5XSkoOSlcclxufSk7IiwiKCBmdW5jdGlvbiggd2luZG93LCB1bmRlZmluZWQgKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQgKiBIYW5kbGVzIG1hbmFnaW5nIGFsbCBldmVudHMgZm9yIHdoYXRldmVyIHlvdSBwbHVnIGl0IGludG8uIFByaW9yaXRpZXMgZm9yIGhvb2tzIGFyZSBiYXNlZCBvbiBsb3dlc3QgdG8gaGlnaGVzdCBpblxyXG5cdCAqIHRoYXQsIGxvd2VzdCBwcmlvcml0eSBob29rcyBhcmUgZmlyZWQgZmlyc3QuXHJcblx0ICovXHJcblx0dmFyIEV2ZW50TWFuYWdlciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIE1haW50YWluIGEgcmVmZXJlbmNlIHRvIHRoZSBvYmplY3Qgc2NvcGUgc28gb3VyIHB1YmxpYyBtZXRob2RzIG5ldmVyIGdldCBjb25mdXNpbmcuXHJcblx0XHQgKi9cclxuXHRcdHZhciBNZXRob2RzQXZhaWxhYmxlID0ge1xyXG5cdFx0XHRyZW1vdmVGaWx0ZXIgOiByZW1vdmVGaWx0ZXIsXHJcblx0XHRcdGFwcGx5RmlsdGVycyA6IGFwcGx5RmlsdGVycyxcclxuXHRcdFx0YWRkRmlsdGVyIDogYWRkRmlsdGVyLFxyXG5cdFx0XHRyZW1vdmVBY3Rpb24gOiByZW1vdmVBY3Rpb24sXHJcblx0XHRcdGRvQWN0aW9uIDogZG9BY3Rpb24sXHJcblx0XHRcdGFkZEFjdGlvbiA6IGFkZEFjdGlvblxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENvbnRhaW5zIHRoZSBob29rcyB0aGF0IGdldCByZWdpc3RlcmVkIHdpdGggdGhpcyBFdmVudE1hbmFnZXIuIFRoZSBhcnJheSBmb3Igc3RvcmFnZSB1dGlsaXplcyBhIFwiZmxhdFwiXHJcblx0XHQgKiBvYmplY3QgbGl0ZXJhbCBzdWNoIHRoYXQgbG9va2luZyB1cCB0aGUgaG9vayB1dGlsaXplcyB0aGUgbmF0aXZlIG9iamVjdCBsaXRlcmFsIGhhc2guXHJcblx0XHQgKi9cclxuXHRcdHZhciBTVE9SQUdFID0ge1xyXG5cdFx0XHRhY3Rpb25zIDoge30sXHJcblx0XHRcdGZpbHRlcnMgOiB7fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFkZHMgYW4gYWN0aW9uIHRvIHRoZSBldmVudCBtYW5hZ2VyLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBhY3Rpb24gTXVzdCBjb250YWluIG5hbWVzcGFjZS5pZGVudGlmaWVyXHJcblx0XHQgKiBAcGFyYW0gY2FsbGJhY2sgTXVzdCBiZSBhIHZhbGlkIGNhbGxiYWNrIGZ1bmN0aW9uIGJlZm9yZSB0aGlzIGFjdGlvbiBpcyBhZGRlZFxyXG5cdFx0ICogQHBhcmFtIFtwcmlvcml0eT0xMF0gVXNlZCB0byBjb250cm9sIHdoZW4gdGhlIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIGluIHJlbGF0aW9uIHRvIG90aGVyIGNhbGxiYWNrcyBib3VuZCB0byB0aGUgc2FtZSBob29rXHJcblx0XHQgKiBAcGFyYW0gW2NvbnRleHRdIFN1cHBseSBhIHZhbHVlIHRvIGJlIHVzZWQgZm9yIHRoaXNcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gYWRkQWN0aW9uKCBhY3Rpb24sIGNhbGxiYWNrLCBwcmlvcml0eSwgY29udGV4dCApIHtcclxuXHRcdFx0aWYoIHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnICYmIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyApIHtcclxuXHRcdFx0XHRwcmlvcml0eSA9IHBhcnNlSW50KCAoIHByaW9yaXR5IHx8IDEwICksIDEwICk7XHJcblx0XHRcdFx0X2FkZEhvb2soICdhY3Rpb25zJywgYWN0aW9uLCBjYWxsYmFjaywgcHJpb3JpdHksIGNvbnRleHQgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBQZXJmb3JtcyBhbiBhY3Rpb24gaWYgaXQgZXhpc3RzLiBZb3UgY2FuIHBhc3MgYXMgbWFueSBhcmd1bWVudHMgYXMgeW91IHdhbnQgdG8gdGhpcyBmdW5jdGlvbjsgdGhlIG9ubHkgcnVsZSBpc1xyXG5cdFx0ICogdGhhdCB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBhbHdheXMgYmUgdGhlIGFjdGlvbi5cclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gZG9BY3Rpb24oIC8qIGFjdGlvbiwgYXJnMSwgYXJnMiwgLi4uICovICkge1xyXG5cdFx0XHR2YXIgYXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApO1xyXG5cdFx0XHR2YXIgYWN0aW9uID0gYXJncy5zaGlmdCgpO1xyXG5cclxuXHRcdFx0aWYoIHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnICkge1xyXG5cdFx0XHRcdF9ydW5Ib29rKCAnYWN0aW9ucycsIGFjdGlvbiwgYXJncyApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBhY3Rpb24gaWYgaXQgY29udGFpbnMgYSBuYW1lc3BhY2UuaWRlbnRpZmllciAmIGV4aXN0cy5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gYWN0aW9uIFRoZSBhY3Rpb24gdG8gcmVtb3ZlXHJcblx0XHQgKiBAcGFyYW0gW2NhbGxiYWNrXSBDYWxsYmFjayBmdW5jdGlvbiB0byByZW1vdmVcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlQWN0aW9uKCBhY3Rpb24sIGNhbGxiYWNrICkge1xyXG5cdFx0XHRpZiggdHlwZW9mIGFjdGlvbiA9PT0gJ3N0cmluZycgKSB7XHJcblx0XHRcdFx0X3JlbW92ZUhvb2soICdhY3Rpb25zJywgYWN0aW9uLCBjYWxsYmFjayApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFkZHMgYSBmaWx0ZXIgdG8gdGhlIGV2ZW50IG1hbmFnZXIuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIGZpbHRlciBNdXN0IGNvbnRhaW4gbmFtZXNwYWNlLmlkZW50aWZpZXJcclxuXHRcdCAqIEBwYXJhbSBjYWxsYmFjayBNdXN0IGJlIGEgdmFsaWQgY2FsbGJhY2sgZnVuY3Rpb24gYmVmb3JlIHRoaXMgYWN0aW9uIGlzIGFkZGVkXHJcblx0XHQgKiBAcGFyYW0gW3ByaW9yaXR5PTEwXSBVc2VkIHRvIGNvbnRyb2wgd2hlbiB0aGUgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgaW4gcmVsYXRpb24gdG8gb3RoZXIgY2FsbGJhY2tzIGJvdW5kIHRvIHRoZSBzYW1lIGhvb2tcclxuXHRcdCAqIEBwYXJhbSBbY29udGV4dF0gU3VwcGx5IGEgdmFsdWUgdG8gYmUgdXNlZCBmb3IgdGhpc1xyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBhZGRGaWx0ZXIoIGZpbHRlciwgY2FsbGJhY2ssIHByaW9yaXR5LCBjb250ZXh0ICkge1xyXG5cdFx0XHRpZiggdHlwZW9mIGZpbHRlciA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nICkge1xyXG5cdFx0XHRcdHByaW9yaXR5ID0gcGFyc2VJbnQoICggcHJpb3JpdHkgfHwgMTAgKSwgMTAgKTtcclxuXHRcdFx0XHRfYWRkSG9vayggJ2ZpbHRlcnMnLCBmaWx0ZXIsIGNhbGxiYWNrLCBwcmlvcml0eSwgY29udGV4dCApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFBlcmZvcm1zIGEgZmlsdGVyIGlmIGl0IGV4aXN0cy4gWW91IHNob3VsZCBvbmx5IGV2ZXIgcGFzcyAxIGFyZ3VtZW50IHRvIGJlIGZpbHRlcmVkLiBUaGUgb25seSBydWxlIGlzIHRoYXRcclxuXHRcdCAqIHRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGFsd2F5cyBiZSB0aGUgZmlsdGVyLlxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBhcHBseUZpbHRlcnMoIC8qIGZpbHRlciwgZmlsdGVyZWQgYXJnLCBhcmcyLCAuLi4gKi8gKSB7XHJcblx0XHRcdHZhciBhcmdzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICk7XHJcblx0XHRcdHZhciBmaWx0ZXIgPSBhcmdzLnNoaWZ0KCk7XHJcblxyXG5cdFx0XHRpZiggdHlwZW9mIGZpbHRlciA9PT0gJ3N0cmluZycgKSB7XHJcblx0XHRcdFx0cmV0dXJuIF9ydW5Ib29rKCAnZmlsdGVycycsIGZpbHRlciwgYXJncyApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBmaWx0ZXIgaWYgaXQgY29udGFpbnMgYSBuYW1lc3BhY2UuaWRlbnRpZmllciAmIGV4aXN0cy5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gZmlsdGVyIFRoZSBhY3Rpb24gdG8gcmVtb3ZlXHJcblx0XHQgKiBAcGFyYW0gW2NhbGxiYWNrXSBDYWxsYmFjayBmdW5jdGlvbiB0byByZW1vdmVcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlRmlsdGVyKCBmaWx0ZXIsIGNhbGxiYWNrICkge1xyXG5cdFx0XHRpZiggdHlwZW9mIGZpbHRlciA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRfcmVtb3ZlSG9vayggJ2ZpbHRlcnMnLCBmaWx0ZXIsIGNhbGxiYWNrICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBNZXRob2RzQXZhaWxhYmxlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVtb3ZlcyB0aGUgc3BlY2lmaWVkIGhvb2sgYnkgcmVzZXR0aW5nIHRoZSB2YWx1ZSBvZiBpdC5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gdHlwZSBUeXBlIG9mIGhvb2ssIGVpdGhlciAnYWN0aW9ucycgb3IgJ2ZpbHRlcnMnXHJcblx0XHQgKiBAcGFyYW0gaG9vayBUaGUgaG9vayAobmFtZXNwYWNlLmlkZW50aWZpZXIpIHRvIHJlbW92ZVxyXG5cdFx0ICogQHByaXZhdGVcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gX3JlbW92ZUhvb2soIHR5cGUsIGhvb2ssIGNhbGxiYWNrLCBjb250ZXh0ICkge1xyXG5cdFx0XHR2YXIgaGFuZGxlcnMsIGhhbmRsZXIsIGk7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAoICFTVE9SQUdFWyB0eXBlIF1bIGhvb2sgXSApIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCAhY2FsbGJhY2sgKSB7XHJcblx0XHRcdFx0U1RPUkFHRVsgdHlwZSBdWyBob29rIF0gPSBbXTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRoYW5kbGVycyA9IFNUT1JBR0VbIHR5cGUgXVsgaG9vayBdO1xyXG5cdFx0XHRcdGlmICggIWNvbnRleHQgKSB7XHJcblx0XHRcdFx0XHRmb3IgKCBpID0gaGFuZGxlcnMubGVuZ3RoOyBpLS07ICkge1xyXG5cdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXJzW2ldLmNhbGxiYWNrID09PSBjYWxsYmFjayApIHtcclxuXHRcdFx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGksIDEgKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdGZvciAoIGkgPSBoYW5kbGVycy5sZW5ndGg7IGktLTsgKSB7XHJcblx0XHRcdFx0XHRcdGhhbmRsZXIgPSBoYW5kbGVyc1tpXTtcclxuXHRcdFx0XHRcdFx0aWYgKCBoYW5kbGVyLmNhbGxiYWNrID09PSBjYWxsYmFjayAmJiBoYW5kbGVyLmNvbnRleHQgPT09IGNvbnRleHQpIHtcclxuXHRcdFx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGksIDEgKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQWRkcyB0aGUgaG9vayB0byB0aGUgYXBwcm9wcmlhdGUgc3RvcmFnZSBjb250YWluZXJcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gdHlwZSAnYWN0aW9ucycgb3IgJ2ZpbHRlcnMnXHJcblx0XHQgKiBAcGFyYW0gaG9vayBUaGUgaG9vayAobmFtZXNwYWNlLmlkZW50aWZpZXIpIHRvIGFkZCB0byBvdXIgZXZlbnQgbWFuYWdlclxyXG5cdFx0ICogQHBhcmFtIGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGhvb2sgaXMgZXhlY3V0ZWQuXHJcblx0XHQgKiBAcGFyYW0gcHJpb3JpdHkgVGhlIHByaW9yaXR5IG9mIHRoaXMgaG9vay4gTXVzdCBiZSBhbiBpbnRlZ2VyLlxyXG5cdFx0ICogQHBhcmFtIFtjb250ZXh0XSBBIHZhbHVlIHRvIGJlIHVzZWQgZm9yIHRoaXNcclxuXHRcdCAqIEBwcml2YXRlXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIF9hZGRIb29rKCB0eXBlLCBob29rLCBjYWxsYmFjaywgcHJpb3JpdHksIGNvbnRleHQgKSB7XHJcblx0XHRcdHZhciBob29rT2JqZWN0ID0ge1xyXG5cdFx0XHRcdGNhbGxiYWNrIDogY2FsbGJhY2ssXHJcblx0XHRcdFx0cHJpb3JpdHkgOiBwcmlvcml0eSxcclxuXHRcdFx0XHRjb250ZXh0IDogY29udGV4dFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gVXRpbGl6ZSAncHJvcCBpdHNlbGYnIDogaHR0cDovL2pzcGVyZi5jb20vaGFzb3ducHJvcGVydHktdnMtaW4tdnMtdW5kZWZpbmVkLzE5XHJcblx0XHRcdHZhciBob29rcyA9IFNUT1JBR0VbIHR5cGUgXVsgaG9vayBdO1xyXG5cdFx0XHRpZiggaG9va3MgKSB7XHJcblx0XHRcdFx0aG9va3MucHVzaCggaG9va09iamVjdCApO1xyXG5cdFx0XHRcdGhvb2tzID0gX2hvb2tJbnNlcnRTb3J0KCBob29rcyApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdGhvb2tzID0gWyBob29rT2JqZWN0IF07XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdFNUT1JBR0VbIHR5cGUgXVsgaG9vayBdID0gaG9va3M7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBVc2UgYW4gaW5zZXJ0IHNvcnQgZm9yIGtlZXBpbmcgb3VyIGhvb2tzIG9yZ2FuaXplZCBiYXNlZCBvbiBwcmlvcml0eS4gVGhpcyBmdW5jdGlvbiBpcyByaWRpY3Vsb3VzbHkgZmFzdGVyXHJcblx0XHQgKiB0aGFuIGJ1YmJsZSBzb3J0LCBldGM6IGh0dHA6Ly9qc3BlcmYuY29tL2phdmFzY3JpcHQtc29ydFxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBob29rcyBUaGUgY3VzdG9tIGFycmF5IGNvbnRhaW5pbmcgYWxsIG9mIHRoZSBhcHByb3ByaWF0ZSBob29rcyB0byBwZXJmb3JtIGFuIGluc2VydCBzb3J0IG9uLlxyXG5cdFx0ICogQHByaXZhdGVcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gX2hvb2tJbnNlcnRTb3J0KCBob29rcyApIHtcclxuXHRcdFx0dmFyIHRtcEhvb2ssIGosIHByZXZIb29rO1xyXG5cdFx0XHRmb3IoIHZhciBpID0gMSwgbGVuID0gaG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKysgKSB7XHJcblx0XHRcdFx0dG1wSG9vayA9IGhvb2tzWyBpIF07XHJcblx0XHRcdFx0aiA9IGk7XHJcblx0XHRcdFx0d2hpbGUoICggcHJldkhvb2sgPSBob29rc1sgaiAtIDEgXSApICYmICBwcmV2SG9vay5wcmlvcml0eSA+IHRtcEhvb2sucHJpb3JpdHkgKSB7XHJcblx0XHRcdFx0XHRob29rc1sgaiBdID0gaG9va3NbIGogLSAxIF07XHJcblx0XHRcdFx0XHQtLWo7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGhvb2tzWyBqIF0gPSB0bXBIb29rO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gaG9va3M7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSdW5zIHRoZSBzcGVjaWZpZWQgaG9vay4gSWYgaXQgaXMgYW4gYWN0aW9uLCB0aGUgdmFsdWUgaXMgbm90IG1vZGlmaWVkIGJ1dCBpZiBpdCBpcyBhIGZpbHRlciwgaXQgaXMuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHR5cGUgJ2FjdGlvbnMnIG9yICdmaWx0ZXJzJ1xyXG5cdFx0ICogQHBhcmFtIGhvb2sgVGhlIGhvb2sgKCBuYW1lc3BhY2UuaWRlbnRpZmllciApIHRvIGJlIHJhbi5cclxuXHRcdCAqIEBwYXJhbSBhcmdzIEFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSBhY3Rpb24vZmlsdGVyLiBJZiBpdCdzIGEgZmlsdGVyLCBhcmdzIGlzIGFjdHVhbGx5IGEgc2luZ2xlIHBhcmFtZXRlci5cclxuXHRcdCAqIEBwcml2YXRlXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIF9ydW5Ib29rKCB0eXBlLCBob29rLCBhcmdzICkge1xyXG5cdFx0XHR2YXIgaGFuZGxlcnMgPSBTVE9SQUdFWyB0eXBlIF1bIGhvb2sgXSwgaSwgbGVuO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKCAhaGFuZGxlcnMgKSB7XHJcblx0XHRcdFx0cmV0dXJuICh0eXBlID09PSAnZmlsdGVycycpID8gYXJnc1swXSA6IGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRsZW4gPSBoYW5kbGVycy5sZW5ndGg7XHJcblx0XHRcdGlmICggdHlwZSA9PT0gJ2ZpbHRlcnMnICkge1xyXG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XHJcblx0XHRcdFx0XHRhcmdzWyAwIF0gPSBoYW5kbGVyc1sgaSBdLmNhbGxiYWNrLmFwcGx5KCBoYW5kbGVyc1sgaSBdLmNvbnRleHQsIGFyZ3MgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcclxuXHRcdFx0XHRcdGhhbmRsZXJzWyBpIF0uY2FsbGJhY2suYXBwbHkoIGhhbmRsZXJzWyBpIF0uY29udGV4dCwgYXJncyApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuICggdHlwZSA9PT0gJ2ZpbHRlcnMnICkgPyBhcmdzWyAwIF0gOiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHJldHVybiBhbGwgb2YgdGhlIHB1YmxpY2x5IGF2YWlsYWJsZSBtZXRob2RzXHJcblx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcclxuXHJcblx0fTtcclxuXHRcclxuXHR3aW5kb3cud3AgPSB3aW5kb3cud3AgfHwge307XHJcblx0d2luZG93LndwLmhvb2tzID0gbmV3IEV2ZW50TWFuYWdlcigpO1xyXG5cclxufSApKCB3aW5kb3cgKTtcclxuIiwiKGZ1bmN0aW9uKCQpIHtcblxuXHQkKCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbigpIHtcblxuXHRcdCQoICcucHJldHR5LXNlbGVjdCcgKS5zZWxlY3RpemUoKTtcblxuXHRcdC8vIENvcHkgbWVyZ2UgdGFnXG5cblx0XHR2YXIgbWVyZ2VfdGFnX2NsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQoJyNub3RpZmljYXRpb25fbWVyZ2VfdGFncyAuaW5zaWRlIHVsIGxpIGNvZGUnKTtcblxuXHRcdG1lcmdlX3RhZ19jbGlwYm9hcmQub24oJ3N1Y2Nlc3MnLCBmdW5jdGlvbihlKSB7XG5cblx0XHQgICAgdmFyICRjb2RlID0gJChlLnRyaWdnZXIpLFxuXHRcdFx0ICAgIHRhZyAgID0gJGNvZGUudGV4dCgpO1xuXG5cdFx0XHQkY29kZS50ZXh0KCBub3RpZmljYXRpb24uY29waWVkICk7XG5cblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCRjb2RlLnRleHQoIHRhZyApO1xuXHRcdFx0fSwgODAwKTtcblxuXHRcdH0pO1xuXG5cdFx0Ly8gR2V0IGZyZXNoIG1lcmdlIHRhZ3MgZm9yIHNlbGVjdGVkIHRyaWdnZXJcblxuXHRcdCQoJyNub3RpZmljYXRpb25fdHJpZ2dlcl9zZWxlY3QnKS5zZWxlY3RpemUoKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciAkc2VsZWN0ICAgID0gJCh0aGlzKSxcblx0XHRcdFx0JGNvbnRhaW5lciA9ICQoJyNub3RpZmljYXRpb25fbWVyZ2VfdGFncyAuaW5zaWRlJyksXG5cdFx0XHRcdCRtZXRhYm94ICAgPSAkKCcjbm90aWZpY2F0aW9uX21lcmdlX3RhZ3MnKTtcblxuXHRcdFx0JG1ldGFib3guZmFkZVRvKDIwMCwgMC41KTtcblxuXHRcdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHRcdCdhY3Rpb24nOiAnbm90aWZpY2F0aW9uX2dldF9tZXJnZV90YWdzJyxcblx0XHRcdFx0J3RyaWdnZXInOiAkc2VsZWN0LnZhbCgpXG5cdFx0XHR9O1xuXG5cdFx0ICAgICQucG9zdChhamF4dXJsLCBkYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0ICAgIFx0aWYgKCByZXNwb25zZS5zdWNjZXNzID09IGZhbHNlICkge1xuXHRcdCAgICBcdFx0JGNvbnRhaW5lci5odG1sKCAnPHA+JyArIHJlc3BvbnNlLmRhdGEgKyAnPC9wPicgKTtcblx0XHQgICAgXHRcdHZhciB0YWdzID0ge307XG5cdFx0ICAgIFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHVsID0gJChcIjx1bD5cIik7XG5cblx0XHRcdFx0XHR2YXIgdGFncyA9IHJlc3BvbnNlLmRhdGE7XG5cblx0XHRcdFx0XHQkLmVhY2godGFncywgZnVuY3Rpb24oIG4sIHRhZyApIHtcblx0XHRcdFx0XHRcdHVsLmFwcGVuZCgnPGxpPjxjb2RlIGRhdGEtY2xpcGJvYXJkLXRleHQ9XCJ7JyArIHRhZyArICd9XCI+eycgKyB0YWcgKyAnfTwvY29kZT48L2xpPicpO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0JGNvbnRhaW5lci5odG1sKHVsKTtcblxuXHRcdCAgICBcdH1cblxuXHRcdCAgICBcdHdwLmhvb2tzLmRvQWN0aW9uKCAnbm90aWZpY2F0aW9uLmNoYW5nZWRfdHJpZ2dlcicsICRzZWxlY3QudmFsKCksIHRhZ3MgKTtcblxuXHRcdCAgICBcdCRtZXRhYm94LmZhZGVUbygyMDAsIDEpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdFx0Ly8gVXBkYXRlIHJlY2lwaWVudCByb3dzOiBudW1iZXIgYW5kIHJlbW92ZSBidXR0b25cblxuXHRcdHZhciB1cGRhdGVfcmVjaXBpZW50cyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgaSA9IDA7XG5cblx0XHRcdGlmICggJCgnI25vdGlmaWNhdGlvbl9yZWNpcGllbnRzIC5yZWNpcGllbnQnKS5sZW5ndGggPT0gMSApIHtcblx0XHRcdFx0dmFyIGRpc2FibGUgPSB0cnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIGRpc2FibGUgPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0JCgnI25vdGlmaWNhdGlvbl9yZWNpcGllbnRzIC5yZWNpcGllbnQnKS5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHR2YXIgJHJvdyAgICAgICAgICAgPSAkKHRoaXMpLFxuXHRcdFx0XHRcdCRyZW1vdmVfYnV0dG9uID0gJHJvdy5maW5kKCcuYWN0aW9ucyAuZGFzaGljb25zLXRyYXNoJyksXG5cdFx0XHRcdFx0JGlucHV0cyAgICAgICAgPSAkcm93LmZpbmQoJ2lucHV0LCBzZWxlY3QnKTtcblxuXHRcdFx0XHRpZiAoIGRpc2FibGUgKSB7XG5cdFx0XHRcdFx0JHJlbW92ZV9idXR0b24uYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JHJlbW92ZV9idXR0b24ucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQkaW5wdXRzLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0dmFyICRpbnB1dCAgICA9ICQodGhpcyksXG5cdFx0XHRcdFx0XHRwYXJ0X25hbWUgPSAkaW5wdXQuYXR0cignbmFtZScpO1xuXG5cdFx0XHRcdFx0JGlucHV0LmF0dHIoICduYW1lJywgcGFydF9uYW1lLnJlcGxhY2UoIC9ub3RpZmljYXRpb25fcmVjaXBpZW50XFxbWzAtOV0rXFxdLywgJ25vdGlmaWNhdGlvbl9yZWNpcGllbnRbJytpKyddJyApICk7XG5cblx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdGkrKztcblxuXHRcdFx0fSApO1xuXG5cdFx0fVxuXG5cdFx0Ly8gQWRkIHJlY2lwaWVudFxuXG5cdFx0dmFyIGFkZF9yZWNpcGllbnQgPSBmdW5jdGlvbiggdHlwZSwgdmFsdWUgKSB7XG5cblx0XHRcdHR5cGUgID0gdHlwZW9mIHR5cGUgIT09ICd1bmRlZmluZWQnID8gdHlwZSA6ICcnO1xuXHRcdFx0dmFsdWUgPSB0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnID8gdmFsdWUgOiAnJztcblxuXHRcdFx0dmFyICRjb250YWluZXIgPSAkKCcjbm90aWZpY2F0aW9uX3JlY2lwaWVudHMgLnJlY2lwaWVudHMnKTtcblxuXHRcdFx0JGNvbnRhaW5lci5mYWRlVG8oMjAwLCAwLjUpO1xuXG5cdFx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdFx0J2FjdGlvbic6ICdub3RpZmljYXRpb25fYWRkX3JlY2lwaWVudCcsXG5cdFx0XHRcdCd0eXBlJzogICB0eXBlLFxuXHRcdFx0XHQndmFsdWUnOiAgdmFsdWVcblx0XHRcdH07XG5cblx0XHQgICAgJC5wb3N0KGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHQgICAgXHRpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgPT0gZmFsc2UgKSB7XG5cdFx0ICAgIFx0XHRhbGVydCggcmVzcG9uc2UuZGF0YSApO1xuXHRcdCAgICBcdH0gZWxzZSB7XG5cblx0XHQgICAgXHRcdHZhciAkcm93ID0gJChyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XHQkY29udGFpbmVyLmFwcGVuZCgkcm93KTtcblxuXHRcdFx0XHRcdC8vIHVwZGF0ZSBpbnB1dHMgZGF0YSB3aGVuIHZhbHVlcyBhcmUgZHluYW1pY1xuXHRcdFx0XHRcdCRyb3cuZmluZCgnaW5wdXQsIHNlbGVjdCcpLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0d3AuaG9va3MuZG9BY3Rpb24oICdub3RpZmljYXRpb24udXBkYXRlX2lucHV0JywgJCh0aGlzKSwgJCh0aGlzKS5kYXRhKCd2YWx1ZScpLCAkKHRoaXMpLmRhdGEoJ3VwZGF0ZScpICk7XG5cdFx0XHRcdFx0fSApO1xuXG5cdFx0ICAgIFx0fVxuXG5cdFx0ICAgIFx0JGNvbnRhaW5lci5mYWRlVG8oMjAwLCAxKTtcblxuXHRcdCAgICBcdHVwZGF0ZV9yZWNpcGllbnRzKCk7XG5cblx0XHRcdH0pO1xuXG5cdFx0fTtcblxuXHRcdCQoJyNub3RpZmljYXRpb25fcmVjaXBpZW50cycpLm9uKCAnY2xpY2snLCAnI25vdGlmaWNhdGlvbl9hZGRfcmVjaXBpZW50JywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRhZGRfcmVjaXBpZW50KCk7XG5cblx0XHR9KTtcblxuXHRcdC8vIFJlbW92ZSByZWNpcGllbnRcblxuXHRcdCQoJyNub3RpZmljYXRpb25fcmVjaXBpZW50cycpLm9uKCAnY2xpY2snLCAnLnJlY2lwaWVudCAuYWN0aW9ucyAuZGFzaGljb25zLXRyYXNoJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHR2YXIgJGJ1dHRvbiAgICA9ICQodGhpcyksXG5cdFx0XHRcdCRjb250YWluZXIgPSAkYnV0dG9uLnBhcmVudHMoJy5yZWNpcGllbnQnKS5maXJzdCgpO1xuXG5cdFx0XHRpZiAoICRidXR0b24uaGFzQ2xhc3MoJ2Rpc2FibGVkJykgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0JGNvbnRhaW5lci5hbmltYXRlKHtsZWZ0OiAnNTBweCcsIG9wYWNpdHk6IDB9LCA0MDAsICdsaW5lYXInLCBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcblx0ICAgICAgICAgICAgdXBkYXRlX3JlY2lwaWVudHMoKTtcblx0ICAgICAgICB9ICk7XG5cblx0XHR9KTtcblxuXHRcdC8vIEdldCBpbnB1dCBmaWVsZCBmb3IgcmVjaXBpZW50XG5cblx0XHQkKCcjbm90aWZpY2F0aW9uX3JlY2lwaWVudHMnKS5vbiggJ2NoYW5nZScsICcucmVjaXBpZW50IC5ncm91cCBzZWxlY3QnLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyICRzZWxlY3QgICAgPSAkKHRoaXMpLFxuXHRcdFx0XHQkaW5wdXQgICAgID0gJHNlbGVjdC5wYXJlbnQoKS5uZXh0KCcudmFsdWUnKS5maW5kKCdpbnB1dCwgc2VsZWN0JykuZmlyc3QoKSxcblx0XHRcdFx0JGNvbnRhaW5lciA9ICRpbnB1dC5wYXJlbnQoKTtcblxuXHRcdFx0JGNvbnRhaW5lci5mYWRlVG8oMjAwLCAwLjUpO1xuXG5cdFx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdFx0J2FjdGlvbic6ICdub3RpZmljYXRpb25fZ2V0X3JlY2lwaWVudF9pbnB1dCcsXG5cdFx0XHRcdCdyZWNpcGllbnRfbmFtZSc6ICRzZWxlY3QudmFsKClcblx0XHRcdH07XG5cblx0XHQgICAgJC5wb3N0KGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHQgICAgXHRpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgPT0gZmFsc2UgKSB7XG5cdFx0ICAgIFx0XHRhbGVydCggcmVzcG9uc2UuZGF0YSApO1xuXHRcdCAgICBcdH0gZWxzZSB7XG5cblx0XHQgICAgXHRcdHZhciAkaW5wdXQgPSAkKHJlc3BvbnNlLmRhdGEpO1xuXHRcdFx0XHRcdCRjb250YWluZXIuaHRtbCgkaW5wdXQpO1xuXG5cdFx0XHRcdFx0aWYgKCB0eXBlb2YgJGlucHV0LmRhdGEoJ3VwZGF0ZScpICE9PSAndW5kZWZpbmVkJyApIHtcblx0XHRcdFx0XHRcdHdwLmhvb2tzLmRvQWN0aW9uKCAnbm90aWZpY2F0aW9uLnVwZGF0ZV9pbnB1dCcsICRpbnB1dCwgJGlucHV0LmRhdGEoJ3ZhbHVlJyksICRpbnB1dC5kYXRhKCd1cGRhdGUnKSApO1xuXHRcdFx0XHRcdH1cblxuXHRcdCAgICBcdH1cblxuXHRcdCAgICBcdCRjb250YWluZXIuZmFkZVRvKDIwMCwgMSk7XG5cblx0XHQgICAgXHR1cGRhdGVfcmVjaXBpZW50cygpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdFx0Ly8gUHJvY2VzcyBhbGwgcmVjaXBpZW50IGZpZWxkcyB3aGljaCBuZWVkcyBsaXZlIHVwZGF0ZVxuXG5cdFx0dmFyIHVwZGF0ZV9hbGxfaW5wdXRzID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdCQoJyNub3RpZmljYXRpb25fcmVjaXBpZW50cyAucmVjaXBpZW50JykuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyICRpbnB1dCA9ICQodGhpcykuZmluZCgnLmZpZWxkLnZhbHVlIHNlbGVjdCwgLmZpZWxkLnZhbHVlIGlucHV0Jyk7XG5cblx0XHRcdFx0aWYgKCB0eXBlb2YgJGlucHV0LmRhdGEoJ3VwZGF0ZScpICE9PSAndW5kZWZpbmVkJyApIHtcblx0XHRcdFx0XHR3cC5ob29rcy5kb0FjdGlvbiggJ25vdGlmaWNhdGlvbi51cGRhdGVfaW5wdXQnLCAkaW5wdXQsICRpbnB1dC5kYXRhKCd2YWx1ZScpLCAkaW5wdXQuZGF0YSgndXBkYXRlJykgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0JChkb2N1bWVudCkucmVhZHkoIHVwZGF0ZV9hbGxfaW5wdXRzICk7XG5cdFx0d3AuaG9va3MuYWRkQWN0aW9uKCAnbm90aWZpY2F0aW9uLmNoYW5nZWRfdHJpZ2dlcicsIHVwZGF0ZV9hbGxfaW5wdXRzICk7XG5cblx0XHQvLyBVcGRhdGUgbWVyZ2UgdGFncyBpbnB1dFxuXG5cdFx0d3AuaG9va3MuYWRkQWN0aW9uKCAnbm90aWZpY2F0aW9uLnVwZGF0ZV9pbnB1dCcsIGZ1bmN0aW9uKCAkaW5wdXQsIHZhbHVlLCB1cGRhdGVfdHlwZSApIHtcblxuXHRcdFx0aWYgKCB1cGRhdGVfdHlwZSA9PSAnZW1haWxfbWVyZ2VfdGFncycgKSB7XG5cblx0XHRcdFx0dmFyIHRyaWdnZXIgICAgPSAkKCcjbm90aWZpY2F0aW9uX3RyaWdnZXJfc2VsZWN0JykudmFsKCksXG5cdFx0XHRcdFx0JGNvbnRhaW5lciA9ICRpbnB1dC5wYXJlbnQoKTtcblxuXHRcdFx0XHQkY29udGFpbmVyLmZhZGVUbygyMDAsIDAuNSk7XG5cblx0XHRcdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHRcdFx0J2FjdGlvbic6ICAnbm90aWZpY2F0aW9uX2dldF9lbWFpbF9tZXJnZV90YWdzJyxcblx0XHRcdFx0XHQndHJpZ2dlcic6IHRyaWdnZXJcblx0XHRcdFx0fTtcblxuXHRcdFx0ICAgICQucG9zdChhamF4dXJsLCBkYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHQgICAgXHRpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgPT0gZmFsc2UgKSB7XG5cdFx0XHQgICAgXHRcdGFsZXJ0KCByZXNwb25zZS5kYXRhICk7XG5cdFx0XHQgICAgXHR9IGVsc2Uge1xuXG5cdFx0XHQgICAgXHRcdC8vIGNsZWFyIG9wdGlvbnMgZmlyc3Rcblx0XHRcdCAgICBcdFx0JGlucHV0LmZpbmQoJ29wdGlvbicpLnJlbW92ZSgpO1xuXG5cdFx0XHQgICAgXHRcdC8vIGFkZCBlbXB0eSBvcHRpb24gZm9yIGNsYXJpdHlcblx0XHRcdCAgICBcdFx0JGlucHV0LmFwcGVuZCggJCgnPG9wdGlvbj4nKSApO1xuXG5cdFx0XHQgICAgXHRcdCQuZWFjaChyZXNwb25zZS5kYXRhLCBmdW5jdGlvbih0YWdfdmFsdWUsIHRhZ19uYW1lKSB7XG5cblx0XHRcdCAgICBcdFx0XHR2YXIgYXR0cyA9IHtcblx0XHRcdFx0XHRcdCAgICAgICAgdmFsdWU6IHRhZ192YWx1ZSxcblx0XHRcdFx0XHRcdCAgICAgICAgdGV4dCA6IHRhZ19uYW1lXG5cdFx0XHRcdFx0XHQgICAgfTtcblxuXHRcdFx0XHRcdFx0ICAgIGlmICggdGFnX3ZhbHVlID09IHZhbHVlICkge1xuXHRcdFx0XHRcdFx0ICAgIFx0YXR0cy5zZWxlY3RlZCA9ICdzZWxlY3RlZCc7XG5cdFx0XHRcdFx0XHQgICAgfVxuXG5cdFx0XHRcdFx0XHQgICAgJGlucHV0LmFwcGVuZCggJCgnPG9wdGlvbj4nLCBhdHRzKSApO1xuXG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0ICAgIFx0fVxuXG5cdFx0XHQgICAgXHQkY29udGFpbmVyLmZhZGVUbygyMDAsIDEpO1xuXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHR9XG5cblx0XHR9ICk7XG5cblx0XHQvLyBVcGRhdGUgbm90aWZpY2F0aW9uIGRlZmF1bHRzOiB0aXRsZSwgdGVtcGxhdGUgYW5kIHJlY2lwaWVudHNcblxuXHRcdHdwLmhvb2tzLmFkZEFjdGlvbiggJ25vdGlmaWNhdGlvbi5jaGFuZ2VkX3RyaWdnZXInLCBmdW5jdGlvbiggdHJpZ2dlcl9zbHVnLCB0YWdzICkge1xuXG5cdFx0XHRpZiAoIHR5cGVvZiB0aW55bWNlLmVkaXRvcnMuY29udGVudCA9PSAndW5kZWZpbmVkJyApIHtcblx0XHRcdFx0dmFyIGVkaXRvcl9jb250ZW50ID0gJCgnI2NvbnRlbnQnKS52YWwoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciBlZGl0b3JfY29udGVudCA9IHRpbnltY2UuYWN0aXZlRWRpdG9yLmdldENvbnRlbnQoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBlZGl0b3JfY29udGVudCA9PSAnJyApIHtcblxuXHRcdFx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdFx0XHQnYWN0aW9uJzogICdub3RpZmljYXRpb25fZ2V0X2RlZmF1bHRzJyxcblx0XHRcdFx0XHQndHJpZ2dlcic6IHRyaWdnZXJfc2x1Z1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdCQucG9zdChhamF4dXJsLCBkYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHQgICAgXHRpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgPT0gZmFsc2UgKSB7XG5cdFx0XHQgICAgXHRcdGFsZXJ0KCByZXNwb25zZS5kYXRhICk7XG5cdFx0XHQgICAgXHR9IGVsc2Uge1xuXG5cdFx0XHQgICAgXHRcdHZhciBkZWZhdWx0cyA9IHJlc3BvbnNlLmRhdGE7XG5cblx0XHRcdCAgICBcdFx0aWYgKCBkZWZhdWx0cy50aXRsZSApIHtcblx0XHRcdCAgICBcdFx0XHQkKCAnI3RpdGxlJyApLnZhbCggZGVmYXVsdHMudGl0bGUgKS5mb2N1cygpO1xuXHRcdFx0ICAgIFx0XHR9XG5cblx0XHRcdCAgICBcdFx0aWYgKCBkZWZhdWx0cy50ZW1wbGF0ZSApIHtcblxuXHRcdFx0ICAgIFx0XHRcdGlmICggdHlwZW9mIHRpbnltY2UuZWRpdG9ycy5jb250ZW50ID09ICd1bmRlZmluZWQnICkge1xuXHRcdFx0XHRcdFx0XHRcdCQoJyNjb250ZW50JykudmFsKCBkZWZhdWx0cy50ZW1wbGF0ZSApO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRpbnltY2UuZWRpdG9ycy5jb250ZW50LnNldENvbnRlbnQoIGRlZmF1bHRzLnRlbXBsYXRlICk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0ICAgIFx0XHR9XG5cblx0XHRcdCAgICBcdFx0aWYgKCBkZWZhdWx0cy5yZWNpcGllbnRzICkge1xuXG5cdFx0XHQgICAgXHRcdFx0JCgnI25vdGlmaWNhdGlvbl9yZWNpcGllbnRzIC5yZWNpcGllbnRzIC5yZWNpcGllbnQnKS5maXJzdCgpLnJlbW92ZSgpO1xuXG5cdFx0XHQgICAgXHRcdFx0JC5lYWNoKCBkZWZhdWx0cy5yZWNpcGllbnRzLCBmdW5jdGlvbiggdHlwZSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0YWRkX3JlY2lwaWVudCggdHlwZSwgdmFsdWUgKTtcblx0XHRcdFx0XHRcdFx0fSApO1xuXG5cdFx0XHQgICAgXHRcdH1cblxuXHRcdFx0ICAgIFx0fVxuXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHR9XG5cblx0XHR9ICk7XG5cblx0XHQvLyBEaXNtaXNzIGJlZyBtZXNzYWdlXG5cblx0XHQkKCAnLm5vdGlmaWNhdGlvbi1ub3RpY2UnICkub24oICdjbGljaycsICcuZGlzbWlzcy1iZWctbWVzc2FnZScsIGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0dmFyICRidXR0b24gPSAkKCB0aGlzICk7XG5cblx0XHRcdHZhciBkYXRhID0ge1xuXHRcdFx0XHQnYWN0aW9uJzogICdub3RpZmljYXRpb25fZGlzbWlzc19iZWdfbWVzc2FnZScsXG5cdFx0XHRcdCdub25jZSc6ICRidXR0b24uZGF0YSggJ25vbmNlJyApXG5cdFx0XHR9O1xuXG5cdFx0XHQkLnBvc3QoIGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblx0XHQgICAgXHQkYnV0dG9uLnBhcmVudHMoICcubm90aWZpY2F0aW9uLW5vdGljZScgKS5zbGlkZVVwKCk7XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdFx0Ly8gUGx1Z2luIHJlbW92YWxcblxuXHRcdCQoICcjdGhlLWxpc3QgdHJbZGF0YS1zbHVnPVwibm90aWZpY2F0aW9uXCJdIC5kZWFjdGl2YXRlIGEnICkuY2xpY2soIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fSApO1xuXG5cdFx0JCggJ2JvZHknICkub24oICdzdWJtaXQnLCAnI25vdGlmaWNhdGlvbi1wbHVnaW4tZmVlZGJhY2stZm9ybScsIGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0dmFyICRmb3JtID0gJCh0aGlzKTtcblxuXHRcdFx0JGZvcm0uZmluZCggJy5zcGlubmVyJyApLmFkZENsYXNzKCAnaXMtYWN0aXZlJyApO1xuXG5cdFx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdFx0J2FjdGlvbic6ICdub3RpZmljYXRpb25fc2VuZF9mZWVkYmFjaycsXG5cdFx0XHRcdCdmb3JtJyAgOiAkZm9ybS5zZXJpYWxpemVBcnJheSgpXG5cdFx0XHR9O1xuXG5cdFx0XHQkLnBvc3QoIGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSAkKCAnI3RoZS1saXN0IHRyW2RhdGEtc2x1Zz1cIm5vdGlmaWNhdGlvblwiXSAuZGVhY3RpdmF0ZSBhJyApLmRhdGEoICdkZWFjdGl2YXRlJyApO1xuXHRcdFx0fSk7XG5cblx0XHR9ICk7XG5cblx0fSApO1xuXG59KShqUXVlcnkpO1xuIl19
