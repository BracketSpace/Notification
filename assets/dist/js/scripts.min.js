!function(t,e){"function"==typeof define&&define.amd?define("sifter",e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(!(t=o(String(t||"").toLowerCase()))||!t.length)return[];var e,n,i,s,l=[],c=t.split(/ +/);for(e=0,n=c.length;e<n;e++){if(i=r(c[e]),this.settings.diacritics)for(s in a)a.hasOwnProperty(s)&&(i=i.replace(new RegExp(s,"g"),a[s]));l.push({string:c[e],regex:new RegExp(i,"i")})}return l},t.prototype.iterator=function(t,e){var n;n=s(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)},n.apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var n,o,r,s,a;n=this,t=n.prepareSearch(t,e),r=t.tokens,o=t.options.fields,s=r.length,a=t.options.nesting;var l=function(t,e){var n,i;return t?(t=String(t||""),-1===(i=t.search(e.regex))?0:(n=e.string.length/t.length,0===i&&(n+=.5),n)):0},c=function(){var t=o.length;return t?1===t?function(t,e){return l(i(e,o[0],a),t)}:function(e,n){for(var r=0,s=0;r<t;r++)s+=l(i(n,o[r],a),e);return s/t}:function(){return 0}}();return s?1===s?function(t){return c(r[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,i=0;n<s;n++){if((e=c(r[n],t))<=0)return 0;i+=e}return i/s}:function(t){for(var e=0,n=0;e<s;e++)n+=c(r[e],t);return n/s}:function(){return 0}},t.prototype.getSortFunction=function(t,n){var o,r,s,a,l,c,u,p,d,f,h;if(s=this,t=s.prepareSearch(t,n),h=!t.query&&n.sort_empty||n.sort,d=function(t,e){return"$score"===t?e.score:i(s.items[e.id],t,n.nesting)},l=[],h)for(o=0,r=h.length;o<r;o++)(t.query||"$score"!==h[o].field)&&l.push(h[o]);if(t.query){for(f=!0,o=0,r=l.length;o<r;o++)if("$score"===l[o].field){f=!1;break}f&&l.unshift({field:"$score",direction:"desc"})}else for(o=0,r=l.length;o<r;o++)if("$score"===l[o].field){l.splice(o,1);break}for(p=[],o=0,r=l.length;o<r;o++)p.push("desc"===l[o].direction?-1:1);return c=l.length,c?1===c?(a=l[0].field,u=p[0],function(t,n){return u*e(d(a,t),d(a,n))}):function(t,n){var i,o,r;for(i=0;i<c;i++)if(r=l[i].field,o=p[i]*e(d(r,t),d(r,n)))return o;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;e=n({},e);var i=e.fields,o=e.sort,r=e.sort_empty;return i&&!s(i)&&(e.fields=[i]),o&&!s(o)&&(e.sort=[o]),r&&!s(r)&&(e.sort_empty=[r]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var n,i,o,r,s=this;return i=this.prepareSearch(t,e),e=i.options,t=i.query,r=e.score||s.getScoreFunction(i),t.length?s.iterator(s.items,function(t,o){n=r(t),(!1===e.filter||n>0)&&i.items.push({score:n,id:o})}):s.iterator(s.items,function(t,e){i.items.push({score:1,id:e})}),o=s.getSortFunction(i,e),o&&i.items.sort(o),i.total=i.items.length,"number"==typeof e.limit&&(i.items=i.items.slice(0,e.limit)),i};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=l(String(t||"")),e=l(String(e||"")),t>e?1:e>t?-1:0)},n=function(t,e){var n,i,o,r;for(n=1,i=arguments.length;n<i;n++)if(r=arguments[n])for(o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);return t},i=function(t,e,n){if(t&&e){if(!n)return t[e];for(var i=e.split(".");i.length&&(t=t[i.shift()]););return t}},o=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},r=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},l=function(){var t,e,n,i,o="",r={};for(n in a)if(a.hasOwnProperty(n))for(i=a[n].substring(2,a[n].length-1),o+=i,t=0,e=i.length;t<e;t++)r[i.charAt(t)]=n;var s=new RegExp("["+o+"]","g");return function(t){return t.replace(s,function(t){return r[t]}).toLowerCase()}}();return t}),function(t,e){"function"==typeof define&&define.amd?define("microplugin",e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,function(){var t={};t.mixin=function(t){t.plugins={},t.prototype.initializePlugins=function(t){var n,i,o,r=this,s=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(n=0,i=t.length;n<i;n++)"string"==typeof t[n]?s.push(t[n]):(r.plugins.settings[t[n].name]=t[n].options,s.push(t[n].name));else if(t)for(o in t)t.hasOwnProperty(o)&&(r.plugins.settings[o]=t[o],s.push(o));for(;s.length;)r.require(s.shift())},t.prototype.loadPlugin=function(e){var n=this,i=n.plugins,o=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');i.requested[e]=!0,i.loaded[e]=o.fn.apply(n,[n.plugins.settings[e]||{}]),i.names.push(e)},t.prototype.require=function(t){var e=this,n=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(n.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return n.loaded[t]},t.define=function(e,n){t.plugins[e]={name:e,fn:n}}};var e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),function(t,e){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,function(t,e,n){"use strict";var i=function(t,e){if("string"!=typeof e||e.length){var n="string"==typeof e?new RegExp(e,"i"):e,i=function(t){var e=0;if(3===t.nodeType){var o=t.data.search(n);if(o>=0&&t.data.length>0){var r=t.data.match(n),s=document.createElement("span");s.className="highlight";var a=t.splitText(o),l=(a.splitText(r[0].length),a.cloneNode(!0));s.appendChild(l),a.parentNode.replaceChild(s,a),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var c=0;c<t.childNodes.length;++c)c+=i(t.childNodes[c]);return e};return t.each(function(){i(this)})}};t.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()};var o=function(){};o.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},o.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=o.prototype[e[n]]};var r=/Mac/.test(navigator.userAgent),s=r?91:17,a=r?18:17,l=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,c=function(t){return void 0!==t},u=function(t){return void 0===t||null===t?null:"boolean"==typeof t?t?"1":"0":t+""},p=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},d={};d.before=function(t,e,n){var i=t[e];t[e]=function(){return n.apply(t,arguments),i.apply(t,arguments)}},d.after=function(t,e,n){var i=t[e];t[e]=function(){var e=i.apply(t,arguments);return n.apply(t,arguments),e}};var f=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},h=function(t,e){var n;return function(){var i=this,o=arguments;window.clearTimeout(n),n=window.setTimeout(function(){t.apply(i,o)},e)}},g=function(t,e,n){var i,o=t.trigger,r={};t.trigger=function(){var n=arguments[0];if(-1===e.indexOf(n))return o.apply(t,arguments);r[n]=arguments},n.apply(t,[]),t.trigger=o;for(i in r)r.hasOwnProperty(i)&&o.apply(t,r[i])},v=function(t,e,n,i){t.on(e,n,function(e){for(var n=e.target;n&&n.parentNode!==t[0];)n=n.parentNode;return e.currentTarget=n,i.apply(this,[e])})},m=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-t.value.length),e.start=n.text.length-i,e.length=i}return e},y=function(t,e,n){var i,o,r={};if(n)for(i=0,o=n.length;i<o;i++)r[n[i]]=t.css(n[i]);else r=t.css();e.css(r)},w=function(e,n){if(!e)return 0;var i=t("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");y(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=i.width();return i.remove(),o},b=function(t){var e=null,n=function(n,i){var o,r,s,a,l,c,u,p;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||!1!==t.data("grow"))&&(o=t.val(),n.type&&"keydown"===n.type.toLowerCase()&&(r=n.keyCode,s=r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||32===r,46===r||8===r?(p=m(t[0]),p.length?o=o.substring(0,p.start)+o.substring(p.start+p.length):8===r&&p.start?o=o.substring(0,p.start-1)+o.substring(p.start+1):46===r&&void 0!==p.start&&(o=o.substring(0,p.start)+o.substring(p.start+1))):s&&(c=n.shiftKey,u=String.fromCharCode(n.keyCode),u=c?u.toUpperCase():u.toLowerCase(),o+=u)),a=t.attr("placeholder"),!o&&a&&(o=a),(l=w(o,t)+4)!==e&&(e=l,t.width(l),t.triggerHandler("resize")))};t.on("keydown keyup update blur",n),n()},O=function(t){var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML},C=function(n,i){var o,r,s,a,l=this;a=n[0],a.selectize=l;var c=window.getComputedStyle&&window.getComputedStyle(a,null);if(s=c?c.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction,s=s||n.parents("[dir]:first").attr("dir")||"",t.extend(l,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++C.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?l.onSearchChange:h(l.onSearchChange,i.loadThrottle)}),l.sifter=new e(this.options,{diacritics:i.diacritics}),l.settings.options){for(o=0,r=l.settings.options.length;o<r;o++)l.registerOption(l.settings.options[o]);delete l.settings.options}if(l.settings.optgroups){for(o=0,r=l.settings.optgroups.length;o<r;o++)l.registerOptionGroup(l.settings.optgroups[o]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return o.mixin(C),void 0!==n?n.mixin(C):function(t,e){e||(e={});console.error("Selectize: "+t),e.explanation&&(console.group&&console.group(),console.error(e.explanation),console.group&&console.groupEnd())}("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),t.extend(C.prototype,{setup:function(){var e,n,i,o,c,u,p,d,f,h,g=this,m=g.settings,y=g.eventNS,w=t(window),O=t(document),C=g.$input;if(p=g.settings.mode,d=C.attr("class")||"",e=t("<div>").addClass(m.wrapperClass).addClass(d).addClass(p),n=t("<div>").addClass(m.inputClass).addClass("items").appendTo(e),i=t('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",C.is(":disabled")?"-1":g.tabIndex),u=t(m.dropdownParent||e),o=t("<div>").addClass(m.dropdownClass).addClass(p).hide().appendTo(u),c=t("<div>").addClass(m.dropdownContentClass).appendTo(o),(h=C.attr("id"))&&(i.attr("id",h+"-selectized"),t("label[for='"+h+"']").attr("for",h+"-selectized")),g.settings.copyClassesToDropdown&&o.addClass(d),e.css({width:C[0].style.width}),g.plugins.names.length&&(f="plugin-"+g.plugins.names.join(" plugin-"),e.addClass(f),o.addClass(f)),(null===m.maxItems||m.maxItems>1)&&1===g.tagType&&C.attr("multiple","multiple"),g.settings.placeholder&&i.attr("placeholder",m.placeholder),!g.settings.splitOn&&g.settings.delimiter){var x=g.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");g.settings.splitOn=new RegExp("\\s*"+x+"+\\s*")}C.attr("autocorrect")&&i.attr("autocorrect",C.attr("autocorrect")),C.attr("autocapitalize")&&i.attr("autocapitalize",C.attr("autocapitalize")),g.$wrapper=e,g.$control=n,g.$control_input=i,g.$dropdown=o,g.$dropdown_content=c,o.on("mouseenter","[data-selectable]",function(){return g.onOptionHover.apply(g,arguments)}),o.on("mousedown click","[data-selectable]",function(){return g.onOptionSelect.apply(g,arguments)}),v(n,"mousedown","*:not(input)",function(){return g.onItemSelect.apply(g,arguments)}),b(i),n.on({mousedown:function(){return g.onMouseDown.apply(g,arguments)},click:function(){return g.onClick.apply(g,arguments)}}),i.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return g.onKeyDown.apply(g,arguments)},keyup:function(){return g.onKeyUp.apply(g,arguments)},keypress:function(){return g.onKeyPress.apply(g,arguments)},resize:function(){g.positionDropdown.apply(g,[])},blur:function(){return g.onBlur.apply(g,arguments)},focus:function(){return g.ignoreBlur=!1,g.onFocus.apply(g,arguments)},paste:function(){return g.onPaste.apply(g,arguments)}}),O.on("keydown"+y,function(t){g.isCmdDown=t[r?"metaKey":"ctrlKey"],g.isCtrlDown=t[r?"altKey":"ctrlKey"],g.isShiftDown=t.shiftKey}),O.on("keyup"+y,function(t){t.keyCode===a&&(g.isCtrlDown=!1),16===t.keyCode&&(g.isShiftDown=!1),t.keyCode===s&&(g.isCmdDown=!1)}),O.on("mousedown"+y,function(t){if(g.isFocused){if(t.target===g.$dropdown[0]||t.target.parentNode===g.$dropdown[0])return!1;g.$control.has(t.target).length||t.target===g.$control[0]||g.blur(t.target)}}),w.on(["scroll"+y,"resize"+y].join(" "),function(){g.isOpen&&g.positionDropdown.apply(g,arguments)}),w.on("mousemove"+y,function(){g.ignoreHover=!1}),this.revertSettings={$children:C.children().detach(),tabindex:C.attr("tabindex")},C.attr("tabindex",-1).hide().after(g.$wrapper),t.isArray(m.items)&&(g.setValue(m.items),delete m.items),l&&C.on("invalid"+y,function(t){t.preventDefault(),g.isInvalid=!0,g.refreshState()}),g.updateOriginalInput(),g.refreshItems(),g.refreshState(),g.updatePlaceholder(),g.isSetup=!0,C.is(":disabled")&&g.disable(),g.on("change",this.onChange),C.data("selectize",g),C.addClass("selectized"),g.trigger("initialize"),!0===m.preload&&g.onSearchChange("")},setupTemplates:function(){var e=this,n=e.settings.labelField,i=e.settings.optgroupLabelField,o={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[i])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[n])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[n])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};e.settings.render=t.extend({},o,e.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]])&&this.on(t,e)},onClick:function(t){var e=this;e.isFocused||(e.focus(),t.preventDefault())},onMouseDown:function(e){var n=this,i=e.isDefaultPrevented();t(e.target);if(n.isFocused){if(e.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var n=this;if(n.isFull()||n.isInputHidden||n.isLocked)return void e.preventDefault();n.settings.splitOn&&setTimeout(function(){var e=n.$control_input.val();if(e.match(n.settings.splitOn))for(var i=t.trim(e).split(n.settings.splitOn),o=0,r=i.length;o<r;o++)n.createItem(i[o])},0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){var e=(t.target,this.$control_input[0],this);if(e.isLocked)return void(9!==t.keyCode&&t.preventDefault());switch(t.keyCode){case 65:if(e.isCmdDown)return void e.selectAll();break;case 27:return void(e.isOpen&&(t.preventDefault(),t.stopPropagation(),e.close()));case 78:if(!t.ctrlKey||t.altKey)break;case 40:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case 80:if(!t.ctrlKey||t.altKey)break;case 38:if(e.$activeOption){e.ignoreHover=!0;var i=e.getAdjacentOption(e.$activeOption,-1);i.length&&e.setActiveOption(i,!0,!0)}return void t.preventDefault();case 13:return void(e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),t.preventDefault()));case 37:return void e.advanceSelection(-1,t);case 39:return void e.advanceSelection(1,t);case 9:return e.settings.selectOnTab&&e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),e.isFull()||t.preventDefault()),void(e.settings.create&&e.createItem()&&t.preventDefault());case 8:case 46:return void e.deleteSelection(t)}return!e.isFull()&&!e.isInputHidden||(r?t.metaKey:t.ctrlKey)?void 0:void t.preventDefault()},onKeyUp:function(t){var e=this;if(e.isLocked)return t&&t.preventDefault();var n=e.$control_input.val()||"";e.lastValue!==n&&(e.lastValue=n,e.onSearchChange(n),e.refreshOptions(),e.trigger("type",n))},onSearchChange:function(t){var e=this,n=e.settings.load;n&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(i){n.apply(e,[t,i])})))},onFocus:function(t){var e=this,n=e.isFocused;if(e.isDisabled)return e.blur(),t&&t.preventDefault(),!1;e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),n||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())},onBlur:function(t,e){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(t);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),e&&e.focus&&e.focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var n,i,o=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),i=t(e.currentTarget),i.hasClass("create")?o.createItem(null,function(){o.settings.closeAfterSelect&&o.close()}):void 0!==(n=i.attr("data-value"))&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(n),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&o.setActiveOption(o.getOption(n)))},onItemSelect:function(t){var e=this;e.isLocked||"multi"===e.settings.mode&&(t.preventDefault(),e.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input;e.val()!==t&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){g(this,e?[]:["change"],function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(e,n){var i,o,r,s,a,l,c,u,p=this;if("single"!==p.settings.mode){if(e=t(e),!e.length)return t(p.$activeItems).removeClass("active"),p.$activeItems=[],void(p.isFocused&&p.showInput());if("mousedown"===(i=n&&n.type.toLowerCase())&&p.isShiftDown&&p.$activeItems.length){for(u=p.$control.children(".active:last"),s=Array.prototype.indexOf.apply(p.$control[0].childNodes,[u[0]]),a=Array.prototype.indexOf.apply(p.$control[0].childNodes,[e[0]]),s>a&&(c=s,s=a,a=c),o=s;o<=a;o++)l=p.$control[0].childNodes[o],-1===p.$activeItems.indexOf(l)&&(t(l).addClass("active"),p.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&p.isCtrlDown||"keydown"===i&&this.isShiftDown?e.hasClass("active")?(r=p.$activeItems.indexOf(e[0]),p.$activeItems.splice(r,1),e.removeClass("active")):p.$activeItems.push(e.addClass("active")[0]):(t(p.$activeItems).removeClass("active"),p.$activeItems=[e.addClass("active")[0]]);p.hideInput(),this.isFocused||p.focus()}},setActiveOption:function(e,n,i){var o,r,s,a,l,u=this;u.$activeOption&&u.$activeOption.removeClass("active"),u.$activeOption=null,e=t(e),e.length&&(u.$activeOption=e.addClass("active"),!n&&c(n)||(o=u.$dropdown_content.height(),r=u.$activeOption.outerHeight(!0),n=u.$dropdown_content.scrollTop()||0,s=u.$activeOption.offset().top-u.$dropdown_content.offset().top+n,a=s,l=s-o+r,s+r>o+n?u.$dropdown_content.stop().animate({scrollTop:l},i?u.settings.scrollDuration:0):s<n&&u.$dropdown_content.stop().animate({scrollTop:a},i?u.settings.scrollDuration:0)))},selectAll:function(){var t=this;"single"!==t.settings.mode&&(t.$activeItems=Array.prototype.slice.apply(t.$control.children(":not(input)").addClass("active")),t.$activeItems.length&&(t.hideInput(),t.close()),t.focus())},hideInput:function(){var t=this;t.setTextboxValue(""),t.$control_input.css({opacity:0,position:"absolute",left:t.rtl?1e4:-1e4}),t.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(e){var n,i,o,r=this,s=r.settings,a=this.getSearchOptions();if(s.score&&"function"!=typeof(o=r.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==r.lastQuery?(r.lastQuery=e,i=r.sifter.search(e,t.extend(a,{score:o})),r.currentResults=i):i=t.extend(!0,{},r.currentResults),s.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==r.items.indexOf(u(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(e){var n,o,r,s,a,l,c,p,d,f,h,g,v,m,y,w;void 0===e&&(e=!0);var b=this,C=t.trim(b.$control_input.val()),x=b.search(C),$=b.$dropdown_content,S=b.$activeOption&&u(b.$activeOption.attr("data-value"));for(s=x.items.length,"number"==typeof b.settings.maxOptions&&(s=Math.min(s,b.settings.maxOptions)),a={},l=[],n=0;n<s;n++)for(c=b.options[x.items[n].id],p=b.render("option",c),d=c[b.settings.optgroupField]||"",f=t.isArray(d)?d:[d],o=0,r=f&&f.length;o<r;o++)d=f[o],b.optgroups.hasOwnProperty(d)||(d=""),a.hasOwnProperty(d)||(a[d]=document.createDocumentFragment(),l.push(d)),a[d].appendChild(p);for(this.settings.lockOptgroupOrder&&l.sort(function(t,e){return(b.optgroups[t].$order||0)-(b.optgroups[e].$order||0)}),h=document.createDocumentFragment(),n=0,s=l.length;n<s;n++)d=l[n],b.optgroups.hasOwnProperty(d)&&a[d].childNodes.length?(g=document.createDocumentFragment(),g.appendChild(b.render("optgroup_header",b.optgroups[d])),g.appendChild(a[d]),h.appendChild(b.render("optgroup",t.extend({},b.optgroups[d],{html:O(g),dom:g})))):h.appendChild(a[d]);if($.html(h),b.settings.highlight&&x.query.length&&x.tokens.length)for($.removeHighlight(),n=0,s=x.tokens.length;n<s;n++)i($,x.tokens[n].regex);if(!b.settings.hideSelected)for(n=0,s=b.items.length;n<s;n++)b.getOption(b.items[n]).addClass("selected");v=b.canCreate(C),v&&($.prepend(b.render("option_create",{input:C})),w=t($[0].childNodes[0])),b.hasOptions=x.items.length>0||v,b.hasOptions?(x.items.length>0?(y=S&&b.getOption(S),y&&y.length?m=y:"single"===b.settings.mode&&b.items.length&&(m=b.getOption(b.items[0])),m&&m.length||(m=w&&!b.settings.addPrecedence?b.getAdjacentOption(w,1):$.find("[data-selectable]:first"))):m=w,b.setActiveOption(m),e&&!b.isOpen&&b.open()):(b.setActiveOption(null),e&&b.isOpen&&b.close())},addOption:function(e){var n,i,o,r=this;if(t.isArray(e))for(n=0,i=e.length;n<i;n++)r.addOption(e[n]);else(o=r.registerOption(e))&&(r.userOptions[o]=!0,r.lastQuery=null,r.trigger("option_add",o,e))},registerOption:function(t){var e=u(t[this.settings.valueField]);return void 0!==e&&null!==e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=u(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,n){var i,o,r,s,a,l,c,p=this;if(e=u(e),r=u(n[p.settings.valueField]),null!==e&&p.options.hasOwnProperty(e)){if("string"!=typeof r)throw new Error("Value must be set in option data");c=p.options[e].$order,r!==e&&(delete p.options[e],-1!==(s=p.items.indexOf(e))&&p.items.splice(s,1,r)),n.$order=n.$order||c,p.options[r]=n,a=p.renderCache.item,l=p.renderCache.option,a&&(delete a[e],delete a[r]),l&&(delete l[e],delete l[r]),-1!==p.items.indexOf(r)&&(i=p.getItem(e),o=t(p.render("item",n)),i.hasClass("active")&&o.addClass("active"),i.replaceWith(o)),p.lastQuery=null,p.isOpen&&p.refreshOptions(!1)}},removeOption:function(t,e){var n=this;t=u(t);var i=n.renderCache.item,o=n.renderCache.option;i&&delete i[t],o&&delete o[t],delete n.userOptions[t],delete n.options[t],n.lastQuery=null,n.trigger("option_remove",t),n.removeItem(t,e)},clearOptions:function(){var t=this;t.loadedSearches={},t.userOptions={},t.renderCache={},t.options=t.sifter.items={},t.lastQuery=null,t.trigger("option_clear"),t.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,n){var i=this.$dropdown.find("[data-selectable]"),o=i.index(e)+n;return o>=0&&o<i.length?i.eq(o):t()},getElementWithValue:function(e,n){if(void 0!==(e=u(e))&&null!==e)for(var i=0,o=n.length;i<o;i++)if(n[i].getAttribute("data-value")===e)return t(n[i]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,n){for(var i=t.isArray(e)?e:[e],o=0,r=i.length;o<r;o++)this.isPending=o<r-1,this.addItem(i[o],n)},addItem:function(e,n){g(this,n?[]:["change"],function(){var i,o,r,s,a,l=this,c=l.settings.mode;if(e=u(e),-1!==l.items.indexOf(e))return void("single"===c&&l.close());l.options.hasOwnProperty(e)&&("single"===c&&l.clear(n),"multi"===c&&l.isFull()||(i=t(l.render("item",l.options[e])),a=l.isFull(),l.items.splice(l.caretPos,0,e),l.insertAtCaret(i),(!l.isPending||!a&&l.isFull())&&l.refreshState(),l.isSetup&&(r=l.$dropdown_content.find("[data-selectable]"),l.isPending||(o=l.getOption(e),s=l.getAdjacentOption(o,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==c),s&&l.setActiveOption(l.getOption(s))),!r.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",e,i),l.updateOriginalInput({silent:n}))))})},removeItem:function(e,n){var i,o,r,s=this;i=e instanceof t?e:s.getItem(e),e=u(i.attr("data-value")),-1!==(o=s.items.indexOf(e))&&(i.remove(),i.hasClass("active")&&(r=s.$activeItems.indexOf(i[0]),s.$activeItems.splice(r,1)),s.items.splice(o,1),s.lastQuery=null,!s.settings.persist&&s.userOptions.hasOwnProperty(e)&&s.removeOption(e,n),o<s.caretPos&&s.setCaret(s.caretPos-1),s.refreshState(),s.updatePlaceholder(),s.updateOriginalInput({silent:n}),s.positionDropdown(),s.trigger("item_remove",e,i))},createItem:function(e,n){var i=this,o=i.caretPos;e=e||t.trim(i.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(e))return r(),!1;i.lock();var s="function"==typeof i.settings.create?this.settings.create:function(t){var e={};return e[i.settings.labelField]=t,e[i.settings.valueField]=t,e},a=f(function(t){if(i.unlock(),!t||"object"!=typeof t)return r();var e=u(t[i.settings.valueField]);if("string"!=typeof e)return r();i.setTextboxValue(""),i.addOption(t),i.setCaret(o),i.addItem(e),i.refreshOptions(n&&"single"!==i.settings.mode),r(t)}),l=s.apply(this,[e,a]);return void 0!==l&&a(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var e=this,n=e.isFull(),i=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!t.isEmptyObject(e.options)).toggleClass("has-items",e.items.length>0),e.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,i,o,r=this;if(t=t||{},1===r.tagType){for(i=[],e=0,n=r.items.length;e<n;e++)o=r.options[r.items[e]][r.settings.labelField]||"",i.push('<option value="'+p(r.items[e])+'" selected="selected">'+p(o)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),r.$input.html(i.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(t.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){
var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&(t.hideInput(),t.$control_input.blur()),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(e){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(e):t(this.$control[0].childNodes[n]).before(e),this.setCaret(n+1)},deleteSelection:function(e){var n,i,o,r,s,a,l,c,u,p=this;if(o=e&&8===e.keyCode?-1:1,r=m(p.$control_input[0]),p.$activeOption&&!p.settings.hideSelected&&(l=p.getAdjacentOption(p.$activeOption,-1).attr("data-value")),s=[],p.$activeItems.length){for(u=p.$control.children(".active:"+(o>0?"last":"first")),a=p.$control.children(":not(input)").index(u),o>0&&a++,n=0,i=p.$activeItems.length;n<i;n++)s.push(t(p.$activeItems[n]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(p.isFocused||"single"===p.settings.mode)&&p.items.length&&(o<0&&0===r.start&&0===r.length?s.push(p.items[p.caretPos-1]):o>0&&r.start===p.$control_input.val().length&&s.push(p.items[p.caretPos]));if(!s.length||"function"==typeof p.settings.onDelete&&!1===p.settings.onDelete.apply(p,[s]))return!1;for(void 0!==a&&p.setCaret(a);s.length;)p.removeItem(s.pop());return p.showInput(),p.positionDropdown(),p.refreshOptions(!0),l&&(c=p.getOption(l),c.length&&p.setActiveOption(c)),!0},advanceSelection:function(t,e){var n,i,o,r,s,a=this;0!==t&&(a.rtl&&(t*=-1),n=t>0?"last":"first",i=m(a.$control_input[0]),a.isFocused&&!a.isInputHidden?(r=a.$control_input.val().length,(t<0?0===i.start&&0===i.length:i.start===r)&&!r&&a.advanceCaret(t,e)):(s=a.$control.children(".active:"+n),s.length&&(o=a.$control.children(":not(input)").index(s),a.setActiveItem(null),a.setCaret(t>0?o+1:o))))},advanceCaret:function(t,e){var n,i,o=this;0!==t&&(n=t>0?"next":"prev",o.isShiftDown?(i=o.$control_input[n](),i.length&&(o.hideInput(),o.setActiveItem(i),e&&e.preventDefault())):o.setCaret(o.caretPos+t))},setCaret:function(e){var n=this;if(e="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,e)),!n.isPending){var i,o,r,s;for(r=n.$control.children(":not(input)"),i=0,o=r.length;i<o;i++)s=t(r[i]).detach(),i<e?n.$control_input.before(s):n.$control.append(s)}n.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var t=this;t.$input.prop("disabled",!0),t.$control_input.prop("disabled",!0).prop("tabindex",-1),t.isDisabled=!0,t.lock()},enable:function(){var t=this;t.$input.prop("disabled",!1),t.$control_input.prop("disabled",!1).prop("tabindex",t.tabIndex),t.isDisabled=!1,t.unlock()},destroy:function(){var e=this,n=e.eventNS,i=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),t(window).off(n),t(document).off(n),t(document.body).off(n),delete e.$input[0].selectize},render:function(e,n){var i,o,r="",s=!1,a=this;return"option"!==e&&"item"!==e||(i=u(n[a.settings.valueField]),s=!!i),s&&(c(a.renderCache[e])||(a.renderCache[e]={}),a.renderCache[e].hasOwnProperty(i))?a.renderCache[e][i]:(r=t(a.settings.render[e].apply(this,[n,p])),"option"===e||"option_create"===e?r.attr("data-selectable",""):"optgroup"===e&&(o=n[a.settings.optgroupValueField]||"",r.attr("data-group",o)),"option"!==e&&"item"!==e||r.attr("data-value",i||""),s&&(a.renderCache[e][i]=r[0]),r[0])},clearCache:function(t){var e=this;void 0===t?e.renderCache={}:delete e.renderCache[t]},canCreate:function(t){var e=this;if(!e.settings.create)return!1;var n=e.settings.createFilter;return t.length&&("function"!=typeof n||n.apply(e,[t]))&&("string"!=typeof n||new RegExp(n).test(t))&&(!(n instanceof RegExp)||n.test(t))}}),C.count=0,C.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var n=t.fn.selectize.defaults,i=t.extend({},n,e),o=i.dataAttr,r=i.labelField,s=i.valueField,a=i.optgroupField,l=i.optgroupLabelField,c=i.optgroupValueField,p=function(e,n){var a,l,c,u,p=e.attr(o);if(p)for(n.options=JSON.parse(p),a=0,l=n.options.length;a<l;a++)n.items.push(n.options[a][s]);else{var d=t.trim(e.val()||"");if(!i.allowEmptyOption&&!d.length)return;for(c=d.split(i.delimiter),a=0,l=c.length;a<l;a++)u={},u[r]=c[a],u[s]=c[a],n.options.push(u);n.items=c}},d=function(e,n){var p,d,f,h,g=n.options,v={},m=function(t){var e=o&&t.attr(o);return"string"==typeof e&&e.length?JSON.parse(e):null},y=function(e,o){e=t(e);var l=u(e.val());if(l||i.allowEmptyOption)if(v.hasOwnProperty(l)){if(o){var c=v[l][a];c?t.isArray(c)?c.push(o):v[l][a]=[c,o]:v[l][a]=o}}else{var p=m(e)||{};p[r]=p[r]||e.text(),p[s]=p[s]||l,p[a]=p[a]||o,v[l]=p,g.push(p),e.is(":selected")&&n.items.push(l)}};for(n.maxItems=e.attr("multiple")?null:1,h=e.children(),p=0,d=h.length;p<d;p++)f=h[p].tagName.toLowerCase(),"optgroup"===f?function(e){var i,o,r,s,a;for(e=t(e),r=e.attr("label"),r&&(s=m(e)||{},s[l]=r,s[c]=r,n.optgroups.push(s)),a=t("option",e),i=0,o=a.length;i<o;i++)y(a[i],r)}(h[p]):"option"===f&&y(h[p])};return this.each(function(){if(!this.selectize){var o=t(this),r=this.tagName.toLowerCase(),s=o.attr("placeholder")||o.attr("data-placeholder");s||i.allowEmptyOption||(s=o.children('option[value=""]').text());var a={placeholder:s,options:[],optgroups:[],items:[]};"select"===r?d(o,a):p(o,a),new C(o,t.extend(!0,{},n,a,e))}})},t.fn.selectize.defaults=C.defaults,t.fn.selectize.support={validity:l},C.define("drag_drop",function(e){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n=this;n.lock=function(){var t=n.lock;return function(){var e=n.$control.data("sortable");return e&&e.disable(),t.apply(n,arguments)}}(),n.unlock=function(){var t=n.unlock;return function(){var e=n.$control.data("sortable");return e&&e.enable(),t.apply(n,arguments)}}(),n.setup=function(){var e=n.setup;return function(){e.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var e=n.$activeItems?n.$activeItems.slice():null,o=[];i.children("[data-value]").each(function(){o.push(t(this).attr("data-value"))}),n.setValue(o),n.setActiveItem(e)}})}}()}}),C.define("dropdown_header",function(e){var n=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=t(e.html(e)),n.$dropdown.prepend(n.$dropdown_header)}}()}),C.define("optgroup_columns",function(e){var n=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,n){var i=e.closest("[data-group]").find("[data-selectable]"),o=i.index(e)+n;return o>=0&&o<i.length?i.eq(o):t()},this.onKeyDown=function(){var t=n.onKeyDown;return function(e){var i,o,r,s;return!this.isOpen||37!==e.keyCode&&39!==e.keyCode?t.apply(this,arguments):(n.ignoreHover=!0,s=this.$activeOption.closest("[data-group]"),i=s.find("[data-selectable]").index(this.$activeOption),s=37===e.keyCode?s.prev("[data-group]"):s.next("[data-group]"),r=s.find("[data-selectable]"),o=r.eq(Math.min(r.length-1,i)),void(o.length&&this.setActiveOption(o)))}}();var i=function(){var t,e=i.width,n=document;return void 0===e&&(t=n.createElement("div"),t.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,n.body.appendChild(t),e=i.width=t.offsetWidth-t.clientWidth,n.body.removeChild(t)),e},o=function(){var o,r,s,a,l,c,u;if(u=t("[data-group]",n.$dropdown_content),(r=u.length)&&n.$dropdown_content.width()){if(e.equalizeHeight){for(s=0,o=0;o<r;o++)s=Math.max(s,u.eq(o).height());u.css({height:s})}e.equalizeWidth&&(c=n.$dropdown_content.innerWidth()-i(),a=Math.round(c/r),u.css({width:a}),r>1&&(l=c-a*(r-1),u.eq(r-1).css({width:l})))}};(e.equalizeHeight||e.equalizeWidth)&&(d.after(this,"positionDropdown",o),d.after(this,"refreshOptions",o))}),C.define("remove_button",function(e){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);if("single"===this.settings.mode)return void function(e,n){n.className="remove-single";var i=e,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+p(n.title)+'">'+n.label+"</a>",r=function(t,e){return t+e};e.setup=function(){var s=i.setup;return function(){if(n.append){var a=t(i.$input.context).attr("id"),l=(t("#"+a),i.settings.render.item);i.settings.render.item=function(t){return r(l.apply(e,arguments),o)}}s.apply(e,arguments),e.$control.on("click","."+n.className,function(t){t.preventDefault(),i.isLocked||i.clear()})}}()}(this,e);!function(e,n){var i=e,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+p(n.title)+'">'+n.label+"</a>",r=function(t,e){var n=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,n)+e+t.substring(n)};e.setup=function(){var s=i.setup;return function(){if(n.append){var a=i.settings.render.item;i.settings.render.item=function(t){return r(a.apply(e,arguments),o)}}s.apply(e,arguments),e.$control.on("click","."+n.className,function(e){if(e.preventDefault(),!i.isLocked){var n=t(e.currentTarget).parent();i.setActiveItem(n),i.deleteSelection()&&i.setCaret(i.items.length)}})}}()}(this,e)}),C.define("restore_on_backspace",function(t){var e=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=function(){var n=e.onKeyDown;return function(e){var i,o;return 8===e.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1)>=0&&i<this.items.length?(o=this.options[this.items[i]],this.deleteSelection(e)&&(this.setTextboxValue(t.text.apply(this,[o])),this.refreshOptions(!0)),void e.preventDefault()):n.apply(this,arguments)}}()}),C}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t;return function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return o(n||t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){var i=t("matches-selector");e.exports=function(t,e,n){for(var o=n?t:t.parentNode;o&&o!==document;){if(i(o,e))return o;o=o.parentNode}}},{"matches-selector":5}],2:[function(t,e,n){function i(t,e,n,i,r){var s=o.apply(this,arguments);return t.addEventListener(n,s,r),{destroy:function(){t.removeEventListener(n,s,r)}}}function o(t,e,n,i){return function(n){n.delegateTarget=r(n.target,e,!0),n.delegateTarget&&i.call(t,n)}}var r=t("closest");e.exports=i},{closest:1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,n){function i(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(t))return o(t,e,n);if(a.nodeList(t))return r(t,e,n);if(a.string(t))return s(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function s(t,e,n){return l(document.body,t,e,n)}var a=t("./is"),l=t("delegate");e.exports=i},{"./is":3,delegate:2}],5:[function(t,e,n){function i(t,e){if(r)return r.call(t,e);for(var n=t.parentNode.querySelectorAll(e),i=0;i<n.length;++i)if(n[i]==t)return!0;return!1}var o=Element.prototype,r=o.matchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector;e.exports=i},{}],6:[function(t,e,n){function i(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(t),n.removeAllRanges(),n.addRange(i),e=n.toString()}return e}e.exports=i},{}],7:[function(t,e,n){function i(){}i.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){o.off(t,i),e.apply(n,arguments)}var o=this;return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,o=n.length;for(i;i<o;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],o=[];if(i&&e)for(var r=0,s=i.length;r<s;r++)i[r].fn!==e&&i[r].fn._!==e&&o.push(i[r]);return o.length?n[t]=o:delete n[t],this}},e.exports=i},{}],8:[function(e,n,i){!function(o,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if(void 0!==i)r(n,e("select"));else{var s={exports:{}};r(s,o.select),o.clipboardAction=s.exports}}(this,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(t){return t&&t.__esModule?t:{default:t}}(e),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){this.selectedText=(0,i.default)(this.target),this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},r(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":o(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=s})},{select:6}],9:[function(e,n,i){!function(o,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if(void 0!==i)r(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var s={exports:{}};r(s,o.clipboardAction,o.tinyEmitter,o.goodListener),o.clipboard=s.exports}}(this,function(t,e,n,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var c=o(e),u=o(n),p=o(i),d=function(t){function e(n,i){r(this,e);var o=s(this,t.call(this));return o.resolveOptions(i),o.listenClick(n),o}return a(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.listenClick=function(t){var e=this;this.listener=(0,p.default)(t,"click",function(t){return e.onClick(t)})},e.prototype.onClick=function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},e.prototype.defaultAction=function(t){return l("action",t)},e.prototype.defaultTarget=function(t){var e=l("target",t);if(e)return document.querySelector(e)},e.prototype.defaultText=function(t){return l("text",t)},e.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(u.default);t.exports=d})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)}),function(t,e){"use strict";var n=function(){function t(t,e,n,i){return"string"==typeof t&&"function"==typeof e&&(n=parseInt(n||10,10),a("actions",t,e,n,i)),p}function e(){var t=u.call(arguments),e=t.shift();return"string"==typeof e&&c("actions",e,t),p}function n(t,e){return"string"==typeof t&&s("actions",t,e),p}function i(t,e,n,i){return"string"==typeof t&&"function"==typeof e&&(n=parseInt(n||10,10),a("filters",t,e,n,i)),p}function o(){var t=u.call(arguments),e=t.shift();return"string"==typeof e?c("filters",e,t):p}function r(t,e){return"string"==typeof t&&s("filters",t,e),p}function s(t,e,n,i){var o,r,s;if(d[t][e])if(n)if(o=d[t][e],i)for(s=o.length;s--;)r=o[s],r.callback===n&&r.context===i&&o.splice(s,1);else for(s=o.length;s--;)o[s].callback===n&&o.splice(s,1);else d[t][e]=[]}function a(t,e,n,i,o){var r={callback:n,priority:i,context:o},s=d[t][e];s?(s.push(r),s=l(s)):s=[r],d[t][e]=s}function l(t){for(var e,n,i,o=1,r=t.length;o<r;o++){for(e=t[o],n=o;(i=t[n-1])&&i.priority>e.priority;)t[n]=t[n-1],--n;t[n]=e}return t}function c(t,e,n){var i,o,r=d[t][e];if(!r)return"filters"===t&&n[0];if(o=r.length,"filters"===t)for(i=0;i<o;i++)n[0]=r[i].callback.apply(r[i].context,n);else for(i=0;i<o;i++)r[i].callback.apply(r[i].context,n);return"filters"!==t||n[0]}var u=Array.prototype.slice,p={removeFilter:r,applyFilters:o,addFilter:i,removeAction:n,doAction:e,addAction:t},d={actions:{},filters:{}};return p};t.wp=t.wp||{},t.wp.hooks=new n}(window),function(t){t(document).ready(function(){new Clipboard("#notification_merge_tags .inside ul li code").on("success",function(e){var n=t(e.trigger),i=n.text();wp.hooks.doAction("notification.merge_tag.copied",i,n),n.text(notification.copied),setTimeout(function(){n.text(i)},800)}),wp.hooks.addAction("notification.trigger.changed",function(e){var n=e.val();data={action:"get_merge_tags_for_trigger",trigger_slug:n},t.post(ajaxurl,data,function(e){0==e.success?alert(e.data):t("#notification_merge_tags .inside").html(e.data)})})})}(jQuery),function(t){t(document).ready(function(){t("#notification-boxes .postbox .switch-container input").change(function(e){t(this).parents(".switch").first().toggleClass("active"),wp.hooks.doAction("notification.notification.toggled",t(this))})})}(jQuery),function(t){t(document).ready(function(){var e=function(e){var n=0;e.find(".row:not(.header):not(.model)").each(function(){t(this).find("input, select, textarea").each(function(){var e=t(this),i=e.attr("name");e.attr("name",i.replace(/(.*)\[([0-9]+)\]/,"$1["+n+"]"))}),n++})};t(".fields-repeater .model .subfield").each(function(){t(this).find("input, textarea, select").attr("disabled",!0)}),t(".fields-repeater").on("click",".row:not(.header):not(.model) .handle",function(){var n=t(this).parents(".fields-repeater").first();t(this).parents(".row").first().animate({opacity:0},400,"linear",function(){t(this).remove(),e(n),wp.hooks.doAction("notification.notification.repeater.row.removed",n)})}),t(".add-new-repeater-field").on("click",function(n){n.preventDefault();var i=t(this).prev(".fields-repeater"),o=i.find(".row.model"),r=o.clone().removeClass("model");r.find("input, textarea, select").attr("disabled",!1),r.appendTo(i),e(i),wp.hooks.doAction("notification.notification.repeater.row.added",i)})})}(jQuery),function(t){t(document).ready(function(){t("#notification_trigger_select").selectize({render:{item:function(t,e){return"<div>"+t.text.replace(/\[\[(.*)\]\]/g,"")+"</div>"},option:function(t,e){return"<div>"+t.text.replace(/(.*)\[\[(.*)\]\]/g,'<span class="label">$1</span><span class="caption">$2</span>')+"</div>"}}}),t("#notification_trigger_select").selectize().change(function(){wp.hooks.doAction("notification.trigger.changed",t(this))})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlbmRvci9zZWxlY3RpemUuanMiLCJ2ZW5kb3IvY2xpcGJvYXJkLmpzIiwidmVuZG9yL2V2ZW50LW1hbmFnZXIuanMiLCJtZXJnZXRhZy5qcyIsIm5vdGlmaWNhdGlvbi5qcyIsInJlcGVhdGVyLmpzIiwidHJpZ2dlci5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJTaWZ0ZXIiLCJ0aGlzIiwiaXRlbXMiLCJzZXR0aW5ncyIsImRpYWNyaXRpY3MiLCJwcm90b3R5cGUiLCJ0b2tlbml6ZSIsInF1ZXJ5IiwidHJpbSIsIlN0cmluZyIsInRvTG93ZXJDYXNlIiwibGVuZ3RoIiwiaSIsIm4iLCJyZWdleCIsImxldHRlciIsInRva2VucyIsIndvcmRzIiwic3BsaXQiLCJlc2NhcGVfcmVnZXgiLCJESUFDUklUSUNTIiwiaGFzT3duUHJvcGVydHkiLCJyZXBsYWNlIiwiUmVnRXhwIiwicHVzaCIsInN0cmluZyIsIml0ZXJhdG9yIiwib2JqZWN0IiwiY2FsbGJhY2siLCJpc19hcnJheSIsIkFycmF5IiwiZm9yRWFjaCIsImtleSIsImFwcGx5IiwiZ2V0U2NvcmVGdW5jdGlvbiIsInNlYXJjaCIsIm9wdGlvbnMiLCJzZWxmIiwiZmllbGRzIiwidG9rZW5fY291bnQiLCJuZXN0aW5nIiwicHJlcGFyZVNlYXJjaCIsInNjb3JlVmFsdWUiLCJ2YWx1ZSIsInRva2VuIiwic2NvcmUiLCJwb3MiLCJzY29yZU9iamVjdCIsImZpZWxkX2NvdW50IiwiZGF0YSIsImdldGF0dHIiLCJzdW0iLCJjb25qdW5jdGlvbiIsImdldFNvcnRGdW5jdGlvbiIsImZpZWxkIiwiZmllbGRzX2NvdW50IiwibXVsdGlwbGllciIsIm11bHRpcGxpZXJzIiwiZ2V0X2ZpZWxkIiwiaW1wbGljaXRfc2NvcmUiLCJzb3J0Iiwic29ydF9lbXB0eSIsIm5hbWUiLCJyZXN1bHQiLCJpZCIsInVuc2hpZnQiLCJkaXJlY3Rpb24iLCJzcGxpY2UiLCJhIiwiYiIsImNtcCIsImV4dGVuZCIsIm9wdGlvbl9maWVsZHMiLCJvcHRpb25fc29ydCIsIm9wdGlvbl9zb3J0X2VtcHR5IiwidG90YWwiLCJmbl9zb3J0IiwiZm5fc2NvcmUiLCJpdGVtIiwiZmlsdGVyIiwibGltaXQiLCJzbGljZSIsImFzY2lpZm9sZCIsImsiLCJhcmd1bWVudHMiLCJvYmoiLCJuYW1lcyIsInNoaWZ0Iiwic3RyIiwiaXNBcnJheSIsIiQiLCJPYmplY3QiLCJ0b1N0cmluZyIsImNhbGwiLCJjIiwiZCIsImUiLCJmIiwiZyIsImgiLCJqIiwibCIsIm8iLCJwIiwicSIsInIiLCJzIiwidCIsInUiLCJ2IiwidyIsIngiLCJ5IiwieiIsImNodW5rIiwiZm9yZWlnbmxldHRlcnMiLCJsb29rdXAiLCJzdWJzdHJpbmciLCJjaGFyQXQiLCJyZWdleHAiLCJmb3JlaWdubGV0dGVyIiwiTWljcm9QbHVnaW4iLCJtaXhpbiIsIkludGVyZmFjZSIsInBsdWdpbnMiLCJpbml0aWFsaXplUGx1Z2lucyIsInF1ZXVlIiwicmVxdWVzdGVkIiwibG9hZGVkIiwidXRpbHMiLCJyZXF1aXJlIiwibG9hZFBsdWdpbiIsInBsdWdpbiIsIkVycm9yIiwiZm4iLCJ2QXJnIiwiU2VsZWN0aXplIiwialF1ZXJ5IiwiaGlnaGxpZ2h0IiwiJGVsZW1lbnQiLCJwYXR0ZXJuIiwibm9kZSIsInNraXAiLCJub2RlVHlwZSIsIm1hdGNoIiwic3Bhbm5vZGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJtaWRkbGViaXQiLCJzcGxpdFRleHQiLCJtaWRkbGVjbG9uZSIsImNsb25lTm9kZSIsImFwcGVuZENoaWxkIiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsImNoaWxkTm9kZXMiLCJ0ZXN0IiwidGFnTmFtZSIsImVhY2giLCJyZW1vdmVIaWdobGlnaHQiLCJmaW5kIiwiZmlyc3RDaGlsZCIsIm5vZGVOYW1lIiwicGFyZW50Iiwibm9ybWFsaXplIiwiZW5kIiwiTWljcm9FdmVudCIsIm9uIiwiZXZlbnQiLCJmY3QiLCJfZXZlbnRzIiwib2ZmIiwiaW5kZXhPZiIsInRyaWdnZXIiLCJkZXN0T2JqZWN0IiwicHJvcHMiLCJJU19NQUMiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJLRVlfQ01EIiwiS0VZX0NUUkwiLCJTVVBQT1JUU19WQUxJRElUWV9BUEkiLCJ3aW5kb3ciLCJ2YWxpZGl0eSIsImlzc2V0IiwiaGFzaF9rZXkiLCJlc2NhcGVfaHRtbCIsImhvb2siLCJiZWZvcmUiLCJtZXRob2QiLCJvcmlnaW5hbCIsImFmdGVyIiwib25jZSIsImNhbGxlZCIsImRlYm91bmNlIiwiZGVsYXkiLCJ0aW1lb3V0IiwiYXJncyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJkZWJvdW5jZV9ldmVudHMiLCJ0eXBlcyIsInR5cGUiLCJldmVudF9hcmdzIiwid2F0Y2hDaGlsZEV2ZW50IiwiJHBhcmVudCIsInNlbGVjdG9yIiwiY2hpbGQiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiZ2V0U2VsZWN0aW9uIiwiaW5wdXQiLCJzdGFydCIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwic2VsZWN0aW9uIiwiZm9jdXMiLCJzZWwiLCJjcmVhdGVSYW5nZSIsInNlbExlbiIsInRleHQiLCJtb3ZlU3RhcnQiLCJ0cmFuc2ZlclN0eWxlcyIsIiRmcm9tIiwiJHRvIiwicHJvcGVydGllcyIsInN0eWxlcyIsImNzcyIsIm1lYXN1cmVTdHJpbmciLCIkdGVzdCIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsIndpZHRoIiwicGFkZGluZyIsIndoaXRlU3BhY2UiLCJhcHBlbmRUbyIsInJlbW92ZSIsImF1dG9Hcm93IiwiJGlucHV0IiwiY3VycmVudFdpZHRoIiwidXBkYXRlIiwia2V5Q29kZSIsInByaW50YWJsZSIsInBsYWNlaG9sZGVyIiwiY2hhcmFjdGVyIiwibWV0YUtleSIsImFsdEtleSIsImZvcmNlIiwidmFsIiwic2hpZnRLZXkiLCJmcm9tQ2hhckNvZGUiLCJ0b1VwcGVyQ2FzZSIsImF0dHIiLCJ0cmlnZ2VySGFuZGxlciIsImRvbVRvU3RyaW5nIiwidG1wIiwiaW5uZXJIVE1MIiwiZGlyIiwic2VsZWN0aXplIiwiY29tcHV0ZWRTdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiY3VycmVudFN0eWxlIiwicGFyZW50cyIsIm9yZGVyIiwidGFiSW5kZXgiLCJ0YWdUeXBlIiwicnRsIiwiZXZlbnROUyIsImNvdW50IiwiaGlnaGxpZ2h0ZWRWYWx1ZSIsImlzT3BlbiIsImlzRGlzYWJsZWQiLCJpc1JlcXVpcmVkIiwiaXMiLCJpc0ludmFsaWQiLCJpc0xvY2tlZCIsImlzRm9jdXNlZCIsImlzSW5wdXRIaWRkZW4iLCJpc1NldHVwIiwiaXNTaGlmdERvd24iLCJpc0NtZERvd24iLCJpc0N0cmxEb3duIiwiaWdub3JlRm9jdXMiLCJpZ25vcmVCbHVyIiwiaWdub3JlSG92ZXIiLCJoYXNPcHRpb25zIiwiY3VycmVudFJlc3VsdHMiLCJsYXN0VmFsdWUiLCJjYXJldFBvcyIsImxvYWRpbmciLCJsb2FkZWRTZWFyY2hlcyIsIiRhY3RpdmVPcHRpb24iLCIkYWN0aXZlSXRlbXMiLCJvcHRncm91cHMiLCJ1c2VyT3B0aW9ucyIsInJlbmRlckNhY2hlIiwib25TZWFyY2hDaGFuZ2UiLCJsb2FkVGhyb3R0bGUiLCJzaWZ0ZXIiLCJyZWdpc3Rlck9wdGlvbiIsInJlZ2lzdGVyT3B0aW9uR3JvdXAiLCJtb2RlIiwibWF4SXRlbXMiLCJoaWRlU2VsZWN0ZWQiLCJzZXR1cENhbGxiYWNrcyIsInNldHVwVGVtcGxhdGVzIiwic2V0dXAiLCJtZXNzYWdlIiwiY29uc29sZSIsImVycm9yIiwiY29tcG9uZW50IiwiZXhwbGFuYXRpb24iLCJncm91cCIsImdyb3VwRW5kIiwiJHdyYXBwZXIiLCIkY29udHJvbCIsIiRjb250cm9sX2lucHV0IiwiJGRyb3Bkb3duIiwiJGRyb3Bkb3duX2NvbnRlbnQiLCIkZHJvcGRvd25fcGFyZW50IiwiaW5wdXRNb2RlIiwiY2xhc3NlcyIsImNsYXNzZXNfcGx1Z2lucyIsImlucHV0SWQiLCIkd2luZG93IiwiJGRvY3VtZW50IiwiYWRkQ2xhc3MiLCJ3cmFwcGVyQ2xhc3MiLCJpbnB1dENsYXNzIiwiZHJvcGRvd25QYXJlbnQiLCJkcm9wZG93bkNsYXNzIiwiaGlkZSIsImRyb3Bkb3duQ29udGVudENsYXNzIiwiY29weUNsYXNzZXNUb0Ryb3Bkb3duIiwic3R5bGUiLCJqb2luIiwic3BsaXRPbiIsImRlbGltaXRlciIsImRlbGltaXRlckVzY2FwZWQiLCJvbk9wdGlvbkhvdmVyIiwib25PcHRpb25TZWxlY3QiLCJvbkl0ZW1TZWxlY3QiLCJtb3VzZWRvd24iLCJvbk1vdXNlRG93biIsImNsaWNrIiwib25DbGljayIsInN0b3BQcm9wYWdhdGlvbiIsImtleWRvd24iLCJvbktleURvd24iLCJrZXl1cCIsIm9uS2V5VXAiLCJrZXlwcmVzcyIsIm9uS2V5UHJlc3MiLCJyZXNpemUiLCJwb3NpdGlvbkRyb3Bkb3duIiwiYmx1ciIsIm9uQmx1ciIsIm9uRm9jdXMiLCJwYXN0ZSIsIm9uUGFzdGUiLCJoYXMiLCJyZXZlcnRTZXR0aW5ncyIsIiRjaGlsZHJlbiIsImNoaWxkcmVuIiwiZGV0YWNoIiwidGFiaW5kZXgiLCJzZXRWYWx1ZSIsInByZXZlbnREZWZhdWx0IiwicmVmcmVzaFN0YXRlIiwidXBkYXRlT3JpZ2luYWxJbnB1dCIsInJlZnJlc2hJdGVtcyIsInVwZGF0ZVBsYWNlaG9sZGVyIiwiZGlzYWJsZSIsIm9uQ2hhbmdlIiwicHJlbG9hZCIsImZpZWxkX2xhYmVsIiwibGFiZWxGaWVsZCIsImZpZWxkX29wdGdyb3VwIiwib3B0Z3JvdXBMYWJlbEZpZWxkIiwidGVtcGxhdGVzIiwib3B0Z3JvdXAiLCJodG1sIiwib3B0Z3JvdXBfaGVhZGVyIiwiZXNjYXBlIiwib3B0aW9uIiwib3B0aW9uX2NyZWF0ZSIsInJlbmRlciIsImNhbGxiYWNrcyIsImluaXRpYWxpemUiLCJjaGFuZ2UiLCJpdGVtX2FkZCIsIml0ZW1fcmVtb3ZlIiwiY2xlYXIiLCJvcHRpb25fYWRkIiwib3B0aW9uX3JlbW92ZSIsIm9wdGlvbl9jbGVhciIsIm9wdGdyb3VwX2FkZCIsIm9wdGdyb3VwX3JlbW92ZSIsIm9wdGdyb3VwX2NsZWFyIiwiZHJvcGRvd25fb3BlbiIsImRyb3Bkb3duX2Nsb3NlIiwibG9hZCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJjbG9zZSIsIm9wZW4iLCJzZXRBY3RpdmVJdGVtIiwiaXNGdWxsIiwicGFzdGVkVGV4dCIsInNwbGl0SW5wdXQiLCJjcmVhdGVJdGVtIiwid2hpY2giLCJjcmVhdGUiLCJzZWxlY3RBbGwiLCJjdHJsS2V5IiwiJG5leHQiLCJnZXRBZGphY2VudE9wdGlvbiIsInNldEFjdGl2ZU9wdGlvbiIsIiRwcmV2IiwiYWR2YW5jZVNlbGVjdGlvbiIsInNlbGVjdE9uVGFiIiwiZGVsZXRlU2VsZWN0aW9uIiwicmVmcmVzaE9wdGlvbnMiLCJ3YXNGb2N1c2VkIiwic2hvd0lucHV0Iiwib3Blbk9uRm9jdXMiLCJkZXN0IiwiYWN0aXZlRWxlbWVudCIsImRlYWN0aXZhdGUiLCJzZXRUZXh0Ym94VmFsdWUiLCJzZXRDYXJldCIsImNyZWF0ZU9uQmx1ciIsIiR0YXJnZXQiLCJoYXNDbGFzcyIsImNsb3NlQWZ0ZXJTZWxlY3QiLCJsYXN0UXVlcnkiLCJhZGRJdGVtIiwiZ2V0T3B0aW9uIiwibG9hZGluZ0NsYXNzIiwicmVzdWx0cyIsIk1hdGgiLCJtYXgiLCJhZGRPcHRpb24iLCJyZW1vdmVDbGFzcyIsImdldFZhbHVlIiwic2lsZW50IiwiYWRkSXRlbXMiLCIkaXRlbSIsImV2ZW50TmFtZSIsImlkeCIsImJlZ2luIiwic3dhcCIsIiRsYXN0IiwiaGlkZUlucHV0IiwiJG9wdGlvbiIsInNjcm9sbCIsImFuaW1hdGUiLCJoZWlnaHRfbWVudSIsImhlaWdodF9pdGVtIiwic2Nyb2xsX3RvcCIsInNjcm9sbF9ib3R0b20iLCJoZWlnaHQiLCJvdXRlckhlaWdodCIsInNjcm9sbFRvcCIsIm9mZnNldCIsInN0b3AiLCJzY3JvbGxEdXJhdGlvbiIsIm9wYWNpdHkiLCJnZXRTZWFyY2hPcHRpb25zIiwic29ydEZpZWxkIiwic2VhcmNoRmllbGQiLCJzZWFyY2hDb25qdW5jdGlvbiIsImNhbGN1bGF0ZVNjb3JlIiwidHJpZ2dlckRyb3Bkb3duIiwiZ3JvdXBzIiwiZ3JvdXBzX29yZGVyIiwib3B0aW9uX2h0bWwiLCJodG1sX2NoaWxkcmVuIiwiaGFzX2NyZWF0ZV9vcHRpb24iLCIkYWN0aXZlIiwiJGFjdGl2ZV9iZWZvcmUiLCIkY3JlYXRlIiwiYWN0aXZlX2JlZm9yZSIsIm1heE9wdGlvbnMiLCJtaW4iLCJvcHRncm91cEZpZWxkIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImxvY2tPcHRncm91cE9yZGVyIiwiJG9yZGVyIiwiZG9tIiwiY2FuQ3JlYXRlIiwicHJlcGVuZCIsImFkZFByZWNlZGVuY2UiLCJ2YWx1ZUZpZWxkIiwib3B0Z3JvdXBWYWx1ZUZpZWxkIiwiYWRkT3B0aW9uR3JvdXAiLCJyZW1vdmVPcHRpb25Hcm91cCIsImNsZWFyT3B0aW9uR3JvdXBzIiwidXBkYXRlT3B0aW9uIiwiJGl0ZW1fbmV3IiwidmFsdWVfbmV3IiwiaW5kZXhfaXRlbSIsImNhY2hlX2l0ZW1zIiwiY2FjaGVfb3B0aW9ucyIsIm9yZGVyX29sZCIsImdldEl0ZW0iLCJyZXBsYWNlV2l0aCIsInJlbW92ZU9wdGlvbiIsInJlbW92ZUl0ZW0iLCJjbGVhck9wdGlvbnMiLCJnZXRFbGVtZW50V2l0aFZhbHVlIiwiJG9wdGlvbnMiLCJpbmRleCIsImVxIiwiJGVscyIsImdldEF0dHJpYnV0ZSIsInZhbHVlcyIsImlzUGVuZGluZyIsInZhbHVlX25leHQiLCJ3YXNGdWxsIiwiaW5zZXJ0QXRDYXJldCIsInBlcnNpc3QiLCJjYXJldCIsImxvY2siLCJ1bmxvY2siLCJvdXRwdXQiLCJyZWZyZXNoVmFsaWRpdHlTdGF0ZSIsInJlZnJlc2hDbGFzc2VzIiwiaW52YWxpZCIsInByb3AiLCJ0b2dnbGVDbGFzcyIsImlzRW1wdHlPYmplY3QiLCJvcHRzIiwibGFiZWwiLCJyZW1vdmVBdHRyIiwidmlzaWJpbGl0eSIsImRpc3BsYXkiLCJvdXRlcldpZHRoIiwiJGVsIiwib3B0aW9uX3NlbGVjdCIsIiRvcHRpb25fc2VsZWN0IiwiJHRhaWwiLCJvbkRlbGV0ZSIsInBvcCIsInRhaWwiLCJ2YWx1ZUxlbmd0aCIsImFkdmFuY2VDYXJldCIsIiRhZGoiLCIkY2hpbGQiLCJhcHBlbmQiLCJlbmFibGUiLCJkZXN0cm95Iiwic2hvdyIsInJlbW92ZURhdGEiLCJib2R5IiwidGVtcGxhdGVOYW1lIiwiY2FjaGUiLCJjbGVhckNhY2hlIiwiY3JlYXRlRmlsdGVyIiwiZGVmYXVsdHMiLCJhbGxvd0VtcHR5T3B0aW9uIiwiZGF0YUF0dHIiLCJzZXR0aW5nc191c2VyIiwiYXR0cl9kYXRhIiwiZmllbGRfdmFsdWUiLCJmaWVsZF9vcHRncm91cF9sYWJlbCIsImZpZWxkX29wdGdyb3VwX3ZhbHVlIiwiaW5pdF90ZXh0Ym94Iiwic2V0dGluZ3NfZWxlbWVudCIsImRhdGFfcmF3IiwiSlNPTiIsInBhcnNlIiwiaW5pdF9zZWxlY3QiLCJvcHRpb25zTWFwIiwicmVhZERhdGEiLCJhcnIiLCIkb3B0Z3JvdXAiLCJ0YWdfbmFtZSIsInN1cHBvcnQiLCJzb3J0YWJsZSIsImZvcmNlUGxhY2Vob2xkZXJTaXplIiwiZGlzYWJsZWQiLCJ1aSIsImhlbHBlciIsIm92ZXJmbG93IiwiYWN0aXZlIiwidGl0bGUiLCJoZWFkZXJDbGFzcyIsInRpdGxlUm93Q2xhc3MiLCJsYWJlbENsYXNzIiwiY2xvc2VDbGFzcyIsIiRkcm9wZG93bl9oZWFkZXIiLCJlcXVhbGl6ZVdpZHRoIiwiZXF1YWxpemVIZWlnaHQiLCJjbG9zZXN0IiwicHJldiIsIm5leHQiLCJnZXRTY3JvbGxiYXJXaWR0aCIsImRpdiIsImRvYyIsIm9mZnNldFdpZHRoIiwiY2xpZW50V2lkdGgiLCJyZW1vdmVDaGlsZCIsImVxdWFsaXplU2l6ZXMiLCJoZWlnaHRfbWF4Iiwid2lkdGhfbGFzdCIsIndpZHRoX3BhcmVudCIsIiRvcHRncm91cHMiLCJpbm5lcldpZHRoIiwicm91bmQiLCJ0aGlzUmVmIiwiaHRtbF9jb250YWluZXIiLCJodG1sX2VsZW1lbnQiLCJjb250ZXh0IiwicmVuZGVyX2l0ZW0iLCJnbG9iYWwiLCJDbGlwYm9hcmQiLCJjb2RlIiwiMSIsIm1hdGNoZXMiLCJlbGVtZW50IiwiY2hlY2tZb1NlbGYiLCJtYXRjaGVzLXNlbGVjdG9yIiwiMiIsImRlbGVnYXRlIiwidXNlQ2FwdHVyZSIsImxpc3RlbmVyRm4iLCJsaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGVsZWdhdGVUYXJnZXQiLCIzIiwidW5kZWZpbmVkIiwiSFRNTEVsZW1lbnQiLCJub2RlTGlzdCIsIjQiLCJsaXN0ZW4iLCJUeXBlRXJyb3IiLCJsaXN0ZW5Ob2RlIiwibGlzdGVuTm9kZUxpc3QiLCJsaXN0ZW5TZWxlY3RvciIsIi4vaXMiLCI1IiwiZWwiLCJ2ZW5kb3IiLCJub2RlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwcm90byIsIkVsZW1lbnQiLCJtYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCI2Iiwic2VsZWN0Iiwic2VsZWN0ZWRUZXh0Iiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJoYXNBdHRyaWJ1dGUiLCJyYW5nZSIsInNlbGVjdE5vZGVDb250ZW50cyIsInJlbW92ZUFsbFJhbmdlcyIsImFkZFJhbmdlIiwiNyIsIkUiLCJjdHgiLCJfIiwiZW1pdCIsImV2dEFyciIsImxlbiIsImV2dHMiLCJsaXZlRXZlbnRzIiwiOCIsIm1vZCIsImNsaXBib2FyZEFjdGlvbiIsIl9zZWxlY3QiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX3NlbGVjdDIiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl90eXBlb2YiLCJTeW1ib2wiLCJjb25zdHJ1Y3RvciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZGVmaW5lUHJvcGVydHkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJDbGlwYm9hcmRBY3Rpb24iLCJyZXNvbHZlT3B0aW9ucyIsImluaXRTZWxlY3Rpb24iLCJhY3Rpb24iLCJlbWl0dGVyIiwic2VsZWN0RmFrZSIsInNlbGVjdFRhcmdldCIsIl90aGlzIiwiaXNSVEwiLCJkb2N1bWVudEVsZW1lbnQiLCJyZW1vdmVGYWtlIiwiZmFrZUhhbmRsZXJDYWxsYmFjayIsImZha2VIYW5kbGVyIiwiZmFrZUVsZW0iLCJmb250U2l6ZSIsImJvcmRlciIsIm1hcmdpbiIsInBhZ2VZT2Zmc2V0Iiwic2V0QXR0cmlidXRlIiwiY29weVRleHQiLCJzdWNjZWVkZWQiLCJleGVjQ29tbWFuZCIsImVyciIsImhhbmRsZVJlc3VsdCIsImNsZWFyU2VsZWN0aW9uIiwiYmluZCIsInNldCIsIl9hY3Rpb24iLCJnZXQiLCJfdGFyZ2V0IiwiOSIsInRpbnlFbWl0dGVyIiwiZ29vZExpc3RlbmVyIiwiY2xpcGJvYXJkIiwiX2NsaXBib2FyZEFjdGlvbiIsIl90aW55RW1pdHRlciIsIl9nb29kTGlzdGVuZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZ2V0QXR0cmlidXRlVmFsdWUiLCJzdWZmaXgiLCJhdHRyaWJ1dGUiLCJfY2xpcGJvYXJkQWN0aW9uMiIsIl90aW55RW1pdHRlcjIiLCJfZ29vZExpc3RlbmVyMiIsIl9FbWl0dGVyIiwibGlzdGVuQ2xpY2siLCJkZWZhdWx0QWN0aW9uIiwiZGVmYXVsdFRhcmdldCIsImRlZmF1bHRUZXh0IiwiX3RoaXMyIiwicXVlcnlTZWxlY3RvciIsIi4vY2xpcGJvYXJkLWFjdGlvbiIsImdvb2QtbGlzdGVuZXIiLCJ0aW55LWVtaXR0ZXIiLCJFdmVudE1hbmFnZXIiLCJhZGRBY3Rpb24iLCJwcmlvcml0eSIsInBhcnNlSW50IiwiX2FkZEhvb2siLCJNZXRob2RzQXZhaWxhYmxlIiwiZG9BY3Rpb24iLCJfcnVuSG9vayIsInJlbW92ZUFjdGlvbiIsIl9yZW1vdmVIb29rIiwiYWRkRmlsdGVyIiwiYXBwbHlGaWx0ZXJzIiwicmVtb3ZlRmlsdGVyIiwiaGFuZGxlcnMiLCJoYW5kbGVyIiwiU1RPUkFHRSIsImhvb2tPYmplY3QiLCJob29rcyIsIl9ob29rSW5zZXJ0U29ydCIsInRtcEhvb2siLCJwcmV2SG9vayIsImFjdGlvbnMiLCJmaWx0ZXJzIiwid3AiLCJyZWFkeSIsIiRjb2RlIiwidGFnIiwibm90aWZpY2F0aW9uIiwiY29waWVkIiwiJHRyaWdnZXIiLCJ0cmlnZ2VyX3NsdWciLCJwb3N0IiwiYWpheHVybCIsInJlc3BvbnNlIiwic3VjY2VzcyIsImFsZXJ0IiwiZmlyc3QiLCJyZWNhbGN1bGF0ZV9yb3dzIiwiJHJlcGVhdGVyIiwicGFydF9uYW1lIiwiJG1vZGVsIiwiJGNsb25lZCIsImNsb25lIl0sIm1hcHBpbmdzIjoiQ0FnQkEsU0FBQUEsRUFBQUMsR0FDQSxrQkFBQUMsU0FBQUEsT0FBQUMsSUFDQUQsT0FBQSxTQUFBRCxHQUNBLGdCQUFBRyxTQUNBQyxPQUFBRCxRQUFBSCxJQUVBRCxFQUFBTSxPQUFBTCxLQUVBTSxLQUFBLFdBV0EsR0FBQUQsR0FBQSxTQUFBRSxFQUFBQyxHQUNBRixLQUFBQyxNQUFBQSxFQUNBRCxLQUFBRSxTQUFBQSxJQUFBQyxZQUFBLEdBVUFKLEdBQUFLLFVBQUFDLFNBQUEsU0FBQUMsR0FFQSxLQURBQSxFQUFBQyxFQUFBQyxPQUFBRixHQUFBLElBQUFHLGtCQUNBSCxFQUFBSSxPQUFBLFFBRUEsSUFBQUMsR0FBQUMsRUFBQUMsRUFBQUMsRUFDQUMsS0FDQUMsRUFB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LGFBS0FvRSxFQUFBLGdDQUFBMEssWUFBQW9JLE9BQUEsV0FDQXFZLEdBQUFOLE1BQUFYLFNBQUEsK0JBQUFscUIsRUFBQXpGLFlBS0F3SSIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBzaWZ0ZXIuanNcclxuICogQ29weXJpZ2h0IChjKSAyMDEzIEJyaWFuIFJlYXZpcyAmIGNvbnRyaWJ1dG9yc1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpc1xyXG4gKiBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcclxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXJcclxuICogdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRlxyXG4gKiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2VcclxuICogZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICpcclxuICogQGF1dGhvciBCcmlhbiBSZWF2aXMgPGJyaWFuQHRoaXJkcm91dGUuY29tPlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XHJcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG5cdFx0ZGVmaW5lKCdzaWZ0ZXInLCBmYWN0b3J5KTtcclxuXHR9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xyXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJvb3QuU2lmdGVyID0gZmFjdG9yeSgpO1xyXG5cdH1cclxufSh0aGlzLCBmdW5jdGlvbigpIHtcclxuXHJcblx0LyoqXHJcblx0ICogVGV4dHVhbGx5IHNlYXJjaGVzIGFycmF5cyBhbmQgaGFzaGVzIG9mIG9iamVjdHNcclxuXHQgKiBieSBwcm9wZXJ0eSAob3IgbXVsdGlwbGUgcHJvcGVydGllcykuIERlc2lnbmVkXHJcblx0ICogc3BlY2lmaWNhbGx5IGZvciBhdXRvY29tcGxldGUuXHJcblx0ICpcclxuXHQgKiBAY29uc3RydWN0b3JcclxuXHQgKiBAcGFyYW0ge2FycmF5fG9iamVjdH0gaXRlbXNcclxuXHQgKiBAcGFyYW0ge29iamVjdH0gaXRlbXNcclxuXHQgKi9cclxuXHR2YXIgU2lmdGVyID0gZnVuY3Rpb24oaXRlbXMsIHNldHRpbmdzKSB7XHJcblx0XHR0aGlzLml0ZW1zID0gaXRlbXM7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gc2V0dGluZ3MgfHwge2RpYWNyaXRpY3M6IHRydWV9O1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNwbGl0cyBhIHNlYXJjaCBzdHJpbmcgaW50byBhbiBhcnJheSBvZiBpbmRpdmlkdWFsXHJcblx0ICogcmVnZXhwcyB0byBiZSB1c2VkIHRvIG1hdGNoIHJlc3VsdHMuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlcclxuXHQgKiBAcmV0dXJucyB7YXJyYXl9XHJcblx0ICovXHJcblx0U2lmdGVyLnByb3RvdHlwZS50b2tlbml6ZSA9IGZ1bmN0aW9uKHF1ZXJ5KSB7XHJcblx0XHRxdWVyeSA9IHRyaW0oU3RyaW5nKHF1ZXJ5IHx8ICcnKS50b0xvd2VyQ2FzZSgpKTtcclxuXHRcdGlmICghcXVlcnkgfHwgIXF1ZXJ5Lmxlbmd0aCkgcmV0dXJuIFtdO1xyXG5cclxuXHRcdHZhciBpLCBuLCByZWdleCwgbGV0dGVyO1xyXG5cdFx0dmFyIHRva2VucyA9IFtdO1xyXG5cdFx0dmFyIHdvcmRzID0gcXVlcnkuc3BsaXQoLyArLyk7XHJcblxyXG5cdFx0Zm9yIChpID0gMCwgbiA9IHdvcmRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRyZWdleCA9IGVzY2FwZV9yZWdleCh3b3Jkc1tpXSk7XHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmRpYWNyaXRpY3MpIHtcclxuXHRcdFx0XHRmb3IgKGxldHRlciBpbiBESUFDUklUSUNTKSB7XHJcblx0XHRcdFx0XHRpZiAoRElBQ1JJVElDUy5oYXNPd25Qcm9wZXJ0eShsZXR0ZXIpKSB7XHJcblx0XHRcdFx0XHRcdHJlZ2V4ID0gcmVnZXgucmVwbGFjZShuZXcgUmVnRXhwKGxldHRlciwgJ2cnKSwgRElBQ1JJVElDU1tsZXR0ZXJdKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dG9rZW5zLnB1c2goe1xyXG5cdFx0XHRcdHN0cmluZyA6IHdvcmRzW2ldLFxyXG5cdFx0XHRcdHJlZ2V4ICA6IG5ldyBSZWdFeHAocmVnZXgsICdpJylcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRva2VucztcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBJdGVyYXRlcyBvdmVyIGFycmF5cyBhbmQgaGFzaGVzLlxyXG5cdCAqXHJcblx0ICogYGBgXHJcblx0ICogdGhpcy5pdGVyYXRvcih0aGlzLml0ZW1zLCBmdW5jdGlvbihpdGVtLCBpZCkge1xyXG5cdCAqICAgIC8vIGludm9rZWQgZm9yIGVhY2ggaXRlbVxyXG5cdCAqIH0pO1xyXG5cdCAqIGBgYFxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHthcnJheXxvYmplY3R9IG9iamVjdFxyXG5cdCAqL1xyXG5cdFNpZnRlci5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XHJcblx0XHR2YXIgaXRlcmF0b3I7XHJcblx0XHRpZiAoaXNfYXJyYXkob2JqZWN0KSkge1xyXG5cdFx0XHRpdGVyYXRvciA9IEFycmF5LnByb3RvdHlwZS5mb3JFYWNoIHx8IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIG4gPSB0aGlzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdFx0Y2FsbGJhY2sodGhpc1tpXSwgaSwgdGhpcyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aXRlcmF0b3IgPSBmdW5jdGlvbihjYWxsYmFjaykge1xyXG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiB0aGlzKSB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0XHRcdGNhbGxiYWNrKHRoaXNba2V5XSwga2V5LCB0aGlzKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHR9XHJcblxyXG5cdFx0aXRlcmF0b3IuYXBwbHkob2JqZWN0LCBbY2FsbGJhY2tdKTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gYmUgdXNlZCB0byBzY29yZSBpbmRpdmlkdWFsIHJlc3VsdHMuXHJcblx0ICpcclxuXHQgKiBHb29kIG1hdGNoZXMgd2lsbCBoYXZlIGEgaGlnaGVyIHNjb3JlIHRoYW4gcG9vciBtYXRjaGVzLlxyXG5cdCAqIElmIGFuIGl0ZW0gaXMgbm90IGEgbWF0Y2gsIDAgd2lsbCBiZSByZXR1cm5lZCBieSB0aGUgZnVuY3Rpb24uXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge29iamVjdHxzdHJpbmd9IHNlYXJjaFxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIChvcHRpb25hbClcclxuXHQgKiBAcmV0dXJucyB7ZnVuY3Rpb259XHJcblx0ICovXHJcblx0U2lmdGVyLnByb3RvdHlwZS5nZXRTY29yZUZ1bmN0aW9uID0gZnVuY3Rpb24oc2VhcmNoLCBvcHRpb25zKSB7XHJcblx0XHR2YXIgc2VsZiwgZmllbGRzLCB0b2tlbnMsIHRva2VuX2NvdW50LCBuZXN0aW5nO1xyXG5cclxuXHRcdHNlbGYgICAgICAgID0gdGhpcztcclxuXHRcdHNlYXJjaCAgICAgID0gc2VsZi5wcmVwYXJlU2VhcmNoKHNlYXJjaCwgb3B0aW9ucyk7XHJcblx0XHR0b2tlbnMgICAgICA9IHNlYXJjaC50b2tlbnM7XHJcblx0XHRmaWVsZHMgICAgICA9IHNlYXJjaC5vcHRpb25zLmZpZWxkcztcclxuXHRcdHRva2VuX2NvdW50ID0gdG9rZW5zLmxlbmd0aDtcclxuXHRcdG5lc3RpbmcgICAgID0gc2VhcmNoLm9wdGlvbnMubmVzdGluZztcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENhbGN1bGF0ZXMgaG93IGNsb3NlIG9mIGEgbWF0Y2ggdGhlXHJcblx0XHQgKiBnaXZlbiB2YWx1ZSBpcyBhZ2FpbnN0IGEgc2VhcmNoIHRva2VuLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7bWl4ZWR9IHZhbHVlXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gdG9rZW5cclxuXHRcdCAqIEByZXR1cm4ge251bWJlcn1cclxuXHRcdCAqL1xyXG5cdFx0dmFyIHNjb3JlVmFsdWUgPSBmdW5jdGlvbih2YWx1ZSwgdG9rZW4pIHtcclxuXHRcdFx0dmFyIHNjb3JlLCBwb3M7XHJcblxyXG5cdFx0XHRpZiAoIXZhbHVlKSByZXR1cm4gMDtcclxuXHRcdFx0dmFsdWUgPSBTdHJpbmcodmFsdWUgfHwgJycpO1xyXG5cdFx0XHRwb3MgPSB2YWx1ZS5zZWFyY2godG9rZW4ucmVnZXgpO1xyXG5cdFx0XHRpZiAocG9zID09PSAtMSkgcmV0dXJuIDA7XHJcblx0XHRcdHNjb3JlID0gdG9rZW4uc3RyaW5nLmxlbmd0aCAvIHZhbHVlLmxlbmd0aDtcclxuXHRcdFx0aWYgKHBvcyA9PT0gMCkgc2NvcmUgKz0gMC41O1xyXG5cdFx0XHRyZXR1cm4gc2NvcmU7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2FsY3VsYXRlcyB0aGUgc2NvcmUgb2YgYW4gb2JqZWN0XHJcblx0XHQgKiBhZ2FpbnN0IHRoZSBzZWFyY2ggcXVlcnkuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IHRva2VuXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZGF0YVxyXG5cdFx0ICogQHJldHVybiB7bnVtYmVyfVxyXG5cdFx0ICovXHJcblx0XHR2YXIgc2NvcmVPYmplY3QgPSAoZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBmaWVsZF9jb3VudCA9IGZpZWxkcy5sZW5ndGg7XHJcblx0XHRcdGlmICghZmllbGRfY291bnQpIHtcclxuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChmaWVsZF9jb3VudCA9PT0gMSkge1xyXG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbih0b2tlbiwgZGF0YSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHNjb3JlVmFsdWUoZ2V0YXR0cihkYXRhLCBmaWVsZHNbMF0sIG5lc3RpbmcpLCB0b2tlbik7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24odG9rZW4sIGRhdGEpIHtcclxuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgc3VtID0gMDsgaSA8IGZpZWxkX2NvdW50OyBpKyspIHtcclxuXHRcdFx0XHRcdHN1bSArPSBzY29yZVZhbHVlKGdldGF0dHIoZGF0YSwgZmllbGRzW2ldLCBuZXN0aW5nKSwgdG9rZW4pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gc3VtIC8gZmllbGRfY291bnQ7XHJcblx0XHRcdH07XHJcblx0XHR9KSgpO1xyXG5cclxuXHRcdGlmICghdG9rZW5fY291bnQpIHtcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcclxuXHRcdH1cclxuXHRcdGlmICh0b2tlbl9jb3VudCA9PT0gMSkge1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0XHRcdHJldHVybiBzY29yZU9iamVjdCh0b2tlbnNbMF0sIGRhdGEpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChzZWFyY2gub3B0aW9ucy5jb25qdW5jdGlvbiA9PT0gJ2FuZCcpIHtcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0XHR2YXIgc2NvcmU7XHJcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIHN1bSA9IDA7IGkgPCB0b2tlbl9jb3VudDsgaSsrKSB7XHJcblx0XHRcdFx0XHRzY29yZSA9IHNjb3JlT2JqZWN0KHRva2Vuc1tpXSwgZGF0YSk7XHJcblx0XHRcdFx0XHRpZiAoc2NvcmUgPD0gMCkgcmV0dXJuIDA7XHJcblx0XHRcdFx0XHRzdW0gKz0gc2NvcmU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBzdW0gLyB0b2tlbl9jb3VudDtcclxuXHRcdFx0fTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIHN1bSA9IDA7IGkgPCB0b2tlbl9jb3VudDsgaSsrKSB7XHJcblx0XHRcdFx0XHRzdW0gKz0gc2NvcmVPYmplY3QodG9rZW5zW2ldLCBkYXRhKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIHN1bSAvIHRva2VuX2NvdW50O1xyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGNvbXBhcmUgdHdvXHJcblx0ICogcmVzdWx0cywgZm9yIHNvcnRpbmcgcHVycG9zZXMuIElmIG5vIHNvcnRpbmcgc2hvdWxkXHJcblx0ICogYmUgcGVyZm9ybWVkLCBgbnVsbGAgd2lsbCBiZSByZXR1cm5lZC5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gc2VhcmNoXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcclxuXHQgKiBAcmV0dXJuIGZ1bmN0aW9uKGEsYilcclxuXHQgKi9cclxuXHRTaWZ0ZXIucHJvdG90eXBlLmdldFNvcnRGdW5jdGlvbiA9IGZ1bmN0aW9uKHNlYXJjaCwgb3B0aW9ucykge1xyXG5cdFx0dmFyIGksIG4sIHNlbGYsIGZpZWxkLCBmaWVsZHMsIGZpZWxkc19jb3VudCwgbXVsdGlwbGllciwgbXVsdGlwbGllcnMsIGdldF9maWVsZCwgaW1wbGljaXRfc2NvcmUsIHNvcnQ7XHJcblxyXG5cdFx0c2VsZiAgID0gdGhpcztcclxuXHRcdHNlYXJjaCA9IHNlbGYucHJlcGFyZVNlYXJjaChzZWFyY2gsIG9wdGlvbnMpO1xyXG5cdFx0c29ydCAgID0gKCFzZWFyY2gucXVlcnkgJiYgb3B0aW9ucy5zb3J0X2VtcHR5KSB8fCBvcHRpb25zLnNvcnQ7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBGZXRjaGVzIHRoZSBzcGVjaWZpZWQgc29ydCBmaWVsZCB2YWx1ZVxyXG5cdFx0ICogZnJvbSBhIHNlYXJjaCByZXN1bHQgaXRlbS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gIHtzdHJpbmd9IG5hbWVcclxuXHRcdCAqIEBwYXJhbSAge29iamVjdH0gcmVzdWx0XHJcblx0XHQgKiBAcmV0dXJuIHttaXhlZH1cclxuXHRcdCAqL1xyXG5cdFx0Z2V0X2ZpZWxkID0gZnVuY3Rpb24obmFtZSwgcmVzdWx0KSB7XHJcblx0XHRcdGlmIChuYW1lID09PSAnJHNjb3JlJykgcmV0dXJuIHJlc3VsdC5zY29yZTtcclxuXHRcdFx0cmV0dXJuIGdldGF0dHIoc2VsZi5pdGVtc1tyZXN1bHQuaWRdLCBuYW1lLCBvcHRpb25zLm5lc3RpbmcpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBwYXJzZSBvcHRpb25zXHJcblx0XHRmaWVsZHMgPSBbXTtcclxuXHRcdGlmIChzb3J0KSB7XHJcblx0XHRcdGZvciAoaSA9IDAsIG4gPSBzb3J0Lmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdGlmIChzZWFyY2gucXVlcnkgfHwgc29ydFtpXS5maWVsZCAhPT0gJyRzY29yZScpIHtcclxuXHRcdFx0XHRcdGZpZWxkcy5wdXNoKHNvcnRbaV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHRoZSBcIiRzY29yZVwiIGZpZWxkIGlzIGltcGxpZWQgdG8gYmUgdGhlIHByaW1hcnlcclxuXHRcdC8vIHNvcnQgZmllbGQsIHVubGVzcyBpdCdzIG1hbnVhbGx5IHNwZWNpZmllZFxyXG5cdFx0aWYgKHNlYXJjaC5xdWVyeSkge1xyXG5cdFx0XHRpbXBsaWNpdF9zY29yZSA9IHRydWU7XHJcblx0XHRcdGZvciAoaSA9IDAsIG4gPSBmaWVsZHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0aWYgKGZpZWxkc1tpXS5maWVsZCA9PT0gJyRzY29yZScpIHtcclxuXHRcdFx0XHRcdGltcGxpY2l0X3Njb3JlID0gZmFsc2U7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGltcGxpY2l0X3Njb3JlKSB7XHJcblx0XHRcdFx0ZmllbGRzLnVuc2hpZnQoe2ZpZWxkOiAnJHNjb3JlJywgZGlyZWN0aW9uOiAnZGVzYyd9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Zm9yIChpID0gMCwgbiA9IGZpZWxkcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRpZiAoZmllbGRzW2ldLmZpZWxkID09PSAnJHNjb3JlJykge1xyXG5cdFx0XHRcdFx0ZmllbGRzLnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdG11bHRpcGxpZXJzID0gW107XHJcblx0XHRmb3IgKGkgPSAwLCBuID0gZmllbGRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRtdWx0aXBsaWVycy5wdXNoKGZpZWxkc1tpXS5kaXJlY3Rpb24gPT09ICdkZXNjJyA/IC0xIDogMSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gYnVpbGQgZnVuY3Rpb25cclxuXHRcdGZpZWxkc19jb3VudCA9IGZpZWxkcy5sZW5ndGg7XHJcblx0XHRpZiAoIWZpZWxkc19jb3VudCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH0gZWxzZSBpZiAoZmllbGRzX2NvdW50ID09PSAxKSB7XHJcblx0XHRcdGZpZWxkID0gZmllbGRzWzBdLmZpZWxkO1xyXG5cdFx0XHRtdWx0aXBsaWVyID0gbXVsdGlwbGllcnNbMF07XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbihhLCBiKSB7XHJcblx0XHRcdFx0cmV0dXJuIG11bHRpcGxpZXIgKiBjbXAoXHJcblx0XHRcdFx0XHRnZXRfZmllbGQoZmllbGQsIGEpLFxyXG5cdFx0XHRcdFx0Z2V0X2ZpZWxkKGZpZWxkLCBiKVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oYSwgYikge1xyXG5cdFx0XHRcdHZhciBpLCByZXN1bHQsIGFfdmFsdWUsIGJfdmFsdWUsIGZpZWxkO1xyXG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBmaWVsZHNfY291bnQ7IGkrKykge1xyXG5cdFx0XHRcdFx0ZmllbGQgPSBmaWVsZHNbaV0uZmllbGQ7XHJcblx0XHRcdFx0XHRyZXN1bHQgPSBtdWx0aXBsaWVyc1tpXSAqIGNtcChcclxuXHRcdFx0XHRcdFx0Z2V0X2ZpZWxkKGZpZWxkLCBhKSxcclxuXHRcdFx0XHRcdFx0Z2V0X2ZpZWxkKGZpZWxkLCBiKVxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdGlmIChyZXN1bHQpIHJldHVybiByZXN1bHQ7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiAwO1xyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFBhcnNlcyBhIHNlYXJjaCBxdWVyeSBhbmQgcmV0dXJucyBhbiBvYmplY3RcclxuXHQgKiB3aXRoIHRva2VucyBhbmQgZmllbGRzIHJlYWR5IHRvIGJlIHBvcHVsYXRlZFxyXG5cdCAqIHdpdGggcmVzdWx0cy5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeVxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXHJcblx0ICogQHJldHVybnMge29iamVjdH1cclxuXHQgKi9cclxuXHRTaWZ0ZXIucHJvdG90eXBlLnByZXBhcmVTZWFyY2ggPSBmdW5jdGlvbihxdWVyeSwgb3B0aW9ucykge1xyXG5cdFx0aWYgKHR5cGVvZiBxdWVyeSA9PT0gJ29iamVjdCcpIHJldHVybiBxdWVyeTtcclxuXHJcblx0XHRvcHRpb25zID0gZXh0ZW5kKHt9LCBvcHRpb25zKTtcclxuXHJcblx0XHR2YXIgb3B0aW9uX2ZpZWxkcyAgICAgPSBvcHRpb25zLmZpZWxkcztcclxuXHRcdHZhciBvcHRpb25fc29ydCAgICAgICA9IG9wdGlvbnMuc29ydDtcclxuXHRcdHZhciBvcHRpb25fc29ydF9lbXB0eSA9IG9wdGlvbnMuc29ydF9lbXB0eTtcclxuXHJcblx0XHRpZiAob3B0aW9uX2ZpZWxkcyAmJiAhaXNfYXJyYXkob3B0aW9uX2ZpZWxkcykpIG9wdGlvbnMuZmllbGRzID0gW29wdGlvbl9maWVsZHNdO1xyXG5cdFx0aWYgKG9wdGlvbl9zb3J0ICYmICFpc19hcnJheShvcHRpb25fc29ydCkpIG9wdGlvbnMuc29ydCA9IFtvcHRpb25fc29ydF07XHJcblx0XHRpZiAob3B0aW9uX3NvcnRfZW1wdHkgJiYgIWlzX2FycmF5KG9wdGlvbl9zb3J0X2VtcHR5KSkgb3B0aW9ucy5zb3J0X2VtcHR5ID0gW29wdGlvbl9zb3J0X2VtcHR5XTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRvcHRpb25zIDogb3B0aW9ucyxcclxuXHRcdFx0cXVlcnkgICA6IFN0cmluZyhxdWVyeSB8fCAnJykudG9Mb3dlckNhc2UoKSxcclxuXHRcdFx0dG9rZW5zICA6IHRoaXMudG9rZW5pemUocXVlcnkpLFxyXG5cdFx0XHR0b3RhbCAgIDogMCxcclxuXHRcdFx0aXRlbXMgICA6IFtdXHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNlYXJjaGVzIHRocm91Z2ggYWxsIGl0ZW1zIGFuZCByZXR1cm5zIGEgc29ydGVkIGFycmF5IG9mIG1hdGNoZXMuXHJcblx0ICpcclxuXHQgKiBUaGUgYG9wdGlvbnNgIHBhcmFtZXRlciBjYW4gY29udGFpbjpcclxuXHQgKlxyXG5cdCAqICAgLSBmaWVsZHMge3N0cmluZ3xhcnJheX1cclxuXHQgKiAgIC0gc29ydCB7YXJyYXl9XHJcblx0ICogICAtIHNjb3JlIHtmdW5jdGlvbn1cclxuXHQgKiAgIC0gZmlsdGVyIHtib29sfVxyXG5cdCAqICAgLSBsaW1pdCB7aW50ZWdlcn1cclxuXHQgKlxyXG5cdCAqIFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmc6XHJcblx0ICpcclxuXHQgKiAgIC0gb3B0aW9ucyB7b2JqZWN0fVxyXG5cdCAqICAgLSBxdWVyeSB7c3RyaW5nfVxyXG5cdCAqICAgLSB0b2tlbnMge2FycmF5fVxyXG5cdCAqICAgLSB0b3RhbCB7aW50fVxyXG5cdCAqICAgLSBpdGVtcyB7YXJyYXl9XHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlcclxuXHQgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xyXG5cdCAqIEByZXR1cm5zIHtvYmplY3R9XHJcblx0ICovXHJcblx0U2lmdGVyLnByb3RvdHlwZS5zZWFyY2ggPSBmdW5jdGlvbihxdWVyeSwgb3B0aW9ucykge1xyXG5cdFx0dmFyIHNlbGYgPSB0aGlzLCB2YWx1ZSwgc2NvcmUsIHNlYXJjaCwgY2FsY3VsYXRlU2NvcmU7XHJcblx0XHR2YXIgZm5fc29ydDtcclxuXHRcdHZhciBmbl9zY29yZTtcclxuXHJcblx0XHRzZWFyY2ggID0gdGhpcy5wcmVwYXJlU2VhcmNoKHF1ZXJ5LCBvcHRpb25zKTtcclxuXHRcdG9wdGlvbnMgPSBzZWFyY2gub3B0aW9ucztcclxuXHRcdHF1ZXJ5ICAgPSBzZWFyY2gucXVlcnk7XHJcblxyXG5cdFx0Ly8gZ2VuZXJhdGUgcmVzdWx0IHNjb3JpbmcgZnVuY3Rpb25cclxuXHRcdGZuX3Njb3JlID0gb3B0aW9ucy5zY29yZSB8fCBzZWxmLmdldFNjb3JlRnVuY3Rpb24oc2VhcmNoKTtcclxuXHJcblx0XHQvLyBwZXJmb3JtIHNlYXJjaCBhbmQgc29ydFxyXG5cdFx0aWYgKHF1ZXJ5Lmxlbmd0aCkge1xyXG5cdFx0XHRzZWxmLml0ZXJhdG9yKHNlbGYuaXRlbXMsIGZ1bmN0aW9uKGl0ZW0sIGlkKSB7XHJcblx0XHRcdFx0c2NvcmUgPSBmbl9zY29yZShpdGVtKTtcclxuXHRcdFx0XHRpZiAob3B0aW9ucy5maWx0ZXIgPT09IGZhbHNlIHx8IHNjb3JlID4gMCkge1xyXG5cdFx0XHRcdFx0c2VhcmNoLml0ZW1zLnB1c2goeydzY29yZSc6IHNjb3JlLCAnaWQnOiBpZH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzZWxmLml0ZXJhdG9yKHNlbGYuaXRlbXMsIGZ1bmN0aW9uKGl0ZW0sIGlkKSB7XHJcblx0XHRcdFx0c2VhcmNoLml0ZW1zLnB1c2goeydzY29yZSc6IDEsICdpZCc6IGlkfSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZuX3NvcnQgPSBzZWxmLmdldFNvcnRGdW5jdGlvbihzZWFyY2gsIG9wdGlvbnMpO1xyXG5cdFx0aWYgKGZuX3NvcnQpIHNlYXJjaC5pdGVtcy5zb3J0KGZuX3NvcnQpO1xyXG5cclxuXHRcdC8vIGFwcGx5IGxpbWl0c1xyXG5cdFx0c2VhcmNoLnRvdGFsID0gc2VhcmNoLml0ZW1zLmxlbmd0aDtcclxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5saW1pdCA9PT0gJ251bWJlcicpIHtcclxuXHRcdFx0c2VhcmNoLml0ZW1zID0gc2VhcmNoLml0ZW1zLnNsaWNlKDAsIG9wdGlvbnMubGltaXQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBzZWFyY2g7XHJcblx0fTtcclxuXHJcblx0Ly8gdXRpbGl0aWVzXHJcblx0Ly8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxyXG5cclxuXHR2YXIgY21wID0gZnVuY3Rpb24oYSwgYikge1xyXG5cdFx0aWYgKHR5cGVvZiBhID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgYiA9PT0gJ251bWJlcicpIHtcclxuXHRcdFx0cmV0dXJuIGEgPiBiID8gMSA6IChhIDwgYiA/IC0xIDogMCk7XHJcblx0XHR9XHJcblx0XHRhID0gYXNjaWlmb2xkKFN0cmluZyhhIHx8ICcnKSk7XHJcblx0XHRiID0gYXNjaWlmb2xkKFN0cmluZyhiIHx8ICcnKSk7XHJcblx0XHRpZiAoYSA+IGIpIHJldHVybiAxO1xyXG5cdFx0aWYgKGIgPiBhKSByZXR1cm4gLTE7XHJcblx0XHRyZXR1cm4gMDtcclxuXHR9O1xyXG5cclxuXHR2YXIgZXh0ZW5kID0gZnVuY3Rpb24oYSwgYikge1xyXG5cdFx0dmFyIGksIG4sIGssIG9iamVjdDtcclxuXHRcdGZvciAoaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdG9iamVjdCA9IGFyZ3VtZW50c1tpXTtcclxuXHRcdFx0aWYgKCFvYmplY3QpIGNvbnRpbnVlO1xyXG5cdFx0XHRmb3IgKGsgaW4gb2JqZWN0KSB7XHJcblx0XHRcdFx0aWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShrKSkge1xyXG5cdFx0XHRcdFx0YVtrXSA9IG9iamVjdFtrXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBhO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEEgcHJvcGVydHkgZ2V0dGVyIHJlc29sdmluZyBkb3Qtbm90YXRpb25cclxuXHQgKiBAcGFyYW0gIHtPYmplY3R9ICBvYmogICAgIFRoZSByb290IG9iamVjdCB0byBmZXRjaCBwcm9wZXJ0eSBvblxyXG5cdCAqIEBwYXJhbSAge1N0cmluZ30gIG5hbWUgICAgVGhlIG9wdGlvbmFsbHkgZG90dGVkIHByb3BlcnR5IG5hbWUgdG8gZmV0Y2hcclxuXHQgKiBAcGFyYW0gIHtCb29sZWFufSBuZXN0aW5nIEhhbmRsZSBuZXN0aW5nIG9yIG5vdFxyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gICAgICAgICAgVGhlIHJlc29sdmVkIHByb3BlcnR5IHZhbHVlXHJcblx0ICovXHJcblx0dmFyIGdldGF0dHIgPSBmdW5jdGlvbihvYmosIG5hbWUsIG5lc3RpbmcpIHtcclxuXHQgICAgaWYgKCFvYmogfHwgIW5hbWUpIHJldHVybjtcclxuXHQgICAgaWYgKCFuZXN0aW5nKSByZXR1cm4gb2JqW25hbWVdO1xyXG5cdCAgICB2YXIgbmFtZXMgPSBuYW1lLnNwbGl0KFwiLlwiKTtcclxuXHQgICAgd2hpbGUobmFtZXMubGVuZ3RoICYmIChvYmogPSBvYmpbbmFtZXMuc2hpZnQoKV0pKTtcclxuXHQgICAgcmV0dXJuIG9iajtcclxuXHR9O1xyXG5cclxuXHR2YXIgdHJpbSA9IGZ1bmN0aW9uKHN0cikge1xyXG5cdFx0cmV0dXJuIChzdHIgKyAnJykucmVwbGFjZSgvXlxccyt8XFxzKyR8L2csICcnKTtcclxuXHR9O1xyXG5cclxuXHR2YXIgZXNjYXBlX3JlZ2V4ID0gZnVuY3Rpb24oc3RyKSB7XHJcblx0XHRyZXR1cm4gKHN0ciArICcnKS5yZXBsYWNlKC8oWy4/KiteJFtcXF1cXFxcKCl7fXwtXSkvZywgJ1xcXFwkMScpO1xyXG5cdH07XHJcblxyXG5cdHZhciBpc19hcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgKHR5cGVvZiAkICE9PSAndW5kZWZpbmVkJyAmJiAkLmlzQXJyYXkpIHx8IGZ1bmN0aW9uKG9iamVjdCkge1xyXG5cdFx0cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpID09PSAnW29iamVjdCBBcnJheV0nO1xyXG5cdH07XHJcblxyXG5cdHZhciBESUFDUklUSUNTID0ge1xyXG5cdFx0J2EnOiAnW2HhuIDhuIHEgsSDw4LDoseNx47IuuKxpcimyKfhuqDhuqHDhMOkw4DDoMOBw6HEgMSBw4PDo8OFw6XEhcSEw4PEhcSEXScsXHJcblx0XHQnYic6ICdbYuKQos6yzpJC4Li/8JCMgeGbkl0nLFxyXG5cdFx0J2MnOiAnW2PEhsSHxIjEicSMxI3EisSLQ8yEY8yEw4fDp+G4iOG4ici7yLzGh8aIyZXhtITvvKPvvYNdJyxcclxuXHRcdCdkJzogJ1tkxI7Ej+G4iuG4i+G4kOG4keG4jOG4jeG4kuG4k+G4juG4j8SQxJFEzKZkzKbGicmWxorJl8aLxozhta3htoHhtpHIoeG0he+8pO+9hMOwXScsXHJcblx0XHQnZSc6ICdbZcOJw6nDiMOow4rDquG4mOG4mcSaxJvElMSV4bq84bq94bia4bib4bq64bq7xJbEl8OLw6vEksSTyKjIqcSYxJnhtpLJhsmHyITIheG6vuG6v+G7gOG7geG7hOG7heG7guG7g+G4nOG4neG4luG4l+G4lOG4lciGyIfhurjhurnhu4bhu4fisbjhtIfvvKXvvYXJmMedxo/GkM61XScsXHJcblx0XHQnZic6ICdbZsaRxpLhuJ7huJ9dJyxcclxuXHRcdCdnJzogJ1tnyaLigrLHpMelxJzEncSexJ/EosSjxpPJoMSgxKFdJyxcclxuXHRcdCdoJzogJ1toxKTEpcSmxKfhuKjhuKnhupbhupbhuKThuKXhuKLhuKPJpsqwx7bGlV0nLFxyXG5cdFx0J2knOiAnW2nDjcOtw4zDrMSsxK3DjsOux4/HkMOPw6/huK7huK/EqMSpxK7Er8SqxKvhu4jhu4nIiMiJyIrIi+G7iuG7i+G4rOG4rcaXyajJqMyG4bW74baWxLBpScSxyarvvKnvvYldJyxcclxuXHRcdCdqJzogJ1tqyLfEtMS1yYjJicqdyZ/Ksl0nLFxyXG5cdFx0J2snOiAnW2vGmMaZ6p2A6p2B4biw4bixx6jHqeG4suG4s+G4tOG4tc66z7Digq1dJyxcclxuXHRcdCdsJzogJ1tsxYHFgsS9xL7Eu8S8xLnEuuG4tuG4t+G4uOG4ueG4vOG4veG4uuG4u8S/xYDIvcaa4rGg4rGh4rGiyavJrOG2hcmtyLTKn++8rO+9jF0nLFxyXG5cdFx0J24nOiAnW27Fg8WEx7jHucWHxYjDkcOx4bmE4bmFxYXFhuG5huG5h+G5iuG5i+G5iOG5iU7MiG7MiMadybLIoMae4bWw4baHybPItcm077yu772OxYrFi10nLFxyXG5cdFx0J28nOiAnW2/DmMO4w5bDtsOTw7PDksOyw5TDtMeRx5LFkMWRxY7Fj8iuyK/hu4zhu43Gn8m1xqDGoeG7juG7j8WMxY3DlcO1x6rHq8iMyI3VldaFXScsXHJcblx0XHQncCc6ICdbcOG5lOG5leG5luG5l+Kxo+G1vcakxqXhtbFdJyxcclxuXHRcdCdxJzogJ1tx6p2W6p2XyqDJismL6p2Y6p2ZccyDXScsXHJcblx0XHQncic6ICdbcsWUxZXJjMmNxZjFmcWWxZfhuZjhuZnIkMiRyJLIk+G5muG5m+KxpMm9XScsXHJcblx0XHQncyc6ICdbc8WaxZvhuaDhuaHhuaLhuaPqnqjqnqnFnMWdxaDFocWexZ/ImMiZU8yIc8yIXScsXHJcblx0XHQndCc6ICdbdMWkxaXhuarhuavFosWj4bms4bmtxq7KiMiayJvhubDhubHhua7hua/GrMatXScsXHJcblx0XHQndSc6ICdbdcWsxa3JhMqJ4buk4bulw5zDvMOaw7rDmcO5w5vDu8eTx5TFsMWxxazFrcavxrDhu6bhu6fFqsWrxajFqcWyxbPIlMiV4oiqXScsXHJcblx0XHQndic6ICdbduG5vOG5veG5vuG5v8ayyovqnZ7qnZ/isbHKi10nLFxyXG5cdFx0J3cnOiAnW3fhuoLhuoPhuoDhuoHFtMW14bqE4bqF4bqG4bqH4bqI4bqJXScsXHJcblx0XHQneCc6ICdbeOG6jOG6jeG6iuG6i8+HXScsXHJcblx0XHQneSc6ICdbecOdw73hu7Lhu7PFtsW3xbjDv+G7uOG7ueG6juG6j+G7tOG7tcmOyY/Gs8a0XScsXHJcblx0XHQneic6ICdbesW5xbrhupDhupHFvcW+xbvFvOG6kuG6k+G6lOG6lca1xrZdJ1xyXG5cdH07XHJcblxyXG5cdHZhciBhc2NpaWZvbGQgPSAoZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaSwgbiwgaywgY2h1bms7XHJcblx0XHR2YXIgZm9yZWlnbmxldHRlcnMgPSAnJztcclxuXHRcdHZhciBsb29rdXAgPSB7fTtcclxuXHRcdGZvciAoayBpbiBESUFDUklUSUNTKSB7XHJcblx0XHRcdGlmIChESUFDUklUSUNTLmhhc093blByb3BlcnR5KGspKSB7XHJcblx0XHRcdFx0Y2h1bmsgPSBESUFDUklUSUNTW2tdLnN1YnN0cmluZygyLCBESUFDUklUSUNTW2tdLmxlbmd0aCAtIDEpO1xyXG5cdFx0XHRcdGZvcmVpZ25sZXR0ZXJzICs9IGNodW5rO1xyXG5cdFx0XHRcdGZvciAoaSA9IDAsIG4gPSBjaHVuay5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRcdGxvb2t1cFtjaHVuay5jaGFyQXQoaSldID0gaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHZhciByZWdleHAgPSBuZXcgUmVnRXhwKCdbJyArICBmb3JlaWdubGV0dGVycyArICddJywgJ2cnKTtcclxuXHRcdHJldHVybiBmdW5jdGlvbihzdHIpIHtcclxuXHRcdFx0cmV0dXJuIHN0ci5yZXBsYWNlKHJlZ2V4cCwgZnVuY3Rpb24oZm9yZWlnbmxldHRlcikge1xyXG5cdFx0XHRcdHJldHVybiBsb29rdXBbZm9yZWlnbmxldHRlcl07XHJcblx0XHRcdH0pLnRvTG93ZXJDYXNlKCk7XHJcblx0XHR9O1xyXG5cdH0pKCk7XHJcblxyXG5cclxuXHQvLyBleHBvcnRcclxuXHQvLyAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtXHJcblxyXG5cdHJldHVybiBTaWZ0ZXI7XHJcbn0pKTtcclxuXHJcblxyXG5cclxuLyoqXHJcbiAqIG1pY3JvcGx1Z2luLmpzXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMyBCcmlhbiBSZWF2aXMgJiBjb250cmlidXRvcnNcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXNcclxuICogZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XHJcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyXHJcbiAqIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0ZcclxuICogQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlXHJcbiAqIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqXHJcbiAqIEBhdXRob3IgQnJpYW4gUmVhdmlzIDxicmlhbkB0aGlyZHJvdXRlLmNvbT5cclxuICovXHJcblxyXG4oZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xyXG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuXHRcdGRlZmluZSgnbWljcm9wbHVnaW4nLCBmYWN0b3J5KTtcclxuXHR9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xyXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJvb3QuTWljcm9QbHVnaW4gPSBmYWN0b3J5KCk7XHJcblx0fVxyXG59KHRoaXMsIGZ1bmN0aW9uKCkge1xyXG5cdHZhciBNaWNyb1BsdWdpbiA9IHt9O1xyXG5cclxuXHRNaWNyb1BsdWdpbi5taXhpbiA9IGZ1bmN0aW9uKEludGVyZmFjZSkge1xyXG5cdFx0SW50ZXJmYWNlLnBsdWdpbnMgPSB7fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluaXRpYWxpemVzIHRoZSBsaXN0ZWQgcGx1Z2lucyAod2l0aCBvcHRpb25zKS5cclxuXHRcdCAqIEFjY2VwdGFibGUgZm9ybWF0czpcclxuXHRcdCAqXHJcblx0XHQgKiBMaXN0ICh3aXRob3V0IG9wdGlvbnMpOlxyXG5cdFx0ICogICBbJ2EnLCAnYicsICdjJ11cclxuXHRcdCAqXHJcblx0XHQgKiBMaXN0ICh3aXRoIG9wdGlvbnMpOlxyXG5cdFx0ICogICBbeyduYW1lJzogJ2EnLCBvcHRpb25zOiB7fX0sIHsnbmFtZSc6ICdiJywgb3B0aW9uczoge319XVxyXG5cdFx0ICpcclxuXHRcdCAqIEhhc2ggKHdpdGggb3B0aW9ucyk6XHJcblx0XHQgKiAgIHsnYSc6IHsgLi4uIH0sICdiJzogeyAuLi4gfSwgJ2MnOiB7IC4uLiB9fVxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7bWl4ZWR9IHBsdWdpbnNcclxuXHRcdCAqL1xyXG5cdFx0SW50ZXJmYWNlLnByb3RvdHlwZS5pbml0aWFsaXplUGx1Z2lucyA9IGZ1bmN0aW9uKHBsdWdpbnMpIHtcclxuXHRcdFx0dmFyIGksIG4sIGtleTtcclxuXHRcdFx0dmFyIHNlbGYgID0gdGhpcztcclxuXHRcdFx0dmFyIHF1ZXVlID0gW107XHJcblxyXG5cdFx0XHRzZWxmLnBsdWdpbnMgPSB7XHJcblx0XHRcdFx0bmFtZXMgICAgIDogW10sXHJcblx0XHRcdFx0c2V0dGluZ3MgIDoge30sXHJcblx0XHRcdFx0cmVxdWVzdGVkIDoge30sXHJcblx0XHRcdFx0bG9hZGVkICAgIDoge31cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGlmICh1dGlscy5pc0FycmF5KHBsdWdpbnMpKSB7XHJcblx0XHRcdFx0Zm9yIChpID0gMCwgbiA9IHBsdWdpbnMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIHBsdWdpbnNbaV0gPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0XHRcdHF1ZXVlLnB1c2gocGx1Z2luc1tpXSk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRzZWxmLnBsdWdpbnMuc2V0dGluZ3NbcGx1Z2luc1tpXS5uYW1lXSA9IHBsdWdpbnNbaV0ub3B0aW9ucztcclxuXHRcdFx0XHRcdFx0cXVldWUucHVzaChwbHVnaW5zW2ldLm5hbWUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmIChwbHVnaW5zKSB7XHJcblx0XHRcdFx0Zm9yIChrZXkgaW4gcGx1Z2lucykge1xyXG5cdFx0XHRcdFx0aWYgKHBsdWdpbnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdFx0XHRzZWxmLnBsdWdpbnMuc2V0dGluZ3Nba2V5XSA9IHBsdWdpbnNba2V5XTtcclxuXHRcdFx0XHRcdFx0cXVldWUucHVzaChrZXkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCkge1xyXG5cdFx0XHRcdHNlbGYucmVxdWlyZShxdWV1ZS5zaGlmdCgpKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRJbnRlcmZhY2UucHJvdG90eXBlLmxvYWRQbHVnaW4gPSBmdW5jdGlvbihuYW1lKSB7XHJcblx0XHRcdHZhciBzZWxmICAgID0gdGhpcztcclxuXHRcdFx0dmFyIHBsdWdpbnMgPSBzZWxmLnBsdWdpbnM7XHJcblx0XHRcdHZhciBwbHVnaW4gID0gSW50ZXJmYWNlLnBsdWdpbnNbbmFtZV07XHJcblxyXG5cdFx0XHRpZiAoIUludGVyZmFjZS5wbHVnaW5zLmhhc093blByb3BlcnR5KG5hbWUpKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZmluZCBcIicgKyAgbmFtZSArICdcIiBwbHVnaW4nKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cGx1Z2lucy5yZXF1ZXN0ZWRbbmFtZV0gPSB0cnVlO1xyXG5cdFx0XHRwbHVnaW5zLmxvYWRlZFtuYW1lXSA9IHBsdWdpbi5mbi5hcHBseShzZWxmLCBbc2VsZi5wbHVnaW5zLnNldHRpbmdzW25hbWVdIHx8IHt9XSk7XHJcblx0XHRcdHBsdWdpbnMubmFtZXMucHVzaChuYW1lKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbml0aWFsaXplcyBhIHBsdWdpbi5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxyXG5cdFx0ICovXHJcblx0XHRJbnRlcmZhY2UucHJvdG90eXBlLnJlcXVpcmUgPSBmdW5jdGlvbihuYW1lKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0dmFyIHBsdWdpbnMgPSBzZWxmLnBsdWdpbnM7XHJcblxyXG5cdFx0XHRpZiAoIXNlbGYucGx1Z2lucy5sb2FkZWQuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcclxuXHRcdFx0XHRpZiAocGx1Z2lucy5yZXF1ZXN0ZWRbbmFtZV0pIHtcclxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignUGx1Z2luIGhhcyBjaXJjdWxhciBkZXBlbmRlbmN5IChcIicgKyBuYW1lICsgJ1wiKScpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzZWxmLmxvYWRQbHVnaW4obmFtZSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBwbHVnaW5zLmxvYWRlZFtuYW1lXTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZWdpc3RlcnMgYSBwbHVnaW4uXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcclxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXHJcblx0XHQgKi9cclxuXHRcdEludGVyZmFjZS5kZWZpbmUgPSBmdW5jdGlvbihuYW1lLCBmbikge1xyXG5cdFx0XHRJbnRlcmZhY2UucGx1Z2luc1tuYW1lXSA9IHtcclxuXHRcdFx0XHQnbmFtZScgOiBuYW1lLFxyXG5cdFx0XHRcdCdmbicgICA6IGZuXHJcblx0XHRcdH07XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdHZhciB1dGlscyA9IHtcclxuXHRcdGlzQXJyYXk6IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24odkFyZykge1xyXG5cdFx0XHRyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZBcmcpID09PSAnW29iamVjdCBBcnJheV0nO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdHJldHVybiBNaWNyb1BsdWdpbjtcclxufSkpO1xyXG5cclxuLyoqXHJcbiAqIHNlbGVjdGl6ZS5qcyAodjAuMTIuNClcclxuICogQ29weXJpZ2h0IChjKSAyMDEz4oCTMjAxNSBCcmlhbiBSZWF2aXMgJiBjb250cmlidXRvcnNcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXNcclxuICogZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XHJcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyXHJcbiAqIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0ZcclxuICogQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlXHJcbiAqIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqXHJcbiAqIEBhdXRob3IgQnJpYW4gUmVhdmlzIDxicmlhbkB0aGlyZHJvdXRlLmNvbT5cclxuICovXHJcblxyXG4vKmpzaGludCBjdXJseTpmYWxzZSAqL1xyXG4vKmpzaGludCBicm93c2VyOnRydWUgKi9cclxuXHJcbihmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XHJcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG5cdFx0ZGVmaW5lKCdzZWxlY3RpemUnLCBbJ2pxdWVyeScsJ3NpZnRlcicsJ21pY3JvcGx1Z2luJ10sIGZhY3RvcnkpO1xyXG5cdH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XHJcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnanF1ZXJ5JyksIHJlcXVpcmUoJ3NpZnRlcicpLCByZXF1aXJlKCdtaWNyb3BsdWdpbicpKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cm9vdC5TZWxlY3RpemUgPSBmYWN0b3J5KHJvb3QualF1ZXJ5LCByb290LlNpZnRlciwgcm9vdC5NaWNyb1BsdWdpbik7XHJcblx0fVxyXG59KHRoaXMsIGZ1bmN0aW9uKCQsIFNpZnRlciwgTWljcm9QbHVnaW4pIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdHZhciBoaWdobGlnaHQgPSBmdW5jdGlvbigkZWxlbWVudCwgcGF0dGVybikge1xyXG5cdFx0aWYgKHR5cGVvZiBwYXR0ZXJuID09PSAnc3RyaW5nJyAmJiAhcGF0dGVybi5sZW5ndGgpIHJldHVybjtcclxuXHRcdHZhciByZWdleCA9ICh0eXBlb2YgcGF0dGVybiA9PT0gJ3N0cmluZycpID8gbmV3IFJlZ0V4cChwYXR0ZXJuLCAnaScpIDogcGF0dGVybjtcclxuXHJcblx0XHR2YXIgaGlnaGxpZ2h0ID0gZnVuY3Rpb24obm9kZSkge1xyXG5cdFx0XHR2YXIgc2tpcCA9IDA7XHJcblx0XHRcdGlmIChub2RlLm5vZGVUeXBlID09PSAzKSB7XHJcblx0XHRcdFx0dmFyIHBvcyA9IG5vZGUuZGF0YS5zZWFyY2gocmVnZXgpO1xyXG5cdFx0XHRcdGlmIChwb3MgPj0gMCAmJiBub2RlLmRhdGEubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0dmFyIG1hdGNoID0gbm9kZS5kYXRhLm1hdGNoKHJlZ2V4KTtcclxuXHRcdFx0XHRcdHZhciBzcGFubm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHRcdFx0XHRcdHNwYW5ub2RlLmNsYXNzTmFtZSA9ICdoaWdobGlnaHQnO1xyXG5cdFx0XHRcdFx0dmFyIG1pZGRsZWJpdCA9IG5vZGUuc3BsaXRUZXh0KHBvcyk7XHJcblx0XHRcdFx0XHR2YXIgZW5kYml0ID0gbWlkZGxlYml0LnNwbGl0VGV4dChtYXRjaFswXS5sZW5ndGgpO1xyXG5cdFx0XHRcdFx0dmFyIG1pZGRsZWNsb25lID0gbWlkZGxlYml0LmNsb25lTm9kZSh0cnVlKTtcclxuXHRcdFx0XHRcdHNwYW5ub2RlLmFwcGVuZENoaWxkKG1pZGRsZWNsb25lKTtcclxuXHRcdFx0XHRcdG1pZGRsZWJpdC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChzcGFubm9kZSwgbWlkZGxlYml0KTtcclxuXHRcdFx0XHRcdHNraXAgPSAxO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09PSAxICYmIG5vZGUuY2hpbGROb2RlcyAmJiAhLyhzY3JpcHR8c3R5bGUpL2kudGVzdChub2RlLnRhZ05hbWUpKSB7XHJcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoOyArK2kpIHtcclxuXHRcdFx0XHRcdGkgKz0gaGlnaGxpZ2h0KG5vZGUuY2hpbGROb2Rlc1tpXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBza2lwO1xyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gJGVsZW1lbnQuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0aGlnaGxpZ2h0KHRoaXMpO1xyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogcmVtb3ZlSGlnaGxpZ2h0IGZuIGNvcGllZCBmcm9tIGhpZ2hsaWdodCB2NSBhbmRcclxuXHQgKiBlZGl0ZWQgdG8gcmVtb3ZlIHdpdGgoKSBhbmQgcGFzcyBqcyBzdHJpY3QgbW9kZVxyXG5cdCAqL1xyXG5cdCQuZm4ucmVtb3ZlSGlnaGxpZ2h0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5maW5kKFwic3Bhbi5oaWdobGlnaHRcIikuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5wYXJlbnROb2RlLmZpcnN0Q2hpbGQubm9kZU5hbWU7XHJcblx0XHRcdHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XHJcblx0XHRcdHBhcmVudC5yZXBsYWNlQ2hpbGQodGhpcy5maXJzdENoaWxkLCB0aGlzKTtcclxuXHRcdFx0cGFyZW50Lm5vcm1hbGl6ZSgpO1xyXG5cdFx0fSkuZW5kKCk7XHJcblx0fTtcclxuXHJcblxyXG5cdHZhciBNaWNyb0V2ZW50ID0gZnVuY3Rpb24oKSB7fTtcclxuXHRNaWNyb0V2ZW50LnByb3RvdHlwZSA9IHtcclxuXHRcdG9uOiBmdW5jdGlvbihldmVudCwgZmN0KXtcclxuXHRcdFx0dGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xyXG5cdFx0XHR0aGlzLl9ldmVudHNbZXZlbnRdID0gdGhpcy5fZXZlbnRzW2V2ZW50XSB8fCBbXTtcclxuXHRcdFx0dGhpcy5fZXZlbnRzW2V2ZW50XS5wdXNoKGZjdCk7XHJcblx0XHR9LFxyXG5cdFx0b2ZmOiBmdW5jdGlvbihldmVudCwgZmN0KXtcclxuXHRcdFx0dmFyIG4gPSBhcmd1bWVudHMubGVuZ3RoO1xyXG5cdFx0XHRpZiAobiA9PT0gMCkgcmV0dXJuIGRlbGV0ZSB0aGlzLl9ldmVudHM7XHJcblx0XHRcdGlmIChuID09PSAxKSByZXR1cm4gZGVsZXRlIHRoaXMuX2V2ZW50c1tldmVudF07XHJcblxyXG5cdFx0XHR0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XHJcblx0XHRcdGlmIChldmVudCBpbiB0aGlzLl9ldmVudHMgPT09IGZhbHNlKSByZXR1cm47XHJcblx0XHRcdHRoaXMuX2V2ZW50c1tldmVudF0uc3BsaWNlKHRoaXMuX2V2ZW50c1tldmVudF0uaW5kZXhPZihmY3QpLCAxKTtcclxuXHRcdH0sXHJcblx0XHR0cmlnZ2VyOiBmdW5jdGlvbihldmVudCAvKiAsIGFyZ3MuLi4gKi8pe1xyXG5cdFx0XHR0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XHJcblx0XHRcdGlmIChldmVudCBpbiB0aGlzLl9ldmVudHMgPT09IGZhbHNlKSByZXR1cm47XHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fZXZlbnRzW2V2ZW50XS5sZW5ndGg7IGkrKyl7XHJcblx0XHRcdFx0dGhpcy5fZXZlbnRzW2V2ZW50XVtpXS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIE1peGluIHdpbGwgZGVsZWdhdGUgYWxsIE1pY3JvRXZlbnQuanMgZnVuY3Rpb24gaW4gdGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cclxuXHQgKlxyXG5cdCAqIC0gTWljcm9FdmVudC5taXhpbihGb29iYXIpIHdpbGwgbWFrZSBGb29iYXIgYWJsZSB0byB1c2UgTWljcm9FdmVudFxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IHRoZSBvYmplY3Qgd2hpY2ggd2lsbCBzdXBwb3J0IE1pY3JvRXZlbnRcclxuXHQgKi9cclxuXHRNaWNyb0V2ZW50Lm1peGluID0gZnVuY3Rpb24oZGVzdE9iamVjdCl7XHJcblx0XHR2YXIgcHJvcHMgPSBbJ29uJywgJ29mZicsICd0cmlnZ2VyJ107XHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKXtcclxuXHRcdFx0ZGVzdE9iamVjdC5wcm90b3R5cGVbcHJvcHNbaV1dID0gTWljcm9FdmVudC5wcm90b3R5cGVbcHJvcHNbaV1dO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdHZhciBJU19NQUMgICAgICAgID0gL01hYy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxuXHJcblx0dmFyIEtFWV9BICAgICAgICAgPSA2NTtcclxuXHR2YXIgS0VZX0NPTU1BICAgICA9IDE4ODtcclxuXHR2YXIgS0VZX1JFVFVSTiAgICA9IDEzO1xyXG5cdHZhciBLRVlfRVNDICAgICAgID0gMjc7XHJcblx0dmFyIEtFWV9MRUZUICAgICAgPSAzNztcclxuXHR2YXIgS0VZX1VQICAgICAgICA9IDM4O1xyXG5cdHZhciBLRVlfUCAgICAgICAgID0gODA7XHJcblx0dmFyIEtFWV9SSUdIVCAgICAgPSAzOTtcclxuXHR2YXIgS0VZX0RPV04gICAgICA9IDQwO1xyXG5cdHZhciBLRVlfTiAgICAgICAgID0gNzg7XHJcblx0dmFyIEtFWV9CQUNLU1BBQ0UgPSA4O1xyXG5cdHZhciBLRVlfREVMRVRFICAgID0gNDY7XHJcblx0dmFyIEtFWV9TSElGVCAgICAgPSAxNjtcclxuXHR2YXIgS0VZX0NNRCAgICAgICA9IElTX01BQyA/IDkxIDogMTc7XHJcblx0dmFyIEtFWV9DVFJMICAgICAgPSBJU19NQUMgPyAxOCA6IDE3O1xyXG5cdHZhciBLRVlfVEFCICAgICAgID0gOTtcclxuXHJcblx0dmFyIFRBR19TRUxFQ1QgICAgPSAxO1xyXG5cdHZhciBUQUdfSU5QVVQgICAgID0gMjtcclxuXHJcblx0Ly8gZm9yIG5vdywgYW5kcm9pZCBzdXBwb3J0IGluIGdlbmVyYWwgaXMgdG9vIHNwb3R0eSB0byBzdXBwb3J0IHZhbGlkaXR5XHJcblx0dmFyIFNVUFBPUlRTX1ZBTElESVRZX0FQSSA9ICEvYW5kcm9pZC9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpICYmICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKS52YWxpZGl0eTtcclxuXHJcblxyXG5cdHZhciBpc3NldCA9IGZ1bmN0aW9uKG9iamVjdCkge1xyXG5cdFx0cmV0dXJuIHR5cGVvZiBvYmplY3QgIT09ICd1bmRlZmluZWQnO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIENvbnZlcnRzIGEgc2NhbGFyIHRvIGl0cyBiZXN0IHN0cmluZyByZXByZXNlbnRhdGlvblxyXG5cdCAqIGZvciBoYXNoIGtleXMgYW5kIEhUTUwgYXR0cmlidXRlIHZhbHVlcy5cclxuXHQgKlxyXG5cdCAqIFRyYW5zZm9ybWF0aW9uczpcclxuXHQgKiAgICdzdHInICAgICAtPiAnc3RyJ1xyXG5cdCAqICAgbnVsbCAgICAgIC0+ICcnXHJcblx0ICogICB1bmRlZmluZWQgLT4gJydcclxuXHQgKiAgIHRydWUgICAgICAtPiAnMSdcclxuXHQgKiAgIGZhbHNlICAgICAtPiAnMCdcclxuXHQgKiAgIDAgICAgICAgICAtPiAnMCdcclxuXHQgKiAgIDEgICAgICAgICAtPiAnMSdcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxyXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cclxuXHQgKi9cclxuXHR2YXIgaGFzaF9rZXkgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdmFsdWUgPT09IG51bGwpIHJldHVybiBudWxsO1xyXG5cdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSByZXR1cm4gdmFsdWUgPyAnMScgOiAnMCc7XHJcblx0XHRyZXR1cm4gdmFsdWUgKyAnJztcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBFc2NhcGVzIGEgc3RyaW5nIGZvciB1c2Ugd2l0aGluIEhUTUwuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gc3RyXHJcblx0ICogQHJldHVybnMge3N0cmluZ31cclxuXHQgKi9cclxuXHR2YXIgZXNjYXBlX2h0bWwgPSBmdW5jdGlvbihzdHIpIHtcclxuXHRcdHJldHVybiAoc3RyICsgJycpXHJcblx0XHRcdC5yZXBsYWNlKC8mL2csICcmYW1wOycpXHJcblx0XHRcdC5yZXBsYWNlKC88L2csICcmbHQ7JylcclxuXHRcdFx0LnJlcGxhY2UoLz4vZywgJyZndDsnKVxyXG5cdFx0XHQucmVwbGFjZSgvXCIvZywgJyZxdW90OycpO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEVzY2FwZXMgXCIkXCIgY2hhcmFjdGVycyBpbiByZXBsYWNlbWVudCBzdHJpbmdzLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHN0clxyXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9XHJcblx0ICovXHJcblx0dmFyIGVzY2FwZV9yZXBsYWNlID0gZnVuY3Rpb24oc3RyKSB7XHJcblx0XHRyZXR1cm4gKHN0ciArICcnKS5yZXBsYWNlKC9cXCQvZywgJyQkJCQnKTtcclxuXHR9O1xyXG5cclxuXHR2YXIgaG9vayA9IHt9O1xyXG5cclxuXHQvKipcclxuXHQgKiBXcmFwcyBgbWV0aG9kYCBvbiBgc2VsZmAgc28gdGhhdCBgZm5gXHJcblx0ICogaXMgaW52b2tlZCBiZWZvcmUgdGhlIG9yaWdpbmFsIG1ldGhvZC5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBzZWxmXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxyXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXHJcblx0ICovXHJcblx0aG9vay5iZWZvcmUgPSBmdW5jdGlvbihzZWxmLCBtZXRob2QsIGZuKSB7XHJcblx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmW21ldGhvZF07XHJcblx0XHRzZWxmW21ldGhvZF0gPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0Zm4uYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcclxuXHRcdFx0cmV0dXJuIG9yaWdpbmFsLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFdyYXBzIGBtZXRob2RgIG9uIGBzZWxmYCBzbyB0aGF0IGBmbmBcclxuXHQgKiBpcyBpbnZva2VkIGFmdGVyIHRoZSBvcmlnaW5hbCBtZXRob2QuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge29iamVjdH0gc2VsZlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcclxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxyXG5cdCAqL1xyXG5cdGhvb2suYWZ0ZXIgPSBmdW5jdGlvbihzZWxmLCBtZXRob2QsIGZuKSB7XHJcblx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmW21ldGhvZF07XHJcblx0XHRzZWxmW21ldGhvZF0gPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IG9yaWdpbmFsLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XHJcblx0XHRcdGZuLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFdyYXBzIGBmbmAgc28gdGhhdCBpdCBjYW4gb25seSBiZSBpbnZva2VkIG9uY2UuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxyXG5cdCAqIEByZXR1cm5zIHtmdW5jdGlvbn1cclxuXHQgKi9cclxuXHR2YXIgb25jZSA9IGZ1bmN0aW9uKGZuKSB7XHJcblx0XHR2YXIgY2FsbGVkID0gZmFsc2U7XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmIChjYWxsZWQpIHJldHVybjtcclxuXHRcdFx0Y2FsbGVkID0gdHJ1ZTtcclxuXHRcdFx0Zm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogV3JhcHMgYGZuYCBzbyB0aGF0IGl0IGNhbiBvbmx5IGJlIGNhbGxlZCBvbmNlXHJcblx0ICogZXZlcnkgYGRlbGF5YCBtaWxsaXNlY29uZHMgKGludm9rZWQgb24gdGhlIGZhbGxpbmcgZWRnZSkuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxyXG5cdCAqIEBwYXJhbSB7aW50fSBkZWxheVxyXG5cdCAqIEByZXR1cm5zIHtmdW5jdGlvbn1cclxuXHQgKi9cclxuXHR2YXIgZGVib3VuY2UgPSBmdW5jdGlvbihmbiwgZGVsYXkpIHtcclxuXHRcdHZhciB0aW1lb3V0O1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG5cdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG5cdFx0XHR0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Zm4uYXBwbHkoc2VsZiwgYXJncyk7XHJcblx0XHRcdH0sIGRlbGF5KTtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogRGVib3VuY2UgYWxsIGZpcmVkIGV2ZW50cyB0eXBlcyBsaXN0ZWQgaW4gYHR5cGVzYFxyXG5cdCAqIHdoaWxlIGV4ZWN1dGluZyB0aGUgcHJvdmlkZWQgYGZuYC5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBzZWxmXHJcblx0ICogQHBhcmFtIHthcnJheX0gdHlwZXNcclxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxyXG5cdCAqL1xyXG5cdHZhciBkZWJvdW5jZV9ldmVudHMgPSBmdW5jdGlvbihzZWxmLCB0eXBlcywgZm4pIHtcclxuXHRcdHZhciB0eXBlO1xyXG5cdFx0dmFyIHRyaWdnZXIgPSBzZWxmLnRyaWdnZXI7XHJcblx0XHR2YXIgZXZlbnRfYXJncyA9IHt9O1xyXG5cclxuXHRcdC8vIG92ZXJyaWRlIHRyaWdnZXIgbWV0aG9kXHJcblx0XHRzZWxmLnRyaWdnZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHR5cGUgPSBhcmd1bWVudHNbMF07XHJcblx0XHRcdGlmICh0eXBlcy5pbmRleE9mKHR5cGUpICE9PSAtMSkge1xyXG5cdFx0XHRcdGV2ZW50X2FyZ3NbdHlwZV0gPSBhcmd1bWVudHM7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIHRyaWdnZXIuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBpbnZva2UgcHJvdmlkZWQgZnVuY3Rpb25cclxuXHRcdGZuLmFwcGx5KHNlbGYsIFtdKTtcclxuXHRcdHNlbGYudHJpZ2dlciA9IHRyaWdnZXI7XHJcblxyXG5cdFx0Ly8gdHJpZ2dlciBxdWV1ZWQgZXZlbnRzXHJcblx0XHRmb3IgKHR5cGUgaW4gZXZlbnRfYXJncykge1xyXG5cdFx0XHRpZiAoZXZlbnRfYXJncy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkge1xyXG5cdFx0XHRcdHRyaWdnZXIuYXBwbHkoc2VsZiwgZXZlbnRfYXJnc1t0eXBlXSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBBIHdvcmthcm91bmQgZm9yIGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzY2OTZcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSAkcGFyZW50IC0gUGFyZW50IGVsZW1lbnQgdG8gbGlzdGVuIG9uLlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIEV2ZW50IG5hbWUuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIC0gRGVzY2VuZGFudCBzZWxlY3RvciB0byBmaWx0ZXIgYnkuXHJcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBFdmVudCBoYW5kbGVyLlxyXG5cdCAqL1xyXG5cdHZhciB3YXRjaENoaWxkRXZlbnQgPSBmdW5jdGlvbigkcGFyZW50LCBldmVudCwgc2VsZWN0b3IsIGZuKSB7XHJcblx0XHQkcGFyZW50Lm9uKGV2ZW50LCBzZWxlY3RvciwgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHR2YXIgY2hpbGQgPSBlLnRhcmdldDtcclxuXHRcdFx0d2hpbGUgKGNoaWxkICYmIGNoaWxkLnBhcmVudE5vZGUgIT09ICRwYXJlbnRbMF0pIHtcclxuXHRcdFx0XHRjaGlsZCA9IGNoaWxkLnBhcmVudE5vZGU7XHJcblx0XHRcdH1cclxuXHRcdFx0ZS5jdXJyZW50VGFyZ2V0ID0gY2hpbGQ7XHJcblx0XHRcdHJldHVybiBmbi5hcHBseSh0aGlzLCBbZV0pO1xyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogRGV0ZXJtaW5lcyB0aGUgY3VycmVudCBzZWxlY3Rpb24gd2l0aGluIGEgdGV4dCBpbnB1dCBjb250cm9sLlxyXG5cdCAqIFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmc6XHJcblx0ICogICAtIHN0YXJ0XHJcblx0ICogICAtIGxlbmd0aFxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IGlucHV0XHJcblx0ICogQHJldHVybnMge29iamVjdH1cclxuXHQgKi9cclxuXHR2YXIgZ2V0U2VsZWN0aW9uID0gZnVuY3Rpb24oaW5wdXQpIHtcclxuXHRcdHZhciByZXN1bHQgPSB7fTtcclxuXHRcdGlmICgnc2VsZWN0aW9uU3RhcnQnIGluIGlucHV0KSB7XHJcblx0XHRcdHJlc3VsdC5zdGFydCA9IGlucHV0LnNlbGVjdGlvblN0YXJ0O1xyXG5cdFx0XHRyZXN1bHQubGVuZ3RoID0gaW5wdXQuc2VsZWN0aW9uRW5kIC0gcmVzdWx0LnN0YXJ0O1xyXG5cdFx0fSBlbHNlIGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHtcclxuXHRcdFx0aW5wdXQuZm9jdXMoKTtcclxuXHRcdFx0dmFyIHNlbCA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO1xyXG5cdFx0XHR2YXIgc2VsTGVuID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dC5sZW5ndGg7XHJcblx0XHRcdHNlbC5tb3ZlU3RhcnQoJ2NoYXJhY3RlcicsIC1pbnB1dC52YWx1ZS5sZW5ndGgpO1xyXG5cdFx0XHRyZXN1bHQuc3RhcnQgPSBzZWwudGV4dC5sZW5ndGggLSBzZWxMZW47XHJcblx0XHRcdHJlc3VsdC5sZW5ndGggPSBzZWxMZW47XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIENvcGllcyBDU1MgcHJvcGVydGllcyBmcm9tIG9uZSBlbGVtZW50IHRvIGFub3RoZXIuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge29iamVjdH0gJGZyb21cclxuXHQgKiBAcGFyYW0ge29iamVjdH0gJHRvXHJcblx0ICogQHBhcmFtIHthcnJheX0gcHJvcGVydGllc1xyXG5cdCAqL1xyXG5cdHZhciB0cmFuc2ZlclN0eWxlcyA9IGZ1bmN0aW9uKCRmcm9tLCAkdG8sIHByb3BlcnRpZXMpIHtcclxuXHRcdHZhciBpLCBuLCBzdHlsZXMgPSB7fTtcclxuXHRcdGlmIChwcm9wZXJ0aWVzKSB7XHJcblx0XHRcdGZvciAoaSA9IDAsIG4gPSBwcm9wZXJ0aWVzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdHN0eWxlc1twcm9wZXJ0aWVzW2ldXSA9ICRmcm9tLmNzcyhwcm9wZXJ0aWVzW2ldKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3R5bGVzID0gJGZyb20uY3NzKCk7XHJcblx0XHR9XHJcblx0XHQkdG8uY3NzKHN0eWxlcyk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogTWVhc3VyZXMgdGhlIHdpZHRoIG9mIGEgc3RyaW5nIHdpdGhpbiBhXHJcblx0ICogcGFyZW50IGVsZW1lbnQgKGluIHBpeGVscykuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gc3RyXHJcblx0ICogQHBhcmFtIHtvYmplY3R9ICRwYXJlbnRcclxuXHQgKiBAcmV0dXJucyB7aW50fVxyXG5cdCAqL1xyXG5cdHZhciBtZWFzdXJlU3RyaW5nID0gZnVuY3Rpb24oc3RyLCAkcGFyZW50KSB7XHJcblx0XHRpZiAoIXN0cikge1xyXG5cdFx0XHRyZXR1cm4gMDtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgJHRlc3QgPSAkKCc8dGVzdD4nKS5jc3Moe1xyXG5cdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuXHRcdFx0dG9wOiAtOTk5OTksXHJcblx0XHRcdGxlZnQ6IC05OTk5OSxcclxuXHRcdFx0d2lkdGg6ICdhdXRvJyxcclxuXHRcdFx0cGFkZGluZzogMCxcclxuXHRcdFx0d2hpdGVTcGFjZTogJ3ByZSdcclxuXHRcdH0pLnRleHQoc3RyKS5hcHBlbmRUbygnYm9keScpO1xyXG5cclxuXHRcdHRyYW5zZmVyU3R5bGVzKCRwYXJlbnQsICR0ZXN0LCBbXHJcblx0XHRcdCdsZXR0ZXJTcGFjaW5nJyxcclxuXHRcdFx0J2ZvbnRTaXplJyxcclxuXHRcdFx0J2ZvbnRGYW1pbHknLFxyXG5cdFx0XHQnZm9udFdlaWdodCcsXHJcblx0XHRcdCd0ZXh0VHJhbnNmb3JtJ1xyXG5cdFx0XSk7XHJcblxyXG5cdFx0dmFyIHdpZHRoID0gJHRlc3Qud2lkdGgoKTtcclxuXHRcdCR0ZXN0LnJlbW92ZSgpO1xyXG5cclxuXHRcdHJldHVybiB3aWR0aDtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBTZXRzIHVwIGFuIGlucHV0IHRvIGdyb3cgaG9yaXpvbnRhbGx5IGFzIHRoZSB1c2VyXHJcblx0ICogdHlwZXMuIElmIHRoZSB2YWx1ZSBpcyBjaGFuZ2VkIG1hbnVhbGx5LCB5b3UgY2FuXHJcblx0ICogdHJpZ2dlciB0aGUgXCJ1cGRhdGVcIiBoYW5kbGVyIHRvIHJlc2l6ZTpcclxuXHQgKlxyXG5cdCAqICRpbnB1dC50cmlnZ2VyKCd1cGRhdGUnKTtcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSAkaW5wdXRcclxuXHQgKi9cclxuXHR2YXIgYXV0b0dyb3cgPSBmdW5jdGlvbigkaW5wdXQpIHtcclxuXHRcdHZhciBjdXJyZW50V2lkdGggPSBudWxsO1xyXG5cclxuXHRcdHZhciB1cGRhdGUgPSBmdW5jdGlvbihlLCBvcHRpb25zKSB7XHJcblx0XHRcdHZhciB2YWx1ZSwga2V5Q29kZSwgcHJpbnRhYmxlLCBwbGFjZWhvbGRlciwgd2lkdGg7XHJcblx0XHRcdHZhciBzaGlmdCwgY2hhcmFjdGVyLCBzZWxlY3Rpb247XHJcblx0XHRcdGUgPSBlIHx8IHdpbmRvdy5ldmVudCB8fCB7fTtcclxuXHRcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblxyXG5cdFx0XHRpZiAoZS5tZXRhS2V5IHx8IGUuYWx0S2V5KSByZXR1cm47XHJcblx0XHRcdGlmICghb3B0aW9ucy5mb3JjZSAmJiAkaW5wdXQuZGF0YSgnZ3JvdycpID09PSBmYWxzZSkgcmV0dXJuO1xyXG5cclxuXHRcdFx0dmFsdWUgPSAkaW5wdXQudmFsKCk7XHJcblx0XHRcdGlmIChlLnR5cGUgJiYgZS50eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdrZXlkb3duJykge1xyXG5cdFx0XHRcdGtleUNvZGUgPSBlLmtleUNvZGU7XHJcblx0XHRcdFx0cHJpbnRhYmxlID0gKFxyXG5cdFx0XHRcdFx0KGtleUNvZGUgPj0gOTcgJiYga2V5Q29kZSA8PSAxMjIpIHx8IC8vIGEtelxyXG5cdFx0XHRcdFx0KGtleUNvZGUgPj0gNjUgJiYga2V5Q29kZSA8PSA5MCkgIHx8IC8vIEEtWlxyXG5cdFx0XHRcdFx0KGtleUNvZGUgPj0gNDggJiYga2V5Q29kZSA8PSA1NykgIHx8IC8vIDAtOVxyXG5cdFx0XHRcdFx0a2V5Q29kZSA9PT0gMzIgLy8gc3BhY2VcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHRpZiAoa2V5Q29kZSA9PT0gS0VZX0RFTEVURSB8fCBrZXlDb2RlID09PSBLRVlfQkFDS1NQQUNFKSB7XHJcblx0XHRcdFx0XHRzZWxlY3Rpb24gPSBnZXRTZWxlY3Rpb24oJGlucHV0WzBdKTtcclxuXHRcdFx0XHRcdGlmIChzZWxlY3Rpb24ubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDAsIHNlbGVjdGlvbi5zdGFydCkgKyB2YWx1ZS5zdWJzdHJpbmcoc2VsZWN0aW9uLnN0YXJ0ICsgc2VsZWN0aW9uLmxlbmd0aCk7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGtleUNvZGUgPT09IEtFWV9CQUNLU1BBQ0UgJiYgc2VsZWN0aW9uLnN0YXJ0KSB7XHJcblx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDAsIHNlbGVjdGlvbi5zdGFydCAtIDEpICsgdmFsdWUuc3Vic3RyaW5nKHNlbGVjdGlvbi5zdGFydCArIDEpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChrZXlDb2RlID09PSBLRVlfREVMRVRFICYmIHR5cGVvZiBzZWxlY3Rpb24uc3RhcnQgIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDAsIHNlbGVjdGlvbi5zdGFydCkgKyB2YWx1ZS5zdWJzdHJpbmcoc2VsZWN0aW9uLnN0YXJ0ICsgMSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIGlmIChwcmludGFibGUpIHtcclxuXHRcdFx0XHRcdHNoaWZ0ID0gZS5zaGlmdEtleTtcclxuXHRcdFx0XHRcdGNoYXJhY3RlciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS5rZXlDb2RlKTtcclxuXHRcdFx0XHRcdGlmIChzaGlmdCkgY2hhcmFjdGVyID0gY2hhcmFjdGVyLnRvVXBwZXJDYXNlKCk7XHJcblx0XHRcdFx0XHRlbHNlIGNoYXJhY3RlciA9IGNoYXJhY3Rlci50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0XHRcdFx0dmFsdWUgKz0gY2hhcmFjdGVyO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cGxhY2Vob2xkZXIgPSAkaW5wdXQuYXR0cigncGxhY2Vob2xkZXInKTtcclxuXHRcdFx0aWYgKCF2YWx1ZSAmJiBwbGFjZWhvbGRlcikge1xyXG5cdFx0XHRcdHZhbHVlID0gcGxhY2Vob2xkZXI7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHdpZHRoID0gbWVhc3VyZVN0cmluZyh2YWx1ZSwgJGlucHV0KSArIDQ7XHJcblx0XHRcdGlmICh3aWR0aCAhPT0gY3VycmVudFdpZHRoKSB7XHJcblx0XHRcdFx0Y3VycmVudFdpZHRoID0gd2lkdGg7XHJcblx0XHRcdFx0JGlucHV0LndpZHRoKHdpZHRoKTtcclxuXHRcdFx0XHQkaW5wdXQudHJpZ2dlckhhbmRsZXIoJ3Jlc2l6ZScpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRpbnB1dC5vbigna2V5ZG93biBrZXl1cCB1cGRhdGUgYmx1cicsIHVwZGF0ZSk7XHJcblx0XHR1cGRhdGUoKTtcclxuXHR9O1xyXG5cclxuXHR2YXIgZG9tVG9TdHJpbmcgPSBmdW5jdGlvbihkKSB7XHJcblx0XHR2YXIgdG1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG5cdFx0dG1wLmFwcGVuZENoaWxkKGQuY2xvbmVOb2RlKHRydWUpKTtcclxuXHJcblx0XHRyZXR1cm4gdG1wLmlubmVySFRNTDtcclxuXHR9O1xyXG5cclxuXHR2YXIgbG9nRXJyb3IgPSBmdW5jdGlvbihtZXNzYWdlLCBvcHRpb25zKXtcclxuXHRcdGlmKCFvcHRpb25zKSBvcHRpb25zID0ge307XHJcblx0XHR2YXIgY29tcG9uZW50ID0gXCJTZWxlY3RpemVcIjtcclxuXHJcblx0XHRjb25zb2xlLmVycm9yKGNvbXBvbmVudCArIFwiOiBcIiArIG1lc3NhZ2UpXHJcblxyXG5cdFx0aWYob3B0aW9ucy5leHBsYW5hdGlvbil7XHJcblx0XHRcdC8vIGNvbnNvbGUuZ3JvdXAgaXMgdW5kZWZpbmVkIGluIDxJRTExXHJcblx0XHRcdGlmKGNvbnNvbGUuZ3JvdXApIGNvbnNvbGUuZ3JvdXAoKTtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihvcHRpb25zLmV4cGxhbmF0aW9uKTtcclxuXHRcdFx0aWYoY29uc29sZS5ncm91cCkgY29uc29sZS5ncm91cEVuZCgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblxyXG5cdHZhciBTZWxlY3RpemUgPSBmdW5jdGlvbigkaW5wdXQsIHNldHRpbmdzKSB7XHJcblx0XHR2YXIga2V5LCBpLCBuLCBkaXIsIGlucHV0LCBzZWxmID0gdGhpcztcclxuXHRcdGlucHV0ID0gJGlucHV0WzBdO1xyXG5cdFx0aW5wdXQuc2VsZWN0aXplID0gc2VsZjtcclxuXHJcblx0XHQvLyBkZXRlY3QgcnRsIGVudmlyb25tZW50XHJcblx0XHR2YXIgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlICYmIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGlucHV0LCBudWxsKTtcclxuXHRcdGRpciA9IGNvbXB1dGVkU3R5bGUgPyBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2RpcmVjdGlvbicpIDogaW5wdXQuY3VycmVudFN0eWxlICYmIGlucHV0LmN1cnJlbnRTdHlsZS5kaXJlY3Rpb247XHJcblx0XHRkaXIgPSBkaXIgfHwgJGlucHV0LnBhcmVudHMoJ1tkaXJdOmZpcnN0JykuYXR0cignZGlyJykgfHwgJyc7XHJcblxyXG5cdFx0Ly8gc2V0dXAgZGVmYXVsdCBzdGF0ZVxyXG5cdFx0JC5leHRlbmQoc2VsZiwge1xyXG5cdFx0XHRvcmRlciAgICAgICAgICAgIDogMCxcclxuXHRcdFx0c2V0dGluZ3MgICAgICAgICA6IHNldHRpbmdzLFxyXG5cdFx0XHQkaW5wdXQgICAgICAgICAgIDogJGlucHV0LFxyXG5cdFx0XHR0YWJJbmRleCAgICAgICAgIDogJGlucHV0LmF0dHIoJ3RhYmluZGV4JykgfHwgJycsXHJcblx0XHRcdHRhZ1R5cGUgICAgICAgICAgOiBpbnB1dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzZWxlY3QnID8gVEFHX1NFTEVDVCA6IFRBR19JTlBVVCxcclxuXHRcdFx0cnRsICAgICAgICAgICAgICA6IC9ydGwvaS50ZXN0KGRpciksXHJcblxyXG5cdFx0XHRldmVudE5TICAgICAgICAgIDogJy5zZWxlY3RpemUnICsgKCsrU2VsZWN0aXplLmNvdW50KSxcclxuXHRcdFx0aGlnaGxpZ2h0ZWRWYWx1ZSA6IG51bGwsXHJcblx0XHRcdGlzT3BlbiAgICAgICAgICAgOiBmYWxzZSxcclxuXHRcdFx0aXNEaXNhYmxlZCAgICAgICA6IGZhbHNlLFxyXG5cdFx0XHRpc1JlcXVpcmVkICAgICAgIDogJGlucHV0LmlzKCdbcmVxdWlyZWRdJyksXHJcblx0XHRcdGlzSW52YWxpZCAgICAgICAgOiBmYWxzZSxcclxuXHRcdFx0aXNMb2NrZWQgICAgICAgICA6IGZhbHNlLFxyXG5cdFx0XHRpc0ZvY3VzZWQgICAgICAgIDogZmFsc2UsXHJcblx0XHRcdGlzSW5wdXRIaWRkZW4gICAgOiBmYWxzZSxcclxuXHRcdFx0aXNTZXR1cCAgICAgICAgICA6IGZhbHNlLFxyXG5cdFx0XHRpc1NoaWZ0RG93biAgICAgIDogZmFsc2UsXHJcblx0XHRcdGlzQ21kRG93biAgICAgICAgOiBmYWxzZSxcclxuXHRcdFx0aXNDdHJsRG93biAgICAgICA6IGZhbHNlLFxyXG5cdFx0XHRpZ25vcmVGb2N1cyAgICAgIDogZmFsc2UsXHJcblx0XHRcdGlnbm9yZUJsdXIgICAgICAgOiBmYWxzZSxcclxuXHRcdFx0aWdub3JlSG92ZXIgICAgICA6IGZhbHNlLFxyXG5cdFx0XHRoYXNPcHRpb25zICAgICAgIDogZmFsc2UsXHJcblx0XHRcdGN1cnJlbnRSZXN1bHRzICAgOiBudWxsLFxyXG5cdFx0XHRsYXN0VmFsdWUgICAgICAgIDogJycsXHJcblx0XHRcdGNhcmV0UG9zICAgICAgICAgOiAwLFxyXG5cdFx0XHRsb2FkaW5nICAgICAgICAgIDogMCxcclxuXHRcdFx0bG9hZGVkU2VhcmNoZXMgICA6IHt9LFxyXG5cclxuXHRcdFx0JGFjdGl2ZU9wdGlvbiAgICA6IG51bGwsXHJcblx0XHRcdCRhY3RpdmVJdGVtcyAgICAgOiBbXSxcclxuXHJcblx0XHRcdG9wdGdyb3VwcyAgICAgICAgOiB7fSxcclxuXHRcdFx0b3B0aW9ucyAgICAgICAgICA6IHt9LFxyXG5cdFx0XHR1c2VyT3B0aW9ucyAgICAgIDoge30sXHJcblx0XHRcdGl0ZW1zICAgICAgICAgICAgOiBbXSxcclxuXHRcdFx0cmVuZGVyQ2FjaGUgICAgICA6IHt9LFxyXG5cdFx0XHRvblNlYXJjaENoYW5nZSAgIDogc2V0dGluZ3MubG9hZFRocm90dGxlID09PSBudWxsID8gc2VsZi5vblNlYXJjaENoYW5nZSA6IGRlYm91bmNlKHNlbGYub25TZWFyY2hDaGFuZ2UsIHNldHRpbmdzLmxvYWRUaHJvdHRsZSlcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIHNlYXJjaCBzeXN0ZW1cclxuXHRcdHNlbGYuc2lmdGVyID0gbmV3IFNpZnRlcih0aGlzLm9wdGlvbnMsIHtkaWFjcml0aWNzOiBzZXR0aW5ncy5kaWFjcml0aWNzfSk7XHJcblxyXG5cdFx0Ly8gYnVpbGQgb3B0aW9ucyB0YWJsZVxyXG5cdFx0aWYgKHNlbGYuc2V0dGluZ3Mub3B0aW9ucykge1xyXG5cdFx0XHRmb3IgKGkgPSAwLCBuID0gc2VsZi5zZXR0aW5ncy5vcHRpb25zLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdHNlbGYucmVnaXN0ZXJPcHRpb24oc2VsZi5zZXR0aW5ncy5vcHRpb25zW2ldKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRkZWxldGUgc2VsZi5zZXR0aW5ncy5vcHRpb25zO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGJ1aWxkIG9wdGdyb3VwIHRhYmxlXHJcblx0XHRpZiAoc2VsZi5zZXR0aW5ncy5vcHRncm91cHMpIHtcclxuXHRcdFx0Zm9yIChpID0gMCwgbiA9IHNlbGYuc2V0dGluZ3Mub3B0Z3JvdXBzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdHNlbGYucmVnaXN0ZXJPcHRpb25Hcm91cChzZWxmLnNldHRpbmdzLm9wdGdyb3Vwc1tpXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZGVsZXRlIHNlbGYuc2V0dGluZ3Mub3B0Z3JvdXBzO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIG9wdGlvbi1kZXBlbmRlbnQgZGVmYXVsdHNcclxuXHRcdHNlbGYuc2V0dGluZ3MubW9kZSA9IHNlbGYuc2V0dGluZ3MubW9kZSB8fCAoc2VsZi5zZXR0aW5ncy5tYXhJdGVtcyA9PT0gMSA/ICdzaW5nbGUnIDogJ211bHRpJyk7XHJcblx0XHRpZiAodHlwZW9mIHNlbGYuc2V0dGluZ3MuaGlkZVNlbGVjdGVkICE9PSAnYm9vbGVhbicpIHtcclxuXHRcdFx0c2VsZi5zZXR0aW5ncy5oaWRlU2VsZWN0ZWQgPSBzZWxmLnNldHRpbmdzLm1vZGUgPT09ICdtdWx0aSc7XHJcblx0XHR9XHJcblxyXG5cdFx0c2VsZi5pbml0aWFsaXplUGx1Z2lucyhzZWxmLnNldHRpbmdzLnBsdWdpbnMpO1xyXG5cdFx0c2VsZi5zZXR1cENhbGxiYWNrcygpO1xyXG5cdFx0c2VsZi5zZXR1cFRlbXBsYXRlcygpO1xyXG5cdFx0c2VsZi5zZXR1cCgpO1xyXG5cdH07XHJcblxyXG5cdC8vIG1peGluc1xyXG5cdC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtXHJcblxyXG5cdE1pY3JvRXZlbnQubWl4aW4oU2VsZWN0aXplKTtcclxuXHJcblx0aWYodHlwZW9mIE1pY3JvUGx1Z2luICE9PSBcInVuZGVmaW5lZFwiKXtcclxuXHRcdE1pY3JvUGx1Z2luLm1peGluKFNlbGVjdGl6ZSk7XHJcblx0fWVsc2V7XHJcblx0XHRsb2dFcnJvcihcIkRlcGVuZGVuY3kgTWljcm9QbHVnaW4gaXMgbWlzc2luZ1wiLFxyXG5cdFx0XHR7ZXhwbGFuYXRpb246XHJcblx0XHRcdFx0XCJNYWtlIHN1cmUgeW91IGVpdGhlcjogKDEpIGFyZSB1c2luZyB0aGUgXFxcInN0YW5kYWxvbmVcXFwiIFwiK1xyXG5cdFx0XHRcdFwidmVyc2lvbiBvZiBTZWxlY3RpemUsIG9yICgyKSByZXF1aXJlIE1pY3JvUGx1Z2luIGJlZm9yZSB5b3UgXCIrXHJcblx0XHRcdFx0XCJsb2FkIFNlbGVjdGl6ZS5cIn1cclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHJcblx0Ly8gbWV0aG9kc1xyXG5cdC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtXHJcblxyXG5cdCQuZXh0ZW5kKFNlbGVjdGl6ZS5wcm90b3R5cGUsIHtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENyZWF0ZXMgYWxsIGVsZW1lbnRzIGFuZCBzZXRzIHVwIGV2ZW50IGJpbmRpbmdzLlxyXG5cdFx0ICovXHJcblx0XHRzZXR1cDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmICAgICAgPSB0aGlzO1xyXG5cdFx0XHR2YXIgc2V0dGluZ3MgID0gc2VsZi5zZXR0aW5ncztcclxuXHRcdFx0dmFyIGV2ZW50TlMgICA9IHNlbGYuZXZlbnROUztcclxuXHRcdFx0dmFyICR3aW5kb3cgICA9ICQod2luZG93KTtcclxuXHRcdFx0dmFyICRkb2N1bWVudCA9ICQoZG9jdW1lbnQpO1xyXG5cdFx0XHR2YXIgJGlucHV0ICAgID0gc2VsZi4kaW5wdXQ7XHJcblxyXG5cdFx0XHR2YXIgJHdyYXBwZXI7XHJcblx0XHRcdHZhciAkY29udHJvbDtcclxuXHRcdFx0dmFyICRjb250cm9sX2lucHV0O1xyXG5cdFx0XHR2YXIgJGRyb3Bkb3duO1xyXG5cdFx0XHR2YXIgJGRyb3Bkb3duX2NvbnRlbnQ7XHJcblx0XHRcdHZhciAkZHJvcGRvd25fcGFyZW50O1xyXG5cdFx0XHR2YXIgaW5wdXRNb2RlO1xyXG5cdFx0XHR2YXIgdGltZW91dF9ibHVyO1xyXG5cdFx0XHR2YXIgdGltZW91dF9mb2N1cztcclxuXHRcdFx0dmFyIGNsYXNzZXM7XHJcblx0XHRcdHZhciBjbGFzc2VzX3BsdWdpbnM7XHJcblx0XHRcdHZhciBpbnB1dElkO1xyXG5cclxuXHRcdFx0aW5wdXRNb2RlICAgICAgICAgPSBzZWxmLnNldHRpbmdzLm1vZGU7XHJcblx0XHRcdGNsYXNzZXMgICAgICAgICAgID0gJGlucHV0LmF0dHIoJ2NsYXNzJykgfHwgJyc7XHJcblxyXG5cdFx0XHQkd3JhcHBlciAgICAgICAgICA9ICQoJzxkaXY+JykuYWRkQ2xhc3Moc2V0dGluZ3Mud3JhcHBlckNsYXNzKS5hZGRDbGFzcyhjbGFzc2VzKS5hZGRDbGFzcyhpbnB1dE1vZGUpO1xyXG5cdFx0XHQkY29udHJvbCAgICAgICAgICA9ICQoJzxkaXY+JykuYWRkQ2xhc3Moc2V0dGluZ3MuaW5wdXRDbGFzcykuYWRkQ2xhc3MoJ2l0ZW1zJykuYXBwZW5kVG8oJHdyYXBwZXIpO1xyXG5cdFx0XHQkY29udHJvbF9pbnB1dCAgICA9ICQoJzxpbnB1dCB0eXBlPVwidGV4dFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIC8+JykuYXBwZW5kVG8oJGNvbnRyb2wpLmF0dHIoJ3RhYmluZGV4JywgJGlucHV0LmlzKCc6ZGlzYWJsZWQnKSA/ICctMScgOiBzZWxmLnRhYkluZGV4KTtcclxuXHRcdFx0JGRyb3Bkb3duX3BhcmVudCAgPSAkKHNldHRpbmdzLmRyb3Bkb3duUGFyZW50IHx8ICR3cmFwcGVyKTtcclxuXHRcdFx0JGRyb3Bkb3duICAgICAgICAgPSAkKCc8ZGl2PicpLmFkZENsYXNzKHNldHRpbmdzLmRyb3Bkb3duQ2xhc3MpLmFkZENsYXNzKGlucHV0TW9kZSkuaGlkZSgpLmFwcGVuZFRvKCRkcm9wZG93bl9wYXJlbnQpO1xyXG5cdFx0XHQkZHJvcGRvd25fY29udGVudCA9ICQoJzxkaXY+JykuYWRkQ2xhc3Moc2V0dGluZ3MuZHJvcGRvd25Db250ZW50Q2xhc3MpLmFwcGVuZFRvKCRkcm9wZG93bik7XHJcblxyXG5cdFx0XHRpZihpbnB1dElkID0gJGlucHV0LmF0dHIoJ2lkJykpIHtcclxuXHRcdFx0XHQkY29udHJvbF9pbnB1dC5hdHRyKCdpZCcsIGlucHV0SWQgKyAnLXNlbGVjdGl6ZWQnKTtcclxuXHRcdFx0XHQkKFwibGFiZWxbZm9yPSdcIitpbnB1dElkK1wiJ11cIikuYXR0cignZm9yJywgaW5wdXRJZCArICctc2VsZWN0aXplZCcpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZihzZWxmLnNldHRpbmdzLmNvcHlDbGFzc2VzVG9Ecm9wZG93bikge1xyXG5cdFx0XHRcdCRkcm9wZG93bi5hZGRDbGFzcyhjbGFzc2VzKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0JHdyYXBwZXIuY3NzKHtcclxuXHRcdFx0XHR3aWR0aDogJGlucHV0WzBdLnN0eWxlLndpZHRoXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0aWYgKHNlbGYucGx1Z2lucy5uYW1lcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRjbGFzc2VzX3BsdWdpbnMgPSAncGx1Z2luLScgKyBzZWxmLnBsdWdpbnMubmFtZXMuam9pbignIHBsdWdpbi0nKTtcclxuXHRcdFx0XHQkd3JhcHBlci5hZGRDbGFzcyhjbGFzc2VzX3BsdWdpbnMpO1xyXG5cdFx0XHRcdCRkcm9wZG93bi5hZGRDbGFzcyhjbGFzc2VzX3BsdWdpbnMpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoKHNldHRpbmdzLm1heEl0ZW1zID09PSBudWxsIHx8IHNldHRpbmdzLm1heEl0ZW1zID4gMSkgJiYgc2VsZi50YWdUeXBlID09PSBUQUdfU0VMRUNUKSB7XHJcblx0XHRcdFx0JGlucHV0LmF0dHIoJ211bHRpcGxlJywgJ211bHRpcGxlJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChzZWxmLnNldHRpbmdzLnBsYWNlaG9sZGVyKSB7XHJcblx0XHRcdFx0JGNvbnRyb2xfaW5wdXQuYXR0cigncGxhY2Vob2xkZXInLCBzZXR0aW5ncy5wbGFjZWhvbGRlcik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGlmIHNwbGl0T24gd2FzIG5vdCBwYXNzZWQgaW4sIGNvbnN0cnVjdCBpdCBmcm9tIHRoZSBkZWxpbWl0ZXIgdG8gYWxsb3cgcGFzdGluZyB1bml2ZXJzYWxseVxyXG5cdFx0XHRpZiAoIXNlbGYuc2V0dGluZ3Muc3BsaXRPbiAmJiBzZWxmLnNldHRpbmdzLmRlbGltaXRlcikge1xyXG5cdFx0XHRcdHZhciBkZWxpbWl0ZXJFc2NhcGVkID0gc2VsZi5zZXR0aW5ncy5kZWxpbWl0ZXIucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyk7XHJcblx0XHRcdFx0c2VsZi5zZXR0aW5ncy5zcGxpdE9uID0gbmV3IFJlZ0V4cCgnXFxcXHMqJyArIGRlbGltaXRlckVzY2FwZWQgKyAnK1xcXFxzKicpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoJGlucHV0LmF0dHIoJ2F1dG9jb3JyZWN0JykpIHtcclxuXHRcdFx0XHQkY29udHJvbF9pbnB1dC5hdHRyKCdhdXRvY29ycmVjdCcsICRpbnB1dC5hdHRyKCdhdXRvY29ycmVjdCcpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCRpbnB1dC5hdHRyKCdhdXRvY2FwaXRhbGl6ZScpKSB7XHJcblx0XHRcdFx0JGNvbnRyb2xfaW5wdXQuYXR0cignYXV0b2NhcGl0YWxpemUnLCAkaW5wdXQuYXR0cignYXV0b2NhcGl0YWxpemUnKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNlbGYuJHdyYXBwZXIgICAgICAgICAgPSAkd3JhcHBlcjtcclxuXHRcdFx0c2VsZi4kY29udHJvbCAgICAgICAgICA9ICRjb250cm9sO1xyXG5cdFx0XHRzZWxmLiRjb250cm9sX2lucHV0ICAgID0gJGNvbnRyb2xfaW5wdXQ7XHJcblx0XHRcdHNlbGYuJGRyb3Bkb3duICAgICAgICAgPSAkZHJvcGRvd247XHJcblx0XHRcdHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQgPSAkZHJvcGRvd25fY29udGVudDtcclxuXHJcblx0XHRcdCRkcm9wZG93bi5vbignbW91c2VlbnRlcicsICdbZGF0YS1zZWxlY3RhYmxlXScsIGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vbk9wdGlvbkhvdmVyLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH0pO1xyXG5cdFx0XHQkZHJvcGRvd24ub24oJ21vdXNlZG93biBjbGljaycsICdbZGF0YS1zZWxlY3RhYmxlXScsIGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vbk9wdGlvblNlbGVjdC5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9KTtcclxuXHRcdFx0d2F0Y2hDaGlsZEV2ZW50KCRjb250cm9sLCAnbW91c2Vkb3duJywgJyo6bm90KGlucHV0KScsIGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vbkl0ZW1TZWxlY3QuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSk7XHJcblx0XHRcdGF1dG9Hcm93KCRjb250cm9sX2lucHV0KTtcclxuXHJcblx0XHRcdCRjb250cm9sLm9uKHtcclxuXHRcdFx0XHRtb3VzZWRvd24gOiBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYub25Nb3VzZURvd24uYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSxcclxuXHRcdFx0XHRjbGljayAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYub25DbGljay5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JGNvbnRyb2xfaW5wdXQub24oe1xyXG5cdFx0XHRcdG1vdXNlZG93biA6IGZ1bmN0aW9uKGUpIHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgfSxcclxuXHRcdFx0XHRrZXlkb3duICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYub25LZXlEb3duLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH0sXHJcblx0XHRcdFx0a2V5dXAgICAgIDogZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uS2V5VXAuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSxcclxuXHRcdFx0XHRrZXlwcmVzcyAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYub25LZXlQcmVzcy5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9LFxyXG5cdFx0XHRcdHJlc2l6ZSAgICA6IGZ1bmN0aW9uKCkgeyBzZWxmLnBvc2l0aW9uRHJvcGRvd24uYXBwbHkoc2VsZiwgW10pOyB9LFxyXG5cdFx0XHRcdGJsdXIgICAgICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vbkJsdXIuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSxcclxuXHRcdFx0XHRmb2N1cyAgICAgOiBmdW5jdGlvbigpIHsgc2VsZi5pZ25vcmVCbHVyID0gZmFsc2U7IHJldHVybiBzZWxmLm9uRm9jdXMuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSxcclxuXHRcdFx0XHRwYXN0ZSAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYub25QYXN0ZS5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JGRvY3VtZW50Lm9uKCdrZXlkb3duJyArIGV2ZW50TlMsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHRzZWxmLmlzQ21kRG93biA9IGVbSVNfTUFDID8gJ21ldGFLZXknIDogJ2N0cmxLZXknXTtcclxuXHRcdFx0XHRzZWxmLmlzQ3RybERvd24gPSBlW0lTX01BQyA/ICdhbHRLZXknIDogJ2N0cmxLZXknXTtcclxuXHRcdFx0XHRzZWxmLmlzU2hpZnREb3duID0gZS5zaGlmdEtleTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkZG9jdW1lbnQub24oJ2tleXVwJyArIGV2ZW50TlMsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHRpZiAoZS5rZXlDb2RlID09PSBLRVlfQ1RSTCkgc2VsZi5pc0N0cmxEb3duID0gZmFsc2U7XHJcblx0XHRcdFx0aWYgKGUua2V5Q29kZSA9PT0gS0VZX1NISUZUKSBzZWxmLmlzU2hpZnREb3duID0gZmFsc2U7XHJcblx0XHRcdFx0aWYgKGUua2V5Q29kZSA9PT0gS0VZX0NNRCkgc2VsZi5pc0NtZERvd24gPSBmYWxzZTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkZG9jdW1lbnQub24oJ21vdXNlZG93bicgKyBldmVudE5TLCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0aWYgKHNlbGYuaXNGb2N1c2VkKSB7XHJcblx0XHRcdFx0XHQvLyBwcmV2ZW50IGV2ZW50cyBvbiB0aGUgZHJvcGRvd24gc2Nyb2xsYmFyIGZyb20gY2F1c2luZyB0aGUgY29udHJvbCB0byBibHVyXHJcblx0XHRcdFx0XHRpZiAoZS50YXJnZXQgPT09IHNlbGYuJGRyb3Bkb3duWzBdIHx8IGUudGFyZ2V0LnBhcmVudE5vZGUgPT09IHNlbGYuJGRyb3Bkb3duWzBdKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8vIGJsdXIgb24gY2xpY2sgb3V0c2lkZVxyXG5cdFx0XHRcdFx0aWYgKCFzZWxmLiRjb250cm9sLmhhcyhlLnRhcmdldCkubGVuZ3RoICYmIGUudGFyZ2V0ICE9PSBzZWxmLiRjb250cm9sWzBdKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYuYmx1cihlLnRhcmdldCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCR3aW5kb3cub24oWydzY3JvbGwnICsgZXZlbnROUywgJ3Jlc2l6ZScgKyBldmVudE5TXS5qb2luKCcgJyksIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGlmIChzZWxmLmlzT3Blbikge1xyXG5cdFx0XHRcdFx0c2VsZi5wb3NpdGlvbkRyb3Bkb3duLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0JHdpbmRvdy5vbignbW91c2Vtb3ZlJyArIGV2ZW50TlMsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHNlbGYuaWdub3JlSG92ZXIgPSBmYWxzZTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBzdG9yZSBvcmlnaW5hbCBjaGlsZHJlbiBhbmQgdGFiIGluZGV4IHNvIHRoYXQgdGhleSBjYW4gYmVcclxuXHRcdFx0Ly8gcmVzdG9yZWQgd2hlbiB0aGUgZGVzdHJveSgpIG1ldGhvZCBpcyBjYWxsZWQuXHJcblx0XHRcdHRoaXMucmV2ZXJ0U2V0dGluZ3MgPSB7XHJcblx0XHRcdFx0JGNoaWxkcmVuIDogJGlucHV0LmNoaWxkcmVuKCkuZGV0YWNoKCksXHJcblx0XHRcdFx0dGFiaW5kZXggIDogJGlucHV0LmF0dHIoJ3RhYmluZGV4JylcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdCRpbnB1dC5hdHRyKCd0YWJpbmRleCcsIC0xKS5oaWRlKCkuYWZ0ZXIoc2VsZi4kd3JhcHBlcik7XHJcblxyXG5cdFx0XHRpZiAoJC5pc0FycmF5KHNldHRpbmdzLml0ZW1zKSkge1xyXG5cdFx0XHRcdHNlbGYuc2V0VmFsdWUoc2V0dGluZ3MuaXRlbXMpO1xyXG5cdFx0XHRcdGRlbGV0ZSBzZXR0aW5ncy5pdGVtcztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZmVhdHVyZSBkZXRlY3QgZm9yIHRoZSB2YWxpZGF0aW9uIEFQSVxyXG5cdFx0XHRpZiAoU1VQUE9SVFNfVkFMSURJVFlfQVBJKSB7XHJcblx0XHRcdFx0JGlucHV0Lm9uKCdpbnZhbGlkJyArIGV2ZW50TlMsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdHNlbGYuaXNJbnZhbGlkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdHNlbGYucmVmcmVzaFN0YXRlKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNlbGYudXBkYXRlT3JpZ2luYWxJbnB1dCgpO1xyXG5cdFx0XHRzZWxmLnJlZnJlc2hJdGVtcygpO1xyXG5cdFx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xyXG5cdFx0XHRzZWxmLnVwZGF0ZVBsYWNlaG9sZGVyKCk7XHJcblx0XHRcdHNlbGYuaXNTZXR1cCA9IHRydWU7XHJcblxyXG5cdFx0XHRpZiAoJGlucHV0LmlzKCc6ZGlzYWJsZWQnKSkge1xyXG5cdFx0XHRcdHNlbGYuZGlzYWJsZSgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzZWxmLm9uKCdjaGFuZ2UnLCB0aGlzLm9uQ2hhbmdlKTtcclxuXHJcblx0XHRcdCRpbnB1dC5kYXRhKCdzZWxlY3RpemUnLCBzZWxmKTtcclxuXHRcdFx0JGlucHV0LmFkZENsYXNzKCdzZWxlY3RpemVkJyk7XHJcblx0XHRcdHNlbGYudHJpZ2dlcignaW5pdGlhbGl6ZScpO1xyXG5cclxuXHRcdFx0Ly8gcHJlbG9hZCBvcHRpb25zXHJcblx0XHRcdGlmIChzZXR0aW5ncy5wcmVsb2FkID09PSB0cnVlKSB7XHJcblx0XHRcdFx0c2VsZi5vblNlYXJjaENoYW5nZSgnJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2V0cyB1cCBkZWZhdWx0IHJlbmRlcmluZyBmdW5jdGlvbnMuXHJcblx0XHQgKi9cclxuXHRcdHNldHVwVGVtcGxhdGVzOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHR2YXIgZmllbGRfbGFiZWwgPSBzZWxmLnNldHRpbmdzLmxhYmVsRmllbGQ7XHJcblx0XHRcdHZhciBmaWVsZF9vcHRncm91cCA9IHNlbGYuc2V0dGluZ3Mub3B0Z3JvdXBMYWJlbEZpZWxkO1xyXG5cclxuXHRcdFx0dmFyIHRlbXBsYXRlcyA9IHtcclxuXHRcdFx0XHQnb3B0Z3JvdXAnOiBmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJzxkaXYgY2xhc3M9XCJvcHRncm91cFwiPicgKyBkYXRhLmh0bWwgKyAnPC9kaXY+JztcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdCdvcHRncm91cF9oZWFkZXInOiBmdW5jdGlvbihkYXRhLCBlc2NhcGUpIHtcclxuXHRcdFx0XHRcdHJldHVybiAnPGRpdiBjbGFzcz1cIm9wdGdyb3VwLWhlYWRlclwiPicgKyBlc2NhcGUoZGF0YVtmaWVsZF9vcHRncm91cF0pICsgJzwvZGl2Pic7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHQnb3B0aW9uJzogZnVuY3Rpb24oZGF0YSwgZXNjYXBlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJzxkaXYgY2xhc3M9XCJvcHRpb25cIj4nICsgZXNjYXBlKGRhdGFbZmllbGRfbGFiZWxdKSArICc8L2Rpdj4nO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0J2l0ZW0nOiBmdW5jdGlvbihkYXRhLCBlc2NhcGUpIHtcclxuXHRcdFx0XHRcdHJldHVybiAnPGRpdiBjbGFzcz1cIml0ZW1cIj4nICsgZXNjYXBlKGRhdGFbZmllbGRfbGFiZWxdKSArICc8L2Rpdj4nO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0J29wdGlvbl9jcmVhdGUnOiBmdW5jdGlvbihkYXRhLCBlc2NhcGUpIHtcclxuXHRcdFx0XHRcdHJldHVybiAnPGRpdiBjbGFzcz1cImNyZWF0ZVwiPkFkZCA8c3Ryb25nPicgKyBlc2NhcGUoZGF0YS5pbnB1dCkgKyAnPC9zdHJvbmc+JmhlbGxpcDs8L2Rpdj4nO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHNlbGYuc2V0dGluZ3MucmVuZGVyID0gJC5leHRlbmQoe30sIHRlbXBsYXRlcywgc2VsZi5zZXR0aW5ncy5yZW5kZXIpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIE1hcHMgZmlyZWQgZXZlbnRzIHRvIGNhbGxiYWNrcyBwcm92aWRlZFxyXG5cdFx0ICogaW4gdGhlIHNldHRpbmdzIHVzZWQgd2hlbiBjcmVhdGluZyB0aGUgY29udHJvbC5cclxuXHRcdCAqL1xyXG5cdFx0c2V0dXBDYWxsYmFja3M6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIga2V5LCBmbiwgY2FsbGJhY2tzID0ge1xyXG5cdFx0XHRcdCdpbml0aWFsaXplJyAgICAgIDogJ29uSW5pdGlhbGl6ZScsXHJcblx0XHRcdFx0J2NoYW5nZScgICAgICAgICAgOiAnb25DaGFuZ2UnLFxyXG5cdFx0XHRcdCdpdGVtX2FkZCcgICAgICAgIDogJ29uSXRlbUFkZCcsXHJcblx0XHRcdFx0J2l0ZW1fcmVtb3ZlJyAgICAgOiAnb25JdGVtUmVtb3ZlJyxcclxuXHRcdFx0XHQnY2xlYXInICAgICAgICAgICA6ICdvbkNsZWFyJyxcclxuXHRcdFx0XHQnb3B0aW9uX2FkZCcgICAgICA6ICdvbk9wdGlvbkFkZCcsXHJcblx0XHRcdFx0J29wdGlvbl9yZW1vdmUnICAgOiAnb25PcHRpb25SZW1vdmUnLFxyXG5cdFx0XHRcdCdvcHRpb25fY2xlYXInICAgIDogJ29uT3B0aW9uQ2xlYXInLFxyXG5cdFx0XHRcdCdvcHRncm91cF9hZGQnICAgIDogJ29uT3B0aW9uR3JvdXBBZGQnLFxyXG5cdFx0XHRcdCdvcHRncm91cF9yZW1vdmUnIDogJ29uT3B0aW9uR3JvdXBSZW1vdmUnLFxyXG5cdFx0XHRcdCdvcHRncm91cF9jbGVhcicgIDogJ29uT3B0aW9uR3JvdXBDbGVhcicsXHJcblx0XHRcdFx0J2Ryb3Bkb3duX29wZW4nICAgOiAnb25Ecm9wZG93bk9wZW4nLFxyXG5cdFx0XHRcdCdkcm9wZG93bl9jbG9zZScgIDogJ29uRHJvcGRvd25DbG9zZScsXHJcblx0XHRcdFx0J3R5cGUnICAgICAgICAgICAgOiAnb25UeXBlJyxcclxuXHRcdFx0XHQnbG9hZCcgICAgICAgICAgICA6ICdvbkxvYWQnLFxyXG5cdFx0XHRcdCdmb2N1cycgICAgICAgICAgIDogJ29uRm9jdXMnLFxyXG5cdFx0XHRcdCdibHVyJyAgICAgICAgICAgIDogJ29uQmx1cidcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGZvciAoa2V5IGluIGNhbGxiYWNrcykge1xyXG5cdFx0XHRcdGlmIChjYWxsYmFja3MuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdFx0Zm4gPSB0aGlzLnNldHRpbmdzW2NhbGxiYWNrc1trZXldXTtcclxuXHRcdFx0XHRcdGlmIChmbikgdGhpcy5vbihrZXksIGZuKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgbWFpbiBjb250cm9sIGVsZW1lbnRcclxuXHRcdCAqIGhhcyBhIGNsaWNrIGV2ZW50LlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlXHJcblx0XHQgKiBAcmV0dXJuIHtib29sZWFufVxyXG5cdFx0ICovXHJcblx0XHRvbkNsaWNrOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdC8vIG5lY2Vzc2FyeSBmb3IgbW9iaWxlIHdlYmtpdCBkZXZpY2VzIChtYW51YWwgZm9jdXMgdHJpZ2dlcmluZ1xyXG5cdFx0XHQvLyBpcyBpZ25vcmVkIHVubGVzcyBpbnZva2VkIHdpdGhpbiBhIGNsaWNrIGV2ZW50KVxyXG5cdFx0XHRpZiAoIXNlbGYuaXNGb2N1c2VkKSB7XHJcblx0XHRcdFx0c2VsZi5mb2N1cygpO1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRyaWdnZXJlZCB3aGVuIHRoZSBtYWluIGNvbnRyb2wgZWxlbWVudFxyXG5cdFx0ICogaGFzIGEgbW91c2UgZG93biBldmVudC5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZVxyXG5cdFx0ICogQHJldHVybiB7Ym9vbGVhbn1cclxuXHRcdCAqL1xyXG5cdFx0b25Nb3VzZURvd246IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHR2YXIgZGVmYXVsdFByZXZlbnRlZCA9IGUuaXNEZWZhdWx0UHJldmVudGVkKCk7XHJcblx0XHRcdHZhciAkdGFyZ2V0ID0gJChlLnRhcmdldCk7XHJcblxyXG5cdFx0XHRpZiAoc2VsZi5pc0ZvY3VzZWQpIHtcclxuXHRcdFx0XHQvLyByZXRhaW4gZm9jdXMgYnkgcHJldmVudGluZyBuYXRpdmUgaGFuZGxpbmcuIGlmIHRoZVxyXG5cdFx0XHRcdC8vIGV2ZW50IHRhcmdldCBpcyB0aGUgaW5wdXQgaXQgc2hvdWxkIG5vdCBiZSBtb2RpZmllZC5cclxuXHRcdFx0XHQvLyBvdGhlcndpc2UsIHRleHQgc2VsZWN0aW9uIHdpdGhpbiB0aGUgaW5wdXQgd29uJ3Qgd29yay5cclxuXHRcdFx0XHRpZiAoZS50YXJnZXQgIT09IHNlbGYuJGNvbnRyb2xfaW5wdXRbMF0pIHtcclxuXHRcdFx0XHRcdGlmIChzZWxmLnNldHRpbmdzLm1vZGUgPT09ICdzaW5nbGUnKSB7XHJcblx0XHRcdFx0XHRcdC8vIHRvZ2dsZSBkcm9wZG93blxyXG5cdFx0XHRcdFx0XHRzZWxmLmlzT3BlbiA/IHNlbGYuY2xvc2UoKSA6IHNlbGYub3BlbigpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmICghZGVmYXVsdFByZXZlbnRlZCkge1xyXG5cdFx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZUl0ZW0obnVsbCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIGdpdmUgY29udHJvbCBmb2N1c1xyXG5cdFx0XHRcdGlmICghZGVmYXVsdFByZXZlbnRlZCkge1xyXG5cdFx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYuZm9jdXMoKTtcclxuXHRcdFx0XHRcdH0sIDApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRyaWdnZXJlZCB3aGVuIHRoZSB2YWx1ZSBvZiB0aGUgY29udHJvbCBoYXMgYmVlbiBjaGFuZ2VkLlxyXG5cdFx0ICogVGhpcyBzaG91bGQgcHJvcGFnYXRlIHRoZSBldmVudCB0byB0aGUgb3JpZ2luYWwgRE9NXHJcblx0XHQgKiBpbnB1dCAvIHNlbGVjdCBlbGVtZW50LlxyXG5cdFx0ICovXHJcblx0XHRvbkNoYW5nZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMuJGlucHV0LnRyaWdnZXIoJ2NoYW5nZScpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRyaWdnZXJlZCBvbiA8aW5wdXQ+IHBhc3RlLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlXHJcblx0XHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuXHRcdCAqL1xyXG5cdFx0b25QYXN0ZTogZnVuY3Rpb24oZSkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHRpZiAoc2VsZi5pc0Z1bGwoKSB8fCBzZWxmLmlzSW5wdXRIaWRkZW4gfHwgc2VsZi5pc0xvY2tlZCkge1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIElmIGEgcmVnZXggb3Igc3RyaW5nIGlzIGluY2x1ZGVkLCB0aGlzIHdpbGwgc3BsaXQgdGhlIHBhc3RlZFxyXG5cdFx0XHQvLyBpbnB1dCBhbmQgY3JlYXRlIEl0ZW1zIGZvciBlYWNoIHNlcGFyYXRlIHZhbHVlXHJcblx0XHRcdGlmIChzZWxmLnNldHRpbmdzLnNwbGl0T24pIHtcclxuXHJcblx0XHRcdFx0Ly8gV2FpdCBmb3IgcGFzdGVkIHRleHQgdG8gYmUgcmVjb2duaXplZCBpbiB2YWx1ZVxyXG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHR2YXIgcGFzdGVkVGV4dCA9IHNlbGYuJGNvbnRyb2xfaW5wdXQudmFsKCk7XHJcblx0XHRcdFx0XHRpZighcGFzdGVkVGV4dC5tYXRjaChzZWxmLnNldHRpbmdzLnNwbGl0T24pKXsgcmV0dXJuIH1cclxuXHJcblx0XHRcdFx0XHR2YXIgc3BsaXRJbnB1dCA9ICQudHJpbShwYXN0ZWRUZXh0KS5zcGxpdChzZWxmLnNldHRpbmdzLnNwbGl0T24pO1xyXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIG4gPSBzcGxpdElucHV0Lmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdFx0XHRzZWxmLmNyZWF0ZUl0ZW0oc3BsaXRJbnB1dFtpXSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUcmlnZ2VyZWQgb24gPGlucHV0PiBrZXlwcmVzcy5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZVxyXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XHJcblx0XHQgKi9cclxuXHRcdG9uS2V5UHJlc3M6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0aWYgKHRoaXMuaXNMb2NrZWQpIHJldHVybiBlICYmIGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0dmFyIGNoYXJhY3RlciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS5rZXlDb2RlIHx8IGUud2hpY2gpO1xyXG5cdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5jcmVhdGUgJiYgdGhpcy5zZXR0aW5ncy5tb2RlID09PSAnbXVsdGknICYmIGNoYXJhY3RlciA9PT0gdGhpcy5zZXR0aW5ncy5kZWxpbWl0ZXIpIHtcclxuXHRcdFx0XHR0aGlzLmNyZWF0ZUl0ZW0oKTtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVHJpZ2dlcmVkIG9uIDxpbnB1dD4ga2V5ZG93bi5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZVxyXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XHJcblx0XHQgKi9cclxuXHRcdG9uS2V5RG93bjogZnVuY3Rpb24oZSkge1xyXG5cdFx0XHR2YXIgaXNJbnB1dCA9IGUudGFyZ2V0ID09PSB0aGlzLiRjb250cm9sX2lucHV0WzBdO1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHRpZiAoc2VsZi5pc0xvY2tlZCkge1xyXG5cdFx0XHRcdGlmIChlLmtleUNvZGUgIT09IEtFWV9UQUIpIHtcclxuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzd2l0Y2ggKGUua2V5Q29kZSkge1xyXG5cdFx0XHRcdGNhc2UgS0VZX0E6XHJcblx0XHRcdFx0XHRpZiAoc2VsZi5pc0NtZERvd24pIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5zZWxlY3RBbGwoKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSBLRVlfRVNDOlxyXG5cdFx0XHRcdFx0aWYgKHNlbGYuaXNPcGVuKSB7XHJcblx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0c2VsZi5jbG9zZSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdGNhc2UgS0VZX046XHJcblx0XHRcdFx0XHRpZiAoIWUuY3RybEtleSB8fCBlLmFsdEtleSkgYnJlYWs7XHJcblx0XHRcdFx0Y2FzZSBLRVlfRE9XTjpcclxuXHRcdFx0XHRcdGlmICghc2VsZi5pc09wZW4gJiYgc2VsZi5oYXNPcHRpb25zKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYub3BlbigpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChzZWxmLiRhY3RpdmVPcHRpb24pIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5pZ25vcmVIb3ZlciA9IHRydWU7XHJcblx0XHRcdFx0XHRcdHZhciAkbmV4dCA9IHNlbGYuZ2V0QWRqYWNlbnRPcHRpb24oc2VsZi4kYWN0aXZlT3B0aW9uLCAxKTtcclxuXHRcdFx0XHRcdFx0aWYgKCRuZXh0Lmxlbmd0aCkgc2VsZi5zZXRBY3RpdmVPcHRpb24oJG5leHQsIHRydWUsIHRydWUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdGNhc2UgS0VZX1A6XHJcblx0XHRcdFx0XHRpZiAoIWUuY3RybEtleSB8fCBlLmFsdEtleSkgYnJlYWs7XHJcblx0XHRcdFx0Y2FzZSBLRVlfVVA6XHJcblx0XHRcdFx0XHRpZiAoc2VsZi4kYWN0aXZlT3B0aW9uKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYuaWdub3JlSG92ZXIgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR2YXIgJHByZXYgPSBzZWxmLmdldEFkamFjZW50T3B0aW9uKHNlbGYuJGFjdGl2ZU9wdGlvbiwgLTEpO1xyXG5cdFx0XHRcdFx0XHRpZiAoJHByZXYubGVuZ3RoKSBzZWxmLnNldEFjdGl2ZU9wdGlvbigkcHJldiwgdHJ1ZSwgdHJ1ZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0Y2FzZSBLRVlfUkVUVVJOOlxyXG5cdFx0XHRcdFx0aWYgKHNlbGYuaXNPcGVuICYmIHNlbGYuJGFjdGl2ZU9wdGlvbikge1xyXG5cdFx0XHRcdFx0XHRzZWxmLm9uT3B0aW9uU2VsZWN0KHtjdXJyZW50VGFyZ2V0OiBzZWxmLiRhY3RpdmVPcHRpb259KTtcclxuXHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdGNhc2UgS0VZX0xFRlQ6XHJcblx0XHRcdFx0XHRzZWxmLmFkdmFuY2VTZWxlY3Rpb24oLTEsIGUpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdGNhc2UgS0VZX1JJR0hUOlxyXG5cdFx0XHRcdFx0c2VsZi5hZHZhbmNlU2VsZWN0aW9uKDEsIGUpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdGNhc2UgS0VZX1RBQjpcclxuXHRcdFx0XHRcdGlmIChzZWxmLnNldHRpbmdzLnNlbGVjdE9uVGFiICYmIHNlbGYuaXNPcGVuICYmIHNlbGYuJGFjdGl2ZU9wdGlvbikge1xyXG5cdFx0XHRcdFx0XHRzZWxmLm9uT3B0aW9uU2VsZWN0KHtjdXJyZW50VGFyZ2V0OiBzZWxmLiRhY3RpdmVPcHRpb259KTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIERlZmF1bHQgYmVoYXZpb3VyIGlzIHRvIGp1bXAgdG8gdGhlIG5leHQgZmllbGQsIHdlIG9ubHkgd2FudCB0aGlzXHJcblx0XHRcdFx0XHRcdC8vIGlmIHRoZSBjdXJyZW50IGZpZWxkIGRvZXNuJ3QgYWNjZXB0IGFueSBtb3JlIGVudHJpZXNcclxuXHRcdFx0XHRcdFx0aWYgKCFzZWxmLmlzRnVsbCgpKSB7XHJcblx0XHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5jcmVhdGUgJiYgc2VsZi5jcmVhdGVJdGVtKCkpIHtcclxuXHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdGNhc2UgS0VZX0JBQ0tTUEFDRTpcclxuXHRcdFx0XHRjYXNlIEtFWV9ERUxFVEU6XHJcblx0XHRcdFx0XHRzZWxmLmRlbGV0ZVNlbGVjdGlvbihlKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKChzZWxmLmlzRnVsbCgpIHx8IHNlbGYuaXNJbnB1dEhpZGRlbikgJiYgIShJU19NQUMgPyBlLm1ldGFLZXkgOiBlLmN0cmxLZXkpKSB7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRyaWdnZXJlZCBvbiA8aW5wdXQ+IGtleXVwLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlXHJcblx0XHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuXHRcdCAqL1xyXG5cdFx0b25LZXlVcDogZnVuY3Rpb24oZSkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHRpZiAoc2VsZi5pc0xvY2tlZCkgcmV0dXJuIGUgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHR2YXIgdmFsdWUgPSBzZWxmLiRjb250cm9sX2lucHV0LnZhbCgpIHx8ICcnO1xyXG5cdFx0XHRpZiAoc2VsZi5sYXN0VmFsdWUgIT09IHZhbHVlKSB7XHJcblx0XHRcdFx0c2VsZi5sYXN0VmFsdWUgPSB2YWx1ZTtcclxuXHRcdFx0XHRzZWxmLm9uU2VhcmNoQ2hhbmdlKHZhbHVlKTtcclxuXHRcdFx0XHRzZWxmLnJlZnJlc2hPcHRpb25zKCk7XHJcblx0XHRcdFx0c2VsZi50cmlnZ2VyKCd0eXBlJywgdmFsdWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW52b2tlcyB0aGUgdXNlci1wcm92aWRlIG9wdGlvbiBwcm92aWRlciAvIGxvYWRlci5cclxuXHRcdCAqXHJcblx0XHQgKiBOb3RlOiB0aGlzIGZ1bmN0aW9uIGlzIGRlYm91bmNlZCBpbiB0aGUgU2VsZWN0aXplXHJcblx0XHQgKiBjb25zdHJ1Y3RvciAoYnkgYHNldHRpbmdzLmxvYWRUaHJvdHRsZWAgbWlsbGlzZWNvbmRzKVxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxyXG5cdFx0ICovXHJcblx0XHRvblNlYXJjaENoYW5nZTogZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHR2YXIgZm4gPSBzZWxmLnNldHRpbmdzLmxvYWQ7XHJcblx0XHRcdGlmICghZm4pIHJldHVybjtcclxuXHRcdFx0aWYgKHNlbGYubG9hZGVkU2VhcmNoZXMuaGFzT3duUHJvcGVydHkodmFsdWUpKSByZXR1cm47XHJcblx0XHRcdHNlbGYubG9hZGVkU2VhcmNoZXNbdmFsdWVdID0gdHJ1ZTtcclxuXHRcdFx0c2VsZi5sb2FkKGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcblx0XHRcdFx0Zm4uYXBwbHkoc2VsZiwgW3ZhbHVlLCBjYWxsYmFja10pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUcmlnZ2VyZWQgb24gPGlucHV0PiBmb2N1cy5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZSAob3B0aW9uYWwpXHJcblx0XHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuXHRcdCAqL1xyXG5cdFx0b25Gb2N1czogZnVuY3Rpb24oZSkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdHZhciB3YXNGb2N1c2VkID0gc2VsZi5pc0ZvY3VzZWQ7XHJcblxyXG5cdFx0XHRpZiAoc2VsZi5pc0Rpc2FibGVkKSB7XHJcblx0XHRcdFx0c2VsZi5ibHVyKCk7XHJcblx0XHRcdFx0ZSAmJiBlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoc2VsZi5pZ25vcmVGb2N1cykgcmV0dXJuO1xyXG5cdFx0XHRzZWxmLmlzRm9jdXNlZCA9IHRydWU7XHJcblx0XHRcdGlmIChzZWxmLnNldHRpbmdzLnByZWxvYWQgPT09ICdmb2N1cycpIHNlbGYub25TZWFyY2hDaGFuZ2UoJycpO1xyXG5cclxuXHRcdFx0aWYgKCF3YXNGb2N1c2VkKSBzZWxmLnRyaWdnZXIoJ2ZvY3VzJyk7XHJcblxyXG5cdFx0XHRpZiAoIXNlbGYuJGFjdGl2ZUl0ZW1zLmxlbmd0aCkge1xyXG5cdFx0XHRcdHNlbGYuc2hvd0lucHV0KCk7XHJcblx0XHRcdFx0c2VsZi5zZXRBY3RpdmVJdGVtKG51bGwpO1xyXG5cdFx0XHRcdHNlbGYucmVmcmVzaE9wdGlvbnMoISFzZWxmLnNldHRpbmdzLm9wZW5PbkZvY3VzKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c2VsZi5yZWZyZXNoU3RhdGUoKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUcmlnZ2VyZWQgb24gPGlucHV0PiBibHVyLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlXHJcblx0XHQgKiBAcGFyYW0ge0VsZW1lbnR9IGRlc3RcclxuXHRcdCAqL1xyXG5cdFx0b25CbHVyOiBmdW5jdGlvbihlLCBkZXN0KSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0aWYgKCFzZWxmLmlzRm9jdXNlZCkgcmV0dXJuO1xyXG5cdFx0XHRzZWxmLmlzRm9jdXNlZCA9IGZhbHNlO1xyXG5cclxuXHRcdFx0aWYgKHNlbGYuaWdub3JlRm9jdXMpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH0gZWxzZSBpZiAoIXNlbGYuaWdub3JlQmx1ciAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBzZWxmLiRkcm9wZG93bl9jb250ZW50WzBdKSB7XHJcblx0XHRcdFx0Ly8gbmVjZXNzYXJ5IHRvIHByZXZlbnQgSUUgY2xvc2luZyB0aGUgZHJvcGRvd24gd2hlbiB0aGUgc2Nyb2xsYmFyIGlzIGNsaWNrZWRcclxuXHRcdFx0XHRzZWxmLmlnbm9yZUJsdXIgPSB0cnVlO1xyXG5cdFx0XHRcdHNlbGYub25Gb2N1cyhlKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBkZWFjdGl2YXRlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0c2VsZi5jbG9zZSgpO1xyXG5cdFx0XHRcdHNlbGYuc2V0VGV4dGJveFZhbHVlKCcnKTtcclxuXHRcdFx0XHRzZWxmLnNldEFjdGl2ZUl0ZW0obnVsbCk7XHJcblx0XHRcdFx0c2VsZi5zZXRBY3RpdmVPcHRpb24obnVsbCk7XHJcblx0XHRcdFx0c2VsZi5zZXRDYXJldChzZWxmLml0ZW1zLmxlbmd0aCk7XHJcblx0XHRcdFx0c2VsZi5yZWZyZXNoU3RhdGUoKTtcclxuXHJcblx0XHRcdFx0Ly8gSUUxMSBidWc6IGVsZW1lbnQgc3RpbGwgbWFya2VkIGFzIGFjdGl2ZVxyXG5cdFx0XHRcdGRlc3QgJiYgZGVzdC5mb2N1cyAmJiBkZXN0LmZvY3VzKCk7XHJcblxyXG5cdFx0XHRcdHNlbGYuaWdub3JlRm9jdXMgPSBmYWxzZTtcclxuXHRcdFx0XHRzZWxmLnRyaWdnZXIoJ2JsdXInKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHNlbGYuaWdub3JlRm9jdXMgPSB0cnVlO1xyXG5cdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5jcmVhdGUgJiYgc2VsZi5zZXR0aW5ncy5jcmVhdGVPbkJsdXIpIHtcclxuXHRcdFx0XHRzZWxmLmNyZWF0ZUl0ZW0obnVsbCwgZmFsc2UsIGRlYWN0aXZhdGUpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGRlYWN0aXZhdGUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRyaWdnZXJlZCB3aGVuIHRoZSB1c2VyIHJvbGxzIG92ZXJcclxuXHRcdCAqIGFuIG9wdGlvbiBpbiB0aGUgYXV0b2NvbXBsZXRlIGRyb3Bkb3duIG1lbnUuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGVcclxuXHRcdCAqIEByZXR1cm5zIHtib29sZWFufVxyXG5cdFx0ICovXHJcblx0XHRvbk9wdGlvbkhvdmVyOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdGlmICh0aGlzLmlnbm9yZUhvdmVyKSByZXR1cm47XHJcblx0XHRcdHRoaXMuc2V0QWN0aXZlT3B0aW9uKGUuY3VycmVudFRhcmdldCwgZmFsc2UpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRyaWdnZXJlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyBvbiBhbiBvcHRpb25cclxuXHRcdCAqIGluIHRoZSBhdXRvY29tcGxldGUgZHJvcGRvd24gbWVudS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZVxyXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XHJcblx0XHQgKi9cclxuXHRcdG9uT3B0aW9uU2VsZWN0OiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHZhciB2YWx1ZSwgJHRhcmdldCwgJG9wdGlvbiwgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHRpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xyXG5cdFx0XHRpZiAoJHRhcmdldC5oYXNDbGFzcygnY3JlYXRlJykpIHtcclxuXHRcdFx0XHRzZWxmLmNyZWF0ZUl0ZW0obnVsbCwgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5jbG9zZUFmdGVyU2VsZWN0KSB7XHJcblx0XHRcdFx0XHRcdHNlbGYuY2xvc2UoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2YWx1ZSA9ICR0YXJnZXQuYXR0cignZGF0YS12YWx1ZScpO1xyXG5cdFx0XHRcdGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0XHRzZWxmLmxhc3RRdWVyeSA9IG51bGw7XHJcblx0XHRcdFx0XHRzZWxmLnNldFRleHRib3hWYWx1ZSgnJyk7XHJcblx0XHRcdFx0XHRzZWxmLmFkZEl0ZW0odmFsdWUpO1xyXG5cdFx0XHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MuY2xvc2VBZnRlclNlbGVjdCkge1xyXG5cdFx0XHRcdFx0XHRzZWxmLmNsb3NlKCk7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCFzZWxmLnNldHRpbmdzLmhpZGVTZWxlY3RlZCAmJiBlLnR5cGUgJiYgL21vdXNlLy50ZXN0KGUudHlwZSkpIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5zZXRBY3RpdmVPcHRpb24oc2VsZi5nZXRPcHRpb24odmFsdWUpKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBjbGlja3Mgb24gYW4gaXRlbVxyXG5cdFx0ICogdGhhdCBoYXMgYmVlbiBzZWxlY3RlZC5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZVxyXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XHJcblx0XHQgKi9cclxuXHRcdG9uSXRlbVNlbGVjdDogZnVuY3Rpb24oZSkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHRpZiAoc2VsZi5pc0xvY2tlZCkgcmV0dXJuO1xyXG5cdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5tb2RlID09PSAnbXVsdGknKSB7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdHNlbGYuc2V0QWN0aXZlSXRlbShlLmN1cnJlbnRUYXJnZXQsIGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW52b2tlcyB0aGUgcHJvdmlkZWQgbWV0aG9kIHRoYXQgcHJvdmlkZXNcclxuXHRcdCAqIHJlc3VsdHMgdG8gYSBjYWxsYmFjay0tLXdoaWNoIGFyZSB0aGVuIGFkZGVkXHJcblx0XHQgKiBhcyBvcHRpb25zIHRvIHRoZSBjb250cm9sLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXHJcblx0XHQgKi9cclxuXHRcdGxvYWQ6IGZ1bmN0aW9uKGZuKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0dmFyICR3cmFwcGVyID0gc2VsZi4kd3JhcHBlci5hZGRDbGFzcyhzZWxmLnNldHRpbmdzLmxvYWRpbmdDbGFzcyk7XHJcblxyXG5cdFx0XHRzZWxmLmxvYWRpbmcrKztcclxuXHRcdFx0Zm4uYXBwbHkoc2VsZiwgW2Z1bmN0aW9uKHJlc3VsdHMpIHtcclxuXHRcdFx0XHRzZWxmLmxvYWRpbmcgPSBNYXRoLm1heChzZWxmLmxvYWRpbmcgLSAxLCAwKTtcclxuXHRcdFx0XHRpZiAocmVzdWx0cyAmJiByZXN1bHRzLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0c2VsZi5hZGRPcHRpb24ocmVzdWx0cyk7XHJcblx0XHRcdFx0XHRzZWxmLnJlZnJlc2hPcHRpb25zKHNlbGYuaXNGb2N1c2VkICYmICFzZWxmLmlzSW5wdXRIaWRkZW4pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoIXNlbGYubG9hZGluZykge1xyXG5cdFx0XHRcdFx0JHdyYXBwZXIucmVtb3ZlQ2xhc3Moc2VsZi5zZXR0aW5ncy5sb2FkaW5nQ2xhc3MpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzZWxmLnRyaWdnZXIoJ2xvYWQnLCByZXN1bHRzKTtcclxuXHRcdFx0fV0pO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNldHMgdGhlIGlucHV0IGZpZWxkIG9mIHRoZSBjb250cm9sIHRvIHRoZSBzcGVjaWZpZWQgdmFsdWUuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXHJcblx0XHQgKi9cclxuXHRcdHNldFRleHRib3hWYWx1ZTogZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0dmFyICRpbnB1dCA9IHRoaXMuJGNvbnRyb2xfaW5wdXQ7XHJcblx0XHRcdHZhciBjaGFuZ2VkID0gJGlucHV0LnZhbCgpICE9PSB2YWx1ZTtcclxuXHRcdFx0aWYgKGNoYW5nZWQpIHtcclxuXHRcdFx0XHQkaW5wdXQudmFsKHZhbHVlKS50cmlnZ2VySGFuZGxlcigndXBkYXRlJyk7XHJcblx0XHRcdFx0dGhpcy5sYXN0VmFsdWUgPSB2YWx1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBjb250cm9sLiBJZiBtdWx0aXBsZSBpdGVtc1xyXG5cdFx0ICogY2FuIGJlIHNlbGVjdGVkIChlLmcuIDxzZWxlY3QgbXVsdGlwbGU+KSwgdGhpcyByZXR1cm5zXHJcblx0XHQgKiBhbiBhcnJheS4gSWYgb25seSBvbmUgaXRlbSBjYW4gYmUgc2VsZWN0ZWQsIHRoaXNcclxuXHRcdCAqIHJldHVybnMgYSBzdHJpbmcuXHJcblx0XHQgKlxyXG5cdFx0ICogQHJldHVybnMge21peGVkfVxyXG5cdFx0ICovXHJcblx0XHRnZXRWYWx1ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICh0aGlzLnRhZ1R5cGUgPT09IFRBR19TRUxFQ1QgJiYgdGhpcy4kaW5wdXQuYXR0cignbXVsdGlwbGUnKSkge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLml0ZW1zO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLml0ZW1zLmpvaW4odGhpcy5zZXR0aW5ncy5kZWxpbWl0ZXIpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVzZXRzIHRoZSBzZWxlY3RlZCBpdGVtcyB0byB0aGUgZ2l2ZW4gdmFsdWUuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHttaXhlZH0gdmFsdWVcclxuXHRcdCAqL1xyXG5cdFx0c2V0VmFsdWU6IGZ1bmN0aW9uKHZhbHVlLCBzaWxlbnQpIHtcclxuXHRcdFx0dmFyIGV2ZW50cyA9IHNpbGVudCA/IFtdIDogWydjaGFuZ2UnXTtcclxuXHJcblx0XHRcdGRlYm91bmNlX2V2ZW50cyh0aGlzLCBldmVudHMsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHRoaXMuY2xlYXIoc2lsZW50KTtcclxuXHRcdFx0XHR0aGlzLmFkZEl0ZW1zKHZhbHVlLCBzaWxlbnQpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZXRzIHRoZSBzZWxlY3RlZCBpdGVtLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSAkaXRlbVxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGUgKG9wdGlvbmFsKVxyXG5cdFx0ICovXHJcblx0XHRzZXRBY3RpdmVJdGVtOiBmdW5jdGlvbigkaXRlbSwgZSkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdHZhciBldmVudE5hbWU7XHJcblx0XHRcdHZhciBpLCBpZHgsIGJlZ2luLCBlbmQsIGl0ZW0sIHN3YXA7XHJcblx0XHRcdHZhciAkbGFzdDtcclxuXHJcblx0XHRcdGlmIChzZWxmLnNldHRpbmdzLm1vZGUgPT09ICdzaW5nbGUnKSByZXR1cm47XHJcblx0XHRcdCRpdGVtID0gJCgkaXRlbSk7XHJcblxyXG5cdFx0XHQvLyBjbGVhciB0aGUgYWN0aXZlIHNlbGVjdGlvblxyXG5cdFx0XHRpZiAoISRpdGVtLmxlbmd0aCkge1xyXG5cdFx0XHRcdCQoc2VsZi4kYWN0aXZlSXRlbXMpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0XHRzZWxmLiRhY3RpdmVJdGVtcyA9IFtdO1xyXG5cdFx0XHRcdGlmIChzZWxmLmlzRm9jdXNlZCkge1xyXG5cdFx0XHRcdFx0c2VsZi5zaG93SW5wdXQoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBtb2RpZnkgc2VsZWN0aW9uXHJcblx0XHRcdGV2ZW50TmFtZSA9IGUgJiYgZS50eXBlLnRvTG93ZXJDYXNlKCk7XHJcblxyXG5cdFx0XHRpZiAoZXZlbnROYW1lID09PSAnbW91c2Vkb3duJyAmJiBzZWxmLmlzU2hpZnREb3duICYmIHNlbGYuJGFjdGl2ZUl0ZW1zLmxlbmd0aCkge1xyXG5cdFx0XHRcdCRsYXN0ID0gc2VsZi4kY29udHJvbC5jaGlsZHJlbignLmFjdGl2ZTpsYXN0Jyk7XHJcblx0XHRcdFx0YmVnaW4gPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5hcHBseShzZWxmLiRjb250cm9sWzBdLmNoaWxkTm9kZXMsIFskbGFzdFswXV0pO1xyXG5cdFx0XHRcdGVuZCAgID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuYXBwbHkoc2VsZi4kY29udHJvbFswXS5jaGlsZE5vZGVzLCBbJGl0ZW1bMF1dKTtcclxuXHRcdFx0XHRpZiAoYmVnaW4gPiBlbmQpIHtcclxuXHRcdFx0XHRcdHN3YXAgID0gYmVnaW47XHJcblx0XHRcdFx0XHRiZWdpbiA9IGVuZDtcclxuXHRcdFx0XHRcdGVuZCAgID0gc3dhcDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Zm9yIChpID0gYmVnaW47IGkgPD0gZW5kOyBpKyspIHtcclxuXHRcdFx0XHRcdGl0ZW0gPSBzZWxmLiRjb250cm9sWzBdLmNoaWxkTm9kZXNbaV07XHJcblx0XHRcdFx0XHRpZiAoc2VsZi4kYWN0aXZlSXRlbXMuaW5kZXhPZihpdGVtKSA9PT0gLTEpIHtcclxuXHRcdFx0XHRcdFx0JChpdGVtKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0XHRcdHNlbGYuJGFjdGl2ZUl0ZW1zLnB1c2goaXRlbSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0fSBlbHNlIGlmICgoZXZlbnROYW1lID09PSAnbW91c2Vkb3duJyAmJiBzZWxmLmlzQ3RybERvd24pIHx8IChldmVudE5hbWUgPT09ICdrZXlkb3duJyAmJiB0aGlzLmlzU2hpZnREb3duKSkge1xyXG5cdFx0XHRcdGlmICgkaXRlbS5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuXHRcdFx0XHRcdGlkeCA9IHNlbGYuJGFjdGl2ZUl0ZW1zLmluZGV4T2YoJGl0ZW1bMF0pO1xyXG5cdFx0XHRcdFx0c2VsZi4kYWN0aXZlSXRlbXMuc3BsaWNlKGlkeCwgMSk7XHJcblx0XHRcdFx0XHQkaXRlbS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHNlbGYuJGFjdGl2ZUl0ZW1zLnB1c2goJGl0ZW0uYWRkQ2xhc3MoJ2FjdGl2ZScpWzBdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JChzZWxmLiRhY3RpdmVJdGVtcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdHNlbGYuJGFjdGl2ZUl0ZW1zID0gWyRpdGVtLmFkZENsYXNzKCdhY3RpdmUnKVswXV07XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGVuc3VyZSBjb250cm9sIGhhcyBmb2N1c1xyXG5cdFx0XHRzZWxmLmhpZGVJbnB1dCgpO1xyXG5cdFx0XHRpZiAoIXRoaXMuaXNGb2N1c2VkKSB7XHJcblx0XHRcdFx0c2VsZi5mb2N1cygpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2V0cyB0aGUgc2VsZWN0ZWQgaXRlbSBpbiB0aGUgZHJvcGRvd24gbWVudVxyXG5cdFx0ICogb2YgYXZhaWxhYmxlIG9wdGlvbnMuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9ICRvYmplY3RcclxuXHRcdCAqIEBwYXJhbSB7Ym9vbGVhbn0gc2Nyb2xsXHJcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IGFuaW1hdGVcclxuXHRcdCAqL1xyXG5cdFx0c2V0QWN0aXZlT3B0aW9uOiBmdW5jdGlvbigkb3B0aW9uLCBzY3JvbGwsIGFuaW1hdGUpIHtcclxuXHRcdFx0dmFyIGhlaWdodF9tZW51LCBoZWlnaHRfaXRlbSwgeTtcclxuXHRcdFx0dmFyIHNjcm9sbF90b3AsIHNjcm9sbF9ib3R0b207XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdGlmIChzZWxmLiRhY3RpdmVPcHRpb24pIHNlbGYuJGFjdGl2ZU9wdGlvbi5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdHNlbGYuJGFjdGl2ZU9wdGlvbiA9IG51bGw7XHJcblxyXG5cdFx0XHQkb3B0aW9uID0gJCgkb3B0aW9uKTtcclxuXHRcdFx0aWYgKCEkb3B0aW9uLmxlbmd0aCkgcmV0dXJuO1xyXG5cclxuXHRcdFx0c2VsZi4kYWN0aXZlT3B0aW9uID0gJG9wdGlvbi5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblxyXG5cdFx0XHRpZiAoc2Nyb2xsIHx8ICFpc3NldChzY3JvbGwpKSB7XHJcblxyXG5cdFx0XHRcdGhlaWdodF9tZW51ICAgPSBzZWxmLiRkcm9wZG93bl9jb250ZW50LmhlaWdodCgpO1xyXG5cdFx0XHRcdGhlaWdodF9pdGVtICAgPSBzZWxmLiRhY3RpdmVPcHRpb24ub3V0ZXJIZWlnaHQodHJ1ZSk7XHJcblx0XHRcdFx0c2Nyb2xsICAgICAgICA9IHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQuc2Nyb2xsVG9wKCkgfHwgMDtcclxuXHRcdFx0XHR5ICAgICAgICAgICAgID0gc2VsZi4kYWN0aXZlT3B0aW9uLm9mZnNldCgpLnRvcCAtIHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQub2Zmc2V0KCkudG9wICsgc2Nyb2xsO1xyXG5cdFx0XHRcdHNjcm9sbF90b3AgICAgPSB5O1xyXG5cdFx0XHRcdHNjcm9sbF9ib3R0b20gPSB5IC0gaGVpZ2h0X21lbnUgKyBoZWlnaHRfaXRlbTtcclxuXHJcblx0XHRcdFx0aWYgKHkgKyBoZWlnaHRfaXRlbSA+IGhlaWdodF9tZW51ICsgc2Nyb2xsKSB7XHJcblx0XHRcdFx0XHRzZWxmLiRkcm9wZG93bl9jb250ZW50LnN0b3AoKS5hbmltYXRlKHtzY3JvbGxUb3A6IHNjcm9sbF9ib3R0b219LCBhbmltYXRlID8gc2VsZi5zZXR0aW5ncy5zY3JvbGxEdXJhdGlvbiA6IDApO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoeSA8IHNjcm9sbCkge1xyXG5cdFx0XHRcdFx0c2VsZi4kZHJvcGRvd25fY29udGVudC5zdG9wKCkuYW5pbWF0ZSh7c2Nyb2xsVG9wOiBzY3JvbGxfdG9wfSwgYW5pbWF0ZSA/IHNlbGYuc2V0dGluZ3Muc2Nyb2xsRHVyYXRpb24gOiAwKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2VsZWN0cyBhbGwgaXRlbXMgKENUUkwgKyBBKS5cclxuXHRcdCAqL1xyXG5cdFx0c2VsZWN0QWxsOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5tb2RlID09PSAnc2luZ2xlJykgcmV0dXJuO1xyXG5cclxuXHRcdFx0c2VsZi4kYWN0aXZlSXRlbXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkoc2VsZi4kY29udHJvbC5jaGlsZHJlbignOm5vdChpbnB1dCknKS5hZGRDbGFzcygnYWN0aXZlJykpO1xyXG5cdFx0XHRpZiAoc2VsZi4kYWN0aXZlSXRlbXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0c2VsZi5oaWRlSW5wdXQoKTtcclxuXHRcdFx0XHRzZWxmLmNsb3NlKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0c2VsZi5mb2N1cygpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEhpZGVzIHRoZSBpbnB1dCBlbGVtZW50IG91dCBvZiB2aWV3LCB3aGlsZVxyXG5cdFx0ICogcmV0YWluaW5nIGl0cyBmb2N1cy5cclxuXHRcdCAqL1xyXG5cdFx0aGlkZUlucHV0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0c2VsZi5zZXRUZXh0Ym94VmFsdWUoJycpO1xyXG5cdFx0XHRzZWxmLiRjb250cm9sX2lucHV0LmNzcyh7b3BhY2l0eTogMCwgcG9zaXRpb246ICdhYnNvbHV0ZScsIGxlZnQ6IHNlbGYucnRsID8gMTAwMDAgOiAtMTAwMDB9KTtcclxuXHRcdFx0c2VsZi5pc0lucHV0SGlkZGVuID0gdHJ1ZTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXN0b3JlcyBpbnB1dCB2aXNpYmlsaXR5LlxyXG5cdFx0ICovXHJcblx0XHRzaG93SW5wdXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLiRjb250cm9sX2lucHV0LmNzcyh7b3BhY2l0eTogMSwgcG9zaXRpb246ICdyZWxhdGl2ZScsIGxlZnQ6IDB9KTtcclxuXHRcdFx0dGhpcy5pc0lucHV0SGlkZGVuID0gZmFsc2U7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2l2ZXMgdGhlIGNvbnRyb2wgZm9jdXMuXHJcblx0XHQgKi9cclxuXHRcdGZvY3VzOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRpZiAoc2VsZi5pc0Rpc2FibGVkKSByZXR1cm47XHJcblxyXG5cdFx0XHRzZWxmLmlnbm9yZUZvY3VzID0gdHJ1ZTtcclxuXHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dFswXS5mb2N1cygpO1xyXG5cdFx0XHR3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRzZWxmLmlnbm9yZUZvY3VzID0gZmFsc2U7XHJcblx0XHRcdFx0c2VsZi5vbkZvY3VzKCk7XHJcblx0XHRcdH0sIDApO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEZvcmNlcyB0aGUgY29udHJvbCBvdXQgb2YgZm9jdXMuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtFbGVtZW50fSBkZXN0XHJcblx0XHQgKi9cclxuXHRcdGJsdXI6IGZ1bmN0aW9uKGRlc3QpIHtcclxuXHRcdFx0dGhpcy4kY29udHJvbF9pbnB1dFswXS5ibHVyKCk7XHJcblx0XHRcdHRoaXMub25CbHVyKG51bGwsIGRlc3QpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHNjb3JlcyBhbiBvYmplY3RcclxuXHRcdCAqIHRvIHNob3cgaG93IGdvb2Qgb2YgYSBtYXRjaCBpdCBpcyB0byB0aGVcclxuXHRcdCAqIHByb3ZpZGVkIHF1ZXJ5LlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeVxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcclxuXHRcdCAqIEByZXR1cm4ge2Z1bmN0aW9ufVxyXG5cdFx0ICovXHJcblx0XHRnZXRTY29yZUZ1bmN0aW9uOiBmdW5jdGlvbihxdWVyeSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5zaWZ0ZXIuZ2V0U2NvcmVGdW5jdGlvbihxdWVyeSwgdGhpcy5nZXRTZWFyY2hPcHRpb25zKCkpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgc2VhcmNoIG9wdGlvbnMgZm9yIHNpZnRlciAodGhlIHN5c3RlbVxyXG5cdFx0ICogZm9yIHNjb3JpbmcgYW5kIHNvcnRpbmcgcmVzdWx0cykuXHJcblx0XHQgKlxyXG5cdFx0ICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vYnJpYW5yZWF2aXMvc2lmdGVyLmpzXHJcblx0XHQgKiBAcmV0dXJuIHtvYmplY3R9XHJcblx0XHQgKi9cclxuXHRcdGdldFNlYXJjaE9wdGlvbnM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzO1xyXG5cdFx0XHR2YXIgc29ydCA9IHNldHRpbmdzLnNvcnRGaWVsZDtcclxuXHRcdFx0aWYgKHR5cGVvZiBzb3J0ID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdHNvcnQgPSBbe2ZpZWxkOiBzb3J0fV07XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0ZmllbGRzICAgICAgOiBzZXR0aW5ncy5zZWFyY2hGaWVsZCxcclxuXHRcdFx0XHRjb25qdW5jdGlvbiA6IHNldHRpbmdzLnNlYXJjaENvbmp1bmN0aW9uLFxyXG5cdFx0XHRcdHNvcnQgICAgICAgIDogc29ydFxyXG5cdFx0XHR9O1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNlYXJjaGVzIHRocm91Z2ggYXZhaWxhYmxlIG9wdGlvbnMgYW5kIHJldHVybnNcclxuXHRcdCAqIGEgc29ydGVkIGFycmF5IG9mIG1hdGNoZXMuXHJcblx0XHQgKlxyXG5cdFx0ICogUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZzpcclxuXHRcdCAqXHJcblx0XHQgKiAgIC0gcXVlcnkge3N0cmluZ31cclxuXHRcdCAqICAgLSB0b2tlbnMge2FycmF5fVxyXG5cdFx0ICogICAtIHRvdGFsIHtpbnR9XHJcblx0XHQgKiAgIC0gaXRlbXMge2FycmF5fVxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeVxyXG5cdFx0ICogQHJldHVybnMge29iamVjdH1cclxuXHRcdCAqL1xyXG5cdFx0c2VhcmNoOiBmdW5jdGlvbihxdWVyeSkge1xyXG5cdFx0XHR2YXIgaSwgdmFsdWUsIHNjb3JlLCByZXN1bHQsIGNhbGN1bGF0ZVNjb3JlO1xyXG5cdFx0XHR2YXIgc2VsZiAgICAgPSB0aGlzO1xyXG5cdFx0XHR2YXIgc2V0dGluZ3MgPSBzZWxmLnNldHRpbmdzO1xyXG5cdFx0XHR2YXIgb3B0aW9ucyAgPSB0aGlzLmdldFNlYXJjaE9wdGlvbnMoKTtcclxuXHJcblx0XHRcdC8vIHZhbGlkYXRlIHVzZXItcHJvdmlkZWQgcmVzdWx0IHNjb3JpbmcgZnVuY3Rpb25cclxuXHRcdFx0aWYgKHNldHRpbmdzLnNjb3JlKSB7XHJcblx0XHRcdFx0Y2FsY3VsYXRlU2NvcmUgPSBzZWxmLnNldHRpbmdzLnNjb3JlLmFwcGx5KHRoaXMsIFtxdWVyeV0pO1xyXG5cdFx0XHRcdGlmICh0eXBlb2YgY2FsY3VsYXRlU2NvcmUgIT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignU2VsZWN0aXplIFwic2NvcmVcIiBzZXR0aW5nIG11c3QgYmUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBmdW5jdGlvbicpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gcGVyZm9ybSBzZWFyY2hcclxuXHRcdFx0aWYgKHF1ZXJ5ICE9PSBzZWxmLmxhc3RRdWVyeSkge1xyXG5cdFx0XHRcdHNlbGYubGFzdFF1ZXJ5ID0gcXVlcnk7XHJcblx0XHRcdFx0cmVzdWx0ID0gc2VsZi5zaWZ0ZXIuc2VhcmNoKHF1ZXJ5LCAkLmV4dGVuZChvcHRpb25zLCB7c2NvcmU6IGNhbGN1bGF0ZVNjb3JlfSkpO1xyXG5cdFx0XHRcdHNlbGYuY3VycmVudFJlc3VsdHMgPSByZXN1bHQ7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVzdWx0ID0gJC5leHRlbmQodHJ1ZSwge30sIHNlbGYuY3VycmVudFJlc3VsdHMpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBmaWx0ZXIgb3V0IHNlbGVjdGVkIGl0ZW1zXHJcblx0XHRcdGlmIChzZXR0aW5ncy5oaWRlU2VsZWN0ZWQpIHtcclxuXHRcdFx0XHRmb3IgKGkgPSByZXN1bHQuaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuXHRcdFx0XHRcdGlmIChzZWxmLml0ZW1zLmluZGV4T2YoaGFzaF9rZXkocmVzdWx0Lml0ZW1zW2ldLmlkKSkgIT09IC0xKSB7XHJcblx0XHRcdFx0XHRcdHJlc3VsdC5pdGVtcy5zcGxpY2UoaSwgMSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlZnJlc2hlcyB0aGUgbGlzdCBvZiBhdmFpbGFibGUgb3B0aW9ucyBzaG93blxyXG5cdFx0ICogaW4gdGhlIGF1dG9jb21wbGV0ZSBkcm9wZG93biBtZW51LlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7Ym9vbGVhbn0gdHJpZ2dlckRyb3Bkb3duXHJcblx0XHQgKi9cclxuXHRcdHJlZnJlc2hPcHRpb25zOiBmdW5jdGlvbih0cmlnZ2VyRHJvcGRvd24pIHtcclxuXHRcdFx0dmFyIGksIGosIGssIG4sIGdyb3VwcywgZ3JvdXBzX29yZGVyLCBvcHRpb24sIG9wdGlvbl9odG1sLCBvcHRncm91cCwgb3B0Z3JvdXBzLCBodG1sLCBodG1sX2NoaWxkcmVuLCBoYXNfY3JlYXRlX29wdGlvbjtcclxuXHRcdFx0dmFyICRhY3RpdmUsICRhY3RpdmVfYmVmb3JlLCAkY3JlYXRlO1xyXG5cclxuXHRcdFx0aWYgKHR5cGVvZiB0cmlnZ2VyRHJvcGRvd24gPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0dHJpZ2dlckRyb3Bkb3duID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIHNlbGYgICAgICAgICAgICAgID0gdGhpcztcclxuXHRcdFx0dmFyIHF1ZXJ5ICAgICAgICAgICAgID0gJC50cmltKHNlbGYuJGNvbnRyb2xfaW5wdXQudmFsKCkpO1xyXG5cdFx0XHR2YXIgcmVzdWx0cyAgICAgICAgICAgPSBzZWxmLnNlYXJjaChxdWVyeSk7XHJcblx0XHRcdHZhciAkZHJvcGRvd25fY29udGVudCA9IHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQ7XHJcblx0XHRcdHZhciBhY3RpdmVfYmVmb3JlICAgICA9IHNlbGYuJGFjdGl2ZU9wdGlvbiAmJiBoYXNoX2tleShzZWxmLiRhY3RpdmVPcHRpb24uYXR0cignZGF0YS12YWx1ZScpKTtcclxuXHJcblx0XHRcdC8vIGJ1aWxkIG1hcmt1cFxyXG5cdFx0XHRuID0gcmVzdWx0cy5pdGVtcy5sZW5ndGg7XHJcblx0XHRcdGlmICh0eXBlb2Ygc2VsZi5zZXR0aW5ncy5tYXhPcHRpb25zID09PSAnbnVtYmVyJykge1xyXG5cdFx0XHRcdG4gPSBNYXRoLm1pbihuLCBzZWxmLnNldHRpbmdzLm1heE9wdGlvbnMpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyByZW5kZXIgYW5kIGdyb3VwIGF2YWlsYWJsZSBvcHRpb25zIGluZGl2aWR1YWxseVxyXG5cdFx0XHRncm91cHMgPSB7fTtcclxuXHRcdFx0Z3JvdXBzX29yZGVyID0gW107XHJcblxyXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0b3B0aW9uICAgICAgPSBzZWxmLm9wdGlvbnNbcmVzdWx0cy5pdGVtc1tpXS5pZF07XHJcblx0XHRcdFx0b3B0aW9uX2h0bWwgPSBzZWxmLnJlbmRlcignb3B0aW9uJywgb3B0aW9uKTtcclxuXHRcdFx0XHRvcHRncm91cCAgICA9IG9wdGlvbltzZWxmLnNldHRpbmdzLm9wdGdyb3VwRmllbGRdIHx8ICcnO1xyXG5cdFx0XHRcdG9wdGdyb3VwcyAgID0gJC5pc0FycmF5KG9wdGdyb3VwKSA/IG9wdGdyb3VwIDogW29wdGdyb3VwXTtcclxuXHJcblx0XHRcdFx0Zm9yIChqID0gMCwgayA9IG9wdGdyb3VwcyAmJiBvcHRncm91cHMubGVuZ3RoOyBqIDwgazsgaisrKSB7XHJcblx0XHRcdFx0XHRvcHRncm91cCA9IG9wdGdyb3Vwc1tqXTtcclxuXHRcdFx0XHRcdGlmICghc2VsZi5vcHRncm91cHMuaGFzT3duUHJvcGVydHkob3B0Z3JvdXApKSB7XHJcblx0XHRcdFx0XHRcdG9wdGdyb3VwID0gJyc7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAoIWdyb3Vwcy5oYXNPd25Qcm9wZXJ0eShvcHRncm91cCkpIHtcclxuXHRcdFx0XHRcdFx0Z3JvdXBzW29wdGdyb3VwXSA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuXHRcdFx0XHRcdFx0Z3JvdXBzX29yZGVyLnB1c2gob3B0Z3JvdXApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Z3JvdXBzW29wdGdyb3VwXS5hcHBlbmRDaGlsZChvcHRpb25faHRtbCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBzb3J0IG9wdGdyb3Vwc1xyXG5cdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5sb2NrT3B0Z3JvdXBPcmRlcikge1xyXG5cdFx0XHRcdGdyb3Vwc19vcmRlci5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcclxuXHRcdFx0XHRcdHZhciBhX29yZGVyID0gc2VsZi5vcHRncm91cHNbYV0uJG9yZGVyIHx8IDA7XHJcblx0XHRcdFx0XHR2YXIgYl9vcmRlciA9IHNlbGYub3B0Z3JvdXBzW2JdLiRvcmRlciB8fCAwO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGFfb3JkZXIgLSBiX29yZGVyO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyByZW5kZXIgb3B0Z3JvdXAgaGVhZGVycyAmIGpvaW4gZ3JvdXBzXHJcblx0XHRcdGh0bWwgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcblx0XHRcdGZvciAoaSA9IDAsIG4gPSBncm91cHNfb3JkZXIubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0b3B0Z3JvdXAgPSBncm91cHNfb3JkZXJbaV07XHJcblx0XHRcdFx0aWYgKHNlbGYub3B0Z3JvdXBzLmhhc093blByb3BlcnR5KG9wdGdyb3VwKSAmJiBncm91cHNbb3B0Z3JvdXBdLmNoaWxkTm9kZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHQvLyByZW5kZXIgdGhlIG9wdGdyb3VwIGhlYWRlciBhbmQgb3B0aW9ucyB3aXRoaW4gaXQsXHJcblx0XHRcdFx0XHQvLyB0aGVuIHBhc3MgaXQgdG8gdGhlIHdyYXBwZXIgdGVtcGxhdGVcclxuXHRcdFx0XHRcdGh0bWxfY2hpbGRyZW4gPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcblx0XHRcdFx0XHRodG1sX2NoaWxkcmVuLmFwcGVuZENoaWxkKHNlbGYucmVuZGVyKCdvcHRncm91cF9oZWFkZXInLCBzZWxmLm9wdGdyb3Vwc1tvcHRncm91cF0pKTtcclxuXHRcdFx0XHRcdGh0bWxfY2hpbGRyZW4uYXBwZW5kQ2hpbGQoZ3JvdXBzW29wdGdyb3VwXSk7XHJcblxyXG5cdFx0XHRcdFx0aHRtbC5hcHBlbmRDaGlsZChzZWxmLnJlbmRlcignb3B0Z3JvdXAnLCAkLmV4dGVuZCh7fSwgc2VsZi5vcHRncm91cHNbb3B0Z3JvdXBdLCB7XHJcblx0XHRcdFx0XHRcdGh0bWw6IGRvbVRvU3RyaW5nKGh0bWxfY2hpbGRyZW4pLFxyXG5cdFx0XHRcdFx0XHRkb206ICBodG1sX2NoaWxkcmVuXHJcblx0XHRcdFx0XHR9KSkpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRodG1sLmFwcGVuZENoaWxkKGdyb3Vwc1tvcHRncm91cF0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0JGRyb3Bkb3duX2NvbnRlbnQuaHRtbChodG1sKTtcclxuXHJcblx0XHRcdC8vIGhpZ2hsaWdodCBtYXRjaGluZyB0ZXJtcyBpbmxpbmVcclxuXHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MuaGlnaGxpZ2h0ICYmIHJlc3VsdHMucXVlcnkubGVuZ3RoICYmIHJlc3VsdHMudG9rZW5zLmxlbmd0aCkge1xyXG5cdFx0XHRcdCRkcm9wZG93bl9jb250ZW50LnJlbW92ZUhpZ2hsaWdodCgpO1xyXG5cdFx0XHRcdGZvciAoaSA9IDAsIG4gPSByZXN1bHRzLnRva2Vucy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRcdGhpZ2hsaWdodCgkZHJvcGRvd25fY29udGVudCwgcmVzdWx0cy50b2tlbnNbaV0ucmVnZXgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gYWRkIFwic2VsZWN0ZWRcIiBjbGFzcyB0byBzZWxlY3RlZCBvcHRpb25zXHJcblx0XHRcdGlmICghc2VsZi5zZXR0aW5ncy5oaWRlU2VsZWN0ZWQpIHtcclxuXHRcdFx0XHRmb3IgKGkgPSAwLCBuID0gc2VsZi5pdGVtcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRcdHNlbGYuZ2V0T3B0aW9uKHNlbGYuaXRlbXNbaV0pLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gYWRkIGNyZWF0ZSBvcHRpb25cclxuXHRcdFx0aGFzX2NyZWF0ZV9vcHRpb24gPSBzZWxmLmNhbkNyZWF0ZShxdWVyeSk7XHJcblx0XHRcdGlmIChoYXNfY3JlYXRlX29wdGlvbikge1xyXG5cdFx0XHRcdCRkcm9wZG93bl9jb250ZW50LnByZXBlbmQoc2VsZi5yZW5kZXIoJ29wdGlvbl9jcmVhdGUnLCB7aW5wdXQ6IHF1ZXJ5fSkpO1xyXG5cdFx0XHRcdCRjcmVhdGUgPSAkKCRkcm9wZG93bl9jb250ZW50WzBdLmNoaWxkTm9kZXNbMF0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBhY3RpdmF0ZVxyXG5cdFx0XHRzZWxmLmhhc09wdGlvbnMgPSByZXN1bHRzLml0ZW1zLmxlbmd0aCA+IDAgfHwgaGFzX2NyZWF0ZV9vcHRpb247XHJcblx0XHRcdGlmIChzZWxmLmhhc09wdGlvbnMpIHtcclxuXHRcdFx0XHRpZiAocmVzdWx0cy5pdGVtcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHQkYWN0aXZlX2JlZm9yZSA9IGFjdGl2ZV9iZWZvcmUgJiYgc2VsZi5nZXRPcHRpb24oYWN0aXZlX2JlZm9yZSk7XHJcblx0XHRcdFx0XHRpZiAoJGFjdGl2ZV9iZWZvcmUgJiYgJGFjdGl2ZV9iZWZvcmUubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdCRhY3RpdmUgPSAkYWN0aXZlX2JlZm9yZTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoc2VsZi5zZXR0aW5ncy5tb2RlID09PSAnc2luZ2xlJyAmJiBzZWxmLml0ZW1zLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHQkYWN0aXZlID0gc2VsZi5nZXRPcHRpb24oc2VsZi5pdGVtc1swXSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAoISRhY3RpdmUgfHwgISRhY3RpdmUubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdGlmICgkY3JlYXRlICYmICFzZWxmLnNldHRpbmdzLmFkZFByZWNlZGVuY2UpIHtcclxuXHRcdFx0XHRcdFx0XHQkYWN0aXZlID0gc2VsZi5nZXRBZGphY2VudE9wdGlvbigkY3JlYXRlLCAxKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHQkYWN0aXZlID0gJGRyb3Bkb3duX2NvbnRlbnQuZmluZCgnW2RhdGEtc2VsZWN0YWJsZV06Zmlyc3QnKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkYWN0aXZlID0gJGNyZWF0ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c2VsZi5zZXRBY3RpdmVPcHRpb24oJGFjdGl2ZSk7XHJcblx0XHRcdFx0aWYgKHRyaWdnZXJEcm9wZG93biAmJiAhc2VsZi5pc09wZW4pIHsgc2VsZi5vcGVuKCk7IH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRzZWxmLnNldEFjdGl2ZU9wdGlvbihudWxsKTtcclxuXHRcdFx0XHRpZiAodHJpZ2dlckRyb3Bkb3duICYmIHNlbGYuaXNPcGVuKSB7IHNlbGYuY2xvc2UoKTsgfVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQWRkcyBhbiBhdmFpbGFibGUgb3B0aW9uLiBJZiBpdCBhbHJlYWR5IGV4aXN0cyxcclxuXHRcdCAqIG5vdGhpbmcgd2lsbCBoYXBwZW4uIE5vdGU6IHRoaXMgZG9lcyBub3QgcmVmcmVzaFxyXG5cdFx0ICogdGhlIG9wdGlvbnMgbGlzdCBkcm9wZG93biAodXNlIGByZWZyZXNoT3B0aW9uc2BcclxuXHRcdCAqIGZvciB0aGF0KS5cclxuXHRcdCAqXHJcblx0XHQgKiBVc2FnZTpcclxuXHRcdCAqXHJcblx0XHQgKiAgIHRoaXMuYWRkT3B0aW9uKGRhdGEpXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R8YXJyYXl9IGRhdGFcclxuXHRcdCAqL1xyXG5cdFx0YWRkT3B0aW9uOiBmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdHZhciBpLCBuLCB2YWx1ZSwgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHRpZiAoJC5pc0FycmF5KGRhdGEpKSB7XHJcblx0XHRcdFx0Zm9yIChpID0gMCwgbiA9IGRhdGEubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0XHRzZWxmLmFkZE9wdGlvbihkYXRhW2ldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodmFsdWUgPSBzZWxmLnJlZ2lzdGVyT3B0aW9uKGRhdGEpKSB7XHJcblx0XHRcdFx0c2VsZi51c2VyT3B0aW9uc1t2YWx1ZV0gPSB0cnVlO1xyXG5cdFx0XHRcdHNlbGYubGFzdFF1ZXJ5ID0gbnVsbDtcclxuXHRcdFx0XHRzZWxmLnRyaWdnZXIoJ29wdGlvbl9hZGQnLCB2YWx1ZSwgZGF0YSk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZWdpc3RlcnMgYW4gb3B0aW9uIHRvIHRoZSBwb29sIG9mIG9wdGlvbnMuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGRhdGFcclxuXHRcdCAqIEByZXR1cm4ge2Jvb2xlYW58c3RyaW5nfVxyXG5cdFx0ICovXHJcblx0XHRyZWdpc3Rlck9wdGlvbjogZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0XHR2YXIga2V5ID0gaGFzaF9rZXkoZGF0YVt0aGlzLnNldHRpbmdzLnZhbHVlRmllbGRdKTtcclxuXHRcdFx0aWYgKHR5cGVvZiBrZXkgPT09ICd1bmRlZmluZWQnIHx8IGtleSA9PT0gbnVsbCB8fCB0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSkgcmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRkYXRhLiRvcmRlciA9IGRhdGEuJG9yZGVyIHx8ICsrdGhpcy5vcmRlcjtcclxuXHRcdFx0dGhpcy5vcHRpb25zW2tleV0gPSBkYXRhO1xyXG5cdFx0XHRyZXR1cm4ga2V5O1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlZ2lzdGVycyBhbiBvcHRpb24gZ3JvdXAgdG8gdGhlIHBvb2wgb2Ygb3B0aW9uIGdyb3Vwcy5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZGF0YVxyXG5cdFx0ICogQHJldHVybiB7Ym9vbGVhbnxzdHJpbmd9XHJcblx0XHQgKi9cclxuXHRcdHJlZ2lzdGVyT3B0aW9uR3JvdXA6IGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0dmFyIGtleSA9IGhhc2hfa2V5KGRhdGFbdGhpcy5zZXR0aW5ncy5vcHRncm91cFZhbHVlRmllbGRdKTtcclxuXHRcdFx0aWYgKCFrZXkpIHJldHVybiBmYWxzZTtcclxuXHJcblx0XHRcdGRhdGEuJG9yZGVyID0gZGF0YS4kb3JkZXIgfHwgKyt0aGlzLm9yZGVyO1xyXG5cdFx0XHR0aGlzLm9wdGdyb3Vwc1trZXldID0gZGF0YTtcclxuXHRcdFx0cmV0dXJuIGtleTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZWdpc3RlcnMgYSBuZXcgb3B0Z3JvdXAgZm9yIG9wdGlvbnNcclxuXHRcdCAqIHRvIGJlIGJ1Y2tldGVkIGludG8uXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGlkXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZGF0YVxyXG5cdFx0ICovXHJcblx0XHRhZGRPcHRpb25Hcm91cDogZnVuY3Rpb24oaWQsIGRhdGEpIHtcclxuXHRcdFx0ZGF0YVt0aGlzLnNldHRpbmdzLm9wdGdyb3VwVmFsdWVGaWVsZF0gPSBpZDtcclxuXHRcdFx0aWYgKGlkID0gdGhpcy5yZWdpc3Rlck9wdGlvbkdyb3VwKGRhdGEpKSB7XHJcblx0XHRcdFx0dGhpcy50cmlnZ2VyKCdvcHRncm91cF9hZGQnLCBpZCwgZGF0YSk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmVzIGFuIGV4aXN0aW5nIG9wdGlvbiBncm91cC5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gaWRcclxuXHRcdCAqL1xyXG5cdFx0cmVtb3ZlT3B0aW9uR3JvdXA6IGZ1bmN0aW9uKGlkKSB7XHJcblx0XHRcdGlmICh0aGlzLm9wdGdyb3Vwcy5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcclxuXHRcdFx0XHRkZWxldGUgdGhpcy5vcHRncm91cHNbaWRdO1xyXG5cdFx0XHRcdHRoaXMucmVuZGVyQ2FjaGUgPSB7fTtcclxuXHRcdFx0XHR0aGlzLnRyaWdnZXIoJ29wdGdyb3VwX3JlbW92ZScsIGlkKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENsZWFycyBhbGwgZXhpc3Rpbmcgb3B0aW9uIGdyb3Vwcy5cclxuXHRcdCAqL1xyXG5cdFx0Y2xlYXJPcHRpb25Hcm91cHM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLm9wdGdyb3VwcyA9IHt9O1xyXG5cdFx0XHR0aGlzLnJlbmRlckNhY2hlID0ge307XHJcblx0XHRcdHRoaXMudHJpZ2dlcignb3B0Z3JvdXBfY2xlYXInKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGVzIGFuIG9wdGlvbiBhdmFpbGFibGUgZm9yIHNlbGVjdGlvbi4gSWZcclxuXHRcdCAqIGl0IGlzIHZpc2libGUgaW4gdGhlIHNlbGVjdGVkIGl0ZW1zIG9yIG9wdGlvbnNcclxuXHRcdCAqIGRyb3Bkb3duLCBpdCB3aWxsIGJlIHJlLXJlbmRlcmVkIGF1dG9tYXRpY2FsbHkuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZGF0YVxyXG5cdFx0ICovXHJcblx0XHR1cGRhdGVPcHRpb246IGZ1bmN0aW9uKHZhbHVlLCBkYXRhKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0dmFyICRpdGVtLCAkaXRlbV9uZXc7XHJcblx0XHRcdHZhciB2YWx1ZV9uZXcsIGluZGV4X2l0ZW0sIGNhY2hlX2l0ZW1zLCBjYWNoZV9vcHRpb25zLCBvcmRlcl9vbGQ7XHJcblxyXG5cdFx0XHR2YWx1ZSAgICAgPSBoYXNoX2tleSh2YWx1ZSk7XHJcblx0XHRcdHZhbHVlX25ldyA9IGhhc2hfa2V5KGRhdGFbc2VsZi5zZXR0aW5ncy52YWx1ZUZpZWxkXSk7XHJcblxyXG5cdFx0XHQvLyBzYW5pdHkgY2hlY2tzXHJcblx0XHRcdGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuO1xyXG5cdFx0XHRpZiAoIXNlbGYub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkpIHJldHVybjtcclxuXHRcdFx0aWYgKHR5cGVvZiB2YWx1ZV9uZXcgIT09ICdzdHJpbmcnKSB0aHJvdyBuZXcgRXJyb3IoJ1ZhbHVlIG11c3QgYmUgc2V0IGluIG9wdGlvbiBkYXRhJyk7XHJcblxyXG5cdFx0XHRvcmRlcl9vbGQgPSBzZWxmLm9wdGlvbnNbdmFsdWVdLiRvcmRlcjtcclxuXHJcblx0XHRcdC8vIHVwZGF0ZSByZWZlcmVuY2VzXHJcblx0XHRcdGlmICh2YWx1ZV9uZXcgIT09IHZhbHVlKSB7XHJcblx0XHRcdFx0ZGVsZXRlIHNlbGYub3B0aW9uc1t2YWx1ZV07XHJcblx0XHRcdFx0aW5kZXhfaXRlbSA9IHNlbGYuaXRlbXMuaW5kZXhPZih2YWx1ZSk7XHJcblx0XHRcdFx0aWYgKGluZGV4X2l0ZW0gIT09IC0xKSB7XHJcblx0XHRcdFx0XHRzZWxmLml0ZW1zLnNwbGljZShpbmRleF9pdGVtLCAxLCB2YWx1ZV9uZXcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRkYXRhLiRvcmRlciA9IGRhdGEuJG9yZGVyIHx8IG9yZGVyX29sZDtcclxuXHRcdFx0c2VsZi5vcHRpb25zW3ZhbHVlX25ld10gPSBkYXRhO1xyXG5cclxuXHRcdFx0Ly8gaW52YWxpZGF0ZSByZW5kZXIgY2FjaGVcclxuXHRcdFx0Y2FjaGVfaXRlbXMgPSBzZWxmLnJlbmRlckNhY2hlWydpdGVtJ107XHJcblx0XHRcdGNhY2hlX29wdGlvbnMgPSBzZWxmLnJlbmRlckNhY2hlWydvcHRpb24nXTtcclxuXHJcblx0XHRcdGlmIChjYWNoZV9pdGVtcykge1xyXG5cdFx0XHRcdGRlbGV0ZSBjYWNoZV9pdGVtc1t2YWx1ZV07XHJcblx0XHRcdFx0ZGVsZXRlIGNhY2hlX2l0ZW1zW3ZhbHVlX25ld107XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGNhY2hlX29wdGlvbnMpIHtcclxuXHRcdFx0XHRkZWxldGUgY2FjaGVfb3B0aW9uc1t2YWx1ZV07XHJcblx0XHRcdFx0ZGVsZXRlIGNhY2hlX29wdGlvbnNbdmFsdWVfbmV3XTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gdXBkYXRlIHRoZSBpdGVtIGlmIGl0J3Mgc2VsZWN0ZWRcclxuXHRcdFx0aWYgKHNlbGYuaXRlbXMuaW5kZXhPZih2YWx1ZV9uZXcpICE9PSAtMSkge1xyXG5cdFx0XHRcdCRpdGVtID0gc2VsZi5nZXRJdGVtKHZhbHVlKTtcclxuXHRcdFx0XHQkaXRlbV9uZXcgPSAkKHNlbGYucmVuZGVyKCdpdGVtJywgZGF0YSkpO1xyXG5cdFx0XHRcdGlmICgkaXRlbS5oYXNDbGFzcygnYWN0aXZlJykpICRpdGVtX25ldy5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0JGl0ZW0ucmVwbGFjZVdpdGgoJGl0ZW1fbmV3KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gaW52YWxpZGF0ZSBsYXN0IHF1ZXJ5IGJlY2F1c2Ugd2UgbWlnaHQgaGF2ZSB1cGRhdGVkIHRoZSBzb3J0RmllbGRcclxuXHRcdFx0c2VsZi5sYXN0UXVlcnkgPSBudWxsO1xyXG5cclxuXHRcdFx0Ly8gdXBkYXRlIGRyb3Bkb3duIGNvbnRlbnRzXHJcblx0XHRcdGlmIChzZWxmLmlzT3Blbikge1xyXG5cdFx0XHRcdHNlbGYucmVmcmVzaE9wdGlvbnMoZmFsc2UpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVtb3ZlcyBhIHNpbmdsZSBvcHRpb24uXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXHJcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IHNpbGVudFxyXG5cdFx0ICovXHJcblx0XHRyZW1vdmVPcHRpb246IGZ1bmN0aW9uKHZhbHVlLCBzaWxlbnQpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHR2YWx1ZSA9IGhhc2hfa2V5KHZhbHVlKTtcclxuXHJcblx0XHRcdHZhciBjYWNoZV9pdGVtcyA9IHNlbGYucmVuZGVyQ2FjaGVbJ2l0ZW0nXTtcclxuXHRcdFx0dmFyIGNhY2hlX29wdGlvbnMgPSBzZWxmLnJlbmRlckNhY2hlWydvcHRpb24nXTtcclxuXHRcdFx0aWYgKGNhY2hlX2l0ZW1zKSBkZWxldGUgY2FjaGVfaXRlbXNbdmFsdWVdO1xyXG5cdFx0XHRpZiAoY2FjaGVfb3B0aW9ucykgZGVsZXRlIGNhY2hlX29wdGlvbnNbdmFsdWVdO1xyXG5cclxuXHRcdFx0ZGVsZXRlIHNlbGYudXNlck9wdGlvbnNbdmFsdWVdO1xyXG5cdFx0XHRkZWxldGUgc2VsZi5vcHRpb25zW3ZhbHVlXTtcclxuXHRcdFx0c2VsZi5sYXN0UXVlcnkgPSBudWxsO1xyXG5cdFx0XHRzZWxmLnRyaWdnZXIoJ29wdGlvbl9yZW1vdmUnLCB2YWx1ZSk7XHJcblx0XHRcdHNlbGYucmVtb3ZlSXRlbSh2YWx1ZSwgc2lsZW50KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDbGVhcnMgYWxsIG9wdGlvbnMuXHJcblx0XHQgKi9cclxuXHRcdGNsZWFyT3B0aW9uczogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdHNlbGYubG9hZGVkU2VhcmNoZXMgPSB7fTtcclxuXHRcdFx0c2VsZi51c2VyT3B0aW9ucyA9IHt9O1xyXG5cdFx0XHRzZWxmLnJlbmRlckNhY2hlID0ge307XHJcblx0XHRcdHNlbGYub3B0aW9ucyA9IHNlbGYuc2lmdGVyLml0ZW1zID0ge307XHJcblx0XHRcdHNlbGYubGFzdFF1ZXJ5ID0gbnVsbDtcclxuXHRcdFx0c2VsZi50cmlnZ2VyKCdvcHRpb25fY2xlYXInKTtcclxuXHRcdFx0c2VsZi5jbGVhcigpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgdGhlIGpRdWVyeSBlbGVtZW50IG9mIHRoZSBvcHRpb25cclxuXHRcdCAqIG1hdGNoaW5nIHRoZSBnaXZlbiB2YWx1ZS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcclxuXHRcdCAqIEByZXR1cm5zIHtvYmplY3R9XHJcblx0XHQgKi9cclxuXHRcdGdldE9wdGlvbjogZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0RWxlbWVudFdpdGhWYWx1ZSh2YWx1ZSwgdGhpcy4kZHJvcGRvd25fY29udGVudC5maW5kKCdbZGF0YS1zZWxlY3RhYmxlXScpKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIHRoZSBqUXVlcnkgZWxlbWVudCBvZiB0aGUgbmV4dCBvclxyXG5cdFx0ICogcHJldmlvdXMgc2VsZWN0YWJsZSBvcHRpb24uXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9ICRvcHRpb25cclxuXHRcdCAqIEBwYXJhbSB7aW50fSBkaXJlY3Rpb24gIGNhbiBiZSAxIGZvciBuZXh0IG9yIC0xIGZvciBwcmV2aW91c1xyXG5cdFx0ICogQHJldHVybiB7b2JqZWN0fVxyXG5cdFx0ICovXHJcblx0XHRnZXRBZGphY2VudE9wdGlvbjogZnVuY3Rpb24oJG9wdGlvbiwgZGlyZWN0aW9uKSB7XHJcblx0XHRcdHZhciAkb3B0aW9ucyA9IHRoaXMuJGRyb3Bkb3duLmZpbmQoJ1tkYXRhLXNlbGVjdGFibGVdJyk7XHJcblx0XHRcdHZhciBpbmRleCAgICA9ICRvcHRpb25zLmluZGV4KCRvcHRpb24pICsgZGlyZWN0aW9uO1xyXG5cclxuXHRcdFx0cmV0dXJuIGluZGV4ID49IDAgJiYgaW5kZXggPCAkb3B0aW9ucy5sZW5ndGggPyAkb3B0aW9ucy5lcShpbmRleCkgOiAkKCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRmluZHMgdGhlIGZpcnN0IGVsZW1lbnQgd2l0aCBhIFwiZGF0YS12YWx1ZVwiIGF0dHJpYnV0ZVxyXG5cdFx0ICogdGhhdCBtYXRjaGVzIHRoZSBnaXZlbiB2YWx1ZS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge21peGVkfSB2YWx1ZVxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9ICRlbHNcclxuXHRcdCAqIEByZXR1cm4ge29iamVjdH1cclxuXHRcdCAqL1xyXG5cdFx0Z2V0RWxlbWVudFdpdGhWYWx1ZTogZnVuY3Rpb24odmFsdWUsICRlbHMpIHtcclxuXHRcdFx0dmFsdWUgPSBoYXNoX2tleSh2YWx1ZSk7XHJcblxyXG5cdFx0XHRpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwLCBuID0gJGVscy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRcdGlmICgkZWxzW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScpID09PSB2YWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gJCgkZWxzW2ldKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiAkKCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyB0aGUgalF1ZXJ5IGVsZW1lbnQgb2YgdGhlIGl0ZW1cclxuXHRcdCAqIG1hdGNoaW5nIHRoZSBnaXZlbiB2YWx1ZS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcclxuXHRcdCAqIEByZXR1cm5zIHtvYmplY3R9XHJcblx0XHQgKi9cclxuXHRcdGdldEl0ZW06IGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldEVsZW1lbnRXaXRoVmFsdWUodmFsdWUsIHRoaXMuJGNvbnRyb2wuY2hpbGRyZW4oKSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogXCJTZWxlY3RzXCIgbXVsdGlwbGUgaXRlbXMgYXQgb25jZS4gQWRkcyB0aGVtIHRvIHRoZSBsaXN0XHJcblx0XHQgKiBhdCB0aGUgY3VycmVudCBjYXJldCBwb3NpdGlvbi5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcclxuXHRcdCAqIEBwYXJhbSB7Ym9vbGVhbn0gc2lsZW50XHJcblx0XHQgKi9cclxuXHRcdGFkZEl0ZW1zOiBmdW5jdGlvbih2YWx1ZXMsIHNpbGVudCkge1xyXG5cdFx0XHR2YXIgaXRlbXMgPSAkLmlzQXJyYXkodmFsdWVzKSA/IHZhbHVlcyA6IFt2YWx1ZXNdO1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbiA9IGl0ZW1zLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdHRoaXMuaXNQZW5kaW5nID0gKGkgPCBuIC0gMSk7XHJcblx0XHRcdFx0dGhpcy5hZGRJdGVtKGl0ZW1zW2ldLCBzaWxlbnQpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogXCJTZWxlY3RzXCIgYW4gaXRlbS4gQWRkcyBpdCB0byB0aGUgbGlzdFxyXG5cdFx0ICogYXQgdGhlIGN1cnJlbnQgY2FyZXQgcG9zaXRpb24uXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXHJcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IHNpbGVudFxyXG5cdFx0ICovXHJcblx0XHRhZGRJdGVtOiBmdW5jdGlvbih2YWx1ZSwgc2lsZW50KSB7XHJcblx0XHRcdHZhciBldmVudHMgPSBzaWxlbnQgPyBbXSA6IFsnY2hhbmdlJ107XHJcblxyXG5cdFx0XHRkZWJvdW5jZV9ldmVudHModGhpcywgZXZlbnRzLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2YXIgJGl0ZW0sICRvcHRpb24sICRvcHRpb25zO1xyXG5cdFx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0XHR2YXIgaW5wdXRNb2RlID0gc2VsZi5zZXR0aW5ncy5tb2RlO1xyXG5cdFx0XHRcdHZhciBpLCBhY3RpdmUsIHZhbHVlX25leHQsIHdhc0Z1bGw7XHJcblx0XHRcdFx0dmFsdWUgPSBoYXNoX2tleSh2YWx1ZSk7XHJcblxyXG5cdFx0XHRcdGlmIChzZWxmLml0ZW1zLmluZGV4T2YodmFsdWUpICE9PSAtMSkge1xyXG5cdFx0XHRcdFx0aWYgKGlucHV0TW9kZSA9PT0gJ3NpbmdsZScpIHNlbGYuY2xvc2UoKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmICghc2VsZi5vcHRpb25zLmhhc093blByb3BlcnR5KHZhbHVlKSkgcmV0dXJuO1xyXG5cdFx0XHRcdGlmIChpbnB1dE1vZGUgPT09ICdzaW5nbGUnKSBzZWxmLmNsZWFyKHNpbGVudCk7XHJcblx0XHRcdFx0aWYgKGlucHV0TW9kZSA9PT0gJ211bHRpJyAmJiBzZWxmLmlzRnVsbCgpKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdCRpdGVtID0gJChzZWxmLnJlbmRlcignaXRlbScsIHNlbGYub3B0aW9uc1t2YWx1ZV0pKTtcclxuXHRcdFx0XHR3YXNGdWxsID0gc2VsZi5pc0Z1bGwoKTtcclxuXHRcdFx0XHRzZWxmLml0ZW1zLnNwbGljZShzZWxmLmNhcmV0UG9zLCAwLCB2YWx1ZSk7XHJcblx0XHRcdFx0c2VsZi5pbnNlcnRBdENhcmV0KCRpdGVtKTtcclxuXHRcdFx0XHRpZiAoIXNlbGYuaXNQZW5kaW5nIHx8ICghd2FzRnVsbCAmJiBzZWxmLmlzRnVsbCgpKSkge1xyXG5cdFx0XHRcdFx0c2VsZi5yZWZyZXNoU3RhdGUoKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChzZWxmLmlzU2V0dXApIHtcclxuXHRcdFx0XHRcdCRvcHRpb25zID0gc2VsZi4kZHJvcGRvd25fY29udGVudC5maW5kKCdbZGF0YS1zZWxlY3RhYmxlXScpO1xyXG5cclxuXHRcdFx0XHRcdC8vIHVwZGF0ZSBtZW51IC8gcmVtb3ZlIHRoZSBvcHRpb24gKGlmIHRoaXMgaXMgbm90IG9uZSBpdGVtIGJlaW5nIGFkZGVkIGFzIHBhcnQgb2Ygc2VyaWVzKVxyXG5cdFx0XHRcdFx0aWYgKCFzZWxmLmlzUGVuZGluZykge1xyXG5cdFx0XHRcdFx0XHQkb3B0aW9uID0gc2VsZi5nZXRPcHRpb24odmFsdWUpO1xyXG5cdFx0XHRcdFx0XHR2YWx1ZV9uZXh0ID0gc2VsZi5nZXRBZGphY2VudE9wdGlvbigkb3B0aW9uLCAxKS5hdHRyKCdkYXRhLXZhbHVlJyk7XHJcblx0XHRcdFx0XHRcdHNlbGYucmVmcmVzaE9wdGlvbnMoc2VsZi5pc0ZvY3VzZWQgJiYgaW5wdXRNb2RlICE9PSAnc2luZ2xlJyk7XHJcblx0XHRcdFx0XHRcdGlmICh2YWx1ZV9uZXh0KSB7XHJcblx0XHRcdFx0XHRcdFx0c2VsZi5zZXRBY3RpdmVPcHRpb24oc2VsZi5nZXRPcHRpb24odmFsdWVfbmV4dCkpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gaGlkZSB0aGUgbWVudSBpZiB0aGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgaGF2ZSBiZWVuIHNlbGVjdGVkIG9yIG5vIG9wdGlvbnMgYXJlIGxlZnRcclxuXHRcdFx0XHRcdGlmICghJG9wdGlvbnMubGVuZ3RoIHx8IHNlbGYuaXNGdWxsKCkpIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5jbG9zZSgpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5wb3NpdGlvbkRyb3Bkb3duKCk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0c2VsZi51cGRhdGVQbGFjZWhvbGRlcigpO1xyXG5cdFx0XHRcdFx0c2VsZi50cmlnZ2VyKCdpdGVtX2FkZCcsIHZhbHVlLCAkaXRlbSk7XHJcblx0XHRcdFx0XHRzZWxmLnVwZGF0ZU9yaWdpbmFsSW5wdXQoe3NpbGVudDogc2lsZW50fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmVzIHRoZSBzZWxlY3RlZCBpdGVtIG1hdGNoaW5nXHJcblx0XHQgKiB0aGUgcHJvdmlkZWQgdmFsdWUuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXHJcblx0XHQgKi9cclxuXHRcdHJlbW92ZUl0ZW06IGZ1bmN0aW9uKHZhbHVlLCBzaWxlbnQpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHR2YXIgJGl0ZW0sIGksIGlkeDtcclxuXHJcblx0XHRcdCRpdGVtID0gKHZhbHVlIGluc3RhbmNlb2YgJCkgPyB2YWx1ZSA6IHNlbGYuZ2V0SXRlbSh2YWx1ZSk7XHJcblx0XHRcdHZhbHVlID0gaGFzaF9rZXkoJGl0ZW0uYXR0cignZGF0YS12YWx1ZScpKTtcclxuXHRcdFx0aSA9IHNlbGYuaXRlbXMuaW5kZXhPZih2YWx1ZSk7XHJcblxyXG5cdFx0XHRpZiAoaSAhPT0gLTEpIHtcclxuXHRcdFx0XHQkaXRlbS5yZW1vdmUoKTtcclxuXHRcdFx0XHRpZiAoJGl0ZW0uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcblx0XHRcdFx0XHRpZHggPSBzZWxmLiRhY3RpdmVJdGVtcy5pbmRleE9mKCRpdGVtWzBdKTtcclxuXHRcdFx0XHRcdHNlbGYuJGFjdGl2ZUl0ZW1zLnNwbGljZShpZHgsIDEpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0c2VsZi5pdGVtcy5zcGxpY2UoaSwgMSk7XHJcblx0XHRcdFx0c2VsZi5sYXN0UXVlcnkgPSBudWxsO1xyXG5cdFx0XHRcdGlmICghc2VsZi5zZXR0aW5ncy5wZXJzaXN0ICYmIHNlbGYudXNlck9wdGlvbnMuaGFzT3duUHJvcGVydHkodmFsdWUpKSB7XHJcblx0XHRcdFx0XHRzZWxmLnJlbW92ZU9wdGlvbih2YWx1ZSwgc2lsZW50KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChpIDwgc2VsZi5jYXJldFBvcykge1xyXG5cdFx0XHRcdFx0c2VsZi5zZXRDYXJldChzZWxmLmNhcmV0UG9zIC0gMSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xyXG5cdFx0XHRcdHNlbGYudXBkYXRlUGxhY2Vob2xkZXIoKTtcclxuXHRcdFx0XHRzZWxmLnVwZGF0ZU9yaWdpbmFsSW5wdXQoe3NpbGVudDogc2lsZW50fSk7XHJcblx0XHRcdFx0c2VsZi5wb3NpdGlvbkRyb3Bkb3duKCk7XHJcblx0XHRcdFx0c2VsZi50cmlnZ2VyKCdpdGVtX3JlbW92ZScsIHZhbHVlLCAkaXRlbSk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbnZva2VzIHRoZSBgY3JlYXRlYCBtZXRob2QgcHJvdmlkZWQgaW4gdGhlXHJcblx0XHQgKiBzZWxlY3RpemUgb3B0aW9ucyB0aGF0IHNob3VsZCBwcm92aWRlIHRoZSBkYXRhXHJcblx0XHQgKiBmb3IgdGhlIG5ldyBpdGVtLCBnaXZlbiB0aGUgdXNlciBpbnB1dC5cclxuXHRcdCAqXHJcblx0XHQgKiBPbmNlIHRoaXMgY29tcGxldGVzLCBpdCB3aWxsIGJlIGFkZGVkXHJcblx0XHQgKiB0byB0aGUgaXRlbSBsaXN0LlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxyXG5cdFx0ICogQHBhcmFtIHtib29sZWFufSBbdHJpZ2dlckRyb3Bkb3duXVxyXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXVxyXG5cdFx0ICogQHJldHVybiB7Ym9vbGVhbn1cclxuXHRcdCAqL1xyXG5cdFx0Y3JlYXRlSXRlbTogZnVuY3Rpb24oaW5wdXQsIHRyaWdnZXJEcm9wZG93bikge1xyXG5cdFx0XHR2YXIgc2VsZiAgPSB0aGlzO1xyXG5cdFx0XHR2YXIgY2FyZXQgPSBzZWxmLmNhcmV0UG9zO1xyXG5cdFx0XHRpbnB1dCA9IGlucHV0IHx8ICQudHJpbShzZWxmLiRjb250cm9sX2lucHV0LnZhbCgpIHx8ICcnKTtcclxuXHJcblx0XHRcdHZhciBjYWxsYmFjayA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XHJcblx0XHRcdGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIGNhbGxiYWNrID0gZnVuY3Rpb24oKSB7fTtcclxuXHJcblx0XHRcdGlmICh0eXBlb2YgdHJpZ2dlckRyb3Bkb3duICE9PSAnYm9vbGVhbicpIHtcclxuXHRcdFx0XHR0cmlnZ2VyRHJvcGRvd24gPSB0cnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIXNlbGYuY2FuQ3JlYXRlKGlucHV0KSkge1xyXG5cdFx0XHRcdGNhbGxiYWNrKCk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzZWxmLmxvY2soKTtcclxuXHJcblx0XHRcdHZhciBzZXR1cCA9ICh0eXBlb2Ygc2VsZi5zZXR0aW5ncy5jcmVhdGUgPT09ICdmdW5jdGlvbicpID8gdGhpcy5zZXR0aW5ncy5jcmVhdGUgOiBmdW5jdGlvbihpbnB1dCkge1xyXG5cdFx0XHRcdHZhciBkYXRhID0ge307XHJcblx0XHRcdFx0ZGF0YVtzZWxmLnNldHRpbmdzLmxhYmVsRmllbGRdID0gaW5wdXQ7XHJcblx0XHRcdFx0ZGF0YVtzZWxmLnNldHRpbmdzLnZhbHVlRmllbGRdID0gaW5wdXQ7XHJcblx0XHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHR2YXIgY3JlYXRlID0gb25jZShmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdFx0c2VsZi51bmxvY2soKTtcclxuXHJcblx0XHRcdFx0aWYgKCFkYXRhIHx8IHR5cGVvZiBkYXRhICE9PSAnb2JqZWN0JykgcmV0dXJuIGNhbGxiYWNrKCk7XHJcblx0XHRcdFx0dmFyIHZhbHVlID0gaGFzaF9rZXkoZGF0YVtzZWxmLnNldHRpbmdzLnZhbHVlRmllbGRdKTtcclxuXHRcdFx0XHRpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykgcmV0dXJuIGNhbGxiYWNrKCk7XHJcblxyXG5cdFx0XHRcdHNlbGYuc2V0VGV4dGJveFZhbHVlKCcnKTtcclxuXHRcdFx0XHRzZWxmLmFkZE9wdGlvbihkYXRhKTtcclxuXHRcdFx0XHRzZWxmLnNldENhcmV0KGNhcmV0KTtcclxuXHRcdFx0XHRzZWxmLmFkZEl0ZW0odmFsdWUpO1xyXG5cdFx0XHRcdHNlbGYucmVmcmVzaE9wdGlvbnModHJpZ2dlckRyb3Bkb3duICYmIHNlbGYuc2V0dGluZ3MubW9kZSAhPT0gJ3NpbmdsZScpO1xyXG5cdFx0XHRcdGNhbGxiYWNrKGRhdGEpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHZhciBvdXRwdXQgPSBzZXR1cC5hcHBseSh0aGlzLCBbaW5wdXQsIGNyZWF0ZV0pO1xyXG5cdFx0XHRpZiAodHlwZW9mIG91dHB1dCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRjcmVhdGUob3V0cHV0KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmUtcmVuZGVycyB0aGUgc2VsZWN0ZWQgaXRlbSBsaXN0cy5cclxuXHRcdCAqL1xyXG5cdFx0cmVmcmVzaEl0ZW1zOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5sYXN0UXVlcnkgPSBudWxsO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMuaXNTZXR1cCkge1xyXG5cdFx0XHRcdHRoaXMuYWRkSXRlbSh0aGlzLml0ZW1zKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5yZWZyZXNoU3RhdGUoKTtcclxuXHRcdFx0dGhpcy51cGRhdGVPcmlnaW5hbElucHV0KCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlcyBhbGwgc3RhdGUtZGVwZW5kZW50IGF0dHJpYnV0ZXNcclxuXHRcdCAqIGFuZCBDU1MgY2xhc3Nlcy5cclxuXHRcdCAqL1xyXG5cdFx0cmVmcmVzaFN0YXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5yZWZyZXNoVmFsaWRpdHlTdGF0ZSgpO1xyXG5cdFx0XHR0aGlzLnJlZnJlc2hDbGFzc2VzKCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBvZiBib3RoIGlucHV0IGFuZCBjb250cm9sIGlucHV0LlxyXG5cdFx0ICpcclxuXHRcdCAqIFRoZSBgcmVxdWlyZWRgIHByb3BlcnR5IG5lZWRzIHRvIGJlIGFjdGl2YXRlZCBvbiB0aGUgY29udHJvbCBpbnB1dFxyXG5cdFx0ICogZm9yIHRoZSBlcnJvciB0byBiZSBkaXNwbGF5ZWQgYXQgdGhlIHJpZ2h0IHBsYWNlLiBgcmVxdWlyZWRgIGFsc29cclxuXHRcdCAqIG5lZWRzIHRvIGJlIHRlbXBvcmFyaWx5IGRlYWN0aXZhdGVkIG9uIHRoZSBpbnB1dCBzaW5jZSB0aGUgaW5wdXQgaXNcclxuXHRcdCAqIGhpZGRlbiBhbmQgY2FuJ3Qgc2hvdyBlcnJvcnMuXHJcblx0XHQgKi9cclxuXHRcdHJlZnJlc2hWYWxpZGl0eVN0YXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKCF0aGlzLmlzUmVxdWlyZWQpIHJldHVybiBmYWxzZTtcclxuXHJcblx0XHRcdHZhciBpbnZhbGlkID0gIXRoaXMuaXRlbXMubGVuZ3RoO1xyXG5cclxuXHRcdFx0dGhpcy5pc0ludmFsaWQgPSBpbnZhbGlkO1xyXG5cdFx0XHR0aGlzLiRjb250cm9sX2lucHV0LnByb3AoJ3JlcXVpcmVkJywgaW52YWxpZCk7XHJcblx0XHRcdHRoaXMuJGlucHV0LnByb3AoJ3JlcXVpcmVkJywgIWludmFsaWQpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZXMgYWxsIHN0YXRlLWRlcGVuZGVudCBDU1MgY2xhc3Nlcy5cclxuXHRcdCAqL1xyXG5cdFx0cmVmcmVzaENsYXNzZXM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2VsZiAgICAgPSB0aGlzO1xyXG5cdFx0XHR2YXIgaXNGdWxsICAgPSBzZWxmLmlzRnVsbCgpO1xyXG5cdFx0XHR2YXIgaXNMb2NrZWQgPSBzZWxmLmlzTG9ja2VkO1xyXG5cclxuXHRcdFx0c2VsZi4kd3JhcHBlclxyXG5cdFx0XHRcdC50b2dnbGVDbGFzcygncnRsJywgc2VsZi5ydGwpO1xyXG5cclxuXHRcdFx0c2VsZi4kY29udHJvbFxyXG5cdFx0XHRcdC50b2dnbGVDbGFzcygnZm9jdXMnLCBzZWxmLmlzRm9jdXNlZClcclxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJywgc2VsZi5pc0Rpc2FibGVkKVxyXG5cdFx0XHRcdC50b2dnbGVDbGFzcygncmVxdWlyZWQnLCBzZWxmLmlzUmVxdWlyZWQpXHJcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCdpbnZhbGlkJywgc2VsZi5pc0ludmFsaWQpXHJcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCdsb2NrZWQnLCBpc0xvY2tlZClcclxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoJ2Z1bGwnLCBpc0Z1bGwpLnRvZ2dsZUNsYXNzKCdub3QtZnVsbCcsICFpc0Z1bGwpXHJcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCdpbnB1dC1hY3RpdmUnLCBzZWxmLmlzRm9jdXNlZCAmJiAhc2VsZi5pc0lucHV0SGlkZGVuKVxyXG5cdFx0XHRcdC50b2dnbGVDbGFzcygnZHJvcGRvd24tYWN0aXZlJywgc2VsZi5pc09wZW4pXHJcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCdoYXMtb3B0aW9ucycsICEkLmlzRW1wdHlPYmplY3Qoc2VsZi5vcHRpb25zKSlcclxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoJ2hhcy1pdGVtcycsIHNlbGYuaXRlbXMubGVuZ3RoID4gMCk7XHJcblxyXG5cdFx0XHRzZWxmLiRjb250cm9sX2lucHV0LmRhdGEoJ2dyb3cnLCAhaXNGdWxsICYmICFpc0xvY2tlZCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCBtb3JlIGl0ZW1zIGNhbiBiZSBhZGRlZFxyXG5cdFx0ICogdG8gdGhlIGNvbnRyb2wgd2l0aG91dCBleGNlZWRpbmcgdGhlIHVzZXItZGVmaW5lZCBtYXhpbXVtLlxyXG5cdFx0ICpcclxuXHRcdCAqIEByZXR1cm5zIHtib29sZWFufVxyXG5cdFx0ICovXHJcblx0XHRpc0Z1bGw6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5zZXR0aW5ncy5tYXhJdGVtcyAhPT0gbnVsbCAmJiB0aGlzLml0ZW1zLmxlbmd0aCA+PSB0aGlzLnNldHRpbmdzLm1heEl0ZW1zO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlZnJlc2hlcyB0aGUgb3JpZ2luYWwgPHNlbGVjdD4gb3IgPGlucHV0PlxyXG5cdFx0ICogZWxlbWVudCB0byByZWZsZWN0IHRoZSBjdXJyZW50IHN0YXRlLlxyXG5cdFx0ICovXHJcblx0XHR1cGRhdGVPcmlnaW5hbElucHV0OiBmdW5jdGlvbihvcHRzKSB7XHJcblx0XHRcdHZhciBpLCBuLCBvcHRpb25zLCBsYWJlbCwgc2VsZiA9IHRoaXM7XHJcblx0XHRcdG9wdHMgPSBvcHRzIHx8IHt9O1xyXG5cclxuXHRcdFx0aWYgKHNlbGYudGFnVHlwZSA9PT0gVEFHX1NFTEVDVCkge1xyXG5cdFx0XHRcdG9wdGlvbnMgPSBbXTtcclxuXHRcdFx0XHRmb3IgKGkgPSAwLCBuID0gc2VsZi5pdGVtcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRcdGxhYmVsID0gc2VsZi5vcHRpb25zW3NlbGYuaXRlbXNbaV1dW3NlbGYuc2V0dGluZ3MubGFiZWxGaWVsZF0gfHwgJyc7XHJcblx0XHRcdFx0XHRvcHRpb25zLnB1c2goJzxvcHRpb24gdmFsdWU9XCInICsgZXNjYXBlX2h0bWwoc2VsZi5pdGVtc1tpXSkgKyAnXCIgc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiPicgKyBlc2NhcGVfaHRtbChsYWJlbCkgKyAnPC9vcHRpb24+Jyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICghb3B0aW9ucy5sZW5ndGggJiYgIXRoaXMuJGlucHV0LmF0dHIoJ211bHRpcGxlJykpIHtcclxuXHRcdFx0XHRcdG9wdGlvbnMucHVzaCgnPG9wdGlvbiB2YWx1ZT1cIlwiIHNlbGVjdGVkPVwic2VsZWN0ZWRcIj48L29wdGlvbj4nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c2VsZi4kaW5wdXQuaHRtbChvcHRpb25zLmpvaW4oJycpKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRzZWxmLiRpbnB1dC52YWwoc2VsZi5nZXRWYWx1ZSgpKTtcclxuXHRcdFx0XHRzZWxmLiRpbnB1dC5hdHRyKCd2YWx1ZScsc2VsZi4kaW5wdXQudmFsKCkpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoc2VsZi5pc1NldHVwKSB7XHJcblx0XHRcdFx0aWYgKCFvcHRzLnNpbGVudCkge1xyXG5cdFx0XHRcdFx0c2VsZi50cmlnZ2VyKCdjaGFuZ2UnLCBzZWxmLiRpbnB1dC52YWwoKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2hvd3MvaGlkZSB0aGUgaW5wdXQgcGxhY2Vob2xkZXIgZGVwZW5kaW5nXHJcblx0XHQgKiBvbiBpZiB0aGVyZSBpdGVtcyBpbiB0aGUgbGlzdCBhbHJlYWR5LlxyXG5cdFx0ICovXHJcblx0XHR1cGRhdGVQbGFjZWhvbGRlcjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICghdGhpcy5zZXR0aW5ncy5wbGFjZWhvbGRlcikgcmV0dXJuO1xyXG5cdFx0XHR2YXIgJGlucHV0ID0gdGhpcy4kY29udHJvbF9pbnB1dDtcclxuXHJcblx0XHRcdGlmICh0aGlzLml0ZW1zLmxlbmd0aCkge1xyXG5cdFx0XHRcdCRpbnB1dC5yZW1vdmVBdHRyKCdwbGFjZWhvbGRlcicpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCRpbnB1dC5hdHRyKCdwbGFjZWhvbGRlcicsIHRoaXMuc2V0dGluZ3MucGxhY2Vob2xkZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdCRpbnB1dC50cmlnZ2VySGFuZGxlcigndXBkYXRlJywge2ZvcmNlOiB0cnVlfSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2hvd3MgdGhlIGF1dG9jb21wbGV0ZSBkcm9wZG93biBjb250YWluaW5nXHJcblx0XHQgKiB0aGUgYXZhaWxhYmxlIG9wdGlvbnMuXHJcblx0XHQgKi9cclxuXHRcdG9wZW46IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHRpZiAoc2VsZi5pc0xvY2tlZCB8fCBzZWxmLmlzT3BlbiB8fCAoc2VsZi5zZXR0aW5ncy5tb2RlID09PSAnbXVsdGknICYmIHNlbGYuaXNGdWxsKCkpKSByZXR1cm47XHJcblx0XHRcdHNlbGYuZm9jdXMoKTtcclxuXHRcdFx0c2VsZi5pc09wZW4gPSB0cnVlO1xyXG5cdFx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xyXG5cdFx0XHRzZWxmLiRkcm9wZG93bi5jc3Moe3Zpc2liaWxpdHk6ICdoaWRkZW4nLCBkaXNwbGF5OiAnYmxvY2snfSk7XHJcblx0XHRcdHNlbGYucG9zaXRpb25Ecm9wZG93bigpO1xyXG5cdFx0XHRzZWxmLiRkcm9wZG93bi5jc3Moe3Zpc2liaWxpdHk6ICd2aXNpYmxlJ30pO1xyXG5cdFx0XHRzZWxmLnRyaWdnZXIoJ2Ryb3Bkb3duX29wZW4nLCBzZWxmLiRkcm9wZG93bik7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2xvc2VzIHRoZSBhdXRvY29tcGxldGUgZHJvcGRvd24gbWVudS5cclxuXHRcdCAqL1xyXG5cdFx0Y2xvc2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdHZhciB0cmlnZ2VyID0gc2VsZi5pc09wZW47XHJcblxyXG5cdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5tb2RlID09PSAnc2luZ2xlJyAmJiBzZWxmLml0ZW1zLmxlbmd0aCkge1xyXG5cdFx0XHRcdHNlbGYuaGlkZUlucHV0KCk7XHJcblx0XHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dC5ibHVyKCk7IC8vIGNsb3NlIGtleWJvYXJkIG9uIGlPU1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzZWxmLmlzT3BlbiA9IGZhbHNlO1xyXG5cdFx0XHRzZWxmLiRkcm9wZG93bi5oaWRlKCk7XHJcblx0XHRcdHNlbGYuc2V0QWN0aXZlT3B0aW9uKG51bGwpO1xyXG5cdFx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xyXG5cclxuXHRcdFx0aWYgKHRyaWdnZXIpIHNlbGYudHJpZ2dlcignZHJvcGRvd25fY2xvc2UnLCBzZWxmLiRkcm9wZG93bik7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2FsY3VsYXRlcyBhbmQgYXBwbGllcyB0aGUgYXBwcm9wcmlhdGVcclxuXHRcdCAqIHBvc2l0aW9uIG9mIHRoZSBkcm9wZG93bi5cclxuXHRcdCAqL1xyXG5cdFx0cG9zaXRpb25Ecm9wZG93bjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciAkY29udHJvbCA9IHRoaXMuJGNvbnRyb2w7XHJcblx0XHRcdHZhciBvZmZzZXQgPSB0aGlzLnNldHRpbmdzLmRyb3Bkb3duUGFyZW50ID09PSAnYm9keScgPyAkY29udHJvbC5vZmZzZXQoKSA6ICRjb250cm9sLnBvc2l0aW9uKCk7XHJcblx0XHRcdG9mZnNldC50b3AgKz0gJGNvbnRyb2wub3V0ZXJIZWlnaHQodHJ1ZSk7XHJcblxyXG5cdFx0XHR0aGlzLiRkcm9wZG93bi5jc3Moe1xyXG5cdFx0XHRcdHdpZHRoIDogJGNvbnRyb2wub3V0ZXJXaWR0aCgpLFxyXG5cdFx0XHRcdHRvcCAgIDogb2Zmc2V0LnRvcCxcclxuXHRcdFx0XHRsZWZ0ICA6IG9mZnNldC5sZWZ0XHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlc2V0cyAvIGNsZWFycyBhbGwgc2VsZWN0ZWQgaXRlbXNcclxuXHRcdCAqIGZyb20gdGhlIGNvbnRyb2wuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtib29sZWFufSBzaWxlbnRcclxuXHRcdCAqL1xyXG5cdFx0Y2xlYXI6IGZ1bmN0aW9uKHNpbGVudCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHRpZiAoIXNlbGYuaXRlbXMubGVuZ3RoKSByZXR1cm47XHJcblx0XHRcdHNlbGYuJGNvbnRyb2wuY2hpbGRyZW4oJzpub3QoaW5wdXQpJykucmVtb3ZlKCk7XHJcblx0XHRcdHNlbGYuaXRlbXMgPSBbXTtcclxuXHRcdFx0c2VsZi5sYXN0UXVlcnkgPSBudWxsO1xyXG5cdFx0XHRzZWxmLnNldENhcmV0KDApO1xyXG5cdFx0XHRzZWxmLnNldEFjdGl2ZUl0ZW0obnVsbCk7XHJcblx0XHRcdHNlbGYudXBkYXRlUGxhY2Vob2xkZXIoKTtcclxuXHRcdFx0c2VsZi51cGRhdGVPcmlnaW5hbElucHV0KHtzaWxlbnQ6IHNpbGVudH0pO1xyXG5cdFx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xyXG5cdFx0XHRzZWxmLnNob3dJbnB1dCgpO1xyXG5cdFx0XHRzZWxmLnRyaWdnZXIoJ2NsZWFyJyk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQSBoZWxwZXIgbWV0aG9kIGZvciBpbnNlcnRpbmcgYW4gZWxlbWVudFxyXG5cdFx0ICogYXQgdGhlIGN1cnJlbnQgY2FyZXQgcG9zaXRpb24uXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9ICRlbFxyXG5cdFx0ICovXHJcblx0XHRpbnNlcnRBdENhcmV0OiBmdW5jdGlvbigkZWwpIHtcclxuXHRcdFx0dmFyIGNhcmV0ID0gTWF0aC5taW4odGhpcy5jYXJldFBvcywgdGhpcy5pdGVtcy5sZW5ndGgpO1xyXG5cdFx0XHRpZiAoY2FyZXQgPT09IDApIHtcclxuXHRcdFx0XHR0aGlzLiRjb250cm9sLnByZXBlbmQoJGVsKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkKHRoaXMuJGNvbnRyb2xbMF0uY2hpbGROb2Rlc1tjYXJldF0pLmJlZm9yZSgkZWwpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuc2V0Q2FyZXQoY2FyZXQgKyAxKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmVzIHRoZSBjdXJyZW50IHNlbGVjdGVkIGl0ZW0ocykuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGUgKG9wdGlvbmFsKVxyXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XHJcblx0XHQgKi9cclxuXHRcdGRlbGV0ZVNlbGVjdGlvbjogZnVuY3Rpb24oZSkge1xyXG5cdFx0XHR2YXIgaSwgbiwgZGlyZWN0aW9uLCBzZWxlY3Rpb24sIHZhbHVlcywgY2FyZXQsIG9wdGlvbl9zZWxlY3QsICRvcHRpb25fc2VsZWN0LCAkdGFpbDtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0ZGlyZWN0aW9uID0gKGUgJiYgZS5rZXlDb2RlID09PSBLRVlfQkFDS1NQQUNFKSA/IC0xIDogMTtcclxuXHRcdFx0c2VsZWN0aW9uID0gZ2V0U2VsZWN0aW9uKHNlbGYuJGNvbnRyb2xfaW5wdXRbMF0pO1xyXG5cclxuXHRcdFx0aWYgKHNlbGYuJGFjdGl2ZU9wdGlvbiAmJiAhc2VsZi5zZXR0aW5ncy5oaWRlU2VsZWN0ZWQpIHtcclxuXHRcdFx0XHRvcHRpb25fc2VsZWN0ID0gc2VsZi5nZXRBZGphY2VudE9wdGlvbihzZWxmLiRhY3RpdmVPcHRpb24sIC0xKS5hdHRyKCdkYXRhLXZhbHVlJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGRldGVybWluZSBpdGVtcyB0aGF0IHdpbGwgYmUgcmVtb3ZlZFxyXG5cdFx0XHR2YWx1ZXMgPSBbXTtcclxuXHJcblx0XHRcdGlmIChzZWxmLiRhY3RpdmVJdGVtcy5sZW5ndGgpIHtcclxuXHRcdFx0XHQkdGFpbCA9IHNlbGYuJGNvbnRyb2wuY2hpbGRyZW4oJy5hY3RpdmU6JyArIChkaXJlY3Rpb24gPiAwID8gJ2xhc3QnIDogJ2ZpcnN0JykpO1xyXG5cdFx0XHRcdGNhcmV0ID0gc2VsZi4kY29udHJvbC5jaGlsZHJlbignOm5vdChpbnB1dCknKS5pbmRleCgkdGFpbCk7XHJcblx0XHRcdFx0aWYgKGRpcmVjdGlvbiA+IDApIHsgY2FyZXQrKzsgfVxyXG5cclxuXHRcdFx0XHRmb3IgKGkgPSAwLCBuID0gc2VsZi4kYWN0aXZlSXRlbXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0XHR2YWx1ZXMucHVzaCgkKHNlbGYuJGFjdGl2ZUl0ZW1zW2ldKS5hdHRyKCdkYXRhLXZhbHVlJykpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoZSkge1xyXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAoKHNlbGYuaXNGb2N1c2VkIHx8IHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ3NpbmdsZScpICYmIHNlbGYuaXRlbXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0aWYgKGRpcmVjdGlvbiA8IDAgJiYgc2VsZWN0aW9uLnN0YXJ0ID09PSAwICYmIHNlbGVjdGlvbi5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHRcdHZhbHVlcy5wdXNoKHNlbGYuaXRlbXNbc2VsZi5jYXJldFBvcyAtIDFdKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGRpcmVjdGlvbiA+IDAgJiYgc2VsZWN0aW9uLnN0YXJ0ID09PSBzZWxmLiRjb250cm9sX2lucHV0LnZhbCgpLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0dmFsdWVzLnB1c2goc2VsZi5pdGVtc1tzZWxmLmNhcmV0UG9zXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBhbGxvdyB0aGUgY2FsbGJhY2sgdG8gYWJvcnRcclxuXHRcdFx0aWYgKCF2YWx1ZXMubGVuZ3RoIHx8ICh0eXBlb2Ygc2VsZi5zZXR0aW5ncy5vbkRlbGV0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiBzZWxmLnNldHRpbmdzLm9uRGVsZXRlLmFwcGx5KHNlbGYsIFt2YWx1ZXNdKSA9PT0gZmFsc2UpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBwZXJmb3JtIHJlbW92YWxcclxuXHRcdFx0aWYgKHR5cGVvZiBjYXJldCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRzZWxmLnNldENhcmV0KGNhcmV0KTtcclxuXHRcdFx0fVxyXG5cdFx0XHR3aGlsZSAodmFsdWVzLmxlbmd0aCkge1xyXG5cdFx0XHRcdHNlbGYucmVtb3ZlSXRlbSh2YWx1ZXMucG9wKCkpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzZWxmLnNob3dJbnB1dCgpO1xyXG5cdFx0XHRzZWxmLnBvc2l0aW9uRHJvcGRvd24oKTtcclxuXHRcdFx0c2VsZi5yZWZyZXNoT3B0aW9ucyh0cnVlKTtcclxuXHJcblx0XHRcdC8vIHNlbGVjdCBwcmV2aW91cyBvcHRpb25cclxuXHRcdFx0aWYgKG9wdGlvbl9zZWxlY3QpIHtcclxuXHRcdFx0XHQkb3B0aW9uX3NlbGVjdCA9IHNlbGYuZ2V0T3B0aW9uKG9wdGlvbl9zZWxlY3QpO1xyXG5cdFx0XHRcdGlmICgkb3B0aW9uX3NlbGVjdC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdHNlbGYuc2V0QWN0aXZlT3B0aW9uKCRvcHRpb25fc2VsZWN0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNlbGVjdHMgdGhlIHByZXZpb3VzIC8gbmV4dCBpdGVtIChkZXBlbmRpbmdcclxuXHRcdCAqIG9uIHRoZSBgZGlyZWN0aW9uYCBhcmd1bWVudCkuXHJcblx0XHQgKlxyXG5cdFx0ICogPiAwIC0gcmlnaHRcclxuXHRcdCAqIDwgMCAtIGxlZnRcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge2ludH0gZGlyZWN0aW9uXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZSAob3B0aW9uYWwpXHJcblx0XHQgKi9cclxuXHRcdGFkdmFuY2VTZWxlY3Rpb246IGZ1bmN0aW9uKGRpcmVjdGlvbiwgZSkge1xyXG5cdFx0XHR2YXIgdGFpbCwgc2VsZWN0aW9uLCBpZHgsIHZhbHVlTGVuZ3RoLCBjdXJzb3JBdEVkZ2UsICR0YWlsO1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHRpZiAoZGlyZWN0aW9uID09PSAwKSByZXR1cm47XHJcblx0XHRcdGlmIChzZWxmLnJ0bCkgZGlyZWN0aW9uICo9IC0xO1xyXG5cclxuXHRcdFx0dGFpbCA9IGRpcmVjdGlvbiA+IDAgPyAnbGFzdCcgOiAnZmlyc3QnO1xyXG5cdFx0XHRzZWxlY3Rpb24gPSBnZXRTZWxlY3Rpb24oc2VsZi4kY29udHJvbF9pbnB1dFswXSk7XHJcblxyXG5cdFx0XHRpZiAoc2VsZi5pc0ZvY3VzZWQgJiYgIXNlbGYuaXNJbnB1dEhpZGRlbikge1xyXG5cdFx0XHRcdHZhbHVlTGVuZ3RoID0gc2VsZi4kY29udHJvbF9pbnB1dC52YWwoKS5sZW5ndGg7XHJcblx0XHRcdFx0Y3Vyc29yQXRFZGdlID0gZGlyZWN0aW9uIDwgMFxyXG5cdFx0XHRcdFx0PyBzZWxlY3Rpb24uc3RhcnQgPT09IDAgJiYgc2VsZWN0aW9uLmxlbmd0aCA9PT0gMFxyXG5cdFx0XHRcdFx0OiBzZWxlY3Rpb24uc3RhcnQgPT09IHZhbHVlTGVuZ3RoO1xyXG5cclxuXHRcdFx0XHRpZiAoY3Vyc29yQXRFZGdlICYmICF2YWx1ZUxlbmd0aCkge1xyXG5cdFx0XHRcdFx0c2VsZi5hZHZhbmNlQ2FyZXQoZGlyZWN0aW9uLCBlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JHRhaWwgPSBzZWxmLiRjb250cm9sLmNoaWxkcmVuKCcuYWN0aXZlOicgKyB0YWlsKTtcclxuXHRcdFx0XHRpZiAoJHRhaWwubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRpZHggPSBzZWxmLiRjb250cm9sLmNoaWxkcmVuKCc6bm90KGlucHV0KScpLmluZGV4KCR0YWlsKTtcclxuXHRcdFx0XHRcdHNlbGYuc2V0QWN0aXZlSXRlbShudWxsKTtcclxuXHRcdFx0XHRcdHNlbGYuc2V0Q2FyZXQoZGlyZWN0aW9uID4gMCA/IGlkeCArIDEgOiBpZHgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIE1vdmVzIHRoZSBjYXJldCBsZWZ0IC8gcmlnaHQuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtpbnR9IGRpcmVjdGlvblxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGUgKG9wdGlvbmFsKVxyXG5cdFx0ICovXHJcblx0XHRhZHZhbmNlQ2FyZXQ6IGZ1bmN0aW9uKGRpcmVjdGlvbiwgZSkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsIGZuLCAkYWRqO1xyXG5cclxuXHRcdFx0aWYgKGRpcmVjdGlvbiA9PT0gMCkgcmV0dXJuO1xyXG5cclxuXHRcdFx0Zm4gPSBkaXJlY3Rpb24gPiAwID8gJ25leHQnIDogJ3ByZXYnO1xyXG5cdFx0XHRpZiAoc2VsZi5pc1NoaWZ0RG93bikge1xyXG5cdFx0XHRcdCRhZGogPSBzZWxmLiRjb250cm9sX2lucHV0W2ZuXSgpO1xyXG5cdFx0XHRcdGlmICgkYWRqLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0c2VsZi5oaWRlSW5wdXQoKTtcclxuXHRcdFx0XHRcdHNlbGYuc2V0QWN0aXZlSXRlbSgkYWRqKTtcclxuXHRcdFx0XHRcdGUgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRzZWxmLnNldENhcmV0KHNlbGYuY2FyZXRQb3MgKyBkaXJlY3Rpb24pO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogTW92ZXMgdGhlIGNhcmV0IHRvIHRoZSBzcGVjaWZpZWQgaW5kZXguXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtpbnR9IGlcclxuXHRcdCAqL1xyXG5cdFx0c2V0Q2FyZXQ6IGZ1bmN0aW9uKGkpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ3NpbmdsZScpIHtcclxuXHRcdFx0XHRpID0gc2VsZi5pdGVtcy5sZW5ndGg7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aSA9IE1hdGgubWF4KDAsIE1hdGgubWluKHNlbGYuaXRlbXMubGVuZ3RoLCBpKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKCFzZWxmLmlzUGVuZGluZykge1xyXG5cdFx0XHRcdC8vIHRoZSBpbnB1dCBtdXN0IGJlIG1vdmVkIGJ5IGxlYXZpbmcgaXQgaW4gcGxhY2UgYW5kIG1vdmluZyB0aGVcclxuXHRcdFx0XHQvLyBzaWJsaW5ncywgZHVlIHRvIHRoZSBmYWN0IHRoYXQgZm9jdXMgY2Fubm90IGJlIHJlc3RvcmVkIG9uY2UgbG9zdFxyXG5cdFx0XHRcdC8vIG9uIG1vYmlsZSB3ZWJraXQgZGV2aWNlc1xyXG5cdFx0XHRcdHZhciBqLCBuLCBmbiwgJGNoaWxkcmVuLCAkY2hpbGQ7XHJcblx0XHRcdFx0JGNoaWxkcmVuID0gc2VsZi4kY29udHJvbC5jaGlsZHJlbignOm5vdChpbnB1dCknKTtcclxuXHRcdFx0XHRmb3IgKGogPSAwLCBuID0gJGNoaWxkcmVuLmxlbmd0aDsgaiA8IG47IGorKykge1xyXG5cdFx0XHRcdFx0JGNoaWxkID0gJCgkY2hpbGRyZW5bal0pLmRldGFjaCgpO1xyXG5cdFx0XHRcdFx0aWYgKGogPCAgaSkge1xyXG5cdFx0XHRcdFx0XHRzZWxmLiRjb250cm9sX2lucHV0LmJlZm9yZSgkY2hpbGQpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0c2VsZi4kY29udHJvbC5hcHBlbmQoJGNoaWxkKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNlbGYuY2FyZXRQb3MgPSBpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIERpc2FibGVzIHVzZXIgaW5wdXQgb24gdGhlIGNvbnRyb2wuIFVzZWQgd2hpbGVcclxuXHRcdCAqIGl0ZW1zIGFyZSBiZWluZyBhc3luY2hyb25vdXNseSBjcmVhdGVkLlxyXG5cdFx0ICovXHJcblx0XHRsb2NrOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0XHR0aGlzLmlzTG9ja2VkID0gdHJ1ZTtcclxuXHRcdFx0dGhpcy5yZWZyZXNoU3RhdGUoKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZS1lbmFibGVzIHVzZXIgaW5wdXQgb24gdGhlIGNvbnRyb2wuXHJcblx0XHQgKi9cclxuXHRcdHVubG9jazogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMuaXNMb2NrZWQgPSBmYWxzZTtcclxuXHRcdFx0dGhpcy5yZWZyZXNoU3RhdGUoKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBEaXNhYmxlcyB1c2VyIGlucHV0IG9uIHRoZSBjb250cm9sIGNvbXBsZXRlbHkuXHJcblx0XHQgKiBXaGlsZSBkaXNhYmxlZCwgaXQgY2Fubm90IHJlY2VpdmUgZm9jdXMuXHJcblx0XHQgKi9cclxuXHRcdGRpc2FibGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdHNlbGYuJGlucHV0LnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcblx0XHRcdHNlbGYuJGNvbnRyb2xfaW5wdXQucHJvcCgnZGlzYWJsZWQnLCB0cnVlKS5wcm9wKCd0YWJpbmRleCcsIC0xKTtcclxuXHRcdFx0c2VsZi5pc0Rpc2FibGVkID0gdHJ1ZTtcclxuXHRcdFx0c2VsZi5sb2NrKCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRW5hYmxlcyB0aGUgY29udHJvbCBzbyB0aGF0IGl0IGNhbiByZXNwb25kXHJcblx0XHQgKiB0byBmb2N1cyBhbmQgdXNlciBpbnB1dC5cclxuXHRcdCAqL1xyXG5cdFx0ZW5hYmxlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRzZWxmLiRpbnB1dC5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuXHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dC5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKS5wcm9wKCd0YWJpbmRleCcsIHNlbGYudGFiSW5kZXgpO1xyXG5cdFx0XHRzZWxmLmlzRGlzYWJsZWQgPSBmYWxzZTtcclxuXHRcdFx0c2VsZi51bmxvY2soKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDb21wbGV0ZWx5IGRlc3Ryb3lzIHRoZSBjb250cm9sIGFuZFxyXG5cdFx0ICogdW5iaW5kcyBhbGwgZXZlbnQgbGlzdGVuZXJzIHNvIHRoYXQgaXQgY2FuXHJcblx0XHQgKiBiZSBnYXJiYWdlIGNvbGxlY3RlZC5cclxuXHRcdCAqL1xyXG5cdFx0ZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0dmFyIGV2ZW50TlMgPSBzZWxmLmV2ZW50TlM7XHJcblx0XHRcdHZhciByZXZlcnRTZXR0aW5ncyA9IHNlbGYucmV2ZXJ0U2V0dGluZ3M7XHJcblxyXG5cdFx0XHRzZWxmLnRyaWdnZXIoJ2Rlc3Ryb3knKTtcclxuXHRcdFx0c2VsZi5vZmYoKTtcclxuXHRcdFx0c2VsZi4kd3JhcHBlci5yZW1vdmUoKTtcclxuXHRcdFx0c2VsZi4kZHJvcGRvd24ucmVtb3ZlKCk7XHJcblxyXG5cdFx0XHRzZWxmLiRpbnB1dFxyXG5cdFx0XHRcdC5odG1sKCcnKVxyXG5cdFx0XHRcdC5hcHBlbmQocmV2ZXJ0U2V0dGluZ3MuJGNoaWxkcmVuKVxyXG5cdFx0XHRcdC5yZW1vdmVBdHRyKCd0YWJpbmRleCcpXHJcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCdzZWxlY3RpemVkJylcclxuXHRcdFx0XHQuYXR0cih7dGFiaW5kZXg6IHJldmVydFNldHRpbmdzLnRhYmluZGV4fSlcclxuXHRcdFx0XHQuc2hvdygpO1xyXG5cclxuXHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dC5yZW1vdmVEYXRhKCdncm93Jyk7XHJcblx0XHRcdHNlbGYuJGlucHV0LnJlbW92ZURhdGEoJ3NlbGVjdGl6ZScpO1xyXG5cclxuXHRcdFx0JCh3aW5kb3cpLm9mZihldmVudE5TKTtcclxuXHRcdFx0JChkb2N1bWVudCkub2ZmKGV2ZW50TlMpO1xyXG5cdFx0XHQkKGRvY3VtZW50LmJvZHkpLm9mZihldmVudE5TKTtcclxuXHJcblx0XHRcdGRlbGV0ZSBzZWxmLiRpbnB1dFswXS5zZWxlY3RpemU7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQSBoZWxwZXIgbWV0aG9kIGZvciByZW5kZXJpbmcgXCJpdGVtXCIgYW5kXHJcblx0XHQgKiBcIm9wdGlvblwiIHRlbXBsYXRlcywgZ2l2ZW4gdGhlIGRhdGEuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHRlbXBsYXRlTmFtZVxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGRhdGFcclxuXHRcdCAqIEByZXR1cm5zIHtzdHJpbmd9XHJcblx0XHQgKi9cclxuXHRcdHJlbmRlcjogZnVuY3Rpb24odGVtcGxhdGVOYW1lLCBkYXRhKSB7XHJcblx0XHRcdHZhciB2YWx1ZSwgaWQsIGxhYmVsO1xyXG5cdFx0XHR2YXIgaHRtbCA9ICcnO1xyXG5cdFx0XHR2YXIgY2FjaGUgPSBmYWxzZTtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHR2YXIgcmVnZXhfdGFnID0gL15bXFx0IFxcclxcbl0qPChbYS16XVthLXowLTlcXC1fXSooPzpcXDpbYS16XVthLXowLTlcXC1fXSopPykvaTtcclxuXHJcblx0XHRcdGlmICh0ZW1wbGF0ZU5hbWUgPT09ICdvcHRpb24nIHx8IHRlbXBsYXRlTmFtZSA9PT0gJ2l0ZW0nKSB7XHJcblx0XHRcdFx0dmFsdWUgPSBoYXNoX2tleShkYXRhW3NlbGYuc2V0dGluZ3MudmFsdWVGaWVsZF0pO1xyXG5cdFx0XHRcdGNhY2hlID0gISF2YWx1ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gcHVsbCBtYXJrdXAgZnJvbSBjYWNoZSBpZiBpdCBleGlzdHNcclxuXHRcdFx0aWYgKGNhY2hlKSB7XHJcblx0XHRcdFx0aWYgKCFpc3NldChzZWxmLnJlbmRlckNhY2hlW3RlbXBsYXRlTmFtZV0pKSB7XHJcblx0XHRcdFx0XHRzZWxmLnJlbmRlckNhY2hlW3RlbXBsYXRlTmFtZV0gPSB7fTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHNlbGYucmVuZGVyQ2FjaGVbdGVtcGxhdGVOYW1lXS5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkpIHtcclxuXHRcdFx0XHRcdHJldHVybiBzZWxmLnJlbmRlckNhY2hlW3RlbXBsYXRlTmFtZV1bdmFsdWVdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gcmVuZGVyIG1hcmt1cFxyXG5cdFx0XHRodG1sID0gJChzZWxmLnNldHRpbmdzLnJlbmRlclt0ZW1wbGF0ZU5hbWVdLmFwcGx5KHRoaXMsIFtkYXRhLCBlc2NhcGVfaHRtbF0pKTtcclxuXHJcblx0XHRcdC8vIGFkZCBtYW5kYXRvcnkgYXR0cmlidXRlc1xyXG5cdFx0XHRpZiAodGVtcGxhdGVOYW1lID09PSAnb3B0aW9uJyB8fCB0ZW1wbGF0ZU5hbWUgPT09ICdvcHRpb25fY3JlYXRlJykge1xyXG5cdFx0XHRcdGh0bWwuYXR0cignZGF0YS1zZWxlY3RhYmxlJywgJycpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgaWYgKHRlbXBsYXRlTmFtZSA9PT0gJ29wdGdyb3VwJykge1xyXG5cdFx0XHRcdGlkID0gZGF0YVtzZWxmLnNldHRpbmdzLm9wdGdyb3VwVmFsdWVGaWVsZF0gfHwgJyc7XHJcblx0XHRcdFx0aHRtbC5hdHRyKCdkYXRhLWdyb3VwJywgaWQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh0ZW1wbGF0ZU5hbWUgPT09ICdvcHRpb24nIHx8IHRlbXBsYXRlTmFtZSA9PT0gJ2l0ZW0nKSB7XHJcblx0XHRcdFx0aHRtbC5hdHRyKCdkYXRhLXZhbHVlJywgdmFsdWUgfHwgJycpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyB1cGRhdGUgY2FjaGVcclxuXHRcdFx0aWYgKGNhY2hlKSB7XHJcblx0XHRcdFx0c2VsZi5yZW5kZXJDYWNoZVt0ZW1wbGF0ZU5hbWVdW3ZhbHVlXSA9IGh0bWxbMF07XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBodG1sWzBdO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENsZWFycyB0aGUgcmVuZGVyIGNhY2hlIGZvciBhIHRlbXBsYXRlLiBJZlxyXG5cdFx0ICogbm8gdGVtcGxhdGUgaXMgZ2l2ZW4sIGNsZWFycyBhbGwgcmVuZGVyXHJcblx0XHQgKiBjYWNoZXMuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHRlbXBsYXRlTmFtZVxyXG5cdFx0ICovXHJcblx0XHRjbGVhckNhY2hlOiBmdW5jdGlvbih0ZW1wbGF0ZU5hbWUpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRpZiAodHlwZW9mIHRlbXBsYXRlTmFtZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRzZWxmLnJlbmRlckNhY2hlID0ge307XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0ZGVsZXRlIHNlbGYucmVuZGVyQ2FjaGVbdGVtcGxhdGVOYW1lXTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIERldGVybWluZXMgd2hldGhlciBvciBub3QgdG8gZGlzcGxheSB0aGVcclxuXHRcdCAqIGNyZWF0ZSBpdGVtIHByb21wdCwgZ2l2ZW4gYSB1c2VyIGlucHV0LlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dFxyXG5cdFx0ICogQHJldHVybiB7Ym9vbGVhbn1cclxuXHRcdCAqL1xyXG5cdFx0Y2FuQ3JlYXRlOiBmdW5jdGlvbihpbnB1dCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdGlmICghc2VsZi5zZXR0aW5ncy5jcmVhdGUpIHJldHVybiBmYWxzZTtcclxuXHRcdFx0dmFyIGZpbHRlciA9IHNlbGYuc2V0dGluZ3MuY3JlYXRlRmlsdGVyO1xyXG5cdFx0XHRyZXR1cm4gaW5wdXQubGVuZ3RoXHJcblx0XHRcdFx0JiYgKHR5cGVvZiBmaWx0ZXIgIT09ICdmdW5jdGlvbicgfHwgZmlsdGVyLmFwcGx5KHNlbGYsIFtpbnB1dF0pKVxyXG5cdFx0XHRcdCYmICh0eXBlb2YgZmlsdGVyICE9PSAnc3RyaW5nJyB8fCBuZXcgUmVnRXhwKGZpbHRlcikudGVzdChpbnB1dCkpXHJcblx0XHRcdFx0JiYgKCEoZmlsdGVyIGluc3RhbmNlb2YgUmVnRXhwKSB8fCBmaWx0ZXIudGVzdChpbnB1dCkpO1xyXG5cdFx0fVxyXG5cclxuXHR9KTtcclxuXHJcblxyXG5cdFNlbGVjdGl6ZS5jb3VudCA9IDA7XHJcblx0U2VsZWN0aXplLmRlZmF1bHRzID0ge1xyXG5cdFx0b3B0aW9uczogW10sXHJcblx0XHRvcHRncm91cHM6IFtdLFxyXG5cclxuXHRcdHBsdWdpbnM6IFtdLFxyXG5cdFx0ZGVsaW1pdGVyOiAnLCcsXHJcblx0XHRzcGxpdE9uOiBudWxsLCAvLyByZWdleHAgb3Igc3RyaW5nIGZvciBzcGxpdHRpbmcgdXAgdmFsdWVzIGZyb20gYSBwYXN0ZSBjb21tYW5kXHJcblx0XHRwZXJzaXN0OiB0cnVlLFxyXG5cdFx0ZGlhY3JpdGljczogdHJ1ZSxcclxuXHRcdGNyZWF0ZTogZmFsc2UsXHJcblx0XHRjcmVhdGVPbkJsdXI6IGZhbHNlLFxyXG5cdFx0Y3JlYXRlRmlsdGVyOiBudWxsLFxyXG5cdFx0aGlnaGxpZ2h0OiB0cnVlLFxyXG5cdFx0b3Blbk9uRm9jdXM6IHRydWUsXHJcblx0XHRtYXhPcHRpb25zOiAxMDAwLFxyXG5cdFx0bWF4SXRlbXM6IG51bGwsXHJcblx0XHRoaWRlU2VsZWN0ZWQ6IG51bGwsXHJcblx0XHRhZGRQcmVjZWRlbmNlOiBmYWxzZSxcclxuXHRcdHNlbGVjdE9uVGFiOiBmYWxzZSxcclxuXHRcdHByZWxvYWQ6IGZhbHNlLFxyXG5cdFx0YWxsb3dFbXB0eU9wdGlvbjogZmFsc2UsXHJcblx0XHRjbG9zZUFmdGVyU2VsZWN0OiBmYWxzZSxcclxuXHJcblx0XHRzY3JvbGxEdXJhdGlvbjogNjAsXHJcblx0XHRsb2FkVGhyb3R0bGU6IDMwMCxcclxuXHRcdGxvYWRpbmdDbGFzczogJ2xvYWRpbmcnLFxyXG5cclxuXHRcdGRhdGFBdHRyOiAnZGF0YS1kYXRhJyxcclxuXHRcdG9wdGdyb3VwRmllbGQ6ICdvcHRncm91cCcsXHJcblx0XHR2YWx1ZUZpZWxkOiAndmFsdWUnLFxyXG5cdFx0bGFiZWxGaWVsZDogJ3RleHQnLFxyXG5cdFx0b3B0Z3JvdXBMYWJlbEZpZWxkOiAnbGFiZWwnLFxyXG5cdFx0b3B0Z3JvdXBWYWx1ZUZpZWxkOiAndmFsdWUnLFxyXG5cdFx0bG9ja09wdGdyb3VwT3JkZXI6IGZhbHNlLFxyXG5cclxuXHRcdHNvcnRGaWVsZDogJyRvcmRlcicsXHJcblx0XHRzZWFyY2hGaWVsZDogWyd0ZXh0J10sXHJcblx0XHRzZWFyY2hDb25qdW5jdGlvbjogJ2FuZCcsXHJcblxyXG5cdFx0bW9kZTogbnVsbCxcclxuXHRcdHdyYXBwZXJDbGFzczogJ3NlbGVjdGl6ZS1jb250cm9sJyxcclxuXHRcdGlucHV0Q2xhc3M6ICdzZWxlY3RpemUtaW5wdXQnLFxyXG5cdFx0ZHJvcGRvd25DbGFzczogJ3NlbGVjdGl6ZS1kcm9wZG93bicsXHJcblx0XHRkcm9wZG93bkNvbnRlbnRDbGFzczogJ3NlbGVjdGl6ZS1kcm9wZG93bi1jb250ZW50JyxcclxuXHJcblx0XHRkcm9wZG93blBhcmVudDogbnVsbCxcclxuXHJcblx0XHRjb3B5Q2xhc3Nlc1RvRHJvcGRvd246IHRydWUsXHJcblxyXG5cdFx0LypcclxuXHRcdGxvYWQgICAgICAgICAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24ocXVlcnksIGNhbGxiYWNrKSB7IC4uLiB9XHJcblx0XHRzY29yZSAgICAgICAgICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKHNlYXJjaCkgeyAuLi4gfVxyXG5cdFx0b25Jbml0aWFsaXplICAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbigpIHsgLi4uIH1cclxuXHRcdG9uQ2hhbmdlICAgICAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24odmFsdWUpIHsgLi4uIH1cclxuXHRcdG9uSXRlbUFkZCAgICAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24odmFsdWUsICRpdGVtKSB7IC4uLiB9XHJcblx0XHRvbkl0ZW1SZW1vdmUgICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKHZhbHVlKSB7IC4uLiB9XHJcblx0XHRvbkNsZWFyICAgICAgICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKCkgeyAuLi4gfVxyXG5cdFx0b25PcHRpb25BZGQgICAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbih2YWx1ZSwgZGF0YSkgeyAuLi4gfVxyXG5cdFx0b25PcHRpb25SZW1vdmUgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbih2YWx1ZSkgeyAuLi4gfVxyXG5cdFx0b25PcHRpb25DbGVhciAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbigpIHsgLi4uIH1cclxuXHRcdG9uT3B0aW9uR3JvdXBBZGQgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24oaWQsIGRhdGEpIHsgLi4uIH1cclxuXHRcdG9uT3B0aW9uR3JvdXBSZW1vdmUgIDogbnVsbCwgLy8gZnVuY3Rpb24oaWQpIHsgLi4uIH1cclxuXHRcdG9uT3B0aW9uR3JvdXBDbGVhciAgIDogbnVsbCwgLy8gZnVuY3Rpb24oKSB7IC4uLiB9XHJcblx0XHRvbkRyb3Bkb3duT3BlbiAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKCRkcm9wZG93bikgeyAuLi4gfVxyXG5cdFx0b25Ecm9wZG93bkNsb3NlICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbigkZHJvcGRvd24pIHsgLi4uIH1cclxuXHRcdG9uVHlwZSAgICAgICAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24oc3RyKSB7IC4uLiB9XHJcblx0XHRvbkRlbGV0ZSAgICAgICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKHZhbHVlcykgeyAuLi4gfVxyXG5cdFx0Ki9cclxuXHJcblx0XHRyZW5kZXI6IHtcclxuXHRcdFx0LypcclxuXHRcdFx0aXRlbTogbnVsbCxcclxuXHRcdFx0b3B0Z3JvdXA6IG51bGwsXHJcblx0XHRcdG9wdGdyb3VwX2hlYWRlcjogbnVsbCxcclxuXHRcdFx0b3B0aW9uOiBudWxsLFxyXG5cdFx0XHRvcHRpb25fY3JlYXRlOiBudWxsXHJcblx0XHRcdCovXHJcblx0XHR9XHJcblx0fTtcclxuXHJcblxyXG5cdCQuZm4uc2VsZWN0aXplID0gZnVuY3Rpb24oc2V0dGluZ3NfdXNlcikge1xyXG5cdFx0dmFyIGRlZmF1bHRzICAgICAgICAgICAgID0gJC5mbi5zZWxlY3RpemUuZGVmYXVsdHM7XHJcblx0XHR2YXIgc2V0dGluZ3MgICAgICAgICAgICAgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIHNldHRpbmdzX3VzZXIpO1xyXG5cdFx0dmFyIGF0dHJfZGF0YSAgICAgICAgICAgID0gc2V0dGluZ3MuZGF0YUF0dHI7XHJcblx0XHR2YXIgZmllbGRfbGFiZWwgICAgICAgICAgPSBzZXR0aW5ncy5sYWJlbEZpZWxkO1xyXG5cdFx0dmFyIGZpZWxkX3ZhbHVlICAgICAgICAgID0gc2V0dGluZ3MudmFsdWVGaWVsZDtcclxuXHRcdHZhciBmaWVsZF9vcHRncm91cCAgICAgICA9IHNldHRpbmdzLm9wdGdyb3VwRmllbGQ7XHJcblx0XHR2YXIgZmllbGRfb3B0Z3JvdXBfbGFiZWwgPSBzZXR0aW5ncy5vcHRncm91cExhYmVsRmllbGQ7XHJcblx0XHR2YXIgZmllbGRfb3B0Z3JvdXBfdmFsdWUgPSBzZXR0aW5ncy5vcHRncm91cFZhbHVlRmllbGQ7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbml0aWFsaXplcyBzZWxlY3RpemUgZnJvbSBhIDxpbnB1dCB0eXBlPVwidGV4dFwiPiBlbGVtZW50LlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSAkaW5wdXRcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5nc19lbGVtZW50XHJcblx0XHQgKi9cclxuXHRcdHZhciBpbml0X3RleHRib3ggPSBmdW5jdGlvbigkaW5wdXQsIHNldHRpbmdzX2VsZW1lbnQpIHtcclxuXHRcdFx0dmFyIGksIG4sIHZhbHVlcywgb3B0aW9uO1xyXG5cclxuXHRcdFx0dmFyIGRhdGFfcmF3ID0gJGlucHV0LmF0dHIoYXR0cl9kYXRhKTtcclxuXHJcblx0XHRcdGlmICghZGF0YV9yYXcpIHtcclxuXHRcdFx0XHR2YXIgdmFsdWUgPSAkLnRyaW0oJGlucHV0LnZhbCgpIHx8ICcnKTtcclxuXHRcdFx0XHRpZiAoIXNldHRpbmdzLmFsbG93RW1wdHlPcHRpb24gJiYgIXZhbHVlLmxlbmd0aCkgcmV0dXJuO1xyXG5cdFx0XHRcdHZhbHVlcyA9IHZhbHVlLnNwbGl0KHNldHRpbmdzLmRlbGltaXRlcik7XHJcblx0XHRcdFx0Zm9yIChpID0gMCwgbiA9IHZhbHVlcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRcdG9wdGlvbiA9IHt9O1xyXG5cdFx0XHRcdFx0b3B0aW9uW2ZpZWxkX2xhYmVsXSA9IHZhbHVlc1tpXTtcclxuXHRcdFx0XHRcdG9wdGlvbltmaWVsZF92YWx1ZV0gPSB2YWx1ZXNbaV07XHJcblx0XHRcdFx0XHRzZXR0aW5nc19lbGVtZW50Lm9wdGlvbnMucHVzaChvcHRpb24pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzZXR0aW5nc19lbGVtZW50Lml0ZW1zID0gdmFsdWVzO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHNldHRpbmdzX2VsZW1lbnQub3B0aW9ucyA9IEpTT04ucGFyc2UoZGF0YV9yYXcpO1xyXG5cdFx0XHRcdGZvciAoaSA9IDAsIG4gPSBzZXR0aW5nc19lbGVtZW50Lm9wdGlvbnMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0XHRzZXR0aW5nc19lbGVtZW50Lml0ZW1zLnB1c2goc2V0dGluZ3NfZWxlbWVudC5vcHRpb25zW2ldW2ZpZWxkX3ZhbHVlXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW5pdGlhbGl6ZXMgc2VsZWN0aXplIGZyb20gYSA8c2VsZWN0PiBlbGVtZW50LlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSAkaW5wdXRcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5nc19lbGVtZW50XHJcblx0XHQgKi9cclxuXHRcdHZhciBpbml0X3NlbGVjdCA9IGZ1bmN0aW9uKCRpbnB1dCwgc2V0dGluZ3NfZWxlbWVudCkge1xyXG5cdFx0XHR2YXIgaSwgbiwgdGFnTmFtZSwgJGNoaWxkcmVuLCBvcmRlciA9IDA7XHJcblx0XHRcdHZhciBvcHRpb25zID0gc2V0dGluZ3NfZWxlbWVudC5vcHRpb25zO1xyXG5cdFx0XHR2YXIgb3B0aW9uc01hcCA9IHt9O1xyXG5cclxuXHRcdFx0dmFyIHJlYWREYXRhID0gZnVuY3Rpb24oJGVsKSB7XHJcblx0XHRcdFx0dmFyIGRhdGEgPSBhdHRyX2RhdGEgJiYgJGVsLmF0dHIoYXR0cl9kYXRhKTtcclxuXHRcdFx0XHRpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gSlNPTi5wYXJzZShkYXRhKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHR2YXIgYWRkT3B0aW9uID0gZnVuY3Rpb24oJG9wdGlvbiwgZ3JvdXApIHtcclxuXHRcdFx0XHQkb3B0aW9uID0gJCgkb3B0aW9uKTtcclxuXHJcblx0XHRcdFx0dmFyIHZhbHVlID0gaGFzaF9rZXkoJG9wdGlvbi52YWwoKSk7XHJcblx0XHRcdFx0aWYgKCF2YWx1ZSAmJiAhc2V0dGluZ3MuYWxsb3dFbXB0eU9wdGlvbikgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHQvLyBpZiB0aGUgb3B0aW9uIGFscmVhZHkgZXhpc3RzLCBpdCdzIHByb2JhYmx5IGJlZW5cclxuXHRcdFx0XHQvLyBkdXBsaWNhdGVkIGluIGFub3RoZXIgb3B0Z3JvdXAuIGluIHRoaXMgY2FzZSwgcHVzaFxyXG5cdFx0XHRcdC8vIHRoZSBjdXJyZW50IGdyb3VwIHRvIHRoZSBcIm9wdGdyb3VwXCIgcHJvcGVydHkgb24gdGhlXHJcblx0XHRcdFx0Ly8gZXhpc3Rpbmcgb3B0aW9uIHNvIHRoYXQgaXQncyByZW5kZXJlZCBpbiBib3RoIHBsYWNlcy5cclxuXHRcdFx0XHRpZiAob3B0aW9uc01hcC5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkpIHtcclxuXHRcdFx0XHRcdGlmIChncm91cCkge1xyXG5cdFx0XHRcdFx0XHR2YXIgYXJyID0gb3B0aW9uc01hcFt2YWx1ZV1bZmllbGRfb3B0Z3JvdXBdO1xyXG5cdFx0XHRcdFx0XHRpZiAoIWFycikge1xyXG5cdFx0XHRcdFx0XHRcdG9wdGlvbnNNYXBbdmFsdWVdW2ZpZWxkX29wdGdyb3VwXSA9IGdyb3VwO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCEkLmlzQXJyYXkoYXJyKSkge1xyXG5cdFx0XHRcdFx0XHRcdG9wdGlvbnNNYXBbdmFsdWVdW2ZpZWxkX29wdGdyb3VwXSA9IFthcnIsIGdyb3VwXTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRhcnIucHVzaChncm91cCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHZhciBvcHRpb24gICAgICAgICAgICAgPSByZWFkRGF0YSgkb3B0aW9uKSB8fCB7fTtcclxuXHRcdFx0XHRvcHRpb25bZmllbGRfbGFiZWxdICAgID0gb3B0aW9uW2ZpZWxkX2xhYmVsXSB8fCAkb3B0aW9uLnRleHQoKTtcclxuXHRcdFx0XHRvcHRpb25bZmllbGRfdmFsdWVdICAgID0gb3B0aW9uW2ZpZWxkX3ZhbHVlXSB8fCB2YWx1ZTtcclxuXHRcdFx0XHRvcHRpb25bZmllbGRfb3B0Z3JvdXBdID0gb3B0aW9uW2ZpZWxkX29wdGdyb3VwXSB8fCBncm91cDtcclxuXHJcblx0XHRcdFx0b3B0aW9uc01hcFt2YWx1ZV0gPSBvcHRpb247XHJcblx0XHRcdFx0b3B0aW9ucy5wdXNoKG9wdGlvbik7XHJcblxyXG5cdFx0XHRcdGlmICgkb3B0aW9uLmlzKCc6c2VsZWN0ZWQnKSkge1xyXG5cdFx0XHRcdFx0c2V0dGluZ3NfZWxlbWVudC5pdGVtcy5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHR2YXIgYWRkR3JvdXAgPSBmdW5jdGlvbigkb3B0Z3JvdXApIHtcclxuXHRcdFx0XHR2YXIgaSwgbiwgaWQsIG9wdGdyb3VwLCAkb3B0aW9ucztcclxuXHJcblx0XHRcdFx0JG9wdGdyb3VwID0gJCgkb3B0Z3JvdXApO1xyXG5cdFx0XHRcdGlkID0gJG9wdGdyb3VwLmF0dHIoJ2xhYmVsJyk7XHJcblxyXG5cdFx0XHRcdGlmIChpZCkge1xyXG5cdFx0XHRcdFx0b3B0Z3JvdXAgPSByZWFkRGF0YSgkb3B0Z3JvdXApIHx8IHt9O1xyXG5cdFx0XHRcdFx0b3B0Z3JvdXBbZmllbGRfb3B0Z3JvdXBfbGFiZWxdID0gaWQ7XHJcblx0XHRcdFx0XHRvcHRncm91cFtmaWVsZF9vcHRncm91cF92YWx1ZV0gPSBpZDtcclxuXHRcdFx0XHRcdHNldHRpbmdzX2VsZW1lbnQub3B0Z3JvdXBzLnB1c2gob3B0Z3JvdXApO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0JG9wdGlvbnMgPSAkKCdvcHRpb24nLCAkb3B0Z3JvdXApO1xyXG5cdFx0XHRcdGZvciAoaSA9IDAsIG4gPSAkb3B0aW9ucy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRcdGFkZE9wdGlvbigkb3B0aW9uc1tpXSwgaWQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHNldHRpbmdzX2VsZW1lbnQubWF4SXRlbXMgPSAkaW5wdXQuYXR0cignbXVsdGlwbGUnKSA/IG51bGwgOiAxO1xyXG5cclxuXHRcdFx0JGNoaWxkcmVuID0gJGlucHV0LmNoaWxkcmVuKCk7XHJcblx0XHRcdGZvciAoaSA9IDAsIG4gPSAkY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0dGFnTmFtZSA9ICRjaGlsZHJlbltpXS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRcdFx0aWYgKHRhZ05hbWUgPT09ICdvcHRncm91cCcpIHtcclxuXHRcdFx0XHRcdGFkZEdyb3VwKCRjaGlsZHJlbltpXSk7XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0YWdOYW1lID09PSAnb3B0aW9uJykge1xyXG5cdFx0XHRcdFx0YWRkT3B0aW9uKCRjaGlsZHJlbltpXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICh0aGlzLnNlbGVjdGl6ZSkgcmV0dXJuO1xyXG5cclxuXHRcdFx0dmFyIGluc3RhbmNlO1xyXG5cdFx0XHR2YXIgJGlucHV0ID0gJCh0aGlzKTtcclxuXHRcdFx0dmFyIHRhZ19uYW1lID0gdGhpcy50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRcdHZhciBwbGFjZWhvbGRlciA9ICRpbnB1dC5hdHRyKCdwbGFjZWhvbGRlcicpIHx8ICRpbnB1dC5hdHRyKCdkYXRhLXBsYWNlaG9sZGVyJyk7XHJcblx0XHRcdGlmICghcGxhY2Vob2xkZXIgJiYgIXNldHRpbmdzLmFsbG93RW1wdHlPcHRpb24pIHtcclxuXHRcdFx0XHRwbGFjZWhvbGRlciA9ICRpbnB1dC5jaGlsZHJlbignb3B0aW9uW3ZhbHVlPVwiXCJdJykudGV4dCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgc2V0dGluZ3NfZWxlbWVudCA9IHtcclxuXHRcdFx0XHQncGxhY2Vob2xkZXInIDogcGxhY2Vob2xkZXIsXHJcblx0XHRcdFx0J29wdGlvbnMnICAgICA6IFtdLFxyXG5cdFx0XHRcdCdvcHRncm91cHMnICAgOiBbXSxcclxuXHRcdFx0XHQnaXRlbXMnICAgICAgIDogW11cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGlmICh0YWdfbmFtZSA9PT0gJ3NlbGVjdCcpIHtcclxuXHRcdFx0XHRpbml0X3NlbGVjdCgkaW5wdXQsIHNldHRpbmdzX2VsZW1lbnQpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGluaXRfdGV4dGJveCgkaW5wdXQsIHNldHRpbmdzX2VsZW1lbnQpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpbnN0YW5jZSA9IG5ldyBTZWxlY3RpemUoJGlucHV0LCAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdHMsIHNldHRpbmdzX2VsZW1lbnQsIHNldHRpbmdzX3VzZXIpKTtcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdCQuZm4uc2VsZWN0aXplLmRlZmF1bHRzID0gU2VsZWN0aXplLmRlZmF1bHRzO1xyXG5cdCQuZm4uc2VsZWN0aXplLnN1cHBvcnQgPSB7XHJcblx0XHR2YWxpZGl0eTogU1VQUE9SVFNfVkFMSURJVFlfQVBJXHJcblx0fTtcclxuXHJcblxyXG5cdFNlbGVjdGl6ZS5kZWZpbmUoJ2RyYWdfZHJvcCcsIGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuXHRcdGlmICghJC5mbi5zb3J0YWJsZSkgdGhyb3cgbmV3IEVycm9yKCdUaGUgXCJkcmFnX2Ryb3BcIiBwbHVnaW4gcmVxdWlyZXMgalF1ZXJ5IFVJIFwic29ydGFibGVcIi4nKTtcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLm1vZGUgIT09ICdtdWx0aScpIHJldHVybjtcclxuXHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRzZWxmLmxvY2sgPSAoZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBvcmlnaW5hbCA9IHNlbGYubG9jaztcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHZhciBzb3J0YWJsZSA9IHNlbGYuJGNvbnRyb2wuZGF0YSgnc29ydGFibGUnKTtcclxuXHRcdFx0XHRpZiAoc29ydGFibGUpIHNvcnRhYmxlLmRpc2FibGUoKTtcclxuXHRcdFx0XHRyZXR1cm4gb3JpZ2luYWwuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcclxuXHRcdFx0fTtcclxuXHRcdH0pKCk7XHJcblxyXG5cdFx0c2VsZi51bmxvY2sgPSAoZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBvcmlnaW5hbCA9IHNlbGYudW5sb2NrO1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dmFyIHNvcnRhYmxlID0gc2VsZi4kY29udHJvbC5kYXRhKCdzb3J0YWJsZScpO1xyXG5cdFx0XHRcdGlmIChzb3J0YWJsZSkgc29ydGFibGUuZW5hYmxlKCk7XHJcblx0XHRcdFx0cmV0dXJuIG9yaWdpbmFsLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XHJcblx0XHRcdH07XHJcblx0XHR9KSgpO1xyXG5cclxuXHRcdHNlbGYuc2V0dXAgPSAoZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBvcmlnaW5hbCA9IHNlbGYuc2V0dXA7XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cclxuXHRcdFx0XHR2YXIgJGNvbnRyb2wgPSBzZWxmLiRjb250cm9sLnNvcnRhYmxlKHtcclxuXHRcdFx0XHRcdGl0ZW1zOiAnW2RhdGEtdmFsdWVdJyxcclxuXHRcdFx0XHRcdGZvcmNlUGxhY2Vob2xkZXJTaXplOiB0cnVlLFxyXG5cdFx0XHRcdFx0ZGlzYWJsZWQ6IHNlbGYuaXNMb2NrZWQsXHJcblx0XHRcdFx0XHRzdGFydDogZnVuY3Rpb24oZSwgdWkpIHtcclxuXHRcdFx0XHRcdFx0dWkucGxhY2Vob2xkZXIuY3NzKCd3aWR0aCcsIHVpLmhlbHBlci5jc3MoJ3dpZHRoJykpO1xyXG5cdFx0XHRcdFx0XHQkY29udHJvbC5jc3Moe292ZXJmbG93OiAndmlzaWJsZSd9KTtcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRzdG9wOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0JGNvbnRyb2wuY3NzKHtvdmVyZmxvdzogJ2hpZGRlbid9KTtcclxuXHRcdFx0XHRcdFx0dmFyIGFjdGl2ZSA9IHNlbGYuJGFjdGl2ZUl0ZW1zID8gc2VsZi4kYWN0aXZlSXRlbXMuc2xpY2UoKSA6IG51bGw7XHJcblx0XHRcdFx0XHRcdHZhciB2YWx1ZXMgPSBbXTtcclxuXHRcdFx0XHRcdFx0JGNvbnRyb2wuY2hpbGRyZW4oJ1tkYXRhLXZhbHVlXScpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFsdWVzLnB1c2goJCh0aGlzKS5hdHRyKCdkYXRhLXZhbHVlJykpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0c2VsZi5zZXRWYWx1ZSh2YWx1ZXMpO1xyXG5cdFx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZUl0ZW0oYWN0aXZlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fTtcclxuXHRcdH0pKCk7XHJcblxyXG5cdH0pO1xyXG5cclxuXHRTZWxlY3RpemUuZGVmaW5lKCdkcm9wZG93bl9oZWFkZXInLCBmdW5jdGlvbihvcHRpb25zKSB7XHJcblx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0b3B0aW9ucyA9ICQuZXh0ZW5kKHtcclxuXHRcdFx0dGl0bGUgICAgICAgICA6ICdVbnRpdGxlZCcsXHJcblx0XHRcdGhlYWRlckNsYXNzICAgOiAnc2VsZWN0aXplLWRyb3Bkb3duLWhlYWRlcicsXHJcblx0XHRcdHRpdGxlUm93Q2xhc3MgOiAnc2VsZWN0aXplLWRyb3Bkb3duLWhlYWRlci10aXRsZScsXHJcblx0XHRcdGxhYmVsQ2xhc3MgICAgOiAnc2VsZWN0aXplLWRyb3Bkb3duLWhlYWRlci1sYWJlbCcsXHJcblx0XHRcdGNsb3NlQ2xhc3MgICAgOiAnc2VsZWN0aXplLWRyb3Bkb3duLWhlYWRlci1jbG9zZScsXHJcblxyXG5cdFx0XHRodG1sOiBmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdFx0cmV0dXJuIChcclxuXHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwiJyArIGRhdGEuaGVhZGVyQ2xhc3MgKyAnXCI+JyArXHJcblx0XHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwiJyArIGRhdGEudGl0bGVSb3dDbGFzcyArICdcIj4nICtcclxuXHRcdFx0XHRcdFx0XHQnPHNwYW4gY2xhc3M9XCInICsgZGF0YS5sYWJlbENsYXNzICsgJ1wiPicgKyBkYXRhLnRpdGxlICsgJzwvc3Bhbj4nICtcclxuXHRcdFx0XHRcdFx0XHQnPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGNsYXNzPVwiJyArIGRhdGEuY2xvc2VDbGFzcyArICdcIj4mdGltZXM7PC9hPicgK1xyXG5cdFx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHQnPC9kaXY+J1xyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHRcdH0sIG9wdGlvbnMpO1xyXG5cclxuXHRcdHNlbGYuc2V0dXAgPSAoZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBvcmlnaW5hbCA9IHNlbGYuc2V0dXA7XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRvcmlnaW5hbC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRcdHNlbGYuJGRyb3Bkb3duX2hlYWRlciA9ICQob3B0aW9ucy5odG1sKG9wdGlvbnMpKTtcclxuXHRcdFx0XHRzZWxmLiRkcm9wZG93bi5wcmVwZW5kKHNlbGYuJGRyb3Bkb3duX2hlYWRlcik7XHJcblx0XHRcdH07XHJcblx0XHR9KSgpO1xyXG5cclxuXHR9KTtcclxuXHJcblx0U2VsZWN0aXplLmRlZmluZSgnb3B0Z3JvdXBfY29sdW1ucycsIGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuXHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRvcHRpb25zID0gJC5leHRlbmQoe1xyXG5cdFx0XHRlcXVhbGl6ZVdpZHRoICA6IHRydWUsXHJcblx0XHRcdGVxdWFsaXplSGVpZ2h0IDogdHJ1ZVxyXG5cdFx0fSwgb3B0aW9ucyk7XHJcblxyXG5cdFx0dGhpcy5nZXRBZGphY2VudE9wdGlvbiA9IGZ1bmN0aW9uKCRvcHRpb24sIGRpcmVjdGlvbikge1xyXG5cdFx0XHR2YXIgJG9wdGlvbnMgPSAkb3B0aW9uLmNsb3Nlc3QoJ1tkYXRhLWdyb3VwXScpLmZpbmQoJ1tkYXRhLXNlbGVjdGFibGVdJyk7XHJcblx0XHRcdHZhciBpbmRleCAgICA9ICRvcHRpb25zLmluZGV4KCRvcHRpb24pICsgZGlyZWN0aW9uO1xyXG5cclxuXHRcdFx0cmV0dXJuIGluZGV4ID49IDAgJiYgaW5kZXggPCAkb3B0aW9ucy5sZW5ndGggPyAkb3B0aW9ucy5lcShpbmRleCkgOiAkKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHRoaXMub25LZXlEb3duID0gKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLm9uS2V5RG93bjtcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHR2YXIgaW5kZXgsICRvcHRpb24sICRvcHRpb25zLCAkb3B0Z3JvdXA7XHJcblxyXG5cdFx0XHRcdGlmICh0aGlzLmlzT3BlbiAmJiAoZS5rZXlDb2RlID09PSBLRVlfTEVGVCB8fCBlLmtleUNvZGUgPT09IEtFWV9SSUdIVCkpIHtcclxuXHRcdFx0XHRcdHNlbGYuaWdub3JlSG92ZXIgPSB0cnVlO1xyXG5cdFx0XHRcdFx0JG9wdGdyb3VwID0gdGhpcy4kYWN0aXZlT3B0aW9uLmNsb3Nlc3QoJ1tkYXRhLWdyb3VwXScpO1xyXG5cdFx0XHRcdFx0aW5kZXggPSAkb3B0Z3JvdXAuZmluZCgnW2RhdGEtc2VsZWN0YWJsZV0nKS5pbmRleCh0aGlzLiRhY3RpdmVPcHRpb24pO1xyXG5cclxuXHRcdFx0XHRcdGlmKGUua2V5Q29kZSA9PT0gS0VZX0xFRlQpIHtcclxuXHRcdFx0XHRcdFx0JG9wdGdyb3VwID0gJG9wdGdyb3VwLnByZXYoJ1tkYXRhLWdyb3VwXScpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0JG9wdGdyb3VwID0gJG9wdGdyb3VwLm5leHQoJ1tkYXRhLWdyb3VwXScpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdCRvcHRpb25zID0gJG9wdGdyb3VwLmZpbmQoJ1tkYXRhLXNlbGVjdGFibGVdJyk7XHJcblx0XHRcdFx0XHQkb3B0aW9uICA9ICRvcHRpb25zLmVxKE1hdGgubWluKCRvcHRpb25zLmxlbmd0aCAtIDEsIGluZGV4KSk7XHJcblx0XHRcdFx0XHRpZiAoJG9wdGlvbi5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5zZXRBY3RpdmVPcHRpb24oJG9wdGlvbik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0fTtcclxuXHRcdH0pKCk7XHJcblxyXG5cdFx0dmFyIGdldFNjcm9sbGJhcldpZHRoID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBkaXY7XHJcblx0XHRcdHZhciB3aWR0aCA9IGdldFNjcm9sbGJhcldpZHRoLndpZHRoO1xyXG5cdFx0XHR2YXIgZG9jID0gZG9jdW1lbnQ7XHJcblxyXG5cdFx0XHRpZiAodHlwZW9mIHdpZHRoID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdGRpdiA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gJzxkaXYgc3R5bGU9XCJ3aWR0aDo1MHB4O2hlaWdodDo1MHB4O3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTUwcHg7dG9wOi01MHB4O292ZXJmbG93OmF1dG87XCI+PGRpdiBzdHlsZT1cIndpZHRoOjFweDtoZWlnaHQ6MTAwcHg7XCI+PC9kaXY+PC9kaXY+JztcclxuXHRcdFx0XHRkaXYgPSBkaXYuZmlyc3RDaGlsZDtcclxuXHRcdFx0XHRkb2MuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xyXG5cdFx0XHRcdHdpZHRoID0gZ2V0U2Nyb2xsYmFyV2lkdGgud2lkdGggPSBkaXYub2Zmc2V0V2lkdGggLSBkaXYuY2xpZW50V2lkdGg7XHJcblx0XHRcdFx0ZG9jLmJvZHkucmVtb3ZlQ2hpbGQoZGl2KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gd2lkdGg7XHJcblx0XHR9O1xyXG5cclxuXHRcdHZhciBlcXVhbGl6ZVNpemVzID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBpLCBuLCBoZWlnaHRfbWF4LCB3aWR0aCwgd2lkdGhfbGFzdCwgd2lkdGhfcGFyZW50LCAkb3B0Z3JvdXBzO1xyXG5cclxuXHRcdFx0JG9wdGdyb3VwcyA9ICQoJ1tkYXRhLWdyb3VwXScsIHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQpO1xyXG5cdFx0XHRuID0gJG9wdGdyb3Vwcy5sZW5ndGg7XHJcblx0XHRcdGlmICghbiB8fCAhc2VsZi4kZHJvcGRvd25fY29udGVudC53aWR0aCgpKSByZXR1cm47XHJcblxyXG5cdFx0XHRpZiAob3B0aW9ucy5lcXVhbGl6ZUhlaWdodCkge1xyXG5cdFx0XHRcdGhlaWdodF9tYXggPSAwO1xyXG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRcdGhlaWdodF9tYXggPSBNYXRoLm1heChoZWlnaHRfbWF4LCAkb3B0Z3JvdXBzLmVxKGkpLmhlaWdodCgpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JG9wdGdyb3Vwcy5jc3Moe2hlaWdodDogaGVpZ2h0X21heH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAob3B0aW9ucy5lcXVhbGl6ZVdpZHRoKSB7XHJcblx0XHRcdFx0d2lkdGhfcGFyZW50ID0gc2VsZi4kZHJvcGRvd25fY29udGVudC5pbm5lcldpZHRoKCkgLSBnZXRTY3JvbGxiYXJXaWR0aCgpO1xyXG5cdFx0XHRcdHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aF9wYXJlbnQgLyBuKTtcclxuXHRcdFx0XHQkb3B0Z3JvdXBzLmNzcyh7d2lkdGg6IHdpZHRofSk7XHJcblx0XHRcdFx0aWYgKG4gPiAxKSB7XHJcblx0XHRcdFx0XHR3aWR0aF9sYXN0ID0gd2lkdGhfcGFyZW50IC0gd2lkdGggKiAobiAtIDEpO1xyXG5cdFx0XHRcdFx0JG9wdGdyb3Vwcy5lcShuIC0gMSkuY3NzKHt3aWR0aDogd2lkdGhfbGFzdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRpZiAob3B0aW9ucy5lcXVhbGl6ZUhlaWdodCB8fCBvcHRpb25zLmVxdWFsaXplV2lkdGgpIHtcclxuXHRcdFx0aG9vay5hZnRlcih0aGlzLCAncG9zaXRpb25Ecm9wZG93bicsIGVxdWFsaXplU2l6ZXMpO1xyXG5cdFx0XHRob29rLmFmdGVyKHRoaXMsICdyZWZyZXNoT3B0aW9ucycsIGVxdWFsaXplU2l6ZXMpO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0fSk7XHJcblxyXG5cdFNlbGVjdGl6ZS5kZWZpbmUoJ3JlbW92ZV9idXR0b24nLCBmdW5jdGlvbihvcHRpb25zKSB7XHJcblx0XHRvcHRpb25zID0gJC5leHRlbmQoe1xyXG5cdFx0XHRcdGxhYmVsICAgICA6ICcmdGltZXM7JyxcclxuXHRcdFx0XHR0aXRsZSAgICAgOiAnUmVtb3ZlJyxcclxuXHRcdFx0XHRjbGFzc05hbWUgOiAncmVtb3ZlJyxcclxuXHRcdFx0XHRhcHBlbmQgICAgOiB0cnVlXHJcblx0XHRcdH0sIG9wdGlvbnMpO1xyXG5cclxuXHRcdFx0dmFyIHNpbmdsZUNsb3NlID0gZnVuY3Rpb24odGhpc1JlZiwgb3B0aW9ucykge1xyXG5cclxuXHRcdFx0XHRvcHRpb25zLmNsYXNzTmFtZSA9ICdyZW1vdmUtc2luZ2xlJztcclxuXHJcblx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzUmVmO1xyXG5cdFx0XHRcdHZhciBodG1sID0gJzxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBjbGFzcz1cIicgKyBvcHRpb25zLmNsYXNzTmFtZSArICdcIiB0YWJpbmRleD1cIi0xXCIgdGl0bGU9XCInICsgZXNjYXBlX2h0bWwob3B0aW9ucy50aXRsZSkgKyAnXCI+JyArIG9wdGlvbnMubGFiZWwgKyAnPC9hPic7XHJcblxyXG5cdFx0XHRcdC8qKlxyXG5cdFx0XHRcdCAqIEFwcGVuZHMgYW4gZWxlbWVudCBhcyBhIGNoaWxkICh3aXRoIHJhdyBIVE1MKS5cclxuXHRcdFx0XHQgKlxyXG5cdFx0XHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sX2NvbnRhaW5lclxyXG5cdFx0XHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sX2VsZW1lbnRcclxuXHRcdFx0XHQgKiBAcmV0dXJuIHtzdHJpbmd9XHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0dmFyIGFwcGVuZCA9IGZ1bmN0aW9uKGh0bWxfY29udGFpbmVyLCBodG1sX2VsZW1lbnQpIHtcclxuXHRcdFx0XHRcdHJldHVybiBodG1sX2NvbnRhaW5lciArIGh0bWxfZWxlbWVudDtcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHR0aGlzUmVmLnNldHVwID0gKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dmFyIG9yaWdpbmFsID0gc2VsZi5zZXR1cDtcclxuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0Ly8gb3ZlcnJpZGUgdGhlIGl0ZW0gcmVuZGVyaW5nIG1ldGhvZCB0byBhZGQgdGhlIGJ1dHRvbiB0byBlYWNoXHJcblx0XHRcdFx0XHRcdGlmIChvcHRpb25zLmFwcGVuZCkge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBpZCA9ICQoc2VsZi4kaW5wdXQuY29udGV4dCkuYXR0cignaWQnKTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgc2VsZWN0aXplciA9ICQoJyMnK2lkKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0dmFyIHJlbmRlcl9pdGVtID0gc2VsZi5zZXR0aW5ncy5yZW5kZXIuaXRlbTtcclxuXHRcdFx0XHRcdFx0XHRzZWxmLnNldHRpbmdzLnJlbmRlci5pdGVtID0gZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGFwcGVuZChyZW5kZXJfaXRlbS5hcHBseSh0aGlzUmVmLCBhcmd1bWVudHMpLCBodG1sKTtcclxuXHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRvcmlnaW5hbC5hcHBseSh0aGlzUmVmLCBhcmd1bWVudHMpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gYWRkIGV2ZW50IGxpc3RlbmVyXHJcblx0XHRcdFx0XHRcdHRoaXNSZWYuJGNvbnRyb2wub24oJ2NsaWNrJywgJy4nICsgb3B0aW9ucy5jbGFzc05hbWUsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHNlbGYuaXNMb2NrZWQpIHJldHVybjtcclxuXHJcblx0XHRcdFx0XHRcdFx0c2VsZi5jbGVhcigpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH0pKCk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHR2YXIgbXVsdGlDbG9zZSA9IGZ1bmN0aW9uKHRoaXNSZWYsIG9wdGlvbnMpIHtcclxuXHJcblx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzUmVmO1xyXG5cdFx0XHRcdHZhciBodG1sID0gJzxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBjbGFzcz1cIicgKyBvcHRpb25zLmNsYXNzTmFtZSArICdcIiB0YWJpbmRleD1cIi0xXCIgdGl0bGU9XCInICsgZXNjYXBlX2h0bWwob3B0aW9ucy50aXRsZSkgKyAnXCI+JyArIG9wdGlvbnMubGFiZWwgKyAnPC9hPic7XHJcblxyXG5cdFx0XHRcdC8qKlxyXG5cdFx0XHRcdCAqIEFwcGVuZHMgYW4gZWxlbWVudCBhcyBhIGNoaWxkICh3aXRoIHJhdyBIVE1MKS5cclxuXHRcdFx0XHQgKlxyXG5cdFx0XHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sX2NvbnRhaW5lclxyXG5cdFx0XHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sX2VsZW1lbnRcclxuXHRcdFx0XHQgKiBAcmV0dXJuIHtzdHJpbmd9XHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0dmFyIGFwcGVuZCA9IGZ1bmN0aW9uKGh0bWxfY29udGFpbmVyLCBodG1sX2VsZW1lbnQpIHtcclxuXHRcdFx0XHRcdHZhciBwb3MgPSBodG1sX2NvbnRhaW5lci5zZWFyY2goLyg8XFwvW14+XSs+XFxzKikkLyk7XHJcblx0XHRcdFx0XHRyZXR1cm4gaHRtbF9jb250YWluZXIuc3Vic3RyaW5nKDAsIHBvcykgKyBodG1sX2VsZW1lbnQgKyBodG1sX2NvbnRhaW5lci5zdWJzdHJpbmcocG9zKTtcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHR0aGlzUmVmLnNldHVwID0gKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dmFyIG9yaWdpbmFsID0gc2VsZi5zZXR1cDtcclxuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0Ly8gb3ZlcnJpZGUgdGhlIGl0ZW0gcmVuZGVyaW5nIG1ldGhvZCB0byBhZGQgdGhlIGJ1dHRvbiB0byBlYWNoXHJcblx0XHRcdFx0XHRcdGlmIChvcHRpb25zLmFwcGVuZCkge1xyXG5cdFx0XHRcdFx0XHRcdHZhciByZW5kZXJfaXRlbSA9IHNlbGYuc2V0dGluZ3MucmVuZGVyLml0ZW07XHJcblx0XHRcdFx0XHRcdFx0c2VsZi5zZXR0aW5ncy5yZW5kZXIuaXRlbSA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBhcHBlbmQocmVuZGVyX2l0ZW0uYXBwbHkodGhpc1JlZiwgYXJndW1lbnRzKSwgaHRtbCk7XHJcblx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0b3JpZ2luYWwuYXBwbHkodGhpc1JlZiwgYXJndW1lbnRzKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIGFkZCBldmVudCBsaXN0ZW5lclxyXG5cdFx0XHRcdFx0XHR0aGlzUmVmLiRjb250cm9sLm9uKCdjbGljaycsICcuJyArIG9wdGlvbnMuY2xhc3NOYW1lLCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChzZWxmLmlzTG9ja2VkKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0XHRcdHZhciAkaXRlbSA9ICQoZS5jdXJyZW50VGFyZ2V0KS5wYXJlbnQoKTtcclxuXHRcdFx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZUl0ZW0oJGl0ZW0pO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChzZWxmLmRlbGV0ZVNlbGVjdGlvbigpKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRzZWxmLnNldENhcmV0KHNlbGYuaXRlbXMubGVuZ3RoKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fSkoKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLm1vZGUgPT09ICdzaW5nbGUnKSB7XHJcblx0XHRcdFx0c2luZ2xlQ2xvc2UodGhpcywgb3B0aW9ucyk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG11bHRpQ2xvc2UodGhpcywgb3B0aW9ucyk7XHJcblx0XHRcdH1cclxuXHR9KTtcclxuXHJcblxyXG5cdFNlbGVjdGl6ZS5kZWZpbmUoJ3Jlc3RvcmVfb25fYmFja3NwYWNlJywgZnVuY3Rpb24ob3B0aW9ucykge1xyXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdG9wdGlvbnMudGV4dCA9IG9wdGlvbnMudGV4dCB8fCBmdW5jdGlvbihvcHRpb24pIHtcclxuXHRcdFx0cmV0dXJuIG9wdGlvblt0aGlzLnNldHRpbmdzLmxhYmVsRmllbGRdO1xyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLm9uS2V5RG93biA9IChmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIG9yaWdpbmFsID0gc2VsZi5vbktleURvd247XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0dmFyIGluZGV4LCBvcHRpb247XHJcblx0XHRcdFx0aWYgKGUua2V5Q29kZSA9PT0gS0VZX0JBQ0tTUEFDRSAmJiB0aGlzLiRjb250cm9sX2lucHV0LnZhbCgpID09PSAnJyAmJiAhdGhpcy4kYWN0aXZlSXRlbXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRpbmRleCA9IHRoaXMuY2FyZXRQb3MgLSAxO1xyXG5cdFx0XHRcdFx0aWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLml0ZW1zLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRvcHRpb24gPSB0aGlzLm9wdGlvbnNbdGhpcy5pdGVtc1tpbmRleF1dO1xyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5kZWxldGVTZWxlY3Rpb24oZSkpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnNldFRleHRib3hWYWx1ZShvcHRpb25zLnRleHQuYXBwbHkodGhpcywgW29wdGlvbl0pKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnJlZnJlc2hPcHRpb25zKHRydWUpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0fTtcclxuXHRcdH0pKCk7XHJcblx0fSk7XHJcblxyXG5cclxuXHRyZXR1cm4gU2VsZWN0aXplO1xyXG59KSk7XHJcbiIsIi8qIVxyXG4gKiBjbGlwYm9hcmQuanMgdjEuNS4xMlxyXG4gKiBodHRwczovL3plbm9yb2NoYS5naXRodWIuaW8vY2xpcGJvYXJkLmpzXHJcbiAqXHJcbiAqIExpY2Vuc2VkIE1JVCDCqSBaZW5vIFJvY2hhXHJcbiAqL1xyXG4oZnVuY3Rpb24oZil7aWYodHlwZW9mIGV4cG9ydHM9PT1cIm9iamVjdFwiJiZ0eXBlb2YgbW9kdWxlIT09XCJ1bmRlZmluZWRcIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PVwiZnVuY3Rpb25cIiYmZGVmaW5lLmFtZCl7ZGVmaW5lKFtdLGYpfWVsc2V7dmFyIGc7aWYodHlwZW9mIHdpbmRvdyE9PVwidW5kZWZpbmVkXCIpe2c9d2luZG93fWVsc2UgaWYodHlwZW9mIGdsb2JhbCE9PVwidW5kZWZpbmVkXCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT1cInVuZGVmaW5lZFwiKXtnPXNlbGZ9ZWxzZXtnPXRoaXN9Zy5DbGlwYm9hcmQgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XHJcbnZhciBtYXRjaGVzID0gcmVxdWlyZSgnbWF0Y2hlcy1zZWxlY3RvcicpXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChlbGVtZW50LCBzZWxlY3RvciwgY2hlY2tZb1NlbGYpIHtcclxuICB2YXIgcGFyZW50ID0gY2hlY2tZb1NlbGYgPyBlbGVtZW50IDogZWxlbWVudC5wYXJlbnROb2RlXHJcblxyXG4gIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50ICE9PSBkb2N1bWVudCkge1xyXG4gICAgaWYgKG1hdGNoZXMocGFyZW50LCBzZWxlY3RvcikpIHJldHVybiBwYXJlbnQ7XHJcbiAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZVxyXG4gIH1cclxufVxyXG5cclxufSx7XCJtYXRjaGVzLXNlbGVjdG9yXCI6NX1dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xyXG52YXIgY2xvc2VzdCA9IHJlcXVpcmUoJ2Nsb3Nlc3QnKTtcclxuXHJcbi8qKlxyXG4gKiBEZWxlZ2F0ZXMgZXZlbnQgdG8gYSBzZWxlY3Rvci5cclxuICpcclxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxyXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHVzZUNhcHR1cmVcclxuICogQHJldHVybiB7T2JqZWN0fVxyXG4gKi9cclxuZnVuY3Rpb24gZGVsZWdhdGUoZWxlbWVudCwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKSB7XHJcbiAgICB2YXIgbGlzdGVuZXJGbiA9IGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblxyXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lckZuLCB1c2VDYXB0dXJlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGaW5kcyBjbG9zZXN0IG1hdGNoIGFuZCBpbnZva2VzIGNhbGxiYWNrLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcclxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxyXG4gKi9cclxuZnVuY3Rpb24gbGlzdGVuZXIoZWxlbWVudCwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGUuZGVsZWdhdGVUYXJnZXQgPSBjbG9zZXN0KGUudGFyZ2V0LCBzZWxlY3RvciwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIGlmIChlLmRlbGVnYXRlVGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoZWxlbWVudCwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGRlbGVnYXRlO1xyXG5cclxufSx7XCJjbG9zZXN0XCI6MX1dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xyXG4vKipcclxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBIVE1MIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxyXG4gKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gKi9cclxuZXhwb3J0cy5ub2RlID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgJiYgdmFsdWUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudFxyXG4gICAgICAgICYmIHZhbHVlLm5vZGVUeXBlID09PSAxO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgbGlzdCBvZiBIVE1MIGVsZW1lbnRzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICovXHJcbmV4cG9ydHMubm9kZUxpc3QgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgdmFyIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xyXG5cclxuICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgJiYgKHR5cGUgPT09ICdbb2JqZWN0IE5vZGVMaXN0XScgfHwgdHlwZSA9PT0gJ1tvYmplY3QgSFRNTENvbGxlY3Rpb25dJylcclxuICAgICAgICAmJiAoJ2xlbmd0aCcgaW4gdmFsdWUpXHJcbiAgICAgICAgJiYgKHZhbHVlLmxlbmd0aCA9PT0gMCB8fCBleHBvcnRzLm5vZGUodmFsdWVbMF0pKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIHN0cmluZy5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqL1xyXG5leHBvcnRzLnN0cmluZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJ1xyXG4gICAgICAgIHx8IHZhbHVlIGluc3RhbmNlb2YgU3RyaW5nO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxyXG4gKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gKi9cclxuZXhwb3J0cy5mbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICB2YXIgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XHJcblxyXG4gICAgcmV0dXJuIHR5cGUgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XHJcbn07XHJcblxyXG59LHt9XSw0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxudmFyIGlzID0gcmVxdWlyZSgnLi9pcycpO1xyXG52YXIgZGVsZWdhdGUgPSByZXF1aXJlKCdkZWxlZ2F0ZScpO1xyXG5cclxuLyoqXHJcbiAqIFZhbGlkYXRlcyBhbGwgcGFyYW1zIGFuZCBjYWxscyB0aGUgcmlnaHRcclxuICogbGlzdGVuZXIgZnVuY3Rpb24gYmFzZWQgb24gaXRzIHRhcmdldCB0eXBlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudHxIVE1MQ29sbGVjdGlvbnxOb2RlTGlzdH0gdGFyZ2V0XHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICovXHJcbmZ1bmN0aW9uIGxpc3Rlbih0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKSB7XHJcbiAgICBpZiAoIXRhcmdldCAmJiAhdHlwZSAmJiAhY2FsbGJhY2spIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgYXJndW1lbnRzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpcy5zdHJpbmcodHlwZSkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhIFN0cmluZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXMuZm4oY2FsbGJhY2spKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhpcmQgYXJndW1lbnQgbXVzdCBiZSBhIEZ1bmN0aW9uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzLm5vZGUodGFyZ2V0KSkge1xyXG4gICAgICAgIHJldHVybiBsaXN0ZW5Ob2RlKHRhcmdldCwgdHlwZSwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXMubm9kZUxpc3QodGFyZ2V0KSkge1xyXG4gICAgICAgIHJldHVybiBsaXN0ZW5Ob2RlTGlzdCh0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzLnN0cmluZyh0YXJnZXQpKSB7XHJcbiAgICAgICAgcmV0dXJuIGxpc3RlblNlbGVjdG9yKHRhcmdldCwgdHlwZSwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIFN0cmluZywgSFRNTEVsZW1lbnQsIEhUTUxDb2xsZWN0aW9uLCBvciBOb2RlTGlzdCcpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byBhIEhUTUwgZWxlbWVudFxyXG4gKiBhbmQgcmV0dXJucyBhIHJlbW92ZSBsaXN0ZW5lciBmdW5jdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxyXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAqL1xyXG5mdW5jdGlvbiBsaXN0ZW5Ob2RlKG5vZGUsIHR5cGUsIGNhbGxiYWNrKSB7XHJcbiAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGEgbGlzdCBvZiBIVE1MIGVsZW1lbnRzXHJcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge05vZGVMaXN0fEhUTUxDb2xsZWN0aW9ufSBub2RlTGlzdFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAqL1xyXG5mdW5jdGlvbiBsaXN0ZW5Ob2RlTGlzdChub2RlTGlzdCwgdHlwZSwgY2FsbGJhY2spIHtcclxuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobm9kZUxpc3QsIGZ1bmN0aW9uKG5vZGUpIHtcclxuICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChub2RlTGlzdCwgZnVuY3Rpb24obm9kZSkge1xyXG4gICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGEgc2VsZWN0b3JcclxuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxyXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAqL1xyXG5mdW5jdGlvbiBsaXN0ZW5TZWxlY3RvcihzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spIHtcclxuICAgIHJldHVybiBkZWxlZ2F0ZShkb2N1bWVudC5ib2R5LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RlbjtcclxuXHJcbn0se1wiLi9pc1wiOjMsXCJkZWxlZ2F0ZVwiOjJ9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxuXHJcbi8qKlxyXG4gKiBFbGVtZW50IHByb3RvdHlwZS5cclxuICovXHJcblxyXG52YXIgcHJvdG8gPSBFbGVtZW50LnByb3RvdHlwZTtcclxuXHJcbi8qKlxyXG4gKiBWZW5kb3IgZnVuY3Rpb24uXHJcbiAqL1xyXG5cclxudmFyIHZlbmRvciA9IHByb3RvLm1hdGNoZXNTZWxlY3RvclxyXG4gIHx8IHByb3RvLndlYmtpdE1hdGNoZXNTZWxlY3RvclxyXG4gIHx8IHByb3RvLm1vek1hdGNoZXNTZWxlY3RvclxyXG4gIHx8IHByb3RvLm1zTWF0Y2hlc1NlbGVjdG9yXHJcbiAgfHwgcHJvdG8ub01hdGNoZXNTZWxlY3RvcjtcclxuXHJcbi8qKlxyXG4gKiBFeHBvc2UgYG1hdGNoKClgLlxyXG4gKi9cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbWF0Y2g7XHJcblxyXG4vKipcclxuICogTWF0Y2ggYGVsYCB0byBgc2VsZWN0b3JgLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxyXG4gKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIG1hdGNoKGVsLCBzZWxlY3Rvcikge1xyXG4gIGlmICh2ZW5kb3IpIHJldHVybiB2ZW5kb3IuY2FsbChlbCwgc2VsZWN0b3IpO1xyXG4gIHZhciBub2RlcyA9IGVsLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7ICsraSkge1xyXG4gICAgaWYgKG5vZGVzW2ldID09IGVsKSByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbiAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbn0se31dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xyXG5mdW5jdGlvbiBzZWxlY3QoZWxlbWVudCkge1xyXG4gICAgdmFyIHNlbGVjdGVkVGV4dDtcclxuXHJcbiAgICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0lOUFVUJyB8fCBlbGVtZW50Lm5vZGVOYW1lID09PSAnVEVYVEFSRUEnKSB7XHJcbiAgICAgICAgZWxlbWVudC5mb2N1cygpO1xyXG4gICAgICAgIGVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgZWxlbWVudC52YWx1ZS5sZW5ndGgpO1xyXG5cclxuICAgICAgICBzZWxlY3RlZFRleHQgPSBlbGVtZW50LnZhbHVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKSkge1xyXG4gICAgICAgICAgICBlbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgIHZhciByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XHJcblxyXG4gICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbGVtZW50KTtcclxuICAgICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcclxuXHJcbiAgICAgICAgc2VsZWN0ZWRUZXh0ID0gc2VsZWN0aW9uLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNlbGVjdGVkVGV4dDtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBzZWxlY3Q7XHJcblxyXG59LHt9XSw3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxuZnVuY3Rpb24gRSAoKSB7XHJcblx0Ly8gS2VlcCB0aGlzIGVtcHR5IHNvIGl0J3MgZWFzaWVyIHRvIGluaGVyaXQgZnJvbVxyXG4gIC8vICh2aWEgaHR0cHM6Ly9naXRodWIuY29tL2xpcHNtYWNrIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0Y29yZ2FuL3RpbnktZW1pdHRlci9pc3N1ZXMvMylcclxufVxyXG5cclxuRS5wcm90b3R5cGUgPSB7XHJcblx0b246IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgY3R4KSB7XHJcbiAgICB2YXIgZSA9IHRoaXMuZSB8fCAodGhpcy5lID0ge30pO1xyXG5cclxuICAgIChlW25hbWVdIHx8IChlW25hbWVdID0gW10pKS5wdXNoKHtcclxuICAgICAgZm46IGNhbGxiYWNrLFxyXG4gICAgICBjdHg6IGN0eFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSxcclxuXHJcbiAgb25jZTogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIGZ1bmN0aW9uIGxpc3RlbmVyICgpIHtcclxuICAgICAgc2VsZi5vZmYobmFtZSwgbGlzdGVuZXIpO1xyXG4gICAgICBjYWxsYmFjay5hcHBseShjdHgsIGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG5cclxuICAgIGxpc3RlbmVyLl8gPSBjYWxsYmFja1xyXG4gICAgcmV0dXJuIHRoaXMub24obmFtZSwgbGlzdGVuZXIsIGN0eCk7XHJcbiAgfSxcclxuXHJcbiAgZW1pdDogZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgIHZhciBkYXRhID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG4gICAgdmFyIGV2dEFyciA9ICgodGhpcy5lIHx8ICh0aGlzLmUgPSB7fSkpW25hbWVdIHx8IFtdKS5zbGljZSgpO1xyXG4gICAgdmFyIGkgPSAwO1xyXG4gICAgdmFyIGxlbiA9IGV2dEFyci5sZW5ndGg7XHJcblxyXG4gICAgZm9yIChpOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgZXZ0QXJyW2ldLmZuLmFwcGx5KGV2dEFycltpXS5jdHgsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0sXHJcblxyXG4gIG9mZjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgZSA9IHRoaXMuZSB8fCAodGhpcy5lID0ge30pO1xyXG4gICAgdmFyIGV2dHMgPSBlW25hbWVdO1xyXG4gICAgdmFyIGxpdmVFdmVudHMgPSBbXTtcclxuXHJcbiAgICBpZiAoZXZ0cyAmJiBjYWxsYmFjaykge1xyXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZXZ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIGlmIChldnRzW2ldLmZuICE9PSBjYWxsYmFjayAmJiBldnRzW2ldLmZuLl8gIT09IGNhbGxiYWNrKVxyXG4gICAgICAgICAgbGl2ZUV2ZW50cy5wdXNoKGV2dHNbaV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIGV2ZW50IGZyb20gcXVldWUgdG8gcHJldmVudCBtZW1vcnkgbGVha1xyXG4gICAgLy8gU3VnZ2VzdGVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9sYXpkXHJcbiAgICAvLyBSZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvY29tbWl0L2M2ZWJmYWE5YmM5NzNiMzNkMTEwYTg0YTMwNzc0MmI3Y2Y5NGM5NTMjY29tbWl0Y29tbWVudC01MDI0OTEwXHJcblxyXG4gICAgKGxpdmVFdmVudHMubGVuZ3RoKVxyXG4gICAgICA/IGVbbmFtZV0gPSBsaXZlRXZlbnRzXHJcbiAgICAgIDogZGVsZXRlIGVbbmFtZV07XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBFO1xyXG5cclxufSx7fV0sODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XHJcbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XHJcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcclxuICAgICAgICBkZWZpbmUoWydtb2R1bGUnLCAnc2VsZWN0J10sIGZhY3RvcnkpO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgIGZhY3RvcnkobW9kdWxlLCByZXF1aXJlKCdzZWxlY3QnKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBtb2QgPSB7XHJcbiAgICAgICAgICAgIGV4cG9ydHM6IHt9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBmYWN0b3J5KG1vZCwgZ2xvYmFsLnNlbGVjdCk7XHJcbiAgICAgICAgZ2xvYmFsLmNsaXBib2FyZEFjdGlvbiA9IG1vZC5leHBvcnRzO1xyXG4gICAgfVxyXG59KSh0aGlzLCBmdW5jdGlvbiAobW9kdWxlLCBfc2VsZWN0KSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIF9zZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0KTtcclxuXHJcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xyXG4gICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG9ialxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIG9iajtcclxuICAgIH0gOiBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xyXG4gICAgICAgICAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xyXG4gICAgICAgICAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcclxuICAgICAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xyXG4gICAgICAgIH07XHJcbiAgICB9KCk7XHJcblxyXG4gICAgdmFyIENsaXBib2FyZEFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xyXG4gICAgICAgICAqL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBDbGlwYm9hcmRBY3Rpb24ob3B0aW9ucykge1xyXG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xpcGJvYXJkQWN0aW9uKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZU9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdFNlbGVjdGlvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRGVmaW5lcyBiYXNlIHByb3BlcnRpZXMgcGFzc2VkIGZyb20gY29uc3RydWN0b3IuXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcclxuICAgICAgICAgKi9cclxuXHJcblxyXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUucmVzb2x2ZU9wdGlvbnMgPSBmdW5jdGlvbiByZXNvbHZlT3B0aW9ucygpIHtcclxuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gb3B0aW9ucy5hY3Rpb247XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdHRlciA9IG9wdGlvbnMuZW1pdHRlcjtcclxuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBvcHRpb25zLnRhcmdldDtcclxuICAgICAgICAgICAgdGhpcy50ZXh0ID0gb3B0aW9ucy50ZXh0O1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIgPSBvcHRpb25zLnRyaWdnZXI7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9ICcnO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUuaW5pdFNlbGVjdGlvbiA9IGZ1bmN0aW9uIGluaXRTZWxlY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RmFrZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdFRhcmdldCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5zZWxlY3RGYWtlID0gZnVuY3Rpb24gc2VsZWN0RmFrZSgpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIHZhciBpc1JUTCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RpcicpID09ICdydGwnO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVGYWtlKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucmVtb3ZlRmFrZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyID0gZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjaykgfHwgdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xyXG4gICAgICAgICAgICAvLyBQcmV2ZW50IHpvb21pbmcgb24gaU9TXHJcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUuZm9udFNpemUgPSAnMTJwdCc7XHJcbiAgICAgICAgICAgIC8vIFJlc2V0IGJveCBtb2RlbFxyXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLmJvcmRlciA9ICcwJztcclxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5wYWRkaW5nID0gJzAnO1xyXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLm1hcmdpbiA9ICcwJztcclxuICAgICAgICAgICAgLy8gTW92ZSBlbGVtZW50IG91dCBvZiBzY3JlZW4gaG9yaXpvbnRhbGx5XHJcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlW2lzUlRMID8gJ3JpZ2h0JyA6ICdsZWZ0J10gPSAnLTk5OTlweCc7XHJcbiAgICAgICAgICAgIC8vIE1vdmUgZWxlbWVudCB0byB0aGUgc2FtZSBwb3NpdGlvbiB2ZXJ0aWNhbGx5XHJcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUudG9wID0gKHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSArICdweCc7XHJcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc2V0QXR0cmlidXRlKCdyZWFkb25seScsICcnKTtcclxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS52YWx1ZSA9IHRoaXMudGV4dDtcclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5mYWtlRWxlbSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9ICgwLCBfc2VsZWN0Mi5kZWZhdWx0KSh0aGlzLmZha2VFbGVtKTtcclxuICAgICAgICAgICAgdGhpcy5jb3B5VGV4dCgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUucmVtb3ZlRmFrZSA9IGZ1bmN0aW9uIHJlbW92ZUZha2UoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZha2VIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZmFrZUVsZW0pIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5mYWtlRWxlbSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUuc2VsZWN0VGFyZ2V0ID0gZnVuY3Rpb24gc2VsZWN0VGFyZ2V0KCkge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9ICgwLCBfc2VsZWN0Mi5kZWZhdWx0KSh0aGlzLnRhcmdldCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29weVRleHQoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLmNvcHlUZXh0ID0gZnVuY3Rpb24gY29weVRleHQoKSB7XHJcbiAgICAgICAgICAgIHZhciBzdWNjZWVkZWQgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VlZGVkID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5hY3Rpb24pO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIHN1Y2NlZWRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVJlc3VsdChzdWNjZWVkZWQpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUuaGFuZGxlUmVzdWx0ID0gZnVuY3Rpb24gaGFuZGxlUmVzdWx0KHN1Y2NlZWRlZCkge1xyXG4gICAgICAgICAgICBpZiAoc3VjY2VlZGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXR0ZXIuZW1pdCgnc3VjY2VzcycsIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuc2VsZWN0ZWRUZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IHRoaXMudHJpZ2dlcixcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclNlbGVjdGlvbjogdGhpcy5jbGVhclNlbGVjdGlvbi5iaW5kKHRoaXMpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdHRlci5lbWl0KCdlcnJvcicsIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IHRoaXMudHJpZ2dlcixcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclNlbGVjdGlvbjogdGhpcy5jbGVhclNlbGVjdGlvbi5iaW5kKHRoaXMpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUuY2xlYXJTZWxlY3Rpb24gPSBmdW5jdGlvbiBjbGVhclNlbGVjdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5ibHVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZha2UoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfY3JlYXRlQ2xhc3MoQ2xpcGJvYXJkQWN0aW9uLCBbe1xyXG4gICAgICAgICAgICBrZXk6ICdhY3Rpb24nLFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyAnY29weScgOiBhcmd1bWVudHNbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aW9uID0gYWN0aW9uO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hY3Rpb24gIT09ICdjb3B5JyAmJiB0aGlzLl9hY3Rpb24gIT09ICdjdXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwiYWN0aW9uXCIgdmFsdWUsIHVzZSBlaXRoZXIgXCJjb3B5XCIgb3IgXCJjdXRcIicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hY3Rpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGtleTogJ3RhcmdldCcsXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCAmJiAodHlwZW9mIHRhcmdldCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodGFyZ2V0KSkgPT09ICdvYmplY3QnICYmIHRhcmdldC5ub2RlVHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT09ICdjb3B5JyAmJiB0YXJnZXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiBhdHRyaWJ1dGUuIFBsZWFzZSB1c2UgXCJyZWFkb25seVwiIGluc3RlYWQgb2YgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT09ICdjdXQnICYmICh0YXJnZXQuaGFzQXR0cmlidXRlKCdyZWFkb25seScpIHx8IHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiBhdHRyaWJ1dGUuIFlvdSBjYW5cXCd0IGN1dCB0ZXh0IGZyb20gZWxlbWVudHMgd2l0aCBcInJlYWRvbmx5XCIgb3IgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcInRhcmdldFwiIHZhbHVlLCB1c2UgYSB2YWxpZCBFbGVtZW50Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90YXJnZXQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XSk7XHJcblxyXG4gICAgICAgIHJldHVybiBDbGlwYm9hcmRBY3Rpb247XHJcbiAgICB9KCk7XHJcblxyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBDbGlwYm9hcmRBY3Rpb247XHJcbn0pO1xyXG5cclxufSx7XCJzZWxlY3RcIjo2fV0sOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XHJcbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XHJcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcclxuICAgICAgICBkZWZpbmUoWydtb2R1bGUnLCAnLi9jbGlwYm9hcmQtYWN0aW9uJywgJ3RpbnktZW1pdHRlcicsICdnb29kLWxpc3RlbmVyJ10sIGZhY3RvcnkpO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgIGZhY3RvcnkobW9kdWxlLCByZXF1aXJlKCcuL2NsaXBib2FyZC1hY3Rpb24nKSwgcmVxdWlyZSgndGlueS1lbWl0dGVyJyksIHJlcXVpcmUoJ2dvb2QtbGlzdGVuZXInKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBtb2QgPSB7XHJcbiAgICAgICAgICAgIGV4cG9ydHM6IHt9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBmYWN0b3J5KG1vZCwgZ2xvYmFsLmNsaXBib2FyZEFjdGlvbiwgZ2xvYmFsLnRpbnlFbWl0dGVyLCBnbG9iYWwuZ29vZExpc3RlbmVyKTtcclxuICAgICAgICBnbG9iYWwuY2xpcGJvYXJkID0gbW9kLmV4cG9ydHM7XHJcbiAgICB9XHJcbn0pKHRoaXMsIGZ1bmN0aW9uIChtb2R1bGUsIF9jbGlwYm9hcmRBY3Rpb24sIF90aW55RW1pdHRlciwgX2dvb2RMaXN0ZW5lcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBfY2xpcGJvYXJkQWN0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsaXBib2FyZEFjdGlvbik7XHJcblxyXG4gICAgdmFyIF90aW55RW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aW55RW1pdHRlcik7XHJcblxyXG4gICAgdmFyIF9nb29kTGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ29vZExpc3RlbmVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xyXG4gICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG9ialxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcclxuICAgICAgICBpZiAoIXNlbGYpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xyXG4gICAgICAgICAgICBjb25zdHJ1Y3Rvcjoge1xyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHN1YkNsYXNzLFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBDbGlwYm9hcmQgPSBmdW5jdGlvbiAoX0VtaXR0ZXIpIHtcclxuICAgICAgICBfaW5oZXJpdHMoQ2xpcGJvYXJkLCBfRW1pdHRlcik7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfEhUTUxFbGVtZW50fEhUTUxDb2xsZWN0aW9ufE5vZGVMaXN0fSB0cmlnZ2VyXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcclxuICAgICAgICAgKi9cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gQ2xpcGJvYXJkKHRyaWdnZXIsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaXBib2FyZCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRW1pdHRlci5jYWxsKHRoaXMpKTtcclxuXHJcbiAgICAgICAgICAgIF90aGlzLnJlc29sdmVPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgICAgICBfdGhpcy5saXN0ZW5DbGljayh0cmlnZ2VyKTtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRGVmaW5lcyBpZiBhdHRyaWJ1dGVzIHdvdWxkIGJlIHJlc29sdmVkIHVzaW5nIGludGVybmFsIHNldHRlciBmdW5jdGlvbnNcclxuICAgICAgICAgKiBvciBjdXN0b20gZnVuY3Rpb25zIHRoYXQgd2VyZSBwYXNzZWQgaW4gdGhlIGNvbnN0cnVjdG9yLlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICAgICAgICovXHJcblxyXG5cclxuICAgICAgICBDbGlwYm9hcmQucHJvdG90eXBlLnJlc29sdmVPcHRpb25zID0gZnVuY3Rpb24gcmVzb2x2ZU9wdGlvbnMoKSB7XHJcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFjdGlvbiA9IHR5cGVvZiBvcHRpb25zLmFjdGlvbiA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMuYWN0aW9uIDogdGhpcy5kZWZhdWx0QWN0aW9uO1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IHR5cGVvZiBvcHRpb25zLnRhcmdldCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMudGFyZ2V0IDogdGhpcy5kZWZhdWx0VGFyZ2V0O1xyXG4gICAgICAgICAgICB0aGlzLnRleHQgPSB0eXBlb2Ygb3B0aW9ucy50ZXh0ID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy50ZXh0IDogdGhpcy5kZWZhdWx0VGV4dDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmQucHJvdG90eXBlLmxpc3RlbkNsaWNrID0gZnVuY3Rpb24gbGlzdGVuQ2xpY2sodHJpZ2dlcikge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXIgPSAoMCwgX2dvb2RMaXN0ZW5lcjIuZGVmYXVsdCkodHJpZ2dlciwgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25DbGljayhlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gb25DbGljayhlKSB7XHJcbiAgICAgICAgICAgIHZhciB0cmlnZ2VyID0gZS5kZWxlZ2F0ZVRhcmdldCB8fCBlLmN1cnJlbnRUYXJnZXQ7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5jbGlwYm9hcmRBY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBuZXcgX2NsaXBib2FyZEFjdGlvbjIuZGVmYXVsdCh7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uKHRyaWdnZXIpLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLnRhcmdldCh0cmlnZ2VyKSxcclxuICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMudGV4dCh0cmlnZ2VyKSxcclxuICAgICAgICAgICAgICAgIHRyaWdnZXI6IHRyaWdnZXIsXHJcbiAgICAgICAgICAgICAgICBlbWl0dGVyOiB0aGlzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENsaXBib2FyZC5wcm90b3R5cGUuZGVmYXVsdEFjdGlvbiA9IGZ1bmN0aW9uIGRlZmF1bHRBY3Rpb24odHJpZ2dlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0QXR0cmlidXRlVmFsdWUoJ2FjdGlvbicsIHRyaWdnZXIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENsaXBib2FyZC5wcm90b3R5cGUuZGVmYXVsdFRhcmdldCA9IGZ1bmN0aW9uIGRlZmF1bHRUYXJnZXQodHJpZ2dlcikge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBnZXRBdHRyaWJ1dGVWYWx1ZSgndGFyZ2V0JywgdHJpZ2dlcik7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENsaXBib2FyZC5wcm90b3R5cGUuZGVmYXVsdFRleHQgPSBmdW5jdGlvbiBkZWZhdWx0VGV4dCh0cmlnZ2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnZXRBdHRyaWJ1dGVWYWx1ZSgndGV4dCcsIHRyaWdnZXIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENsaXBib2FyZC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXIuZGVzdHJveSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuY2xpcGJvYXJkQWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbi5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gQ2xpcGJvYXJkO1xyXG4gICAgfShfdGlueUVtaXR0ZXIyLmRlZmF1bHQpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRvIHJldHJpZXZlIGF0dHJpYnV0ZSB2YWx1ZS5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdWZmaXhcclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVWYWx1ZShzdWZmaXgsIGVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgYXR0cmlidXRlID0gJ2RhdGEtY2xpcGJvYXJkLScgKyBzdWZmaXg7XHJcblxyXG4gICAgICAgIGlmICghZWxlbWVudC5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBtb2R1bGUuZXhwb3J0cyA9IENsaXBib2FyZDtcclxufSk7XHJcblxyXG59LHtcIi4vY2xpcGJvYXJkLWFjdGlvblwiOjgsXCJnb29kLWxpc3RlbmVyXCI6NCxcInRpbnktZW1pdHRlclwiOjd9XX0se30sWzldKSg5KVxyXG59KTsiLCIoIGZ1bmN0aW9uKCB3aW5kb3csIHVuZGVmaW5lZCApIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEhhbmRsZXMgbWFuYWdpbmcgYWxsIGV2ZW50cyBmb3Igd2hhdGV2ZXIgeW91IHBsdWcgaXQgaW50by4gUHJpb3JpdGllcyBmb3IgaG9va3MgYXJlIGJhc2VkIG9uIGxvd2VzdCB0byBoaWdoZXN0IGluXHJcblx0ICogdGhhdCwgbG93ZXN0IHByaW9yaXR5IGhvb2tzIGFyZSBmaXJlZCBmaXJzdC5cclxuXHQgKi9cclxuXHR2YXIgRXZlbnRNYW5hZ2VyID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogTWFpbnRhaW4gYSByZWZlcmVuY2UgdG8gdGhlIG9iamVjdCBzY29wZSBzbyBvdXIgcHVibGljIG1ldGhvZHMgbmV2ZXIgZ2V0IGNvbmZ1c2luZy5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIE1ldGhvZHNBdmFpbGFibGUgPSB7XHJcblx0XHRcdHJlbW92ZUZpbHRlciA6IHJlbW92ZUZpbHRlcixcclxuXHRcdFx0YXBwbHlGaWx0ZXJzIDogYXBwbHlGaWx0ZXJzLFxyXG5cdFx0XHRhZGRGaWx0ZXIgOiBhZGRGaWx0ZXIsXHJcblx0XHRcdHJlbW92ZUFjdGlvbiA6IHJlbW92ZUFjdGlvbixcclxuXHRcdFx0ZG9BY3Rpb24gOiBkb0FjdGlvbixcclxuXHRcdFx0YWRkQWN0aW9uIDogYWRkQWN0aW9uXHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ29udGFpbnMgdGhlIGhvb2tzIHRoYXQgZ2V0IHJlZ2lzdGVyZWQgd2l0aCB0aGlzIEV2ZW50TWFuYWdlci4gVGhlIGFycmF5IGZvciBzdG9yYWdlIHV0aWxpemVzIGEgXCJmbGF0XCJcclxuXHRcdCAqIG9iamVjdCBsaXRlcmFsIHN1Y2ggdGhhdCBsb29raW5nIHVwIHRoZSBob29rIHV0aWxpemVzIHRoZSBuYXRpdmUgb2JqZWN0IGxpdGVyYWwgaGFzaC5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIFNUT1JBR0UgPSB7XHJcblx0XHRcdGFjdGlvbnMgOiB7fSxcclxuXHRcdFx0ZmlsdGVycyA6IHt9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQWRkcyBhbiBhY3Rpb24gdG8gdGhlIGV2ZW50IG1hbmFnZXIuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIGFjdGlvbiBNdXN0IGNvbnRhaW4gbmFtZXNwYWNlLmlkZW50aWZpZXJcclxuXHRcdCAqIEBwYXJhbSBjYWxsYmFjayBNdXN0IGJlIGEgdmFsaWQgY2FsbGJhY2sgZnVuY3Rpb24gYmVmb3JlIHRoaXMgYWN0aW9uIGlzIGFkZGVkXHJcblx0XHQgKiBAcGFyYW0gW3ByaW9yaXR5PTEwXSBVc2VkIHRvIGNvbnRyb2wgd2hlbiB0aGUgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgaW4gcmVsYXRpb24gdG8gb3RoZXIgY2FsbGJhY2tzIGJvdW5kIHRvIHRoZSBzYW1lIGhvb2tcclxuXHRcdCAqIEBwYXJhbSBbY29udGV4dF0gU3VwcGx5IGEgdmFsdWUgdG8gYmUgdXNlZCBmb3IgdGhpc1xyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBhZGRBY3Rpb24oIGFjdGlvbiwgY2FsbGJhY2ssIHByaW9yaXR5LCBjb250ZXh0ICkge1xyXG5cdFx0XHRpZiggdHlwZW9mIGFjdGlvbiA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nICkge1xyXG5cdFx0XHRcdHByaW9yaXR5ID0gcGFyc2VJbnQoICggcHJpb3JpdHkgfHwgMTAgKSwgMTAgKTtcclxuXHRcdFx0XHRfYWRkSG9vayggJ2FjdGlvbnMnLCBhY3Rpb24sIGNhbGxiYWNrLCBwcmlvcml0eSwgY29udGV4dCApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFBlcmZvcm1zIGFuIGFjdGlvbiBpZiBpdCBleGlzdHMuIFlvdSBjYW4gcGFzcyBhcyBtYW55IGFyZ3VtZW50cyBhcyB5b3Ugd2FudCB0byB0aGlzIGZ1bmN0aW9uOyB0aGUgb25seSBydWxlIGlzXHJcblx0XHQgKiB0aGF0IHRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGFsd2F5cyBiZSB0aGUgYWN0aW9uLlxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBkb0FjdGlvbiggLyogYWN0aW9uLCBhcmcxLCBhcmcyLCAuLi4gKi8gKSB7XHJcblx0XHRcdHZhciBhcmdzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICk7XHJcblx0XHRcdHZhciBhY3Rpb24gPSBhcmdzLnNoaWZ0KCk7XHJcblxyXG5cdFx0XHRpZiggdHlwZW9mIGFjdGlvbiA9PT0gJ3N0cmluZycgKSB7XHJcblx0XHRcdFx0X3J1bkhvb2soICdhY3Rpb25zJywgYWN0aW9uLCBhcmdzICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBNZXRob2RzQXZhaWxhYmxlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVtb3ZlcyB0aGUgc3BlY2lmaWVkIGFjdGlvbiBpZiBpdCBjb250YWlucyBhIG5hbWVzcGFjZS5pZGVudGlmaWVyICYgZXhpc3RzLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBhY3Rpb24gVGhlIGFjdGlvbiB0byByZW1vdmVcclxuXHRcdCAqIEBwYXJhbSBbY2FsbGJhY2tdIENhbGxiYWNrIGZ1bmN0aW9uIHRvIHJlbW92ZVxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiByZW1vdmVBY3Rpb24oIGFjdGlvbiwgY2FsbGJhY2sgKSB7XHJcblx0XHRcdGlmKCB0eXBlb2YgYWN0aW9uID09PSAnc3RyaW5nJyApIHtcclxuXHRcdFx0XHRfcmVtb3ZlSG9vayggJ2FjdGlvbnMnLCBhY3Rpb24sIGNhbGxiYWNrICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBNZXRob2RzQXZhaWxhYmxlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQWRkcyBhIGZpbHRlciB0byB0aGUgZXZlbnQgbWFuYWdlci5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gZmlsdGVyIE11c3QgY29udGFpbiBuYW1lc3BhY2UuaWRlbnRpZmllclxyXG5cdFx0ICogQHBhcmFtIGNhbGxiYWNrIE11c3QgYmUgYSB2YWxpZCBjYWxsYmFjayBmdW5jdGlvbiBiZWZvcmUgdGhpcyBhY3Rpb24gaXMgYWRkZWRcclxuXHRcdCAqIEBwYXJhbSBbcHJpb3JpdHk9MTBdIFVzZWQgdG8gY29udHJvbCB3aGVuIHRoZSBmdW5jdGlvbiBpcyBleGVjdXRlZCBpbiByZWxhdGlvbiB0byBvdGhlciBjYWxsYmFja3MgYm91bmQgdG8gdGhlIHNhbWUgaG9va1xyXG5cdFx0ICogQHBhcmFtIFtjb250ZXh0XSBTdXBwbHkgYSB2YWx1ZSB0byBiZSB1c2VkIGZvciB0aGlzXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIGFkZEZpbHRlciggZmlsdGVyLCBjYWxsYmFjaywgcHJpb3JpdHksIGNvbnRleHQgKSB7XHJcblx0XHRcdGlmKCB0eXBlb2YgZmlsdGVyID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicgKSB7XHJcblx0XHRcdFx0cHJpb3JpdHkgPSBwYXJzZUludCggKCBwcmlvcml0eSB8fCAxMCApLCAxMCApO1xyXG5cdFx0XHRcdF9hZGRIb29rKCAnZmlsdGVycycsIGZpbHRlciwgY2FsbGJhY2ssIHByaW9yaXR5LCBjb250ZXh0ICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBNZXRob2RzQXZhaWxhYmxlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUGVyZm9ybXMgYSBmaWx0ZXIgaWYgaXQgZXhpc3RzLiBZb3Ugc2hvdWxkIG9ubHkgZXZlciBwYXNzIDEgYXJndW1lbnQgdG8gYmUgZmlsdGVyZWQuIFRoZSBvbmx5IHJ1bGUgaXMgdGhhdFxyXG5cdFx0ICogdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYWx3YXlzIGJlIHRoZSBmaWx0ZXIuXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIGFwcGx5RmlsdGVycyggLyogZmlsdGVyLCBmaWx0ZXJlZCBhcmcsIGFyZzIsIC4uLiAqLyApIHtcclxuXHRcdFx0dmFyIGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKTtcclxuXHRcdFx0dmFyIGZpbHRlciA9IGFyZ3Muc2hpZnQoKTtcclxuXHJcblx0XHRcdGlmKCB0eXBlb2YgZmlsdGVyID09PSAnc3RyaW5nJyApIHtcclxuXHRcdFx0XHRyZXR1cm4gX3J1bkhvb2soICdmaWx0ZXJzJywgZmlsdGVyLCBhcmdzICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBNZXRob2RzQXZhaWxhYmxlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVtb3ZlcyB0aGUgc3BlY2lmaWVkIGZpbHRlciBpZiBpdCBjb250YWlucyBhIG5hbWVzcGFjZS5pZGVudGlmaWVyICYgZXhpc3RzLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBmaWx0ZXIgVGhlIGFjdGlvbiB0byByZW1vdmVcclxuXHRcdCAqIEBwYXJhbSBbY2FsbGJhY2tdIENhbGxiYWNrIGZ1bmN0aW9uIHRvIHJlbW92ZVxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiByZW1vdmVGaWx0ZXIoIGZpbHRlciwgY2FsbGJhY2sgKSB7XHJcblx0XHRcdGlmKCB0eXBlb2YgZmlsdGVyID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdF9yZW1vdmVIb29rKCAnZmlsdGVycycsIGZpbHRlciwgY2FsbGJhY2sgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgaG9vayBieSByZXNldHRpbmcgdGhlIHZhbHVlIG9mIGl0LlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB0eXBlIFR5cGUgb2YgaG9vaywgZWl0aGVyICdhY3Rpb25zJyBvciAnZmlsdGVycydcclxuXHRcdCAqIEBwYXJhbSBob29rIFRoZSBob29rIChuYW1lc3BhY2UuaWRlbnRpZmllcikgdG8gcmVtb3ZlXHJcblx0XHQgKiBAcHJpdmF0ZVxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBfcmVtb3ZlSG9vayggdHlwZSwgaG9vaywgY2FsbGJhY2ssIGNvbnRleHQgKSB7XHJcblx0XHRcdHZhciBoYW5kbGVycywgaGFuZGxlciwgaTtcclxuXHRcdFx0XHJcblx0XHRcdGlmICggIVNUT1JBR0VbIHR5cGUgXVsgaG9vayBdICkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoICFjYWxsYmFjayApIHtcclxuXHRcdFx0XHRTVE9SQUdFWyB0eXBlIF1bIGhvb2sgXSA9IFtdO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGhhbmRsZXJzID0gU1RPUkFHRVsgdHlwZSBdWyBob29rIF07XHJcblx0XHRcdFx0aWYgKCAhY29udGV4dCApIHtcclxuXHRcdFx0XHRcdGZvciAoIGkgPSBoYW5kbGVycy5sZW5ndGg7IGktLTsgKSB7XHJcblx0XHRcdFx0XHRcdGlmICggaGFuZGxlcnNbaV0uY2FsbGJhY2sgPT09IGNhbGxiYWNrICkge1xyXG5cdFx0XHRcdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaSwgMSApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0Zm9yICggaSA9IGhhbmRsZXJzLmxlbmd0aDsgaS0tOyApIHtcclxuXHRcdFx0XHRcdFx0aGFuZGxlciA9IGhhbmRsZXJzW2ldO1xyXG5cdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXIuY2FsbGJhY2sgPT09IGNhbGxiYWNrICYmIGhhbmRsZXIuY29udGV4dCA9PT0gY29udGV4dCkge1xyXG5cdFx0XHRcdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaSwgMSApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBZGRzIHRoZSBob29rIHRvIHRoZSBhcHByb3ByaWF0ZSBzdG9yYWdlIGNvbnRhaW5lclxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB0eXBlICdhY3Rpb25zJyBvciAnZmlsdGVycydcclxuXHRcdCAqIEBwYXJhbSBob29rIFRoZSBob29rIChuYW1lc3BhY2UuaWRlbnRpZmllcikgdG8gYWRkIHRvIG91ciBldmVudCBtYW5hZ2VyXHJcblx0XHQgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgaG9vayBpcyBleGVjdXRlZC5cclxuXHRcdCAqIEBwYXJhbSBwcmlvcml0eSBUaGUgcHJpb3JpdHkgb2YgdGhpcyBob29rLiBNdXN0IGJlIGFuIGludGVnZXIuXHJcblx0XHQgKiBAcGFyYW0gW2NvbnRleHRdIEEgdmFsdWUgdG8gYmUgdXNlZCBmb3IgdGhpc1xyXG5cdFx0ICogQHByaXZhdGVcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gX2FkZEhvb2soIHR5cGUsIGhvb2ssIGNhbGxiYWNrLCBwcmlvcml0eSwgY29udGV4dCApIHtcclxuXHRcdFx0dmFyIGhvb2tPYmplY3QgPSB7XHJcblx0XHRcdFx0Y2FsbGJhY2sgOiBjYWxsYmFjayxcclxuXHRcdFx0XHRwcmlvcml0eSA6IHByaW9yaXR5LFxyXG5cdFx0XHRcdGNvbnRleHQgOiBjb250ZXh0XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBVdGlsaXplICdwcm9wIGl0c2VsZicgOiBodHRwOi8vanNwZXJmLmNvbS9oYXNvd25wcm9wZXJ0eS12cy1pbi12cy11bmRlZmluZWQvMTlcclxuXHRcdFx0dmFyIGhvb2tzID0gU1RPUkFHRVsgdHlwZSBdWyBob29rIF07XHJcblx0XHRcdGlmKCBob29rcyApIHtcclxuXHRcdFx0XHRob29rcy5wdXNoKCBob29rT2JqZWN0ICk7XHJcblx0XHRcdFx0aG9va3MgPSBfaG9va0luc2VydFNvcnQoIGhvb2tzICk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0aG9va3MgPSBbIGhvb2tPYmplY3QgXTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0U1RPUkFHRVsgdHlwZSBdWyBob29rIF0gPSBob29rcztcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVzZSBhbiBpbnNlcnQgc29ydCBmb3Iga2VlcGluZyBvdXIgaG9va3Mgb3JnYW5pemVkIGJhc2VkIG9uIHByaW9yaXR5LiBUaGlzIGZ1bmN0aW9uIGlzIHJpZGljdWxvdXNseSBmYXN0ZXJcclxuXHRcdCAqIHRoYW4gYnViYmxlIHNvcnQsIGV0YzogaHR0cDovL2pzcGVyZi5jb20vamF2YXNjcmlwdC1zb3J0XHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIGhvb2tzIFRoZSBjdXN0b20gYXJyYXkgY29udGFpbmluZyBhbGwgb2YgdGhlIGFwcHJvcHJpYXRlIGhvb2tzIHRvIHBlcmZvcm0gYW4gaW5zZXJ0IHNvcnQgb24uXHJcblx0XHQgKiBAcHJpdmF0ZVxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBfaG9va0luc2VydFNvcnQoIGhvb2tzICkge1xyXG5cdFx0XHR2YXIgdG1wSG9vaywgaiwgcHJldkhvb2s7XHJcblx0XHRcdGZvciggdmFyIGkgPSAxLCBsZW4gPSBob29rcy5sZW5ndGg7IGkgPCBsZW47IGkrKyApIHtcclxuXHRcdFx0XHR0bXBIb29rID0gaG9va3NbIGkgXTtcclxuXHRcdFx0XHRqID0gaTtcclxuXHRcdFx0XHR3aGlsZSggKCBwcmV2SG9vayA9IGhvb2tzWyBqIC0gMSBdICkgJiYgIHByZXZIb29rLnByaW9yaXR5ID4gdG1wSG9vay5wcmlvcml0eSApIHtcclxuXHRcdFx0XHRcdGhvb2tzWyBqIF0gPSBob29rc1sgaiAtIDEgXTtcclxuXHRcdFx0XHRcdC0tajtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aG9va3NbIGogXSA9IHRtcEhvb2s7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBob29rcztcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJ1bnMgdGhlIHNwZWNpZmllZCBob29rLiBJZiBpdCBpcyBhbiBhY3Rpb24sIHRoZSB2YWx1ZSBpcyBub3QgbW9kaWZpZWQgYnV0IGlmIGl0IGlzIGEgZmlsdGVyLCBpdCBpcy5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gdHlwZSAnYWN0aW9ucycgb3IgJ2ZpbHRlcnMnXHJcblx0XHQgKiBAcGFyYW0gaG9vayBUaGUgaG9vayAoIG5hbWVzcGFjZS5pZGVudGlmaWVyICkgdG8gYmUgcmFuLlxyXG5cdFx0ICogQHBhcmFtIGFyZ3MgQXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIGFjdGlvbi9maWx0ZXIuIElmIGl0J3MgYSBmaWx0ZXIsIGFyZ3MgaXMgYWN0dWFsbHkgYSBzaW5nbGUgcGFyYW1ldGVyLlxyXG5cdFx0ICogQHByaXZhdGVcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gX3J1bkhvb2soIHR5cGUsIGhvb2ssIGFyZ3MgKSB7XHJcblx0XHRcdHZhciBoYW5kbGVycyA9IFNUT1JBR0VbIHR5cGUgXVsgaG9vayBdLCBpLCBsZW47XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAoICFoYW5kbGVycyApIHtcclxuXHRcdFx0XHRyZXR1cm4gKHR5cGUgPT09ICdmaWx0ZXJzJykgPyBhcmdzWzBdIDogZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGxlbiA9IGhhbmRsZXJzLmxlbmd0aDtcclxuXHRcdFx0aWYgKCB0eXBlID09PSAnZmlsdGVycycgKSB7XHJcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcclxuXHRcdFx0XHRcdGFyZ3NbIDAgXSA9IGhhbmRsZXJzWyBpIF0uY2FsbGJhY2suYXBwbHkoIGhhbmRsZXJzWyBpIF0uY29udGV4dCwgYXJncyApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xyXG5cdFx0XHRcdFx0aGFuZGxlcnNbIGkgXS5jYWxsYmFjay5hcHBseSggaGFuZGxlcnNbIGkgXS5jb250ZXh0LCBhcmdzICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gKCB0eXBlID09PSAnZmlsdGVycycgKSA/IGFyZ3NbIDAgXSA6IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gcmV0dXJuIGFsbCBvZiB0aGUgcHVibGljbHkgYXZhaWxhYmxlIG1ldGhvZHNcclxuXHRcdHJldHVybiBNZXRob2RzQXZhaWxhYmxlO1xyXG5cclxuXHR9O1xyXG5cdFxyXG5cdHdpbmRvdy53cCA9IHdpbmRvdy53cCB8fCB7fTtcclxuXHR3aW5kb3cud3AuaG9va3MgPSBuZXcgRXZlbnRNYW5hZ2VyKCk7XHJcblxyXG59ICkoIHdpbmRvdyApO1xyXG4iLCIoZnVuY3Rpb24oJCkge1xuXG5cdCQoIGRvY3VtZW50ICkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXG5cdFx0Ly8gQ29weSBtZXJnZSB0YWdcblxuXHRcdHZhciBtZXJnZV90YWdfY2xpcGJvYXJkID0gbmV3IENsaXBib2FyZCgnI25vdGlmaWNhdGlvbl9tZXJnZV90YWdzIC5pbnNpZGUgdWwgbGkgY29kZScpO1xuXG5cdFx0bWVyZ2VfdGFnX2NsaXBib2FyZC5vbignc3VjY2VzcycsIGZ1bmN0aW9uKGUpIHtcblxuXHRcdCAgICB2YXIgJGNvZGUgPSAkKGUudHJpZ2dlciksXG5cdFx0XHQgICAgdGFnICAgPSAkY29kZS50ZXh0KCk7XG5cblx0XHRcdHdwLmhvb2tzLmRvQWN0aW9uKCAnbm90aWZpY2F0aW9uLm1lcmdlX3RhZy5jb3BpZWQnLCB0YWcsICRjb2RlICk7XG5cblx0XHRcdCRjb2RlLnRleHQoIG5vdGlmaWNhdGlvbi5jb3BpZWQgKTtcblxuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0JGNvZGUudGV4dCggdGFnICk7XG5cdFx0XHR9LCA4MDApO1xuXG5cdFx0fSk7XG5cblx0XHQvLyBTd2FwIG1lcmdlIHRhZ3MgbGlzdCBmb3IgbmV3IHRyaWdnZXJcblxuXHRcdHdwLmhvb2tzLmFkZEFjdGlvbiggJ25vdGlmaWNhdGlvbi50cmlnZ2VyLmNoYW5nZWQnLCBmdW5jdGlvbiggJHRyaWdnZXIgKSB7XG5cblx0XHRcdHZhciB0cmlnZ2VyX3NsdWcgPSAkdHJpZ2dlci52YWwoKTtcblxuXHRcdFx0ZGF0YSA9IHtcblx0XHRcdFx0YWN0aW9uICAgICAgIDogJ2dldF9tZXJnZV90YWdzX2Zvcl90cmlnZ2VyJyxcblx0XHRcdFx0dHJpZ2dlcl9zbHVnIDogdHJpZ2dlcl9zbHVnXG5cdFx0XHR9XG5cblx0XHRcdCQucG9zdCggYWpheHVybCwgZGF0YSwgZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXG5cdFx0ICAgIFx0aWYgKCByZXNwb25zZS5zdWNjZXNzID09IGZhbHNlICkge1xuXHRcdCAgICBcdFx0YWxlcnQoIHJlc3BvbnNlLmRhdGEgKTtcblx0XHQgICAgXHR9IGVsc2Uge1xuXHRcdCAgICBcdFx0JCggJyNub3RpZmljYXRpb25fbWVyZ2VfdGFncyAuaW5zaWRlJyApLmh0bWwoIHJlc3BvbnNlLmRhdGEgKTtcblx0XHQgICAgXHR9XG5cblx0XHRcdH0gKTtcblxuXHRcdH0gKTtcblxuXHR9ICk7XG5cbn0pKGpRdWVyeSk7XG4iLCIoZnVuY3Rpb24oJCkge1xuXG5cdCQoIGRvY3VtZW50ICkucmVhZHkoIGZ1bmN0aW9uKCkge1xuXG5cdFx0JCggJyNub3RpZmljYXRpb24tYm94ZXMgLnBvc3Rib3ggLnN3aXRjaC1jb250YWluZXIgaW5wdXQnICkuY2hhbmdlKCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHQkKCB0aGlzICkucGFyZW50cyggJy5zd2l0Y2gnICkuZmlyc3QoKS50b2dnbGVDbGFzcyggJ2FjdGl2ZScgKTtcblx0XHRcdHdwLmhvb2tzLmRvQWN0aW9uKCAnbm90aWZpY2F0aW9uLm5vdGlmaWNhdGlvbi50b2dnbGVkJywgJCggdGhpcyApICk7XG5cdFx0fSApO1xuXG5cdH0gKTtcblxufSkoalF1ZXJ5KTtcbiIsIihmdW5jdGlvbigkKSB7XG5cblx0JCggZG9jdW1lbnQgKS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgcmVjYWxjdWxhdGVfcm93cyA9IGZ1bmN0aW9uKCAkcmVwZWF0ZXIgKSB7XG5cblx0XHRcdHZhciBpID0gMDtcblxuXHRcdFx0JHJlcGVhdGVyLmZpbmQoICcucm93Om5vdCguaGVhZGVyKTpub3QoLm1vZGVsKScgKS5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHR2YXIgJHJvdyAgICA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkaW5wdXRzID0gJHJvdy5maW5kKCAnaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEnICk7XG5cblx0XHRcdFx0JGlucHV0cy5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdHZhciAkaW5wdXQgICAgPSAkKHRoaXMpLFxuXHRcdFx0XHRcdFx0cGFydF9uYW1lID0gJGlucHV0LmF0dHIoJ25hbWUnKTtcblxuXHRcdFx0XHRcdCRpbnB1dC5hdHRyKCAnbmFtZScsIHBhcnRfbmFtZS5yZXBsYWNlKCAvKC4qKVxcWyhbMC05XSspXFxdLywgJyQxWycgKyBpICsgJ10nICkgKTtcblxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0aSsrO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9XG5cblx0XHQvLyBTZXQgbW9kZWwgaW4gZGlzYWJsZSBzdGF0ZVxuXG5cdFx0JCggJy5maWVsZHMtcmVwZWF0ZXIgLm1vZGVsIC5zdWJmaWVsZCcgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdCQoIHRoaXMgKS5maW5kKCAnaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QnICkuYXR0ciggJ2Rpc2FibGVkJywgdHJ1ZSApO1xuXHRcdH0gKTtcblxuXHRcdC8vIFJlbW92ZSByb3dcblxuXHRcdCQoICcuZmllbGRzLXJlcGVhdGVyJyApLm9uKCAnY2xpY2snLCAnLnJvdzpub3QoLmhlYWRlcik6bm90KC5tb2RlbCkgLmhhbmRsZScsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgJHJlcGVhdGVyID0gJCggdGhpcyApLnBhcmVudHMoICcuZmllbGRzLXJlcGVhdGVyJyApLmZpcnN0KCk7XG5cblx0XHRcdCQoIHRoaXMgKS5wYXJlbnRzKCAnLnJvdycgKS5maXJzdCgpLmFuaW1hdGUoIHsgb3BhY2l0eTogMCB9LCA0MDAsICdsaW5lYXInLCBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgJCggdGhpcyApLnJlbW92ZSgpO1xuXHQgICAgICAgICAgICByZWNhbGN1bGF0ZV9yb3dzKCAkcmVwZWF0ZXIgKTtcblx0ICAgICAgICAgICAgd3AuaG9va3MuZG9BY3Rpb24oICdub3RpZmljYXRpb24ubm90aWZpY2F0aW9uLnJlcGVhdGVyLnJvdy5yZW1vdmVkJywgJHJlcGVhdGVyICk7XG5cdCAgICAgICAgfSApO1xuXG5cdFx0fSApO1xuXG5cdFx0Ly8gQWRkIHJvd1xuXG5cdFx0JCggJy5hZGQtbmV3LXJlcGVhdGVyLWZpZWxkJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdHZhciAkcmVwZWF0ZXIgPSAkKCB0aGlzICkucHJldiggJy5maWVsZHMtcmVwZWF0ZXInICksXG5cdFx0XHRcdCRtb2RlbCAgICA9ICRyZXBlYXRlci5maW5kKCAnLnJvdy5tb2RlbCcgKSxcblx0XHRcdFx0JGNsb25lZCAgID0gJG1vZGVsLmNsb25lKCkucmVtb3ZlQ2xhc3MoICdtb2RlbCcgKTtcblxuXHRcdFx0JGNsb25lZC5maW5kKCAnaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QnICkuYXR0ciggJ2Rpc2FibGVkJywgZmFsc2UgKTtcblx0XHRcdCRjbG9uZWQuYXBwZW5kVG8oICRyZXBlYXRlciApXG5cblx0XHRcdHJlY2FsY3VsYXRlX3Jvd3MoICRyZXBlYXRlciApO1xuXG5cdFx0XHR3cC5ob29rcy5kb0FjdGlvbiggJ25vdGlmaWNhdGlvbi5ub3RpZmljYXRpb24ucmVwZWF0ZXIucm93LmFkZGVkJywgJHJlcGVhdGVyICk7XG5cblx0XHR9ICk7XG5cblx0fSApO1xuXG59KShqUXVlcnkpO1xuIiwiKGZ1bmN0aW9uKCQpIHtcblxuXHQkKCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbigpIHtcblxuXHRcdCQoICcjbm90aWZpY2F0aW9uX3RyaWdnZXJfc2VsZWN0JyApLnNlbGVjdGl6ZSgge1xuXHRcdFx0cmVuZGVyOiB7XG5cdFx0ICAgICAgICBpdGVtOiBmdW5jdGlvbihpdGVtLCBlc2NhcGUpIHtcblx0XHQgICAgICAgICAgICByZXR1cm4gJzxkaXY+JyArXG5cdFx0ICAgICAgICAgICAgXHRpdGVtLnRleHQucmVwbGFjZSgvXFxbXFxbKC4qKVxcXVxcXS9nLCAnJykgK1xuXHRcdCAgICAgICAgICAgICc8L2Rpdj4nO1xuXHRcdCAgICAgICAgfSxcblx0XHQgICAgICAgIG9wdGlvbjogZnVuY3Rpb24oaXRlbSwgZXNjYXBlKSB7XG5cdFx0ICAgICAgICAgICAgcmV0dXJuICc8ZGl2PicgK1xuXHRcdCAgICAgICAgICAgIFx0aXRlbS50ZXh0LnJlcGxhY2UoLyguKilcXFtcXFsoLiopXFxdXFxdL2csICc8c3BhbiBjbGFzcz1cImxhYmVsXCI+JDE8L3NwYW4+PHNwYW4gY2xhc3M9XCJjYXB0aW9uXCI+JDI8L3NwYW4+JykgK1xuXHRcdCAgICAgICAgICAgICc8L2Rpdj4nO1xuXHRcdCAgICAgICAgfVxuXHRcdCAgICB9LFxuXHRcdH0gKTtcblxuXHRcdCQoICcjbm90aWZpY2F0aW9uX3RyaWdnZXJfc2VsZWN0JyApLnNlbGVjdGl6ZSgpLmNoYW5nZSggZnVuY3Rpb24oKSB7XG5cdFx0XHR3cC5ob29rcy5kb0FjdGlvbiggJ25vdGlmaWNhdGlvbi50cmlnZ2VyLmNoYW5nZWQnLCAkKCB0aGlzICkgKTtcblx0XHR9ICk7XG5cblx0fSApO1xuXG59KShqUXVlcnkpO1xuIl19
