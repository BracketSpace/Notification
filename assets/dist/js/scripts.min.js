(function(){var t,e,i,s,n,o={}.hasOwnProperty,r=function(t,e){function i(){this.constructor=t}for(var s in e)o.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};s=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,s,n,o,r;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),o=t.childNodes,r=[],s=0,n=o.length;s<n;s++)i=o[s],r.push(this.add_option(i,e,t.disabled));return r},t.prototype.add_option=function(t,e,i){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:i===!0?i:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t.prototype.escapeExpression=function(t){var e,i;return null==t||t===!1?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(i,function(t){return e[t]||"&amp;"})):t},t}(),s.select_to_array=function(t){var e,i,n,o,r;for(i=new s,r=t.childNodes,n=0,o=r.length;n<o;n++)e=r[n],i.add_node(e);return i.parsed},e=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+t.group_label+"</b>"+t.html:t.html},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(t){var e=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return e.blur_test()},100)},t.prototype.results_option_build=function(t){var e,i,s,n,o,r,l;for(e="",n=0,l=this.results_data,o=0,r=l.length;o<r&&(i=l[o],s="",s=i.group?this.result_add_group(i):this.result_add_option(i),""!==s&&(n++,e+=s),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(i))),!(n>=this.max_shown_results));o++);return e},t.prototype.result_add_option=function(t){var e,i;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.style.cssText=t.style,i.setAttribute("data-option-array-index",t.array_index),i.innerHTML=t.search_text,t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.result_add_group=function(t){var e,i;return(t.search_match||t.group_match)&&t.active_options>0?(e=[],e.push("group-result"),t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.innerHTML=t.search_text,t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},t.prototype.reset_single_select_options=function(){var t,e,i,s,n;for(s=this.results_data,n=[],e=0,i=s.length;e<i;e++)t=s[e],t.selected?n.push(t.selected=!1):n.push(void 0);return n},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,i,s,n,o,r,l,a,c,h,u;for(this.no_results_clear(),s=0,o=this.get_search_text(),t=o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),a=new RegExp(t,"i"),i=this.get_search_regex(t),u=this.results_data,c=0,h=u.length;c<h;c++)e=u[c],e.search_match=!1,n=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(n=this.results_data[e.group_array_index],0===n.active_options&&n.search_match&&(s+=1),n.active_options+=1),e.search_text=e.group?e.label:e.html,e.group&&!this.group_search||(e.search_match=this.search_string_match(e.search_text,i),e.search_match&&!e.group&&(s+=1),e.search_match?(o.length&&(r=e.search_text.search(a),l=e.search_text.substr(0,r+o.length)+"</em>"+e.search_text.substr(r+o.length),e.search_text=l.substr(0,r)+"<em>"+l.substr(r)),null!=n&&(n.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),s<1&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.get_search_regex=function(t){var e,i;return e=this.search_contains?"":"^",i=this.case_sensitive_search?"":"i",new RegExp(e+t,i)},t.prototype.search_string_match=function(t,e){var i,s,n,o;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))&&(s=t.replace(/\[|\]/g,"").split(" "),s.length))for(n=0,o=s.length;n<o;n++)if(i=s[n],e.test(i))return!0},t.prototype.choices_count=function(){var t,e,i,s;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,s=this.form_field.options,e=0,i=s.length;e<i;e++)t=s[e],t.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){if(t.preventDefault(),!this.results_showing&&!this.is_disabled)return this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},t.prototype.clipboard_event_checker=function(t){var e=this;return setTimeout(function(){return e.results_search()},50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:(e=document.createElement("div"),e.appendChild(t),e.innerHTML)},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),t=jQuery,t.fn.extend({chosen:function(s){return e.browser_is_supported()?this.each(function(e){var n,o;return n=t(this),o=n.data("chosen"),"destroy"===s?void(o instanceof i&&o.destroy()):void(o instanceof i||n.data("chosen",new i(this,s)))}):this}}),i=function(e){function i(){return n=i.__super__.constructor.apply(this,arguments)}return r(i,e),i.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var e,i;return e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),i={class:e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},i.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var t=this;return this.container.bind("touchstart.chosen",function(e){return t.container_mousedown(e),e.preventDefault()}),this.container.bind("touchend.chosen",function(e){return t.container_mouseup(e),e.preventDefault()}),this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},i.prototype.destroy=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(e){if(!this.is_disabled&&(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null==e||!t(e.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()},i.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},i.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e=40*e),this.search_results.scrollTop(e+this.search_results.scrollTop())},i.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},i.prototype.close_field=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(e){var i;return i=t(e.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=s.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(t){var e,i,s,n,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),s=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),n=s+o,i=this.result_highlight.position().top+this.search_results.scrollTop(),e=i+this.result_highlight.outerHeight(),e>=n)return this.search_results.scrollTop(e-s>0?e-s:0);if(i<o)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(t){return this.search_results.html(t)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(t){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},i.prototype.set_label_behavior=function(){var e=this;if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()})},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(e){var i;if(i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length)return this.result_highlight=i,this.result_select(e),this.search_field.focus()},i.prototype.search_results_mouseover=function(e){var i;if(i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first())return this.result_do_highlight(i)},i.prototype.search_results_mouseout=function(e){if(t(e.target).hasClass("active-result"))return this.result_clear_highlight()},i.prototype.choice_build=function(e){var i,s,n=this;return i=t("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?i.addClass("search-choice-disabled"):(s=t("<a />",{class:"search-choice-close","data-option-array-index":e.array_index}),s.bind("click.chosen",function(t){return n.choice_destroy_link_click(t)}),i.append(s)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(t(e.target))},i.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},i.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(t){var e,i;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),i=this.results_data[e[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(this.choice_label(i)),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())},i.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},i.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},i.prototype.get_search_text=function(){return t("<div/>").text(t.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var t,e;if(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null!=t)return this.result_do_highlight(t)},i.prototype.no_results=function(e){var i;return i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(e),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var e,i,s,n,o,r,l,a,c;if(this.is_multiple){for(s=0,l=0,o="position:absolute; left: -1000px; top: -1000px; display:none;",r=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],a=0,c=r.length;a<c;a++)n=r[a],o+=n+":"+this.search_field.css(n)+";";return e=t("<div />",{style:o}),e.text(this.search_field.val()),t("body").append(e),l=e.width()+25,e.remove(),i=this.container.outerWidth(),l>i-10&&(l=i-10),this.search_field.css({width:l+"px"})}},i}(e)}).call(this),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t;return function t(e,i,s){function n(r,l){if(!i[r]){if(!e[r]){var a="function"==typeof require&&require;if(!l&&a)return a(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[r]={exports:{}};e[r][0].call(h.exports,function(t){var i=e[r][1][t];return n(i?i:t)},h,h.exports,t,e,i,s)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<s.length;r++)n(s[r]);return n}({1:[function(t,e,i){var s=t("matches-selector");e.exports=function(t,e,i){for(var n=i?t:t.parentNode;n&&n!==document;){if(s(n,e))return n;n=n.parentNode}}},{"matches-selector":5}],2:[function(t,e,i){function s(t,e,i,s,o){var r=n.apply(this,arguments);return t.addEventListener(i,r,o),{destroy:function(){t.removeEventListener(i,r,o)}}}function n(t,e,i,s){return function(i){i.delegateTarget=o(i.target,e,!0),i.delegateTarget&&s.call(t,i)}}var o=t("closest");e.exports=s},{closest:1}],3:[function(t,e,i){i.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},i.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||i.node(t[0]))},i.string=function(t){return"string"==typeof t||t instanceof String},i.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},{}],4:[function(t,e,i){function s(t,e,i){if(!t&&!e&&!i)throw new Error("Missing required arguments");if(!l.string(e))throw new TypeError("Second argument must be a String");if(!l.fn(i))throw new TypeError("Third argument must be a Function");if(l.node(t))return n(t,e,i);if(l.nodeList(t))return o(t,e,i);if(l.string(t))return r(t,e,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function n(t,e,i){return t.addEventListener(e,i),{destroy:function(){t.removeEventListener(e,i)}}}function o(t,e,i){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,i)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,i)})}}}function r(t,e,i){return a(document.body,t,e,i)}var l=t("./is"),a=t("delegate");e.exports=s},{"./is":3,delegate:2}],5:[function(t,e,i){function s(t,e){if(o)return o.call(t,e);for(var i=t.parentNode.querySelectorAll(e),s=0;s<i.length;++s)if(i[s]==t)return!0;return!1}var n=Element.prototype,o=n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;e.exports=s},{}],6:[function(t,e,i){function s(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),s=document.createRange();s.selectNodeContents(t),i.removeAllRanges(),i.addRange(s),e=i.toString()}return e}e.exports=s},{}],7:[function(t,e,i){function s(){}s.prototype={on:function(t,e,i){var s=this.e||(this.e={});return(s[t]||(s[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){function s(){n.off(t,s),e.apply(i,arguments)}var n=this;return s._=e,this.on(t,s,i)},emit:function(t){var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),s=0,n=i.length;for(s;s<n;s++)i[s].fn.apply(i[s].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),s=i[t],n=[];if(s&&e)for(var o=0,r=s.length;o<r;o++)s[o].fn!==e&&s[o].fn._!==e&&n.push(s[o]);return n.length?i[t]=n:delete i[t],this}},e.exports=s},{}],8:[function(e,i,s){!function(n,o){if("function"==typeof t&&t.amd)t(["module","select"],o);else if("undefined"!=typeof s)o(i,e("select"));else{var r={exports:{}};o(r,n.select),n.clipboardAction=r.exports}}(this,function(t,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=i(e),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(){function t(e){s(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];
this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){this.selectedText=(0,n.default)(this.target),this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},r(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":o(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=l})},{select:6}],9:[function(e,i,s){!function(n,o){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],o);else if("undefined"!=typeof s)o(i,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var r={exports:{}};o(r,n.clipboardAction,n.tinyEmitter,n.goodListener),n.clipboard=r.exports}}(this,function(t,e,i,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){var i="data-clipboard-"+t;if(e.hasAttribute(i))return e.getAttribute(i)}var c=n(e),h=n(i),u=n(s),d=function(t){function e(i,s){o(this,e);var n=r(this,t.call(this));return n.resolveOptions(s),n.listenClick(i),n}return l(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.listenClick=function(t){var e=this;this.listener=(0,u.default)(t,"click",function(t){return e.onClick(t)})},e.prototype.onClick=function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},e.prototype.defaultAction=function(t){return a("action",t)},e.prototype.defaultTarget=function(t){var e=a("target",t);if(e)return document.querySelector(e)},e.prototype.defaultText=function(t){return a("text",t)},e.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(h.default);t.exports=d})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)}),function(t,e){"use strict";var i=function(){function t(t,e,i,s){return"string"==typeof t&&"function"==typeof e&&(i=parseInt(i||10,10),l("actions",t,e,i,s)),u}function e(){var t=h.call(arguments),e=t.shift();return"string"==typeof e&&c("actions",e,t),u}function i(t,e){return"string"==typeof t&&r("actions",t,e),u}function s(t,e,i,s){return"string"==typeof t&&"function"==typeof e&&(i=parseInt(i||10,10),l("filters",t,e,i,s)),u}function n(){var t=h.call(arguments),e=t.shift();return"string"==typeof e?c("filters",e,t):u}function o(t,e){return"string"==typeof t&&r("filters",t,e),u}function r(t,e,i,s){var n,o,r;if(d[t][e])if(i)if(n=d[t][e],s)for(r=n.length;r--;)o=n[r],o.callback===i&&o.context===s&&n.splice(r,1);else for(r=n.length;r--;)n[r].callback===i&&n.splice(r,1);else d[t][e]=[]}function l(t,e,i,s,n){var o={callback:i,priority:s,context:n},r=d[t][e];r?(r.push(o),r=a(r)):r=[o],d[t][e]=r}function a(t){for(var e,i,s,n=1,o=t.length;n<o;n++){for(e=t[n],i=n;(s=t[i-1])&&s.priority>e.priority;)t[i]=t[i-1],--i;t[i]=e}return t}function c(t,e,i){var s,n,o=d[t][e];if(!o)return"filters"===t&&i[0];if(n=o.length,"filters"===t)for(s=0;s<n;s++)i[0]=o[s].callback.apply(o[s].context,i);else for(s=0;s<n;s++)o[s].callback.apply(o[s].context,i);return"filters"!==t||i[0]}var h=Array.prototype.slice,u={removeFilter:o,applyFilters:n,addFilter:s,removeAction:i,doAction:e,addAction:t},d={actions:{},filters:{}};return u};t.wp=t.wp||{},t.wp.hooks=new i}(window),function(t){t(".chosen-select").chosen({width:"100%"});var e=new Clipboard("#notification_merge_tags .inside ul li code");e.on("success",function(e){var i=t(e.trigger),s=i.text();i.text(notification.copied),setTimeout(function(){i.text(s)},800)}),t("#notification_trigger_select").chosen().change(function(){var e=t(this),i=t("#notification_merge_tags .inside"),s=t("#notification_merge_tags");s.fadeTo(200,.5);var n={action:"notification_get_merge_tags",trigger:e.val()};t.post(ajaxurl,n,function(n){if(0==n.success){i.html("<p>"+n.data+"</p>");var o={}}else{ul=t("<ul>");var o=n.data;t.each(o,function(t,e){ul.append('<li><code data-clipboard-text="{'+e+'}">{'+e+"}</code></li>")}),i.html(ul)}wp.hooks.doAction("notification.changed_trigger",e.val(),o),s.fadeTo(200,1)})});var i=function(){var e=0;if(1==t("#notification_recipients .recipient").length)var i=!0;else var i=!1;t("#notification_recipients .recipient").each(function(){var s=t(this),n=s.find(".actions .dashicons-trash"),o=s.find("input, select");i?n.addClass("disabled"):n.removeClass("disabled"),o.each(function(){var i=t(this),s=i.attr("name");i.attr("name",s.replace(/notification_recipient\[[0-9]+\]/,"notification_recipient["+e+"]"))}),e++})};t("#notification_recipients").on("click","#notification_add_recipient",function(e){e.preventDefault();var s=t(this),n=s.prev(".recipients");n.fadeTo(200,.5);var o={action:"notification_add_recipient"};t.post(ajaxurl,o,function(e){if(0==e.success)alert(e.data);else{var s=t(e.data);n.append(s)}n.fadeTo(200,1),i()})}),t("#notification_recipients").on("click",".recipient .actions .dashicons-trash",function(e){e.preventDefault();var s=t(this),n=s.parents(".recipient").first();return!s.hasClass("disabled")&&void n.animate({left:"50px",opacity:0},400,"linear",function(){t(this).remove(),i()})}),t("#notification_recipients").on("change",".recipient .group select",function(){var e=t(this),s=e.parent().next(".value").find("input, select").first(),n=s.parent();n.fadeTo(200,.5);var o={action:"notification_get_recipient_input",recipient_name:e.val()};t.post(ajaxurl,o,function(e){if(0==e.success)alert(e.data);else{var s=t(e.data);n.html(s),"undefined"!=typeof s.data("update")&&wp.hooks.doAction("notification.update_input",s,s.data("value"),s.data("update"))}n.fadeTo(200,1),i()})});var s=function(){t("#notification_recipients .recipient").each(function(){var e=t(this).find(".field.value select, .field.value input");"undefined"!=typeof e.data("update")&&wp.hooks.doAction("notification.update_input",e,e.data("value"),e.data("update"))})};t(document).ready(s),wp.hooks.addAction("notification.changed_trigger",s),wp.hooks.addAction("notification.update_input",function(e,i,s){if("email_merge_tags"==s){var n=t("#notification_trigger_select").val(),o=e.parent();o.fadeTo(200,.5);var r={action:"notification_get_email_merge_tags",trigger:n};t.post(ajaxurl,r,function(s){0==s.success?alert(s.data):(e.find("option").remove(),e.append(t("<option>")),t.each(s.data,function(s,n){var o={value:s,text:n};s==i&&(o.selected="selected"),e.append(t("<option>",o))})),o.fadeTo(200,1)})}}),wp.hooks.addAction("notification.changed_trigger",function(e,i){if(""==tinymce.activeEditor.getContent()){var s={action:"notification_get_template",trigger:e};t.post(ajaxurl,s,function(t){0==t.success?alert(t.data):tinymce.activeEditor.setContent(t.data)})}}),t(".notification-notice").on("click",".dismiss-beg-message",function(e){e.preventDefault();var i=t(this),s={action:"notification_dismiss_beg_message",nonce:i.data("nonce")};t.post(ajaxurl,s,function(t){i.parents(".notification-notice").slideUp()})}),t('#the-list tr[data-slug="notification"] .deactivate a').click(function(t){t.preventDefault()}),t("body").on("submit","#notification-plugin-feedback-form",function(e){e.preventDefault();var i=t(this);i.find(".spinner").addClass("is-active");var s={action:"notification_send_feedback",form:i.serializeArray()};t.post(ajaxurl,s,function(e){window.location.href=t('#the-list tr[data-slug="notification"] .deactivate a').data("deactivate")})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlbmRvci9jaG9zZW4uanF1ZXJ5LmpzIiwidmVuZG9yL2NsaXBib2FyZC5qcyIsInZlbmRvci9ldmVudC1tYW5hZ2VyLmpzIiwiYWRtaW4uanMiXSwibmFtZXMiOlsiJCIsIkFic3RyYWN0Q2hvc2VuIiwiQ2hvc2VuIiwiU2VsZWN0UGFyc2VyIiwiX3JlZiIsIl9faGFzUHJvcCIsImhhc093blByb3BlcnR5IiwiX19leHRlbmRzIiwiY2hpbGQiLCJwYXJlbnQiLCJjdG9yIiwidGhpcyIsImNvbnN0cnVjdG9yIiwia2V5IiwiY2FsbCIsInByb3RvdHlwZSIsIl9fc3VwZXJfXyIsIm9wdGlvbnNfaW5kZXgiLCJwYXJzZWQiLCJhZGRfbm9kZSIsIm5vZGVOYW1lIiwidG9VcHBlckNhc2UiLCJhZGRfZ3JvdXAiLCJhZGRfb3B0aW9uIiwiZ3JvdXAiLCJncm91cF9wb3NpdGlvbiIsIm9wdGlvbiIsIl9pIiwiX2xlbiIsIl9yZXN1bHRzIiwibGVuZ3RoIiwicHVzaCIsImFycmF5X2luZGV4IiwibGFiZWwiLCJlc2NhcGVFeHByZXNzaW9uIiwidGl0bGUiLCJjaGlsZHJlbiIsImRpc2FibGVkIiwiY2xhc3NlcyIsImNsYXNzTmFtZSIsImNoaWxkTm9kZXMiLCJncm91cF9kaXNhYmxlZCIsInRleHQiLCJ2YWx1ZSIsImh0bWwiLCJpbm5lckhUTUwiLCJzZWxlY3RlZCIsImdyb3VwX2FycmF5X2luZGV4IiwiZ3JvdXBfbGFiZWwiLCJzdHlsZSIsImNzc1RleHQiLCJlbXB0eSIsIm1hcCIsInVuc2FmZV9jaGFycyIsInRlc3QiLCI8IiwiPiIsIlwiIiwiJyIsImAiLCJyZXBsYWNlIiwiY2hyIiwic2VsZWN0X3RvX2FycmF5Iiwic2VsZWN0IiwicGFyc2VyIiwiZm9ybV9maWVsZCIsIm9wdGlvbnMiLCJicm93c2VyX2lzX3N1cHBvcnRlZCIsImlzX211bHRpcGxlIiwibXVsdGlwbGUiLCJzZXRfZGVmYXVsdF90ZXh0Iiwic2V0X2RlZmF1bHRfdmFsdWVzIiwic2V0dXAiLCJzZXRfdXBfaHRtbCIsInJlZ2lzdGVyX29ic2VydmVycyIsIm9uX3JlYWR5IiwiX3RoaXMiLCJjbGlja190ZXN0X2FjdGlvbiIsImV2dCIsInRlc3RfYWN0aXZlX2NsaWNrIiwiYWN0aXZhdGVfYWN0aW9uIiwiYWN0aXZhdGVfZmllbGQiLCJhY3RpdmVfZmllbGQiLCJtb3VzZV9vbl9jb250YWluZXIiLCJyZXN1bHRzX3Nob3dpbmciLCJyZXN1bHRfaGlnaGxpZ2h0ZWQiLCJhbGxvd19zaW5nbGVfZGVzZWxlY3QiLCJkaXNhYmxlX3NlYXJjaF90aHJlc2hvbGQiLCJkaXNhYmxlX3NlYXJjaCIsImVuYWJsZV9zcGxpdF93b3JkX3NlYXJjaCIsImdyb3VwX3NlYXJjaCIsInNlYXJjaF9jb250YWlucyIsInNpbmdsZV9iYWNrc3Ryb2tlX2RlbGV0ZSIsIm1heF9zZWxlY3RlZF9vcHRpb25zIiwiSW5maW5pdHkiLCJpbmhlcml0X3NlbGVjdF9jbGFzc2VzIiwiZGlzcGxheV9zZWxlY3RlZF9vcHRpb25zIiwiZGlzcGxheV9kaXNhYmxlZF9vcHRpb25zIiwiaW5jbHVkZV9ncm91cF9sYWJlbF9pbl9zZWxlY3RlZCIsIm1heF9zaG93bl9yZXN1bHRzIiwiTnVtYmVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJjYXNlX3NlbnNpdGl2ZV9zZWFyY2giLCJnZXRBdHRyaWJ1dGUiLCJkZWZhdWx0X3RleHQiLCJwbGFjZWhvbGRlcl90ZXh0X211bHRpcGxlIiwicGxhY2Vob2xkZXJfdGV4dCIsImRlZmF1bHRfbXVsdGlwbGVfdGV4dCIsInBsYWNlaG9sZGVyX3RleHRfc2luZ2xlIiwiZGVmYXVsdF9zaW5nbGVfdGV4dCIsInJlc3VsdHNfbm9uZV9mb3VuZCIsIm5vX3Jlc3VsdHNfdGV4dCIsImRlZmF1bHRfbm9fcmVzdWx0X3RleHQiLCJjaG9pY2VfbGFiZWwiLCJpdGVtIiwibW91c2VfZW50ZXIiLCJtb3VzZV9sZWF2ZSIsImlucHV0X2ZvY3VzIiwic2V0VGltZW91dCIsImNvbnRhaW5lcl9tb3VzZWRvd24iLCJpbnB1dF9ibHVyIiwiYmx1cl90ZXN0IiwicmVzdWx0c19vcHRpb25fYnVpbGQiLCJjb250ZW50IiwiZGF0YSIsImRhdGFfY29udGVudCIsInNob3duX3Jlc3VsdHMiLCJyZXN1bHRzX2RhdGEiLCJyZXN1bHRfYWRkX2dyb3VwIiwicmVzdWx0X2FkZF9vcHRpb24iLCJmaXJzdCIsImNob2ljZV9idWlsZCIsInNpbmdsZV9zZXRfc2VsZWN0ZWRfdGV4dCIsIm9wdGlvbl9lbCIsInNlYXJjaF9tYXRjaCIsImluY2x1ZGVfb3B0aW9uX2luX3Jlc3VsdHMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJqb2luIiwic2V0QXR0cmlidXRlIiwic2VhcmNoX3RleHQiLCJvdXRlckhUTUwiLCJncm91cF9lbCIsImdyb3VwX21hdGNoIiwiYWN0aXZlX29wdGlvbnMiLCJyZXN1bHRzX3VwZGF0ZV9maWVsZCIsInJlc3VsdHNfcmVzZXRfY2xlYW51cCIsInJlc3VsdF9jbGVhcl9oaWdobGlnaHQiLCJyZXN1bHRzX2J1aWxkIiwid2lubm93X3Jlc3VsdHMiLCJyZXNldF9zaW5nbGVfc2VsZWN0X29wdGlvbnMiLCJyZXN1bHQiLCJyZXN1bHRzX3RvZ2dsZSIsInJlc3VsdHNfaGlkZSIsInJlc3VsdHNfc2hvdyIsInJlc3VsdHNfc2VhcmNoIiwiZXNjYXBlZFNlYXJjaFRleHQiLCJyZWdleCIsInJlc3VsdHMiLCJyZXN1bHRzX2dyb3VwIiwic2VhcmNoVGV4dCIsInN0YXJ0cG9zIiwienJlZ2V4Iiwibm9fcmVzdWx0c19jbGVhciIsImdldF9zZWFyY2hfdGV4dCIsIlJlZ0V4cCIsImdldF9zZWFyY2hfcmVnZXgiLCJzZWFyY2hfc3RyaW5nX21hdGNoIiwic2VhcmNoIiwic3Vic3RyIiwidXBkYXRlX3Jlc3VsdHNfY29udGVudCIsIm5vX3Jlc3VsdHMiLCJ3aW5ub3dfcmVzdWx0c19zZXRfaGlnaGxpZ2h0IiwiZXNjYXBlZF9zZWFyY2hfc3RyaW5nIiwicmVnZXhfYW5jaG9yIiwicmVnZXhfZmxhZyIsInNlYXJjaF9zdHJpbmciLCJwYXJ0IiwicGFydHMiLCJpbmRleE9mIiwic3BsaXQiLCJjaG9pY2VzX2NvdW50Iiwic2VsZWN0ZWRfb3B0aW9uX2NvdW50IiwiY2hvaWNlc19jbGljayIsInByZXZlbnREZWZhdWx0IiwiaXNfZGlzYWJsZWQiLCJrZXl1cF9jaGVja2VyIiwic3Ryb2tlIiwid2hpY2giLCJrZXlDb2RlIiwic2VhcmNoX2ZpZWxkX3NjYWxlIiwiYmFja3N0cm9rZV9sZW5ndGgiLCJrZXlkb3duX2JhY2tzdHJva2UiLCJwZW5kaW5nX2JhY2tzdHJva2UiLCJyZXN1bHRfc2VsZWN0IiwiY2xpcGJvYXJkX2V2ZW50X2NoZWNrZXIiLCJjb250YWluZXJfd2lkdGgiLCJ3aWR0aCIsIm9mZnNldFdpZHRoIiwic2VhcmNoX3Jlc3VsdHNfdG91Y2hzdGFydCIsInRvdWNoX3N0YXJ0ZWQiLCJzZWFyY2hfcmVzdWx0c19tb3VzZW92ZXIiLCJzZWFyY2hfcmVzdWx0c190b3VjaG1vdmUiLCJzZWFyY2hfcmVzdWx0c19tb3VzZW91dCIsInNlYXJjaF9yZXN1bHRzX3RvdWNoZW5kIiwic2VhcmNoX3Jlc3VsdHNfbW91c2V1cCIsImVsZW1lbnQiLCJ0bXAiLCJhcHBlbmRDaGlsZCIsIndpbmRvdyIsIm5hdmlnYXRvciIsImFwcE5hbWUiLCJkb2N1bWVudE1vZGUiLCJ1c2VyQWdlbnQiLCJqUXVlcnkiLCJmbiIsImV4dGVuZCIsImNob3NlbiIsImVhY2giLCJpbnB1dF9maWVsZCIsIiR0aGlzIiwiZGVzdHJveSIsIl9zdXBlciIsImFwcGx5IiwiYXJndW1lbnRzIiwiZm9ybV9maWVsZF9qcSIsImN1cnJlbnRfc2VsZWN0ZWRJbmRleCIsInNlbGVjdGVkSW5kZXgiLCJpc19ydGwiLCJoYXNDbGFzcyIsImNvbnRhaW5lcl9jbGFzc2VzIiwiY29udGFpbmVyX3Byb3BzIiwiY2xhc3MiLCJpZCIsImNvbnRhaW5lciIsImhpZGUiLCJhZnRlciIsImRyb3Bkb3duIiwiZmluZCIsInNlYXJjaF9maWVsZCIsInNlYXJjaF9yZXN1bHRzIiwic2VhcmNoX25vX3Jlc3VsdHMiLCJzZWFyY2hfY2hvaWNlcyIsInNlYXJjaF9jb250YWluZXIiLCJzZWxlY3RlZF9pdGVtIiwic2V0X3RhYl9pbmRleCIsInNldF9sYWJlbF9iZWhhdmlvciIsInRyaWdnZXIiLCJiaW5kIiwiY29udGFpbmVyX21vdXNldXAiLCJzZWFyY2hfcmVzdWx0c19tb3VzZXdoZWVsIiwia2V5ZG93bl9jaGVja2VyIiwib3duZXJEb2N1bWVudCIsInVuYmluZCIsInRhYkluZGV4IiwicmVtb3ZlIiwicmVtb3ZlRGF0YSIsInNob3ciLCJzZWFyY2hfZmllbGRfZGlzYWJsZWQiLCJhZGRDbGFzcyIsImNsb3NlX2ZpZWxkIiwicmVtb3ZlQ2xhc3MiLCJ0eXBlIiwidGFyZ2V0IiwicGFyZW50cyIsInZhbCIsInJlc3VsdHNfcmVzZXQiLCJkZWx0YSIsIm9yaWdpbmFsRXZlbnQiLCJkZWx0YVkiLCJ3aGVlbERlbHRhIiwiZGV0YWlsIiwic2Nyb2xsVG9wIiwiY2xlYXJfYmFja3N0cm9rZSIsInNob3dfc2VhcmNoX2ZpZWxkX2RlZmF1bHQiLCJmb2N1cyIsImFjdGl2ZV9jb250YWluZXIiLCJjbG9zZXN0IiwicGFyc2luZyIsInJlYWRPbmx5IiwicmVzdWx0X2RvX2hpZ2hsaWdodCIsImVsIiwiaGlnaF9ib3R0b20iLCJoaWdoX3RvcCIsIm1heEhlaWdodCIsInZpc2libGVfYm90dG9tIiwidmlzaWJsZV90b3AiLCJyZXN1bHRfaGlnaGxpZ2h0IiwicGFyc2VJbnQiLCJjc3MiLCJwb3NpdGlvbiIsInRvcCIsIm91dGVySGVpZ2h0IiwidGkiLCJmb3JtX2ZpZWxkX2xhYmVsIiwiY2hvaWNlIiwiY2xvc2VfbGluayIsImRhdGEtb3B0aW9uLWFycmF5LWluZGV4IiwiY2hvaWNlX2Rlc3Ryb3lfbGlua19jbGljayIsImFwcGVuZCIsImJlZm9yZSIsInN0b3BQcm9wYWdhdGlvbiIsImNob2ljZV9kZXN0cm95IiwibGluayIsInJlc3VsdF9kZXNlbGVjdCIsImhpZ2giLCJtZXRhS2V5IiwiY3RybEtleSIsInNpbmdsZV9kZXNlbGVjdF9jb250cm9sX2J1aWxkIiwicG9zIiwicmVzdWx0X2RhdGEiLCJkZXNlbGVjdGVkIiwidHJpbSIsImRvX2hpZ2giLCJzZWxlY3RlZF9yZXN1bHRzIiwidGVybXMiLCJub19yZXN1bHRzX2h0bWwiLCJrZXlkb3duX2Fycm93IiwibmV4dF9zaWIiLCJuZXh0QWxsIiwia2V5dXBfYXJyb3ciLCJwcmV2X3NpYnMiLCJwcmV2QWxsIiwibmV4dF9hdmFpbGFibGVfZGVzdHJveSIsInNpYmxpbmdzIiwibGFzdCIsIl9yZWYxIiwiZGl2IiwiZl93aWR0aCIsImgiLCJzdHlsZV9ibG9jayIsInN0eWxlcyIsInciLCJvdXRlcldpZHRoIiwiZiIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJnIiwiZ2xvYmFsIiwic2VsZiIsIkNsaXBib2FyZCIsImUiLCJ0IiwibiIsInIiLCJzIiwibyIsInUiLCJhIiwicmVxdWlyZSIsImkiLCJFcnJvciIsImNvZGUiLCJsIiwiMSIsIm1hdGNoZXMiLCJzZWxlY3RvciIsImNoZWNrWW9TZWxmIiwicGFyZW50Tm9kZSIsIm1hdGNoZXMtc2VsZWN0b3IiLCIyIiwiZGVsZWdhdGUiLCJjYWxsYmFjayIsInVzZUNhcHR1cmUiLCJsaXN0ZW5lckZuIiwibGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRlbGVnYXRlVGFyZ2V0IiwiMyIsIm5vZGUiLCJ1bmRlZmluZWQiLCJIVE1MRWxlbWVudCIsIm5vZGVUeXBlIiwibm9kZUxpc3QiLCJPYmplY3QiLCJ0b1N0cmluZyIsInN0cmluZyIsIlN0cmluZyIsIjQiLCJsaXN0ZW4iLCJpcyIsIlR5cGVFcnJvciIsImxpc3Rlbk5vZGUiLCJsaXN0ZW5Ob2RlTGlzdCIsImxpc3RlblNlbGVjdG9yIiwiQXJyYXkiLCJmb3JFYWNoIiwiYm9keSIsIi4vaXMiLCI1IiwibWF0Y2giLCJ2ZW5kb3IiLCJub2RlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwcm90byIsIkVsZW1lbnQiLCJtYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCI2Iiwic2VsZWN0ZWRUZXh0Iiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJoYXNBdHRyaWJ1dGUiLCJzZWxlY3Rpb24iLCJnZXRTZWxlY3Rpb24iLCJyYW5nZSIsImNyZWF0ZVJhbmdlIiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCI3IiwiRSIsIm9uIiwibmFtZSIsImN0eCIsIm9uY2UiLCJvZmYiLCJfIiwiZW1pdCIsInNsaWNlIiwiZXZ0QXJyIiwibGVuIiwiZXZ0cyIsImxpdmVFdmVudHMiLCI4IiwiZmFjdG9yeSIsIm1vZCIsImNsaXBib2FyZEFjdGlvbiIsIl9zZWxlY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX3NlbGVjdDIiLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZGVmaW5lUHJvcGVydHkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJDbGlwYm9hcmRBY3Rpb24iLCJyZXNvbHZlT3B0aW9ucyIsImluaXRTZWxlY3Rpb24iLCJhY3Rpb24iLCJlbWl0dGVyIiwic2VsZWN0RmFrZSIsInNlbGVjdFRhcmdldCIsImlzUlRMIiwiZG9jdW1lbnRFbGVtZW50IiwicmVtb3ZlRmFrZSIsImZha2VIYW5kbGVyQ2FsbGJhY2siLCJmYWtlSGFuZGxlciIsImZha2VFbGVtIiwiZm9udFNpemUiLCJib3JkZXIiLCJwYWRkaW5nIiwibWFyZ2luIiwicGFnZVlPZmZzZXQiLCJjb3B5VGV4dCIsInJlbW92ZUNoaWxkIiwic3VjY2VlZGVkIiwiZXhlY0NvbW1hbmQiLCJlcnIiLCJoYW5kbGVSZXN1bHQiLCJjbGVhclNlbGVjdGlvbiIsImJsdXIiLCJzZXQiLCJfYWN0aW9uIiwiZ2V0IiwiX3RhcmdldCIsIjkiLCJ0aW55RW1pdHRlciIsImdvb2RMaXN0ZW5lciIsImNsaXBib2FyZCIsIl9jbGlwYm9hcmRBY3Rpb24iLCJfdGlueUVtaXR0ZXIiLCJfZ29vZExpc3RlbmVyIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNyZWF0ZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZ2V0QXR0cmlidXRlVmFsdWUiLCJzdWZmaXgiLCJhdHRyaWJ1dGUiLCJfY2xpcGJvYXJkQWN0aW9uMiIsIl90aW55RW1pdHRlcjIiLCJfZ29vZExpc3RlbmVyMiIsIl9FbWl0dGVyIiwibGlzdGVuQ2xpY2siLCJkZWZhdWx0QWN0aW9uIiwiZGVmYXVsdFRhcmdldCIsImRlZmF1bHRUZXh0IiwiX3RoaXMyIiwib25DbGljayIsImN1cnJlbnRUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiLi9jbGlwYm9hcmQtYWN0aW9uIiwiZ29vZC1saXN0ZW5lciIsInRpbnktZW1pdHRlciIsIkV2ZW50TWFuYWdlciIsImFkZEFjdGlvbiIsInByaW9yaXR5IiwiY29udGV4dCIsIl9hZGRIb29rIiwiTWV0aG9kc0F2YWlsYWJsZSIsImRvQWN0aW9uIiwiYXJncyIsInNoaWZ0IiwiX3J1bkhvb2siLCJyZW1vdmVBY3Rpb24iLCJfcmVtb3ZlSG9vayIsImFkZEZpbHRlciIsImZpbHRlciIsImFwcGx5RmlsdGVycyIsInJlbW92ZUZpbHRlciIsImhvb2siLCJoYW5kbGVycyIsImhhbmRsZXIiLCJTVE9SQUdFIiwic3BsaWNlIiwiaG9va09iamVjdCIsImhvb2tzIiwiX2hvb2tJbnNlcnRTb3J0IiwidG1wSG9vayIsImoiLCJwcmV2SG9vayIsImFjdGlvbnMiLCJmaWx0ZXJzIiwid3AiLCJtZXJnZV90YWdfY2xpcGJvYXJkIiwiJGNvZGUiLCJ0YWciLCJub3RpZmljYXRpb24iLCJjb3BpZWQiLCJjaGFuZ2UiLCIkc2VsZWN0IiwiJGNvbnRhaW5lciIsIiRtZXRhYm94IiwiZmFkZVRvIiwicG9zdCIsImFqYXh1cmwiLCJyZXNwb25zZSIsInN1Y2Nlc3MiLCJ0YWdzIiwidWwiLCJ1cGRhdGVfcmVjaXBpZW50cyIsImRpc2FibGUiLCIkcm93IiwiJHJlbW92ZV9idXR0b24iLCIkaW5wdXRzIiwiJGlucHV0IiwicGFydF9uYW1lIiwiYXR0ciIsImV2ZW50IiwiJGJ1dHRvbiIsInByZXYiLCJhbGVydCIsImFuaW1hdGUiLCJsZWZ0Iiwib3BhY2l0eSIsIm5leHQiLCJyZWNpcGllbnRfbmFtZSIsInVwZGF0ZV9hbGxfaW5wdXRzIiwicmVhZHkiLCJ1cGRhdGVfdHlwZSIsInRhZ192YWx1ZSIsInRhZ19uYW1lIiwiYXR0cyIsInRyaWdnZXJfc2x1ZyIsInRpbnltY2UiLCJhY3RpdmVFZGl0b3IiLCJnZXRDb250ZW50Iiwic2V0Q29udGVudCIsIm5vbmNlIiwic2xpZGVVcCIsImNsaWNrIiwiJGZvcm0iLCJmb3JtIiwic2VyaWFsaXplQXJyYXkiLCJsb2NhdGlvbiIsImhyZWYiXSwibWFwcGluZ3MiOiJDQVlBLFdBQ0EsR0FBQUEsR0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFDQUMsS0FBQUMsZUFDQUMsRUFBQSxTQUFBQyxFQUFBQyxHQUFBLFFBQUFDLEtBQUFDLEtBQUFDLFlBQUFKLEVBQUEsSUFBQSxHQUFBSyxLQUFBSixHQUFBSixFQUFBUyxLQUFBTCxFQUFBSSxLQUFBTCxFQUFBSyxHQUFBSixFQUFBSSxHQUFBLE9BQUFILEdBQUFLLFVBQUFOLEVBQUFNLFVBQUFQLEVBQUFPLFVBQUEsR0FBQUwsR0FBQUYsRUFBQVEsVUFBQVAsRUFBQU0sVUFBQVAsRUFFQUwsR0FB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QUFxWSxHQUFBN2pCLEVBQUFXLE1BRUFpSCxHQUNBOFUsT0FBQSxtQ0FDQXNJLE1BQUFuQixFQUFBamMsS0FBQSxTQUdBNUgsR0FBQThpQixLQUFBQyxRQUFBbmIsRUFBQSxTQUFBb2IsR0FDQWEsRUFBQXJULFFBQUEsd0JBQUF5VSxjQU9BamxCLEVBQUEsd0RBQUFrbEIsTUFBQSxTQUFBdEIsR0FDQUEsRUFBQXBZLG1CQUdBeEwsRUFBQSxRQUFBaWEsR0FBQSxTQUFBLHFDQUFBLFNBQUEySixHQUVBQSxFQUFBcFksZ0JBRUEsSUFBQTJaLEdBQUFubEIsRUFBQVcsS0FFQXdrQixHQUFBclcsS0FBQSxZQUFBcUIsU0FBQSxZQUVBLElBQUF2SSxJQUNBOFUsT0FBQSw2QkFDQTBJLEtBQUFELEVBQUFFLGlCQUdBcmxCLEdBQUE4aUIsS0FBQUMsUUFBQW5iLEVBQUEsU0FBQW9iLEdBQ0EvVixPQUFBcVksU0FBQUMsS0FBQXZsQixFQUFBLHdEQUFBNEgsS0FBQSxtQkFLQTBGIiwiZmlsZSI6InNjcmlwdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG5DaG9zZW4sIGEgU2VsZWN0IEJveCBFbmhhbmNlciBmb3IgalF1ZXJ5IGFuZCBQcm90b3R5cGVcbmJ5IFBhdHJpY2sgRmlsbGVyIGZvciBIYXJ2ZXN0LCBodHRwOi8vZ2V0aGFydmVzdC5jb21cblxuVmVyc2lvbiAxLjYuMlxuRnVsbCBzb3VyY2UgYXQgaHR0cHM6Ly9naXRodWIuY29tL2hhcnZlc3RocS9jaG9zZW5cbkNvcHlyaWdodCAoYykgMjAxMS0yMDE2IEhhcnZlc3QgaHR0cDovL2dldGhhcnZlc3QuY29tXG5cbk1JVCBMaWNlbnNlLCBodHRwczovL2dpdGh1Yi5jb20vaGFydmVzdGhxL2Nob3Nlbi9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXG5UaGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGJ5IGBncnVudCBidWlsZGAsIGRvIG5vdCBlZGl0IGl0IGJ5IGhhbmQuXG4qL1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciAkLCBBYnN0cmFjdENob3NlbiwgQ2hvc2VuLCBTZWxlY3RQYXJzZXIsIF9yZWYsXG4gICAgX19oYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHksXG4gICAgX19leHRlbmRzID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChfX2hhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH07XG5cbiAgU2VsZWN0UGFyc2VyID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIFNlbGVjdFBhcnNlcigpIHtcbiAgICAgIHRoaXMub3B0aW9uc19pbmRleCA9IDA7XG4gICAgICB0aGlzLnBhcnNlZCA9IFtdO1xuICAgIH1cblxuICAgIFNlbGVjdFBhcnNlci5wcm90b3R5cGUuYWRkX25vZGUgPSBmdW5jdGlvbihjaGlsZCkge1xuICAgICAgaWYgKGNoaWxkLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09IFwiT1BUR1JPVVBcIikge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRfZ3JvdXAoY2hpbGQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkX29wdGlvbihjaGlsZCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFNlbGVjdFBhcnNlci5wcm90b3R5cGUuYWRkX2dyb3VwID0gZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgIHZhciBncm91cF9wb3NpdGlvbiwgb3B0aW9uLCBfaSwgX2xlbiwgX3JlZiwgX3Jlc3VsdHM7XG4gICAgICBncm91cF9wb3NpdGlvbiA9IHRoaXMucGFyc2VkLmxlbmd0aDtcbiAgICAgIHRoaXMucGFyc2VkLnB1c2goe1xuICAgICAgICBhcnJheV9pbmRleDogZ3JvdXBfcG9zaXRpb24sXG4gICAgICAgIGdyb3VwOiB0cnVlLFxuICAgICAgICBsYWJlbDogdGhpcy5lc2NhcGVFeHByZXNzaW9uKGdyb3VwLmxhYmVsKSxcbiAgICAgICAgdGl0bGU6IGdyb3VwLnRpdGxlID8gZ3JvdXAudGl0bGUgOiB2b2lkIDAsXG4gICAgICAgIGNoaWxkcmVuOiAwLFxuICAgICAgICBkaXNhYmxlZDogZ3JvdXAuZGlzYWJsZWQsXG4gICAgICAgIGNsYXNzZXM6IGdyb3VwLmNsYXNzTmFtZVxuICAgICAgfSk7XG4gICAgICBfcmVmID0gZ3JvdXAuY2hpbGROb2RlcztcbiAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgb3B0aW9uID0gX3JlZltfaV07XG4gICAgICAgIF9yZXN1bHRzLnB1c2godGhpcy5hZGRfb3B0aW9uKG9wdGlvbiwgZ3JvdXBfcG9zaXRpb24sIGdyb3VwLmRpc2FibGVkKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgfTtcblxuICAgIFNlbGVjdFBhcnNlci5wcm90b3R5cGUuYWRkX29wdGlvbiA9IGZ1bmN0aW9uKG9wdGlvbiwgZ3JvdXBfcG9zaXRpb24sIGdyb3VwX2Rpc2FibGVkKSB7XG4gICAgICBpZiAob3B0aW9uLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09IFwiT1BUSU9OXCIpIHtcbiAgICAgICAgaWYgKG9wdGlvbi50ZXh0ICE9PSBcIlwiKSB7XG4gICAgICAgICAgaWYgKGdyb3VwX3Bvc2l0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucGFyc2VkW2dyb3VwX3Bvc2l0aW9uXS5jaGlsZHJlbiArPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnBhcnNlZC5wdXNoKHtcbiAgICAgICAgICAgIGFycmF5X2luZGV4OiB0aGlzLnBhcnNlZC5sZW5ndGgsXG4gICAgICAgICAgICBvcHRpb25zX2luZGV4OiB0aGlzLm9wdGlvbnNfaW5kZXgsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9uLnZhbHVlLFxuICAgICAgICAgICAgdGV4dDogb3B0aW9uLnRleHQsXG4gICAgICAgICAgICBodG1sOiBvcHRpb24uaW5uZXJIVE1MLFxuICAgICAgICAgICAgdGl0bGU6IG9wdGlvbi50aXRsZSA/IG9wdGlvbi50aXRsZSA6IHZvaWQgMCxcbiAgICAgICAgICAgIHNlbGVjdGVkOiBvcHRpb24uc2VsZWN0ZWQsXG4gICAgICAgICAgICBkaXNhYmxlZDogZ3JvdXBfZGlzYWJsZWQgPT09IHRydWUgPyBncm91cF9kaXNhYmxlZCA6IG9wdGlvbi5kaXNhYmxlZCxcbiAgICAgICAgICAgIGdyb3VwX2FycmF5X2luZGV4OiBncm91cF9wb3NpdGlvbixcbiAgICAgICAgICAgIGdyb3VwX2xhYmVsOiBncm91cF9wb3NpdGlvbiAhPSBudWxsID8gdGhpcy5wYXJzZWRbZ3JvdXBfcG9zaXRpb25dLmxhYmVsIDogbnVsbCxcbiAgICAgICAgICAgIGNsYXNzZXM6IG9wdGlvbi5jbGFzc05hbWUsXG4gICAgICAgICAgICBzdHlsZTogb3B0aW9uLnN0eWxlLmNzc1RleHRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnBhcnNlZC5wdXNoKHtcbiAgICAgICAgICAgIGFycmF5X2luZGV4OiB0aGlzLnBhcnNlZC5sZW5ndGgsXG4gICAgICAgICAgICBvcHRpb25zX2luZGV4OiB0aGlzLm9wdGlvbnNfaW5kZXgsXG4gICAgICAgICAgICBlbXB0eTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNfaW5kZXggKz0gMTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgU2VsZWN0UGFyc2VyLnByb3RvdHlwZS5lc2NhcGVFeHByZXNzaW9uID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgdmFyIG1hcCwgdW5zYWZlX2NoYXJzO1xuICAgICAgaWYgKCh0ZXh0ID09IG51bGwpIHx8IHRleHQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfVxuICAgICAgaWYgKCEvW1xcJlxcPFxcPlxcXCJcXCdcXGBdLy50ZXN0KHRleHQpKSB7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgfVxuICAgICAgbWFwID0ge1xuICAgICAgICBcIjxcIjogXCImbHQ7XCIsXG4gICAgICAgIFwiPlwiOiBcIiZndDtcIixcbiAgICAgICAgJ1wiJzogXCImcXVvdDtcIixcbiAgICAgICAgXCInXCI6IFwiJiN4Mjc7XCIsXG4gICAgICAgIFwiYFwiOiBcIiYjeDYwO1wiXG4gICAgICB9O1xuICAgICAgdW5zYWZlX2NoYXJzID0gLyYoPyFcXHcrOyl8W1xcPFxcPlxcXCJcXCdcXGBdL2c7XG4gICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKHVuc2FmZV9jaGFycywgZnVuY3Rpb24oY2hyKSB7XG4gICAgICAgIHJldHVybiBtYXBbY2hyXSB8fCBcIiZhbXA7XCI7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNlbGVjdFBhcnNlcjtcblxuICB9KSgpO1xuXG4gIFNlbGVjdFBhcnNlci5zZWxlY3RfdG9fYXJyYXkgPSBmdW5jdGlvbihzZWxlY3QpIHtcbiAgICB2YXIgY2hpbGQsIHBhcnNlciwgX2ksIF9sZW4sIF9yZWY7XG4gICAgcGFyc2VyID0gbmV3IFNlbGVjdFBhcnNlcigpO1xuICAgIF9yZWYgPSBzZWxlY3QuY2hpbGROb2RlcztcbiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgIGNoaWxkID0gX3JlZltfaV07XG4gICAgICBwYXJzZXIuYWRkX25vZGUoY2hpbGQpO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VyLnBhcnNlZDtcbiAgfTtcblxuICBBYnN0cmFjdENob3NlbiA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdENob3Nlbihmb3JtX2ZpZWxkLCBvcHRpb25zKSB7XG4gICAgICB0aGlzLmZvcm1fZmllbGQgPSBmb3JtX2ZpZWxkO1xuICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucyA6IHt9O1xuICAgICAgaWYgKCFBYnN0cmFjdENob3Nlbi5icm93c2VyX2lzX3N1cHBvcnRlZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuaXNfbXVsdGlwbGUgPSB0aGlzLmZvcm1fZmllbGQubXVsdGlwbGU7XG4gICAgICB0aGlzLnNldF9kZWZhdWx0X3RleHQoKTtcbiAgICAgIHRoaXMuc2V0X2RlZmF1bHRfdmFsdWVzKCk7XG4gICAgICB0aGlzLnNldHVwKCk7XG4gICAgICB0aGlzLnNldF91cF9odG1sKCk7XG4gICAgICB0aGlzLnJlZ2lzdGVyX29ic2VydmVycygpO1xuICAgICAgdGhpcy5vbl9yZWFkeSgpO1xuICAgIH1cblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5zZXRfZGVmYXVsdF92YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB0aGlzLmNsaWNrX3Rlc3RfYWN0aW9uID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIHJldHVybiBfdGhpcy50ZXN0X2FjdGl2ZV9jbGljayhldnQpO1xuICAgICAgfTtcbiAgICAgIHRoaXMuYWN0aXZhdGVfYWN0aW9uID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5hY3RpdmF0ZV9maWVsZChldnQpO1xuICAgICAgfTtcbiAgICAgIHRoaXMuYWN0aXZlX2ZpZWxkID0gZmFsc2U7XG4gICAgICB0aGlzLm1vdXNlX29uX2NvbnRhaW5lciA9IGZhbHNlO1xuICAgICAgdGhpcy5yZXN1bHRzX3Nob3dpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMucmVzdWx0X2hpZ2hsaWdodGVkID0gbnVsbDtcbiAgICAgIHRoaXMuYWxsb3dfc2luZ2xlX2Rlc2VsZWN0ID0gKHRoaXMub3B0aW9ucy5hbGxvd19zaW5nbGVfZGVzZWxlY3QgIT0gbnVsbCkgJiYgKHRoaXMuZm9ybV9maWVsZC5vcHRpb25zWzBdICE9IG51bGwpICYmIHRoaXMuZm9ybV9maWVsZC5vcHRpb25zWzBdLnRleHQgPT09IFwiXCIgPyB0aGlzLm9wdGlvbnMuYWxsb3dfc2luZ2xlX2Rlc2VsZWN0IDogZmFsc2U7XG4gICAgICB0aGlzLmRpc2FibGVfc2VhcmNoX3RocmVzaG9sZCA9IHRoaXMub3B0aW9ucy5kaXNhYmxlX3NlYXJjaF90aHJlc2hvbGQgfHwgMDtcbiAgICAgIHRoaXMuZGlzYWJsZV9zZWFyY2ggPSB0aGlzLm9wdGlvbnMuZGlzYWJsZV9zZWFyY2ggfHwgZmFsc2U7XG4gICAgICB0aGlzLmVuYWJsZV9zcGxpdF93b3JkX3NlYXJjaCA9IHRoaXMub3B0aW9ucy5lbmFibGVfc3BsaXRfd29yZF9zZWFyY2ggIT0gbnVsbCA/IHRoaXMub3B0aW9ucy5lbmFibGVfc3BsaXRfd29yZF9zZWFyY2ggOiB0cnVlO1xuICAgICAgdGhpcy5ncm91cF9zZWFyY2ggPSB0aGlzLm9wdGlvbnMuZ3JvdXBfc2VhcmNoICE9IG51bGwgPyB0aGlzLm9wdGlvbnMuZ3JvdXBfc2VhcmNoIDogdHJ1ZTtcbiAgICAgIHRoaXMuc2VhcmNoX2NvbnRhaW5zID0gdGhpcy5vcHRpb25zLnNlYXJjaF9jb250YWlucyB8fCBmYWxzZTtcbiAgICAgIHRoaXMuc2luZ2xlX2JhY2tzdHJva2VfZGVsZXRlID0gdGhpcy5vcHRpb25zLnNpbmdsZV9iYWNrc3Ryb2tlX2RlbGV0ZSAhPSBudWxsID8gdGhpcy5vcHRpb25zLnNpbmdsZV9iYWNrc3Ryb2tlX2RlbGV0ZSA6IHRydWU7XG4gICAgICB0aGlzLm1heF9zZWxlY3RlZF9vcHRpb25zID0gdGhpcy5vcHRpb25zLm1heF9zZWxlY3RlZF9vcHRpb25zIHx8IEluZmluaXR5O1xuICAgICAgdGhpcy5pbmhlcml0X3NlbGVjdF9jbGFzc2VzID0gdGhpcy5vcHRpb25zLmluaGVyaXRfc2VsZWN0X2NsYXNzZXMgfHwgZmFsc2U7XG4gICAgICB0aGlzLmRpc3BsYXlfc2VsZWN0ZWRfb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5kaXNwbGF5X3NlbGVjdGVkX29wdGlvbnMgIT0gbnVsbCA/IHRoaXMub3B0aW9ucy5kaXNwbGF5X3NlbGVjdGVkX29wdGlvbnMgOiB0cnVlO1xuICAgICAgdGhpcy5kaXNwbGF5X2Rpc2FibGVkX29wdGlvbnMgPSB0aGlzLm9wdGlvbnMuZGlzcGxheV9kaXNhYmxlZF9vcHRpb25zICE9IG51bGwgPyB0aGlzLm9wdGlvbnMuZGlzcGxheV9kaXNhYmxlZF9vcHRpb25zIDogdHJ1ZTtcbiAgICAgIHRoaXMuaW5jbHVkZV9ncm91cF9sYWJlbF9pbl9zZWxlY3RlZCA9IHRoaXMub3B0aW9ucy5pbmNsdWRlX2dyb3VwX2xhYmVsX2luX3NlbGVjdGVkIHx8IGZhbHNlO1xuICAgICAgdGhpcy5tYXhfc2hvd25fcmVzdWx0cyA9IHRoaXMub3B0aW9ucy5tYXhfc2hvd25fcmVzdWx0cyB8fCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICByZXR1cm4gdGhpcy5jYXNlX3NlbnNpdGl2ZV9zZWFyY2ggPSB0aGlzLm9wdGlvbnMuY2FzZV9zZW5zaXRpdmVfc2VhcmNoIHx8IGZhbHNlO1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuc2V0X2RlZmF1bHRfdGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuZm9ybV9maWVsZC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBsYWNlaG9sZGVyXCIpKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdF90ZXh0ID0gdGhpcy5mb3JtX2ZpZWxkLmdldEF0dHJpYnV0ZShcImRhdGEtcGxhY2Vob2xkZXJcIik7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNfbXVsdGlwbGUpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0X3RleHQgPSB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXJfdGV4dF9tdWx0aXBsZSB8fCB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXJfdGV4dCB8fCBBYnN0cmFjdENob3Nlbi5kZWZhdWx0X211bHRpcGxlX3RleHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRlZmF1bHRfdGV4dCA9IHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcl90ZXh0X3NpbmdsZSB8fCB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXJfdGV4dCB8fCBBYnN0cmFjdENob3Nlbi5kZWZhdWx0X3NpbmdsZV90ZXh0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucmVzdWx0c19ub25lX2ZvdW5kID0gdGhpcy5mb3JtX2ZpZWxkLmdldEF0dHJpYnV0ZShcImRhdGEtbm9fcmVzdWx0c190ZXh0XCIpIHx8IHRoaXMub3B0aW9ucy5ub19yZXN1bHRzX3RleHQgfHwgQWJzdHJhY3RDaG9zZW4uZGVmYXVsdF9ub19yZXN1bHRfdGV4dDtcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmNob2ljZV9sYWJlbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIGlmICh0aGlzLmluY2x1ZGVfZ3JvdXBfbGFiZWxfaW5fc2VsZWN0ZWQgJiYgKGl0ZW0uZ3JvdXBfbGFiZWwgIT0gbnVsbCkpIHtcbiAgICAgICAgcmV0dXJuIFwiPGIgY2xhc3M9J2dyb3VwLW5hbWUnPlwiICsgaXRlbS5ncm91cF9sYWJlbCArIFwiPC9iPlwiICsgaXRlbS5odG1sO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0uaHRtbDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLm1vdXNlX2VudGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5tb3VzZV9vbl9jb250YWluZXIgPSB0cnVlO1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUubW91c2VfbGVhdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLm1vdXNlX29uX2NvbnRhaW5lciA9IGZhbHNlO1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuaW5wdXRfZm9jdXMgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlX2ZpZWxkKSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNvbnRhaW5lcl9tb3VzZWRvd24oKTtcbiAgICAgICAgICB9KSwgNTApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlX2ZpZWxkKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZhdGVfZmllbGQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuaW5wdXRfYmx1ciA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIGlmICghdGhpcy5tb3VzZV9vbl9jb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVfZmllbGQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5ibHVyX3Rlc3QoKTtcbiAgICAgICAgfSksIDEwMCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5yZXN1bHRzX29wdGlvbl9idWlsZCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBjb250ZW50LCBkYXRhLCBkYXRhX2NvbnRlbnQsIHNob3duX3Jlc3VsdHMsIF9pLCBfbGVuLCBfcmVmO1xuICAgICAgY29udGVudCA9ICcnO1xuICAgICAgc2hvd25fcmVzdWx0cyA9IDA7XG4gICAgICBfcmVmID0gdGhpcy5yZXN1bHRzX2RhdGE7XG4gICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgZGF0YSA9IF9yZWZbX2ldO1xuICAgICAgICBkYXRhX2NvbnRlbnQgPSAnJztcbiAgICAgICAgaWYgKGRhdGEuZ3JvdXApIHtcbiAgICAgICAgICBkYXRhX2NvbnRlbnQgPSB0aGlzLnJlc3VsdF9hZGRfZ3JvdXAoZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF0YV9jb250ZW50ID0gdGhpcy5yZXN1bHRfYWRkX29wdGlvbihkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YV9jb250ZW50ICE9PSAnJykge1xuICAgICAgICAgIHNob3duX3Jlc3VsdHMrKztcbiAgICAgICAgICBjb250ZW50ICs9IGRhdGFfY29udGVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5maXJzdCA6IHZvaWQgMCkge1xuICAgICAgICAgIGlmIChkYXRhLnNlbGVjdGVkICYmIHRoaXMuaXNfbXVsdGlwbGUpIHtcbiAgICAgICAgICAgIHRoaXMuY2hvaWNlX2J1aWxkKGRhdGEpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5zZWxlY3RlZCAmJiAhdGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICAgICAgdGhpcy5zaW5nbGVfc2V0X3NlbGVjdGVkX3RleHQodGhpcy5jaG9pY2VfbGFiZWwoZGF0YSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvd25fcmVzdWx0cyA+PSB0aGlzLm1heF9zaG93bl9yZXN1bHRzKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUucmVzdWx0X2FkZF9vcHRpb24gPSBmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgIHZhciBjbGFzc2VzLCBvcHRpb25fZWw7XG4gICAgICBpZiAoIW9wdGlvbi5zZWFyY2hfbWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmluY2x1ZGVfb3B0aW9uX2luX3Jlc3VsdHMob3B0aW9uKSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBjbGFzc2VzID0gW107XG4gICAgICBpZiAoIW9wdGlvbi5kaXNhYmxlZCAmJiAhKG9wdGlvbi5zZWxlY3RlZCAmJiB0aGlzLmlzX211bHRpcGxlKSkge1xuICAgICAgICBjbGFzc2VzLnB1c2goXCJhY3RpdmUtcmVzdWx0XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbi5kaXNhYmxlZCAmJiAhKG9wdGlvbi5zZWxlY3RlZCAmJiB0aGlzLmlzX211bHRpcGxlKSkge1xuICAgICAgICBjbGFzc2VzLnB1c2goXCJkaXNhYmxlZC1yZXN1bHRcIik7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9uLnNlbGVjdGVkKSB7XG4gICAgICAgIGNsYXNzZXMucHVzaChcInJlc3VsdC1zZWxlY3RlZFwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb24uZ3JvdXBfYXJyYXlfaW5kZXggIT0gbnVsbCkge1xuICAgICAgICBjbGFzc2VzLnB1c2goXCJncm91cC1vcHRpb25cIik7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9uLmNsYXNzZXMgIT09IFwiXCIpIHtcbiAgICAgICAgY2xhc3Nlcy5wdXNoKG9wdGlvbi5jbGFzc2VzKTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbl9lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICAgIG9wdGlvbl9lbC5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oXCIgXCIpO1xuICAgICAgb3B0aW9uX2VsLnN0eWxlLmNzc1RleHQgPSBvcHRpb24uc3R5bGU7XG4gICAgICBvcHRpb25fZWwuc2V0QXR0cmlidXRlKFwiZGF0YS1vcHRpb24tYXJyYXktaW5kZXhcIiwgb3B0aW9uLmFycmF5X2luZGV4KTtcbiAgICAgIG9wdGlvbl9lbC5pbm5lckhUTUwgPSBvcHRpb24uc2VhcmNoX3RleHQ7XG4gICAgICBpZiAob3B0aW9uLnRpdGxlKSB7XG4gICAgICAgIG9wdGlvbl9lbC50aXRsZSA9IG9wdGlvbi50aXRsZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLm91dGVySFRNTChvcHRpb25fZWwpO1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUucmVzdWx0X2FkZF9ncm91cCA9IGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICB2YXIgY2xhc3NlcywgZ3JvdXBfZWw7XG4gICAgICBpZiAoIShncm91cC5zZWFyY2hfbWF0Y2ggfHwgZ3JvdXAuZ3JvdXBfbWF0Y2gpKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIGlmICghKGdyb3VwLmFjdGl2ZV9vcHRpb25zID4gMCkpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgY2xhc3NlcyA9IFtdO1xuICAgICAgY2xhc3Nlcy5wdXNoKFwiZ3JvdXAtcmVzdWx0XCIpO1xuICAgICAgaWYgKGdyb3VwLmNsYXNzZXMpIHtcbiAgICAgICAgY2xhc3Nlcy5wdXNoKGdyb3VwLmNsYXNzZXMpO1xuICAgICAgfVxuICAgICAgZ3JvdXBfZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICBncm91cF9lbC5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oXCIgXCIpO1xuICAgICAgZ3JvdXBfZWwuaW5uZXJIVE1MID0gZ3JvdXAuc2VhcmNoX3RleHQ7XG4gICAgICBpZiAoZ3JvdXAudGl0bGUpIHtcbiAgICAgICAgZ3JvdXBfZWwudGl0bGUgPSBncm91cC50aXRsZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLm91dGVySFRNTChncm91cF9lbCk7XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5yZXN1bHRzX3VwZGF0ZV9maWVsZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5zZXRfZGVmYXVsdF90ZXh0KCk7XG4gICAgICBpZiAoIXRoaXMuaXNfbXVsdGlwbGUpIHtcbiAgICAgICAgdGhpcy5yZXN1bHRzX3Jlc2V0X2NsZWFudXAoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCgpO1xuICAgICAgdGhpcy5yZXN1bHRzX2J1aWxkKCk7XG4gICAgICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2lubm93X3Jlc3VsdHMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLnJlc2V0X3NpbmdsZV9zZWxlY3Rfb3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlc3VsdCwgX2ksIF9sZW4sIF9yZWYsIF9yZXN1bHRzO1xuICAgICAgX3JlZiA9IHRoaXMucmVzdWx0c19kYXRhO1xuICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICByZXN1bHQgPSBfcmVmW19pXTtcbiAgICAgICAgaWYgKHJlc3VsdC5zZWxlY3RlZCkge1xuICAgICAgICAgIF9yZXN1bHRzLnB1c2gocmVzdWx0LnNlbGVjdGVkID0gZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9yZXN1bHRzLnB1c2godm9pZCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUucmVzdWx0c190b2dnbGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnJlc3VsdHNfc2hvd2luZykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzX2hpZGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdHNfc2hvdygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUucmVzdWx0c19zZWFyY2ggPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIGlmICh0aGlzLnJlc3VsdHNfc2hvd2luZykge1xuICAgICAgICByZXR1cm4gdGhpcy53aW5ub3dfcmVzdWx0cygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0c19zaG93KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS53aW5ub3dfcmVzdWx0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGVzY2FwZWRTZWFyY2hUZXh0LCBvcHRpb24sIHJlZ2V4LCByZXN1bHRzLCByZXN1bHRzX2dyb3VwLCBzZWFyY2hUZXh0LCBzdGFydHBvcywgdGV4dCwgenJlZ2V4LCBfaSwgX2xlbiwgX3JlZjtcbiAgICAgIHRoaXMubm9fcmVzdWx0c19jbGVhcigpO1xuICAgICAgcmVzdWx0cyA9IDA7XG4gICAgICBzZWFyY2hUZXh0ID0gdGhpcy5nZXRfc2VhcmNoX3RleHQoKTtcbiAgICAgIGVzY2FwZWRTZWFyY2hUZXh0ID0gc2VhcmNoVGV4dC5yZXBsYWNlKC9bLVtcXF17fSgpKis/LixcXFxcXiR8I1xcc10vZywgXCJcXFxcJCZcIik7XG4gICAgICB6cmVnZXggPSBuZXcgUmVnRXhwKGVzY2FwZWRTZWFyY2hUZXh0LCAnaScpO1xuICAgICAgcmVnZXggPSB0aGlzLmdldF9zZWFyY2hfcmVnZXgoZXNjYXBlZFNlYXJjaFRleHQpO1xuICAgICAgX3JlZiA9IHRoaXMucmVzdWx0c19kYXRhO1xuICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgIG9wdGlvbiA9IF9yZWZbX2ldO1xuICAgICAgICBvcHRpb24uc2VhcmNoX21hdGNoID0gZmFsc2U7XG4gICAgICAgIHJlc3VsdHNfZ3JvdXAgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5pbmNsdWRlX29wdGlvbl9pbl9yZXN1bHRzKG9wdGlvbikpIHtcbiAgICAgICAgICBpZiAob3B0aW9uLmdyb3VwKSB7XG4gICAgICAgICAgICBvcHRpb24uZ3JvdXBfbWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgIG9wdGlvbi5hY3RpdmVfb3B0aW9ucyA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgob3B0aW9uLmdyb3VwX2FycmF5X2luZGV4ICE9IG51bGwpICYmIHRoaXMucmVzdWx0c19kYXRhW29wdGlvbi5ncm91cF9hcnJheV9pbmRleF0pIHtcbiAgICAgICAgICAgIHJlc3VsdHNfZ3JvdXAgPSB0aGlzLnJlc3VsdHNfZGF0YVtvcHRpb24uZ3JvdXBfYXJyYXlfaW5kZXhdO1xuICAgICAgICAgICAgaWYgKHJlc3VsdHNfZ3JvdXAuYWN0aXZlX29wdGlvbnMgPT09IDAgJiYgcmVzdWx0c19ncm91cC5zZWFyY2hfbWF0Y2gpIHtcbiAgICAgICAgICAgICAgcmVzdWx0cyArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0c19ncm91cC5hY3RpdmVfb3B0aW9ucyArPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcHRpb24uc2VhcmNoX3RleHQgPSBvcHRpb24uZ3JvdXAgPyBvcHRpb24ubGFiZWwgOiBvcHRpb24uaHRtbDtcbiAgICAgICAgICBpZiAoIShvcHRpb24uZ3JvdXAgJiYgIXRoaXMuZ3JvdXBfc2VhcmNoKSkge1xuICAgICAgICAgICAgb3B0aW9uLnNlYXJjaF9tYXRjaCA9IHRoaXMuc2VhcmNoX3N0cmluZ19tYXRjaChvcHRpb24uc2VhcmNoX3RleHQsIHJlZ2V4KTtcbiAgICAgICAgICAgIGlmIChvcHRpb24uc2VhcmNoX21hdGNoICYmICFvcHRpb24uZ3JvdXApIHtcbiAgICAgICAgICAgICAgcmVzdWx0cyArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbi5zZWFyY2hfbWF0Y2gpIHtcbiAgICAgICAgICAgICAgaWYgKHNlYXJjaFRleHQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRwb3MgPSBvcHRpb24uc2VhcmNoX3RleHQuc2VhcmNoKHpyZWdleCk7XG4gICAgICAgICAgICAgICAgdGV4dCA9IG9wdGlvbi5zZWFyY2hfdGV4dC5zdWJzdHIoMCwgc3RhcnRwb3MgKyBzZWFyY2hUZXh0Lmxlbmd0aCkgKyAnPC9lbT4nICsgb3B0aW9uLnNlYXJjaF90ZXh0LnN1YnN0cihzdGFydHBvcyArIHNlYXJjaFRleHQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBvcHRpb24uc2VhcmNoX3RleHQgPSB0ZXh0LnN1YnN0cigwLCBzdGFydHBvcykgKyAnPGVtPicgKyB0ZXh0LnN1YnN0cihzdGFydHBvcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHJlc3VsdHNfZ3JvdXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHNfZ3JvdXAuZ3JvdXBfbWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKChvcHRpb24uZ3JvdXBfYXJyYXlfaW5kZXggIT0gbnVsbCkgJiYgdGhpcy5yZXN1bHRzX2RhdGFbb3B0aW9uLmdyb3VwX2FycmF5X2luZGV4XS5zZWFyY2hfbWF0Y2gpIHtcbiAgICAgICAgICAgICAgb3B0aW9uLnNlYXJjaF9tYXRjaCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnJlc3VsdF9jbGVhcl9oaWdobGlnaHQoKTtcbiAgICAgIGlmIChyZXN1bHRzIDwgMSAmJiBzZWFyY2hUZXh0Lmxlbmd0aCkge1xuICAgICAgICB0aGlzLnVwZGF0ZV9yZXN1bHRzX2NvbnRlbnQoXCJcIik7XG4gICAgICAgIHJldHVybiB0aGlzLm5vX3Jlc3VsdHMoc2VhcmNoVGV4dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVwZGF0ZV9yZXN1bHRzX2NvbnRlbnQodGhpcy5yZXN1bHRzX29wdGlvbl9idWlsZCgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMud2lubm93X3Jlc3VsdHNfc2V0X2hpZ2hsaWdodCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuZ2V0X3NlYXJjaF9yZWdleCA9IGZ1bmN0aW9uKGVzY2FwZWRfc2VhcmNoX3N0cmluZykge1xuICAgICAgdmFyIHJlZ2V4X2FuY2hvciwgcmVnZXhfZmxhZztcbiAgICAgIHJlZ2V4X2FuY2hvciA9IHRoaXMuc2VhcmNoX2NvbnRhaW5zID8gXCJcIiA6IFwiXlwiO1xuICAgICAgcmVnZXhfZmxhZyA9IHRoaXMuY2FzZV9zZW5zaXRpdmVfc2VhcmNoID8gXCJcIiA6IFwiaVwiO1xuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAocmVnZXhfYW5jaG9yICsgZXNjYXBlZF9zZWFyY2hfc3RyaW5nLCByZWdleF9mbGFnKTtcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLnNlYXJjaF9zdHJpbmdfbWF0Y2ggPSBmdW5jdGlvbihzZWFyY2hfc3RyaW5nLCByZWdleCkge1xuICAgICAgdmFyIHBhcnQsIHBhcnRzLCBfaSwgX2xlbjtcbiAgICAgIGlmIChyZWdleC50ZXN0KHNlYXJjaF9zdHJpbmcpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmVuYWJsZV9zcGxpdF93b3JkX3NlYXJjaCAmJiAoc2VhcmNoX3N0cmluZy5pbmRleE9mKFwiIFwiKSA+PSAwIHx8IHNlYXJjaF9zdHJpbmcuaW5kZXhPZihcIltcIikgPT09IDApKSB7XG4gICAgICAgIHBhcnRzID0gc2VhcmNoX3N0cmluZy5yZXBsYWNlKC9cXFt8XFxdL2csIFwiXCIpLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCkge1xuICAgICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gcGFydHMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgICAgIHBhcnQgPSBwYXJ0c1tfaV07XG4gICAgICAgICAgICBpZiAocmVnZXgudGVzdChwYXJ0KSkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmNob2ljZXNfY291bnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvcHRpb24sIF9pLCBfbGVuLCBfcmVmO1xuICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRfb3B0aW9uX2NvdW50ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRfb3B0aW9uX2NvdW50O1xuICAgICAgfVxuICAgICAgdGhpcy5zZWxlY3RlZF9vcHRpb25fY291bnQgPSAwO1xuICAgICAgX3JlZiA9IHRoaXMuZm9ybV9maWVsZC5vcHRpb25zO1xuICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgIG9wdGlvbiA9IF9yZWZbX2ldO1xuICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3RlZF9vcHRpb25fY291bnQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRfb3B0aW9uX2NvdW50O1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuY2hvaWNlc19jbGljayA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoISh0aGlzLnJlc3VsdHNfc2hvd2luZyB8fCB0aGlzLmlzX2Rpc2FibGVkKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzX3Nob3coKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmtleXVwX2NoZWNrZXIgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIHZhciBzdHJva2UsIF9yZWY7XG4gICAgICBzdHJva2UgPSAoX3JlZiA9IGV2dC53aGljaCkgIT0gbnVsbCA/IF9yZWYgOiBldnQua2V5Q29kZTtcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkX3NjYWxlKCk7XG4gICAgICBzd2l0Y2ggKHN0cm9rZSkge1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUgJiYgdGhpcy5iYWNrc3Ryb2tlX2xlbmd0aCA8IDEgJiYgdGhpcy5jaG9pY2VzX2NvdW50KCkgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5rZXlkb3duX2JhY2tzdHJva2UoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLnBlbmRpbmdfYmFja3N0cm9rZSkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRfY2xlYXJfaGlnaGxpZ2h0KCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzX3NlYXJjaCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc3VsdF9zZWxlY3QoZXZ0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgaWYgKHRoaXMucmVzdWx0c19zaG93aW5nKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdHNfaGlkZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICBjYXNlIDM4OlxuICAgICAgICBjYXNlIDQwOlxuICAgICAgICBjYXNlIDE2OlxuICAgICAgICBjYXNlIDkxOlxuICAgICAgICBjYXNlIDE3OlxuICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB0aGlzLnJlc3VsdHNfc2VhcmNoKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5jbGlwYm9hcmRfZXZlbnRfY2hlY2tlciA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnJlc3VsdHNfc2VhcmNoKCk7XG4gICAgICB9KSwgNTApO1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuY29udGFpbmVyX3dpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLndpZHRoICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53aWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBcIlwiICsgdGhpcy5mb3JtX2ZpZWxkLm9mZnNldFdpZHRoICsgXCJweFwiO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuaW5jbHVkZV9vcHRpb25faW5fcmVzdWx0cyA9IGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUgJiYgKCF0aGlzLmRpc3BsYXlfc2VsZWN0ZWRfb3B0aW9ucyAmJiBvcHRpb24uc2VsZWN0ZWQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5kaXNwbGF5X2Rpc2FibGVkX29wdGlvbnMgJiYgb3B0aW9uLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb24uZW1wdHkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfcmVzdWx0c190b3VjaHN0YXJ0ID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICB0aGlzLnRvdWNoX3N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX3Jlc3VsdHNfbW91c2VvdmVyKGV2dCk7XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfcmVzdWx0c190b3VjaG1vdmUgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIHRoaXMudG91Y2hfc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX3Jlc3VsdHNfbW91c2VvdXQoZXZ0KTtcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLnNlYXJjaF9yZXN1bHRzX3RvdWNoZW5kID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICBpZiAodGhpcy50b3VjaF9zdGFydGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9yZXN1bHRzX21vdXNldXAoZXZ0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLm91dGVySFRNTCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHZhciB0bXA7XG4gICAgICBpZiAoZWxlbWVudC5vdXRlckhUTUwpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQub3V0ZXJIVE1MO1xuICAgICAgfVxuICAgICAgdG1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHRtcC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgIHJldHVybiB0bXAuaW5uZXJIVE1MO1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5icm93c2VyX2lzX3N1cHBvcnRlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKFwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXCIgPT09IHdpbmRvdy5uYXZpZ2F0b3IuYXBwTmFtZSkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRNb2RlID49IDg7XG4gICAgICB9XG4gICAgICBpZiAoL2lQKG9kfGhvbmUpL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgL0lFTW9iaWxlL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgL1dpbmRvd3MgUGhvbmUvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSB8fCAvQmxhY2tCZXJyeS9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpIHx8IC9CQjEwL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgL0FuZHJvaWQuKk1vYmlsZS9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5kZWZhdWx0X211bHRpcGxlX3RleHQgPSBcIlNlbGVjdCBTb21lIE9wdGlvbnNcIjtcblxuICAgIEFic3RyYWN0Q2hvc2VuLmRlZmF1bHRfc2luZ2xlX3RleHQgPSBcIlNlbGVjdCBhbiBPcHRpb25cIjtcblxuICAgIEFic3RyYWN0Q2hvc2VuLmRlZmF1bHRfbm9fcmVzdWx0X3RleHQgPSBcIk5vIHJlc3VsdHMgbWF0Y2hcIjtcblxuICAgIHJldHVybiBBYnN0cmFjdENob3NlbjtcblxuICB9KSgpO1xuXG4gICQgPSBqUXVlcnk7XG5cbiAgJC5mbi5leHRlbmQoe1xuICAgIGNob3NlbjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKCFBYnN0cmFjdENob3Nlbi5icm93c2VyX2lzX3N1cHBvcnRlZCgpKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpbnB1dF9maWVsZCkge1xuICAgICAgICB2YXIgJHRoaXMsIGNob3NlbjtcbiAgICAgICAgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICBjaG9zZW4gPSAkdGhpcy5kYXRhKCdjaG9zZW4nKTtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09ICdkZXN0cm95Jykge1xuICAgICAgICAgIGlmIChjaG9zZW4gaW5zdGFuY2VvZiBDaG9zZW4pIHtcbiAgICAgICAgICAgIGNob3Nlbi5kZXN0cm95KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShjaG9zZW4gaW5zdGFuY2VvZiBDaG9zZW4pKSB7XG4gICAgICAgICAgJHRoaXMuZGF0YSgnY2hvc2VuJywgbmV3IENob3Nlbih0aGlzLCBvcHRpb25zKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgQ2hvc2VuID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDaG9zZW4sIF9zdXBlcik7XG5cbiAgICBmdW5jdGlvbiBDaG9zZW4oKSB7XG4gICAgICBfcmVmID0gQ2hvc2VuLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIF9yZWY7XG4gICAgfVxuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5mb3JtX2ZpZWxkX2pxID0gJCh0aGlzLmZvcm1fZmllbGQpO1xuICAgICAgdGhpcy5jdXJyZW50X3NlbGVjdGVkSW5kZXggPSB0aGlzLmZvcm1fZmllbGQuc2VsZWN0ZWRJbmRleDtcbiAgICAgIHJldHVybiB0aGlzLmlzX3J0bCA9IHRoaXMuZm9ybV9maWVsZF9qcS5oYXNDbGFzcyhcImNob3Nlbi1ydGxcIik7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuc2V0X3VwX2h0bWwgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjb250YWluZXJfY2xhc3NlcywgY29udGFpbmVyX3Byb3BzO1xuICAgICAgY29udGFpbmVyX2NsYXNzZXMgPSBbXCJjaG9zZW4tY29udGFpbmVyXCJdO1xuICAgICAgY29udGFpbmVyX2NsYXNzZXMucHVzaChcImNob3Nlbi1jb250YWluZXItXCIgKyAodGhpcy5pc19tdWx0aXBsZSA/IFwibXVsdGlcIiA6IFwic2luZ2xlXCIpKTtcbiAgICAgIGlmICh0aGlzLmluaGVyaXRfc2VsZWN0X2NsYXNzZXMgJiYgdGhpcy5mb3JtX2ZpZWxkLmNsYXNzTmFtZSkge1xuICAgICAgICBjb250YWluZXJfY2xhc3Nlcy5wdXNoKHRoaXMuZm9ybV9maWVsZC5jbGFzc05hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuaXNfcnRsKSB7XG4gICAgICAgIGNvbnRhaW5lcl9jbGFzc2VzLnB1c2goXCJjaG9zZW4tcnRsXCIpO1xuICAgICAgfVxuICAgICAgY29udGFpbmVyX3Byb3BzID0ge1xuICAgICAgICAnY2xhc3MnOiBjb250YWluZXJfY2xhc3Nlcy5qb2luKCcgJyksXG4gICAgICAgICdzdHlsZSc6IFwid2lkdGg6IFwiICsgKHRoaXMuY29udGFpbmVyX3dpZHRoKCkpICsgXCI7XCIsXG4gICAgICAgICd0aXRsZSc6IHRoaXMuZm9ybV9maWVsZC50aXRsZVxuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLmZvcm1fZmllbGQuaWQubGVuZ3RoKSB7XG4gICAgICAgIGNvbnRhaW5lcl9wcm9wcy5pZCA9IHRoaXMuZm9ybV9maWVsZC5pZC5yZXBsYWNlKC9bXlxcd10vZywgJ18nKSArIFwiX2Nob3NlblwiO1xuICAgICAgfVxuICAgICAgdGhpcy5jb250YWluZXIgPSAkKFwiPGRpdiAvPlwiLCBjb250YWluZXJfcHJvcHMpO1xuICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuaHRtbCgnPHVsIGNsYXNzPVwiY2hvc2VuLWNob2ljZXNcIj48bGkgY2xhc3M9XCJzZWFyY2gtZmllbGRcIj48aW5wdXQgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyB0aGlzLmRlZmF1bHRfdGV4dCArICdcIiBjbGFzcz1cImRlZmF1bHRcIiBhdXRvY29tcGxldGU9XCJvZmZcIiBzdHlsZT1cIndpZHRoOjI1cHg7XCIgLz48L2xpPjwvdWw+PGRpdiBjbGFzcz1cImNob3Nlbi1kcm9wXCI+PHVsIGNsYXNzPVwiY2hvc2VuLXJlc3VsdHNcIj48L3VsPjwvZGl2PicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuaHRtbCgnPGEgY2xhc3M9XCJjaG9zZW4tc2luZ2xlIGNob3Nlbi1kZWZhdWx0XCI+PHNwYW4+JyArIHRoaXMuZGVmYXVsdF90ZXh0ICsgJzwvc3Bhbj48ZGl2PjxiPjwvYj48L2Rpdj48L2E+PGRpdiBjbGFzcz1cImNob3Nlbi1kcm9wXCI+PGRpdiBjbGFzcz1cImNob3Nlbi1zZWFyY2hcIj48aW5wdXQgdHlwZT1cInRleHRcIiBhdXRvY29tcGxldGU9XCJvZmZcIiAvPjwvZGl2Pjx1bCBjbGFzcz1cImNob3Nlbi1yZXN1bHRzXCI+PC91bD48L2Rpdj4nKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZm9ybV9maWVsZF9qcS5oaWRlKCkuYWZ0ZXIodGhpcy5jb250YWluZXIpO1xuICAgICAgdGhpcy5kcm9wZG93biA9IHRoaXMuY29udGFpbmVyLmZpbmQoJ2Rpdi5jaG9zZW4tZHJvcCcpLmZpcnN0KCk7XG4gICAgICB0aGlzLnNlYXJjaF9maWVsZCA9IHRoaXMuY29udGFpbmVyLmZpbmQoJ2lucHV0JykuZmlyc3QoKTtcbiAgICAgIHRoaXMuc2VhcmNoX3Jlc3VsdHMgPSB0aGlzLmNvbnRhaW5lci5maW5kKCd1bC5jaG9zZW4tcmVzdWx0cycpLmZpcnN0KCk7XG4gICAgICB0aGlzLnNlYXJjaF9maWVsZF9zY2FsZSgpO1xuICAgICAgdGhpcy5zZWFyY2hfbm9fcmVzdWx0cyA9IHRoaXMuY29udGFpbmVyLmZpbmQoJ2xpLm5vLXJlc3VsdHMnKS5maXJzdCgpO1xuICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUpIHtcbiAgICAgICAgdGhpcy5zZWFyY2hfY2hvaWNlcyA9IHRoaXMuY29udGFpbmVyLmZpbmQoJ3VsLmNob3Nlbi1jaG9pY2VzJykuZmlyc3QoKTtcbiAgICAgICAgdGhpcy5zZWFyY2hfY29udGFpbmVyID0gdGhpcy5jb250YWluZXIuZmluZCgnbGkuc2VhcmNoLWZpZWxkJykuZmlyc3QoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2VhcmNoX2NvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLmZpbmQoJ2Rpdi5jaG9zZW4tc2VhcmNoJykuZmlyc3QoKTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZF9pdGVtID0gdGhpcy5jb250YWluZXIuZmluZCgnLmNob3Nlbi1zaW5nbGUnKS5maXJzdCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZXN1bHRzX2J1aWxkKCk7XG4gICAgICB0aGlzLnNldF90YWJfaW5kZXgoKTtcbiAgICAgIHJldHVybiB0aGlzLnNldF9sYWJlbF9iZWhhdmlvcigpO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLm9uX3JlYWR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5mb3JtX2ZpZWxkX2pxLnRyaWdnZXIoXCJjaG9zZW46cmVhZHlcIiwge1xuICAgICAgICBjaG9zZW46IHRoaXNcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnJlZ2lzdGVyX29ic2VydmVycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHRoaXMuY29udGFpbmVyLmJpbmQoJ3RvdWNoc3RhcnQuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIF90aGlzLmNvbnRhaW5lcl9tb3VzZWRvd24oZXZ0KTtcbiAgICAgICAgcmV0dXJuIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmNvbnRhaW5lci5iaW5kKCd0b3VjaGVuZC5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgX3RoaXMuY29udGFpbmVyX21vdXNldXAoZXZ0KTtcbiAgICAgICAgcmV0dXJuIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmNvbnRhaW5lci5iaW5kKCdtb3VzZWRvd24uY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIF90aGlzLmNvbnRhaW5lcl9tb3VzZWRvd24oZXZ0KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5jb250YWluZXIuYmluZCgnbW91c2V1cC5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgX3RoaXMuY29udGFpbmVyX21vdXNldXAoZXZ0KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5jb250YWluZXIuYmluZCgnbW91c2VlbnRlci5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgX3RoaXMubW91c2VfZW50ZXIoZXZ0KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5jb250YWluZXIuYmluZCgnbW91c2VsZWF2ZS5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgX3RoaXMubW91c2VfbGVhdmUoZXZ0KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZWFyY2hfcmVzdWx0cy5iaW5kKCdtb3VzZXVwLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBfdGhpcy5zZWFyY2hfcmVzdWx0c19tb3VzZXVwKGV2dCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2VhcmNoX3Jlc3VsdHMuYmluZCgnbW91c2VvdmVyLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBfdGhpcy5zZWFyY2hfcmVzdWx0c19tb3VzZW92ZXIoZXZ0KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZWFyY2hfcmVzdWx0cy5iaW5kKCdtb3VzZW91dC5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgX3RoaXMuc2VhcmNoX3Jlc3VsdHNfbW91c2VvdXQoZXZ0KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZWFyY2hfcmVzdWx0cy5iaW5kKCdtb3VzZXdoZWVsLmNob3NlbiBET01Nb3VzZVNjcm9sbC5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgX3RoaXMuc2VhcmNoX3Jlc3VsdHNfbW91c2V3aGVlbChldnQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnNlYXJjaF9yZXN1bHRzLmJpbmQoJ3RvdWNoc3RhcnQuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIF90aGlzLnNlYXJjaF9yZXN1bHRzX3RvdWNoc3RhcnQoZXZ0KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZWFyY2hfcmVzdWx0cy5iaW5kKCd0b3VjaG1vdmUuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIF90aGlzLnNlYXJjaF9yZXN1bHRzX3RvdWNobW92ZShldnQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnNlYXJjaF9yZXN1bHRzLmJpbmQoJ3RvdWNoZW5kLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBfdGhpcy5zZWFyY2hfcmVzdWx0c190b3VjaGVuZChldnQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmZvcm1fZmllbGRfanEuYmluZChcImNob3Nlbjp1cGRhdGVkLmNob3NlblwiLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgX3RoaXMucmVzdWx0c191cGRhdGVfZmllbGQoZXZ0KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5mb3JtX2ZpZWxkX2pxLmJpbmQoXCJjaG9zZW46YWN0aXZhdGUuY2hvc2VuXCIsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBfdGhpcy5hY3RpdmF0ZV9maWVsZChldnQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmZvcm1fZmllbGRfanEuYmluZChcImNob3NlbjpvcGVuLmNob3NlblwiLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgX3RoaXMuY29udGFpbmVyX21vdXNlZG93bihldnQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmZvcm1fZmllbGRfanEuYmluZChcImNob3NlbjpjbG9zZS5jaG9zZW5cIiwgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIF90aGlzLmlucHV0X2JsdXIoZXZ0KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZWFyY2hfZmllbGQuYmluZCgnYmx1ci5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgX3RoaXMuaW5wdXRfYmx1cihldnQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnNlYXJjaF9maWVsZC5iaW5kKCdrZXl1cC5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgX3RoaXMua2V5dXBfY2hlY2tlcihldnQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnNlYXJjaF9maWVsZC5iaW5kKCdrZXlkb3duLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBfdGhpcy5rZXlkb3duX2NoZWNrZXIoZXZ0KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZWFyY2hfZmllbGQuYmluZCgnZm9jdXMuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIF90aGlzLmlucHV0X2ZvY3VzKGV2dCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkLmJpbmQoJ2N1dC5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgX3RoaXMuY2xpcGJvYXJkX2V2ZW50X2NoZWNrZXIoZXZ0KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZWFyY2hfZmllbGQuYmluZCgncGFzdGUuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIF90aGlzLmNsaXBib2FyZF9ldmVudF9jaGVja2VyKGV2dCk7XG4gICAgICB9KTtcbiAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9jaG9pY2VzLmJpbmQoJ2NsaWNrLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgIF90aGlzLmNob2ljZXNfY2xpY2soZXZ0KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuYmluZCgnY2xpY2suY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICAgICQodGhpcy5jb250YWluZXJbMF0ub3duZXJEb2N1bWVudCkudW5iaW5kKFwiY2xpY2suY2hvc2VuXCIsIHRoaXMuY2xpY2tfdGVzdF9hY3Rpb24pO1xuICAgICAgaWYgKHRoaXMuc2VhcmNoX2ZpZWxkWzBdLnRhYkluZGV4KSB7XG4gICAgICAgIHRoaXMuZm9ybV9maWVsZF9qcVswXS50YWJJbmRleCA9IHRoaXMuc2VhcmNoX2ZpZWxkWzBdLnRhYkluZGV4O1xuICAgICAgfVxuICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlKCk7XG4gICAgICB0aGlzLmZvcm1fZmllbGRfanEucmVtb3ZlRGF0YSgnY2hvc2VuJyk7XG4gICAgICByZXR1cm4gdGhpcy5mb3JtX2ZpZWxkX2pxLnNob3coKTtcbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfZmllbGRfZGlzYWJsZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuaXNfZGlzYWJsZWQgPSB0aGlzLmZvcm1fZmllbGRfanFbMF0uZGlzYWJsZWQ7XG4gICAgICBpZiAodGhpcy5pc19kaXNhYmxlZCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDbGFzcygnY2hvc2VuLWRpc2FibGVkJyk7XG4gICAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkWzBdLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLmlzX211bHRpcGxlKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3RlZF9pdGVtLnVuYmluZChcImZvY3VzLmNob3NlblwiLCB0aGlzLmFjdGl2YXRlX2FjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvc2VfZmllbGQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUNsYXNzKCdjaG9zZW4tZGlzYWJsZWQnKTtcbiAgICAgICAgdGhpcy5zZWFyY2hfZmllbGRbMF0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCF0aGlzLmlzX211bHRpcGxlKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRfaXRlbS5iaW5kKFwiZm9jdXMuY2hvc2VuXCIsIHRoaXMuYWN0aXZhdGVfYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLmNvbnRhaW5lcl9tb3VzZWRvd24gPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIGlmICghdGhpcy5pc19kaXNhYmxlZCkge1xuICAgICAgICBpZiAoZXZ0ICYmIGV2dC50eXBlID09PSBcIm1vdXNlZG93blwiICYmICF0aGlzLnJlc3VsdHNfc2hvd2luZykge1xuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKChldnQgIT0gbnVsbCkgJiYgKCQoZXZ0LnRhcmdldCkpLmhhc0NsYXNzKFwic2VhcmNoLWNob2ljZS1jbG9zZVwiKSkpIHtcbiAgICAgICAgICBpZiAoIXRoaXMuYWN0aXZlX2ZpZWxkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICAgICAgICB0aGlzLnNlYXJjaF9maWVsZC52YWwoXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkKHRoaXMuY29udGFpbmVyWzBdLm93bmVyRG9jdW1lbnQpLmJpbmQoJ2NsaWNrLmNob3NlbicsIHRoaXMuY2xpY2tfdGVzdF9hY3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRzX3Nob3coKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmlzX211bHRpcGxlICYmIGV2dCAmJiAoKCQoZXZ0LnRhcmdldClbMF0gPT09IHRoaXMuc2VsZWN0ZWRfaXRlbVswXSkgfHwgJChldnQudGFyZ2V0KS5wYXJlbnRzKFwiYS5jaG9zZW4tc2luZ2xlXCIpLmxlbmd0aCkpIHtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRzX3RvZ2dsZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmF0ZV9maWVsZCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuY29udGFpbmVyX21vdXNldXAgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIGlmIChldnQudGFyZ2V0Lm5vZGVOYW1lID09PSBcIkFCQlJcIiAmJiAhdGhpcy5pc19kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzX3Jlc2V0KGV2dCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuc2VhcmNoX3Jlc3VsdHNfbW91c2V3aGVlbCA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgdmFyIGRlbHRhO1xuICAgICAgaWYgKGV2dC5vcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIGRlbHRhID0gZXZ0Lm9yaWdpbmFsRXZlbnQuZGVsdGFZIHx8IC1ldnQub3JpZ2luYWxFdmVudC53aGVlbERlbHRhIHx8IGV2dC5vcmlnaW5hbEV2ZW50LmRldGFpbDtcbiAgICAgIH1cbiAgICAgIGlmIChkZWx0YSAhPSBudWxsKSB7XG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoZXZ0LnR5cGUgPT09ICdET01Nb3VzZVNjcm9sbCcpIHtcbiAgICAgICAgICBkZWx0YSA9IGRlbHRhICogNDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX3Jlc3VsdHMuc2Nyb2xsVG9wKGRlbHRhICsgdGhpcy5zZWFyY2hfcmVzdWx0cy5zY3JvbGxUb3AoKSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuYmx1cl90ZXN0ID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICBpZiAoIXRoaXMuYWN0aXZlX2ZpZWxkICYmIHRoaXMuY29udGFpbmVyLmhhc0NsYXNzKFwiY2hvc2VuLWNvbnRhaW5lci1hY3RpdmVcIikpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvc2VfZmllbGQoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5jbG9zZV9maWVsZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgJCh0aGlzLmNvbnRhaW5lclswXS5vd25lckRvY3VtZW50KS51bmJpbmQoXCJjbGljay5jaG9zZW5cIiwgdGhpcy5jbGlja190ZXN0X2FjdGlvbik7XG4gICAgICB0aGlzLmFjdGl2ZV9maWVsZCA9IGZhbHNlO1xuICAgICAgdGhpcy5yZXN1bHRzX2hpZGUoKTtcbiAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUNsYXNzKFwiY2hvc2VuLWNvbnRhaW5lci1hY3RpdmVcIik7XG4gICAgICB0aGlzLmNsZWFyX2JhY2tzdHJva2UoKTtcbiAgICAgIHRoaXMuc2hvd19zZWFyY2hfZmllbGRfZGVmYXVsdCgpO1xuICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkX3NjYWxlKCk7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuYWN0aXZhdGVfZmllbGQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuY29udGFpbmVyLmFkZENsYXNzKFwiY2hvc2VuLWNvbnRhaW5lci1hY3RpdmVcIik7XG4gICAgICB0aGlzLmFjdGl2ZV9maWVsZCA9IHRydWU7XG4gICAgICB0aGlzLnNlYXJjaF9maWVsZC52YWwodGhpcy5zZWFyY2hfZmllbGQudmFsKCkpO1xuICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkLmZvY3VzKCk7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUudGVzdF9hY3RpdmVfY2xpY2sgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIHZhciBhY3RpdmVfY29udGFpbmVyO1xuICAgICAgYWN0aXZlX2NvbnRhaW5lciA9ICQoZXZ0LnRhcmdldCkuY2xvc2VzdCgnLmNob3Nlbi1jb250YWluZXInKTtcbiAgICAgIGlmIChhY3RpdmVfY29udGFpbmVyLmxlbmd0aCAmJiB0aGlzLmNvbnRhaW5lclswXSA9PT0gYWN0aXZlX2NvbnRhaW5lclswXSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVfZmllbGQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvc2VfZmllbGQoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5yZXN1bHRzX2J1aWxkID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnBhcnNpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5zZWxlY3RlZF9vcHRpb25fY291bnQgPSBudWxsO1xuICAgICAgdGhpcy5yZXN1bHRzX2RhdGEgPSBTZWxlY3RQYXJzZXIuc2VsZWN0X3RvX2FycmF5KHRoaXMuZm9ybV9maWVsZCk7XG4gICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICB0aGlzLnNlYXJjaF9jaG9pY2VzLmZpbmQoXCJsaS5zZWFyY2gtY2hvaWNlXCIpLnJlbW92ZSgpO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICB0aGlzLnNpbmdsZV9zZXRfc2VsZWN0ZWRfdGV4dCgpO1xuICAgICAgICBpZiAodGhpcy5kaXNhYmxlX3NlYXJjaCB8fCB0aGlzLmZvcm1fZmllbGQub3B0aW9ucy5sZW5ndGggPD0gdGhpcy5kaXNhYmxlX3NlYXJjaF90aHJlc2hvbGQpIHtcbiAgICAgICAgICB0aGlzLnNlYXJjaF9maWVsZFswXS5yZWFkT25seSA9IHRydWU7XG4gICAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2xhc3MoXCJjaG9zZW4tY29udGFpbmVyLXNpbmdsZS1ub3NlYXJjaFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNlYXJjaF9maWVsZFswXS5yZWFkT25seSA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUNsYXNzKFwiY2hvc2VuLWNvbnRhaW5lci1zaW5nbGUtbm9zZWFyY2hcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMudXBkYXRlX3Jlc3VsdHNfY29udGVudCh0aGlzLnJlc3VsdHNfb3B0aW9uX2J1aWxkKHtcbiAgICAgICAgZmlyc3Q6IHRydWVcbiAgICAgIH0pKTtcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkX2Rpc2FibGVkKCk7XG4gICAgICB0aGlzLnNob3dfc2VhcmNoX2ZpZWxkX2RlZmF1bHQoKTtcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkX3NjYWxlKCk7XG4gICAgICByZXR1cm4gdGhpcy5wYXJzaW5nID0gZmFsc2U7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUucmVzdWx0X2RvX2hpZ2hsaWdodCA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgICB2YXIgaGlnaF9ib3R0b20sIGhpZ2hfdG9wLCBtYXhIZWlnaHQsIHZpc2libGVfYm90dG9tLCB2aXNpYmxlX3RvcDtcbiAgICAgIGlmIChlbC5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5yZXN1bHRfY2xlYXJfaGlnaGxpZ2h0KCk7XG4gICAgICAgIHRoaXMucmVzdWx0X2hpZ2hsaWdodCA9IGVsO1xuICAgICAgICB0aGlzLnJlc3VsdF9oaWdobGlnaHQuYWRkQ2xhc3MoXCJoaWdobGlnaHRlZFwiKTtcbiAgICAgICAgbWF4SGVpZ2h0ID0gcGFyc2VJbnQodGhpcy5zZWFyY2hfcmVzdWx0cy5jc3MoXCJtYXhIZWlnaHRcIiksIDEwKTtcbiAgICAgICAgdmlzaWJsZV90b3AgPSB0aGlzLnNlYXJjaF9yZXN1bHRzLnNjcm9sbFRvcCgpO1xuICAgICAgICB2aXNpYmxlX2JvdHRvbSA9IG1heEhlaWdodCArIHZpc2libGVfdG9wO1xuICAgICAgICBoaWdoX3RvcCA9IHRoaXMucmVzdWx0X2hpZ2hsaWdodC5wb3NpdGlvbigpLnRvcCArIHRoaXMuc2VhcmNoX3Jlc3VsdHMuc2Nyb2xsVG9wKCk7XG4gICAgICAgIGhpZ2hfYm90dG9tID0gaGlnaF90b3AgKyB0aGlzLnJlc3VsdF9oaWdobGlnaHQub3V0ZXJIZWlnaHQoKTtcbiAgICAgICAgaWYgKGhpZ2hfYm90dG9tID49IHZpc2libGVfYm90dG9tKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX3Jlc3VsdHMuc2Nyb2xsVG9wKChoaWdoX2JvdHRvbSAtIG1heEhlaWdodCkgPiAwID8gaGlnaF9ib3R0b20gLSBtYXhIZWlnaHQgOiAwKTtcbiAgICAgICAgfSBlbHNlIGlmIChoaWdoX3RvcCA8IHZpc2libGVfdG9wKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX3Jlc3VsdHMuc2Nyb2xsVG9wKGhpZ2hfdG9wKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnJlc3VsdF9jbGVhcl9oaWdobGlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnJlc3VsdF9oaWdobGlnaHQpIHtcbiAgICAgICAgdGhpcy5yZXN1bHRfaGlnaGxpZ2h0LnJlbW92ZUNsYXNzKFwiaGlnaGxpZ2h0ZWRcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5yZXN1bHRfaGlnaGxpZ2h0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5yZXN1bHRzX3Nob3cgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlICYmIHRoaXMubWF4X3NlbGVjdGVkX29wdGlvbnMgPD0gdGhpcy5jaG9pY2VzX2NvdW50KCkpIHtcbiAgICAgICAgdGhpcy5mb3JtX2ZpZWxkX2pxLnRyaWdnZXIoXCJjaG9zZW46bWF4c2VsZWN0ZWRcIiwge1xuICAgICAgICAgIGNob3NlbjogdGhpc1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2xhc3MoXCJjaG9zZW4td2l0aC1kcm9wXCIpO1xuICAgICAgdGhpcy5yZXN1bHRzX3Nob3dpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5zZWFyY2hfZmllbGQuZm9jdXMoKTtcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkLnZhbCh0aGlzLnNlYXJjaF9maWVsZC52YWwoKSk7XG4gICAgICB0aGlzLndpbm5vd19yZXN1bHRzKCk7XG4gICAgICByZXR1cm4gdGhpcy5mb3JtX2ZpZWxkX2pxLnRyaWdnZXIoXCJjaG9zZW46c2hvd2luZ19kcm9wZG93blwiLCB7XG4gICAgICAgIGNob3NlbjogdGhpc1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUudXBkYXRlX3Jlc3VsdHNfY29udGVudCA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9yZXN1bHRzLmh0bWwoY29udGVudCk7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUucmVzdWx0c19oaWRlID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcpIHtcbiAgICAgICAgdGhpcy5yZXN1bHRfY2xlYXJfaGlnaGxpZ2h0KCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUNsYXNzKFwiY2hvc2VuLXdpdGgtZHJvcFwiKTtcbiAgICAgICAgdGhpcy5mb3JtX2ZpZWxkX2pxLnRyaWdnZXIoXCJjaG9zZW46aGlkaW5nX2Ryb3Bkb3duXCIsIHtcbiAgICAgICAgICBjaG9zZW46IHRoaXNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5yZXN1bHRzX3Nob3dpbmcgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5zZXRfdGFiX2luZGV4ID0gZnVuY3Rpb24oZWwpIHtcbiAgICAgIHZhciB0aTtcbiAgICAgIGlmICh0aGlzLmZvcm1fZmllbGQudGFiSW5kZXgpIHtcbiAgICAgICAgdGkgPSB0aGlzLmZvcm1fZmllbGQudGFiSW5kZXg7XG4gICAgICAgIHRoaXMuZm9ybV9maWVsZC50YWJJbmRleCA9IC0xO1xuICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2hfZmllbGRbMF0udGFiSW5kZXggPSB0aTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5zZXRfbGFiZWxfYmVoYXZpb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB0aGlzLmZvcm1fZmllbGRfbGFiZWwgPSB0aGlzLmZvcm1fZmllbGRfanEucGFyZW50cyhcImxhYmVsXCIpO1xuICAgICAgaWYgKCF0aGlzLmZvcm1fZmllbGRfbGFiZWwubGVuZ3RoICYmIHRoaXMuZm9ybV9maWVsZC5pZC5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5mb3JtX2ZpZWxkX2xhYmVsID0gJChcImxhYmVsW2Zvcj0nXCIgKyB0aGlzLmZvcm1fZmllbGQuaWQgKyBcIiddXCIpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZm9ybV9maWVsZF9sYWJlbC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvcm1fZmllbGRfbGFiZWwuYmluZCgnY2xpY2suY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgaWYgKF90aGlzLmlzX211bHRpcGxlKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuY29udGFpbmVyX21vdXNlZG93bihldnQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuYWN0aXZhdGVfZmllbGQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnNob3dfc2VhcmNoX2ZpZWxkX2RlZmF1bHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlICYmIHRoaXMuY2hvaWNlc19jb3VudCgpIDwgMSAmJiAhdGhpcy5hY3RpdmVfZmllbGQpIHtcbiAgICAgICAgdGhpcy5zZWFyY2hfZmllbGQudmFsKHRoaXMuZGVmYXVsdF90ZXh0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkLmFkZENsYXNzKFwiZGVmYXVsdFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkLnZhbChcIlwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkLnJlbW92ZUNsYXNzKFwiZGVmYXVsdFwiKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfcmVzdWx0c19tb3VzZXVwID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICB2YXIgdGFyZ2V0O1xuICAgICAgdGFyZ2V0ID0gJChldnQudGFyZ2V0KS5oYXNDbGFzcyhcImFjdGl2ZS1yZXN1bHRcIikgPyAkKGV2dC50YXJnZXQpIDogJChldnQudGFyZ2V0KS5wYXJlbnRzKFwiLmFjdGl2ZS1yZXN1bHRcIikuZmlyc3QoKTtcbiAgICAgIGlmICh0YXJnZXQubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMucmVzdWx0X2hpZ2hsaWdodCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5yZXN1bHRfc2VsZWN0KGV2dCk7XG4gICAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9maWVsZC5mb2N1cygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnNlYXJjaF9yZXN1bHRzX21vdXNlb3ZlciA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgdmFyIHRhcmdldDtcbiAgICAgIHRhcmdldCA9ICQoZXZ0LnRhcmdldCkuaGFzQ2xhc3MoXCJhY3RpdmUtcmVzdWx0XCIpID8gJChldnQudGFyZ2V0KSA6ICQoZXZ0LnRhcmdldCkucGFyZW50cyhcIi5hY3RpdmUtcmVzdWx0XCIpLmZpcnN0KCk7XG4gICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdF9kb19oaWdobGlnaHQodGFyZ2V0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfcmVzdWx0c19tb3VzZW91dCA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgaWYgKCQoZXZ0LnRhcmdldCkuaGFzQ2xhc3MoXCJhY3RpdmUtcmVzdWx0XCIgfHwgJChldnQudGFyZ2V0KS5wYXJlbnRzKCcuYWN0aXZlLXJlc3VsdCcpLmZpcnN0KCkpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdF9jbGVhcl9oaWdobGlnaHQoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5jaG9pY2VfYnVpbGQgPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgICB2YXIgY2hvaWNlLCBjbG9zZV9saW5rLFxuICAgICAgICBfdGhpcyA9IHRoaXM7XG4gICAgICBjaG9pY2UgPSAkKCc8bGkgLz4nLCB7XG4gICAgICAgIFwiY2xhc3NcIjogXCJzZWFyY2gtY2hvaWNlXCJcbiAgICAgIH0pLmh0bWwoXCI8c3Bhbj5cIiArICh0aGlzLmNob2ljZV9sYWJlbChpdGVtKSkgKyBcIjwvc3Bhbj5cIik7XG4gICAgICBpZiAoaXRlbS5kaXNhYmxlZCkge1xuICAgICAgICBjaG9pY2UuYWRkQ2xhc3MoJ3NlYXJjaC1jaG9pY2UtZGlzYWJsZWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsb3NlX2xpbmsgPSAkKCc8YSAvPicsIHtcbiAgICAgICAgICBcImNsYXNzXCI6ICdzZWFyY2gtY2hvaWNlLWNsb3NlJyxcbiAgICAgICAgICAnZGF0YS1vcHRpb24tYXJyYXktaW5kZXgnOiBpdGVtLmFycmF5X2luZGV4XG4gICAgICAgIH0pO1xuICAgICAgICBjbG9zZV9saW5rLmJpbmQoJ2NsaWNrLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5jaG9pY2VfZGVzdHJveV9saW5rX2NsaWNrKGV2dCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjaG9pY2UuYXBwZW5kKGNsb3NlX2xpbmspO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX2NvbnRhaW5lci5iZWZvcmUoY2hvaWNlKTtcbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5jaG9pY2VfZGVzdHJveV9saW5rX2NsaWNrID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGlmICghdGhpcy5pc19kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaG9pY2VfZGVzdHJveSgkKGV2dC50YXJnZXQpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5jaG9pY2VfZGVzdHJveSA9IGZ1bmN0aW9uKGxpbmspIHtcbiAgICAgIGlmICh0aGlzLnJlc3VsdF9kZXNlbGVjdChsaW5rWzBdLmdldEF0dHJpYnV0ZShcImRhdGEtb3B0aW9uLWFycmF5LWluZGV4XCIpKSkge1xuICAgICAgICB0aGlzLnNob3dfc2VhcmNoX2ZpZWxkX2RlZmF1bHQoKTtcbiAgICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUgJiYgdGhpcy5jaG9pY2VzX2NvdW50KCkgPiAwICYmIHRoaXMuc2VhcmNoX2ZpZWxkLnZhbCgpLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICB0aGlzLnJlc3VsdHNfaGlkZSgpO1xuICAgICAgICB9XG4gICAgICAgIGxpbmsucGFyZW50cygnbGknKS5maXJzdCgpLnJlbW92ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2hfZmllbGRfc2NhbGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5yZXN1bHRzX3Jlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnJlc2V0X3NpbmdsZV9zZWxlY3Rfb3B0aW9ucygpO1xuICAgICAgdGhpcy5mb3JtX2ZpZWxkLm9wdGlvbnNbMF0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5zaW5nbGVfc2V0X3NlbGVjdGVkX3RleHQoKTtcbiAgICAgIHRoaXMuc2hvd19zZWFyY2hfZmllbGRfZGVmYXVsdCgpO1xuICAgICAgdGhpcy5yZXN1bHRzX3Jlc2V0X2NsZWFudXAoKTtcbiAgICAgIHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiY2hhbmdlXCIpO1xuICAgICAgaWYgKHRoaXMuYWN0aXZlX2ZpZWxkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdHNfaGlkZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnJlc3VsdHNfcmVzZXRfY2xlYW51cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jdXJyZW50X3NlbGVjdGVkSW5kZXggPSB0aGlzLmZvcm1fZmllbGQuc2VsZWN0ZWRJbmRleDtcbiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkX2l0ZW0uZmluZChcImFiYnJcIikucmVtb3ZlKCk7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUucmVzdWx0X3NlbGVjdCA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgdmFyIGhpZ2gsIGl0ZW07XG4gICAgICBpZiAodGhpcy5yZXN1bHRfaGlnaGxpZ2h0KSB7XG4gICAgICAgIGhpZ2ggPSB0aGlzLnJlc3VsdF9oaWdobGlnaHQ7XG4gICAgICAgIHRoaXMucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCgpO1xuICAgICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSAmJiB0aGlzLm1heF9zZWxlY3RlZF9vcHRpb25zIDw9IHRoaXMuY2hvaWNlc19jb3VudCgpKSB7XG4gICAgICAgICAgdGhpcy5mb3JtX2ZpZWxkX2pxLnRyaWdnZXIoXCJjaG9zZW46bWF4c2VsZWN0ZWRcIiwge1xuICAgICAgICAgICAgY2hvc2VuOiB0aGlzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlKSB7XG4gICAgICAgICAgaGlnaC5yZW1vdmVDbGFzcyhcImFjdGl2ZS1yZXN1bHRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5yZXNldF9zaW5nbGVfc2VsZWN0X29wdGlvbnMoKTtcbiAgICAgICAgfVxuICAgICAgICBoaWdoLmFkZENsYXNzKFwicmVzdWx0LXNlbGVjdGVkXCIpO1xuICAgICAgICBpdGVtID0gdGhpcy5yZXN1bHRzX2RhdGFbaGlnaFswXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW9wdGlvbi1hcnJheS1pbmRleFwiKV07XG4gICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmZvcm1fZmllbGQub3B0aW9uc1tpdGVtLm9wdGlvbnNfaW5kZXhdLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZF9vcHRpb25fY291bnQgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICAgIHRoaXMuY2hvaWNlX2J1aWxkKGl0ZW0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2luZ2xlX3NldF9zZWxlY3RlZF90ZXh0KHRoaXMuY2hvaWNlX2xhYmVsKGl0ZW0pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISgoZXZ0Lm1ldGFLZXkgfHwgZXZ0LmN0cmxLZXkpICYmIHRoaXMuaXNfbXVsdGlwbGUpKSB7XG4gICAgICAgICAgdGhpcy5yZXN1bHRzX2hpZGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNob3dfc2VhcmNoX2ZpZWxkX2RlZmF1bHQoKTtcbiAgICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUgfHwgdGhpcy5mb3JtX2ZpZWxkLnNlbGVjdGVkSW5kZXggIT09IHRoaXMuY3VycmVudF9zZWxlY3RlZEluZGV4KSB7XG4gICAgICAgICAgdGhpcy5mb3JtX2ZpZWxkX2pxLnRyaWdnZXIoXCJjaGFuZ2VcIiwge1xuICAgICAgICAgICAgJ3NlbGVjdGVkJzogdGhpcy5mb3JtX2ZpZWxkLm9wdGlvbnNbaXRlbS5vcHRpb25zX2luZGV4XS52YWx1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudF9zZWxlY3RlZEluZGV4ID0gdGhpcy5mb3JtX2ZpZWxkLnNlbGVjdGVkSW5kZXg7XG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2hfZmllbGRfc2NhbGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5zaW5nbGVfc2V0X3NlbGVjdGVkX3RleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICBpZiAodGV4dCA9PSBudWxsKSB7XG4gICAgICAgIHRleHQgPSB0aGlzLmRlZmF1bHRfdGV4dDtcbiAgICAgIH1cbiAgICAgIGlmICh0ZXh0ID09PSB0aGlzLmRlZmF1bHRfdGV4dCkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkX2l0ZW0uYWRkQ2xhc3MoXCJjaG9zZW4tZGVmYXVsdFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2luZ2xlX2Rlc2VsZWN0X2NvbnRyb2xfYnVpbGQoKTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZF9pdGVtLnJlbW92ZUNsYXNzKFwiY2hvc2VuLWRlZmF1bHRcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZF9pdGVtLmZpbmQoXCJzcGFuXCIpLmh0bWwodGV4dCk7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUucmVzdWx0X2Rlc2VsZWN0ID0gZnVuY3Rpb24ocG9zKSB7XG4gICAgICB2YXIgcmVzdWx0X2RhdGE7XG4gICAgICByZXN1bHRfZGF0YSA9IHRoaXMucmVzdWx0c19kYXRhW3Bvc107XG4gICAgICBpZiAoIXRoaXMuZm9ybV9maWVsZC5vcHRpb25zW3Jlc3VsdF9kYXRhLm9wdGlvbnNfaW5kZXhdLmRpc2FibGVkKSB7XG4gICAgICAgIHJlc3VsdF9kYXRhLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZm9ybV9maWVsZC5vcHRpb25zW3Jlc3VsdF9kYXRhLm9wdGlvbnNfaW5kZXhdLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRfb3B0aW9uX2NvdW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXN1bHRfY2xlYXJfaGlnaGxpZ2h0KCk7XG4gICAgICAgIGlmICh0aGlzLnJlc3VsdHNfc2hvd2luZykge1xuICAgICAgICAgIHRoaXMud2lubm93X3Jlc3VsdHMoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZvcm1fZmllbGRfanEudHJpZ2dlcihcImNoYW5nZVwiLCB7XG4gICAgICAgICAgZGVzZWxlY3RlZDogdGhpcy5mb3JtX2ZpZWxkLm9wdGlvbnNbcmVzdWx0X2RhdGEub3B0aW9uc19pbmRleF0udmFsdWVcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkX3NjYWxlKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnNpbmdsZV9kZXNlbGVjdF9jb250cm9sX2J1aWxkID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuYWxsb3dfc2luZ2xlX2Rlc2VsZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5zZWxlY3RlZF9pdGVtLmZpbmQoXCJhYmJyXCIpLmxlbmd0aCkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkX2l0ZW0uZmluZChcInNwYW5cIikuZmlyc3QoKS5hZnRlcihcIjxhYmJyIGNsYXNzPVxcXCJzZWFyY2gtY2hvaWNlLWNsb3NlXFxcIj48L2FiYnI+XCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRfaXRlbS5hZGRDbGFzcyhcImNob3Nlbi1zaW5nbGUtd2l0aC1kZXNlbGVjdFwiKTtcbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5nZXRfc2VhcmNoX3RleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAkKCc8ZGl2Lz4nKS50ZXh0KCQudHJpbSh0aGlzLnNlYXJjaF9maWVsZC52YWwoKSkpLmh0bWwoKTtcbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS53aW5ub3dfcmVzdWx0c19zZXRfaGlnaGxpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZG9faGlnaCwgc2VsZWN0ZWRfcmVzdWx0cztcbiAgICAgIHNlbGVjdGVkX3Jlc3VsdHMgPSAhdGhpcy5pc19tdWx0aXBsZSA/IHRoaXMuc2VhcmNoX3Jlc3VsdHMuZmluZChcIi5yZXN1bHQtc2VsZWN0ZWQuYWN0aXZlLXJlc3VsdFwiKSA6IFtdO1xuICAgICAgZG9faGlnaCA9IHNlbGVjdGVkX3Jlc3VsdHMubGVuZ3RoID8gc2VsZWN0ZWRfcmVzdWx0cy5maXJzdCgpIDogdGhpcy5zZWFyY2hfcmVzdWx0cy5maW5kKFwiLmFjdGl2ZS1yZXN1bHRcIikuZmlyc3QoKTtcbiAgICAgIGlmIChkb19oaWdoICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0X2RvX2hpZ2hsaWdodChkb19oaWdoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5ub19yZXN1bHRzID0gZnVuY3Rpb24odGVybXMpIHtcbiAgICAgIHZhciBub19yZXN1bHRzX2h0bWw7XG4gICAgICBub19yZXN1bHRzX2h0bWwgPSAkKCc8bGkgY2xhc3M9XCJuby1yZXN1bHRzXCI+JyArIHRoaXMucmVzdWx0c19ub25lX2ZvdW5kICsgJyBcIjxzcGFuPjwvc3Bhbj5cIjwvbGk+Jyk7XG4gICAgICBub19yZXN1bHRzX2h0bWwuZmluZChcInNwYW5cIikuZmlyc3QoKS5odG1sKHRlcm1zKTtcbiAgICAgIHRoaXMuc2VhcmNoX3Jlc3VsdHMuYXBwZW5kKG5vX3Jlc3VsdHNfaHRtbCk7XG4gICAgICByZXR1cm4gdGhpcy5mb3JtX2ZpZWxkX2pxLnRyaWdnZXIoXCJjaG9zZW46bm9fcmVzdWx0c1wiLCB7XG4gICAgICAgIGNob3NlbjogdGhpc1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUubm9fcmVzdWx0c19jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX3Jlc3VsdHMuZmluZChcIi5uby1yZXN1bHRzXCIpLnJlbW92ZSgpO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLmtleWRvd25fYXJyb3cgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBuZXh0X3NpYjtcbiAgICAgIGlmICh0aGlzLnJlc3VsdHNfc2hvd2luZyAmJiB0aGlzLnJlc3VsdF9oaWdobGlnaHQpIHtcbiAgICAgICAgbmV4dF9zaWIgPSB0aGlzLnJlc3VsdF9oaWdobGlnaHQubmV4dEFsbChcImxpLmFjdGl2ZS1yZXN1bHRcIikuZmlyc3QoKTtcbiAgICAgICAgaWYgKG5leHRfc2liKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0X2RvX2hpZ2hsaWdodChuZXh0X3NpYik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdHNfc2hvdygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLmtleXVwX2Fycm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcHJldl9zaWJzO1xuICAgICAgaWYgKCF0aGlzLnJlc3VsdHNfc2hvd2luZyAmJiAhdGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzX3Nob3coKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXN1bHRfaGlnaGxpZ2h0KSB7XG4gICAgICAgIHByZXZfc2licyA9IHRoaXMucmVzdWx0X2hpZ2hsaWdodC5wcmV2QWxsKFwibGkuYWN0aXZlLXJlc3VsdFwiKTtcbiAgICAgICAgaWYgKHByZXZfc2licy5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRfZG9faGlnaGxpZ2h0KHByZXZfc2licy5maXJzdCgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcy5jaG9pY2VzX2NvdW50KCkgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdHNfaGlkZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRfY2xlYXJfaGlnaGxpZ2h0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5rZXlkb3duX2JhY2tzdHJva2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBuZXh0X2F2YWlsYWJsZV9kZXN0cm95O1xuICAgICAgaWYgKHRoaXMucGVuZGluZ19iYWNrc3Ryb2tlKSB7XG4gICAgICAgIHRoaXMuY2hvaWNlX2Rlc3Ryb3kodGhpcy5wZW5kaW5nX2JhY2tzdHJva2UuZmluZChcImFcIikuZmlyc3QoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmNsZWFyX2JhY2tzdHJva2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRfYXZhaWxhYmxlX2Rlc3Ryb3kgPSB0aGlzLnNlYXJjaF9jb250YWluZXIuc2libGluZ3MoXCJsaS5zZWFyY2gtY2hvaWNlXCIpLmxhc3QoKTtcbiAgICAgICAgaWYgKG5leHRfYXZhaWxhYmxlX2Rlc3Ryb3kubGVuZ3RoICYmICFuZXh0X2F2YWlsYWJsZV9kZXN0cm95Lmhhc0NsYXNzKFwic2VhcmNoLWNob2ljZS1kaXNhYmxlZFwiKSkge1xuICAgICAgICAgIHRoaXMucGVuZGluZ19iYWNrc3Ryb2tlID0gbmV4dF9hdmFpbGFibGVfZGVzdHJveTtcbiAgICAgICAgICBpZiAodGhpcy5zaW5nbGVfYmFja3N0cm9rZV9kZWxldGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmtleWRvd25fYmFja3N0cm9rZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wZW5kaW5nX2JhY2tzdHJva2UuYWRkQ2xhc3MoXCJzZWFyY2gtY2hvaWNlLWZvY3VzXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLmNsZWFyX2JhY2tzdHJva2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnBlbmRpbmdfYmFja3N0cm9rZSkge1xuICAgICAgICB0aGlzLnBlbmRpbmdfYmFja3N0cm9rZS5yZW1vdmVDbGFzcyhcInNlYXJjaC1jaG9pY2UtZm9jdXNcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5wZW5kaW5nX2JhY2tzdHJva2UgPSBudWxsO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLmtleWRvd25fY2hlY2tlciA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgdmFyIHN0cm9rZSwgX3JlZjE7XG4gICAgICBzdHJva2UgPSAoX3JlZjEgPSBldnQud2hpY2gpICE9IG51bGwgPyBfcmVmMSA6IGV2dC5rZXlDb2RlO1xuICAgICAgdGhpcy5zZWFyY2hfZmllbGRfc2NhbGUoKTtcbiAgICAgIGlmIChzdHJva2UgIT09IDggJiYgdGhpcy5wZW5kaW5nX2JhY2tzdHJva2UpIHtcbiAgICAgICAgdGhpcy5jbGVhcl9iYWNrc3Ryb2tlKCk7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKHN0cm9rZSkge1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgdGhpcy5iYWNrc3Ryb2tlX2xlbmd0aCA9IHRoaXMuc2VhcmNoX2ZpZWxkLnZhbCgpLmxlbmd0aDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgIGlmICh0aGlzLnJlc3VsdHNfc2hvd2luZyAmJiAhdGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRfc2VsZWN0KGV2dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMubW91c2Vfb25fY29udGFpbmVyID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgaWYgKHRoaXMucmVzdWx0c19zaG93aW5nKSB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgaWYgKHRoaXMuZGlzYWJsZV9zZWFyY2gpIHtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB0aGlzLmtleXVwX2Fycm93KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5rZXlkb3duX2Fycm93KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuc2VhcmNoX2ZpZWxkX3NjYWxlID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZGl2LCBmX3dpZHRoLCBoLCBzdHlsZSwgc3R5bGVfYmxvY2ssIHN0eWxlcywgdywgX2ksIF9sZW47XG4gICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICBoID0gMDtcbiAgICAgICAgdyA9IDA7XG4gICAgICAgIHN0eWxlX2Jsb2NrID0gXCJwb3NpdGlvbjphYnNvbHV0ZTsgbGVmdDogLTEwMDBweDsgdG9wOiAtMTAwMHB4OyBkaXNwbGF5Om5vbmU7XCI7XG4gICAgICAgIHN0eWxlcyA9IFsnZm9udC1zaXplJywgJ2ZvbnQtc3R5bGUnLCAnZm9udC13ZWlnaHQnLCAnZm9udC1mYW1pbHknLCAnbGluZS1oZWlnaHQnLCAndGV4dC10cmFuc2Zvcm0nLCAnbGV0dGVyLXNwYWNpbmcnXTtcbiAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBzdHlsZXMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgICBzdHlsZSA9IHN0eWxlc1tfaV07XG4gICAgICAgICAgc3R5bGVfYmxvY2sgKz0gc3R5bGUgKyBcIjpcIiArIHRoaXMuc2VhcmNoX2ZpZWxkLmNzcyhzdHlsZSkgKyBcIjtcIjtcbiAgICAgICAgfVxuICAgICAgICBkaXYgPSAkKCc8ZGl2IC8+Jywge1xuICAgICAgICAgICdzdHlsZSc6IHN0eWxlX2Jsb2NrXG4gICAgICAgIH0pO1xuICAgICAgICBkaXYudGV4dCh0aGlzLnNlYXJjaF9maWVsZC52YWwoKSk7XG4gICAgICAgICQoJ2JvZHknKS5hcHBlbmQoZGl2KTtcbiAgICAgICAgdyA9IGRpdi53aWR0aCgpICsgMjU7XG4gICAgICAgIGRpdi5yZW1vdmUoKTtcbiAgICAgICAgZl93aWR0aCA9IHRoaXMuY29udGFpbmVyLm91dGVyV2lkdGgoKTtcbiAgICAgICAgaWYgKHcgPiBmX3dpZHRoIC0gMTApIHtcbiAgICAgICAgICB3ID0gZl93aWR0aCAtIDEwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9maWVsZC5jc3Moe1xuICAgICAgICAgICd3aWR0aCc6IHcgKyAncHgnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gQ2hvc2VuO1xuXG4gIH0pKEFic3RyYWN0Q2hvc2VuKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsIi8qIVxuICogY2xpcGJvYXJkLmpzIHYxLjUuMTJcbiAqIGh0dHBzOi8vemVub3JvY2hhLmdpdGh1Yi5pby9jbGlwYm9hcmQuanNcbiAqXG4gKiBMaWNlbnNlZCBNSVQgwqkgWmVubyBSb2NoYVxuICovXG4oZnVuY3Rpb24oZil7aWYodHlwZW9mIGV4cG9ydHM9PT1cIm9iamVjdFwiJiZ0eXBlb2YgbW9kdWxlIT09XCJ1bmRlZmluZWRcIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PVwiZnVuY3Rpb25cIiYmZGVmaW5lLmFtZCl7ZGVmaW5lKFtdLGYpfWVsc2V7dmFyIGc7aWYodHlwZW9mIHdpbmRvdyE9PVwidW5kZWZpbmVkXCIpe2c9d2luZG93fWVsc2UgaWYodHlwZW9mIGdsb2JhbCE9PVwidW5kZWZpbmVkXCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT1cInVuZGVmaW5lZFwiKXtnPXNlbGZ9ZWxzZXtnPXRoaXN9Zy5DbGlwYm9hcmQgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgbWF0Y2hlcyA9IHJlcXVpcmUoJ21hdGNoZXMtc2VsZWN0b3InKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChlbGVtZW50LCBzZWxlY3RvciwgY2hlY2tZb1NlbGYpIHtcbiAgdmFyIHBhcmVudCA9IGNoZWNrWW9TZWxmID8gZWxlbWVudCA6IGVsZW1lbnQucGFyZW50Tm9kZVxuXG4gIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50ICE9PSBkb2N1bWVudCkge1xuICAgIGlmIChtYXRjaGVzKHBhcmVudCwgc2VsZWN0b3IpKSByZXR1cm4gcGFyZW50O1xuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlXG4gIH1cbn1cblxufSx7XCJtYXRjaGVzLXNlbGVjdG9yXCI6NX1dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIGNsb3Nlc3QgPSByZXF1aXJlKCdjbG9zZXN0Jyk7XG5cbi8qKlxuICogRGVsZWdhdGVzIGV2ZW50IHRvIGEgc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHBhcmFtIHtCb29sZWFufSB1c2VDYXB0dXJlXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGRlbGVnYXRlKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSkge1xuICAgIHZhciBsaXN0ZW5lckZuID0gbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lckZuLCB1c2VDYXB0dXJlKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEZpbmRzIGNsb3Nlc3QgbWF0Y2ggYW5kIGludm9rZXMgY2FsbGJhY2suXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGxpc3RlbmVyKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUuZGVsZWdhdGVUYXJnZXQgPSBjbG9zZXN0KGUudGFyZ2V0LCBzZWxlY3RvciwgdHJ1ZSk7XG5cbiAgICAgICAgaWYgKGUuZGVsZWdhdGVUYXJnZXQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoZWxlbWVudCwgZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVsZWdhdGU7XG5cbn0se1wiY2xvc2VzdFwiOjF9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBIVE1MIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5leHBvcnRzLm5vZGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICYmIHZhbHVlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcbiAgICAgICAgJiYgdmFsdWUubm9kZVR5cGUgPT09IDE7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgbGlzdCBvZiBIVE1MIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0cy5ub2RlTGlzdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuXG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgICAgJiYgKHR5cGUgPT09ICdbb2JqZWN0IE5vZGVMaXN0XScgfHwgdHlwZSA9PT0gJ1tvYmplY3QgSFRNTENvbGxlY3Rpb25dJylcbiAgICAgICAgJiYgKCdsZW5ndGgnIGluIHZhbHVlKVxuICAgICAgICAmJiAodmFsdWUubGVuZ3RoID09PSAwIHx8IGV4cG9ydHMubm9kZSh2YWx1ZVswXSkpO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydHMuc3RyaW5nID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJ1xuICAgICAgICB8fCB2YWx1ZSBpbnN0YW5jZW9mIFN0cmluZztcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydHMuZm4gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcblxuICAgIHJldHVybiB0eXBlID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufTtcblxufSx7fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgaXMgPSByZXF1aXJlKCcuL2lzJyk7XG52YXIgZGVsZWdhdGUgPSByZXF1aXJlKCdkZWxlZ2F0ZScpO1xuXG4vKipcbiAqIFZhbGlkYXRlcyBhbGwgcGFyYW1zIGFuZCBjYWxscyB0aGUgcmlnaHRcbiAqIGxpc3RlbmVyIGZ1bmN0aW9uIGJhc2VkIG9uIGl0cyB0YXJnZXQgdHlwZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudHxIVE1MQ29sbGVjdGlvbnxOb2RlTGlzdH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gbGlzdGVuKHRhcmdldCwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoIXRhcmdldCAmJiAhdHlwZSAmJiAhY2FsbGJhY2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50cycpO1xuICAgIH1cblxuICAgIGlmICghaXMuc3RyaW5nKHR5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nJyk7XG4gICAgfVxuXG4gICAgaWYgKCFpcy5mbihjYWxsYmFjaykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhpcmQgYXJndW1lbnQgbXVzdCBiZSBhIEZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgaWYgKGlzLm5vZGUodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuTm9kZSh0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXMubm9kZUxpc3QodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuTm9kZUxpc3QodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzLnN0cmluZyh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5TZWxlY3Rvcih0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBTdHJpbmcsIEhUTUxFbGVtZW50LCBIVE1MQ29sbGVjdGlvbiwgb3IgTm9kZUxpc3QnKTtcbiAgICB9XG59XG5cbi8qKlxuICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byBhIEhUTUwgZWxlbWVudFxuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3Rlbk5vZGUobm9kZSwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0byBhIGxpc3Qgb2YgSFRNTCBlbGVtZW50c1xuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtOb2RlTGlzdHxIVE1MQ29sbGVjdGlvbn0gbm9kZUxpc3RcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBsaXN0ZW5Ob2RlTGlzdChub2RlTGlzdCwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVMaXN0LCBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobm9kZUxpc3QsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGEgc2VsZWN0b3JcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3RlblNlbGVjdG9yKHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBkZWxlZ2F0ZShkb2N1bWVudC5ib2R5LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RlbjtcblxufSx7XCIuL2lzXCI6MyxcImRlbGVnYXRlXCI6Mn1dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXG4vKipcbiAqIEVsZW1lbnQgcHJvdG90eXBlLlxuICovXG5cbnZhciBwcm90byA9IEVsZW1lbnQucHJvdG90eXBlO1xuXG4vKipcbiAqIFZlbmRvciBmdW5jdGlvbi5cbiAqL1xuXG52YXIgdmVuZG9yID0gcHJvdG8ubWF0Y2hlc1NlbGVjdG9yXG4gIHx8IHByb3RvLndlYmtpdE1hdGNoZXNTZWxlY3RvclxuICB8fCBwcm90by5tb3pNYXRjaGVzU2VsZWN0b3JcbiAgfHwgcHJvdG8ubXNNYXRjaGVzU2VsZWN0b3JcbiAgfHwgcHJvdG8ub01hdGNoZXNTZWxlY3RvcjtcblxuLyoqXG4gKiBFeHBvc2UgYG1hdGNoKClgLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gbWF0Y2g7XG5cbi8qKlxuICogTWF0Y2ggYGVsYCB0byBgc2VsZWN0b3JgLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gbWF0Y2goZWwsIHNlbGVjdG9yKSB7XG4gIGlmICh2ZW5kb3IpIHJldHVybiB2ZW5kb3IuY2FsbChlbCwgc2VsZWN0b3IpO1xuICB2YXIgbm9kZXMgPSBlbC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKG5vZGVzW2ldID09IGVsKSByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG59LHt9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIHNlbGVjdChlbGVtZW50KSB7XG4gICAgdmFyIHNlbGVjdGVkVGV4dDtcblxuICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSU5QVVQnIHx8IGVsZW1lbnQubm9kZU5hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgICAgICBlbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKDAsIGVsZW1lbnQudmFsdWUubGVuZ3RoKTtcblxuICAgICAgICBzZWxlY3RlZFRleHQgPSBlbGVtZW50LnZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKSkge1xuICAgICAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcblxuICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZWxlbWVudCk7XG4gICAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcblxuICAgICAgICBzZWxlY3RlZFRleHQgPSBzZWxlY3Rpb24udG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZWN0ZWRUZXh0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNlbGVjdDtcblxufSx7fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBFICgpIHtcblx0Ly8gS2VlcCB0aGlzIGVtcHR5IHNvIGl0J3MgZWFzaWVyIHRvIGluaGVyaXQgZnJvbVxuICAvLyAodmlhIGh0dHBzOi8vZ2l0aHViLmNvbS9saXBzbWFjayBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvaXNzdWVzLzMpXG59XG5cbkUucHJvdG90eXBlID0ge1xuXHRvbjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcbiAgICB2YXIgZSA9IHRoaXMuZSB8fCAodGhpcy5lID0ge30pO1xuXG4gICAgKGVbbmFtZV0gfHwgKGVbbmFtZV0gPSBbXSkpLnB1c2goe1xuICAgICAgZm46IGNhbGxiYWNrLFxuICAgICAgY3R4OiBjdHhcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIG9uY2U6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgY3R4KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGZ1bmN0aW9uIGxpc3RlbmVyICgpIHtcbiAgICAgIHNlbGYub2ZmKG5hbWUsIGxpc3RlbmVyKTtcbiAgICAgIGNhbGxiYWNrLmFwcGx5KGN0eCwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgbGlzdGVuZXIuXyA9IGNhbGxiYWNrXG4gICAgcmV0dXJuIHRoaXMub24obmFtZSwgbGlzdGVuZXIsIGN0eCk7XG4gIH0sXG5cbiAgZW1pdDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgZGF0YSA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICB2YXIgZXZ0QXJyID0gKCh0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KSlbbmFtZV0gfHwgW10pLnNsaWNlKCk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBsZW4gPSBldnRBcnIubGVuZ3RoO1xuXG4gICAgZm9yIChpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGV2dEFycltpXS5mbi5hcHBseShldnRBcnJbaV0uY3R4LCBkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBvZmY6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XG4gICAgdmFyIGV2dHMgPSBlW25hbWVdO1xuICAgIHZhciBsaXZlRXZlbnRzID0gW107XG5cbiAgICBpZiAoZXZ0cyAmJiBjYWxsYmFjaykge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV2dHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKGV2dHNbaV0uZm4gIT09IGNhbGxiYWNrICYmIGV2dHNbaV0uZm4uXyAhPT0gY2FsbGJhY2spXG4gICAgICAgICAgbGl2ZUV2ZW50cy5wdXNoKGV2dHNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBldmVudCBmcm9tIHF1ZXVlIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtcbiAgICAvLyBTdWdnZXN0ZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2xhemRcbiAgICAvLyBSZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvY29tbWl0L2M2ZWJmYWE5YmM5NzNiMzNkMTEwYTg0YTMwNzc0MmI3Y2Y5NGM5NTMjY29tbWl0Y29tbWVudC01MDI0OTEwXG5cbiAgICAobGl2ZUV2ZW50cy5sZW5ndGgpXG4gICAgICA/IGVbbmFtZV0gPSBsaXZlRXZlbnRzXG4gICAgICA6IGRlbGV0ZSBlW25hbWVdO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRTtcblxufSx7fV0sODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoWydtb2R1bGUnLCAnc2VsZWN0J10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgZmFjdG9yeShtb2R1bGUsIHJlcXVpcmUoJ3NlbGVjdCcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbW9kID0ge1xuICAgICAgICAgICAgZXhwb3J0czoge31cbiAgICAgICAgfTtcbiAgICAgICAgZmFjdG9yeShtb2QsIGdsb2JhbC5zZWxlY3QpO1xuICAgICAgICBnbG9iYWwuY2xpcGJvYXJkQWN0aW9uID0gbW9kLmV4cG9ydHM7XG4gICAgfVxufSkodGhpcywgZnVuY3Rpb24gKG1vZHVsZSwgX3NlbGVjdCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBfc2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdCk7XG5cbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xuICAgICAgICAgICAgZGVmYXVsdDogb2JqXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgICAgICAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgICAgICAgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgICAgICAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gICAgICAgIH07XG4gICAgfSgpO1xuXG4gICAgdmFyIENsaXBib2FyZEFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICAgICAqL1xuXG4gICAgICAgIGZ1bmN0aW9uIENsaXBib2FyZEFjdGlvbihvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xpcGJvYXJkQWN0aW9uKTtcblxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdFNlbGVjdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZXMgYmFzZSBwcm9wZXJ0aWVzIHBhc3NlZCBmcm9tIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAgICAgKi9cblxuXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUucmVzb2x2ZU9wdGlvbnMgPSBmdW5jdGlvbiByZXNvbHZlT3B0aW9ucygpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cbiAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gb3B0aW9ucy5hY3Rpb247XG4gICAgICAgICAgICB0aGlzLmVtaXR0ZXIgPSBvcHRpb25zLmVtaXR0ZXI7XG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IG9wdGlvbnMudGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy50ZXh0ID0gb3B0aW9ucy50ZXh0O1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyID0gb3B0aW9ucy50cmlnZ2VyO1xuXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9ICcnO1xuICAgICAgICB9O1xuXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUuaW5pdFNlbGVjdGlvbiA9IGZ1bmN0aW9uIGluaXRTZWxlY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RGYWtlKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RUYXJnZXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLnNlbGVjdEZha2UgPSBmdW5jdGlvbiBzZWxlY3RGYWtlKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIGlzUlRMID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGlyJykgPT0gJ3J0bCc7XG5cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRmFrZSgpO1xuXG4gICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJlbW92ZUZha2UoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyID0gZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjaykgfHwgdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgICAgICAgICAvLyBQcmV2ZW50IHpvb21pbmcgb24gaU9TXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLmZvbnRTaXplID0gJzEycHQnO1xuICAgICAgICAgICAgLy8gUmVzZXQgYm94IG1vZGVsXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLmJvcmRlciA9ICcwJztcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUucGFkZGluZyA9ICcwJztcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUubWFyZ2luID0gJzAnO1xuICAgICAgICAgICAgLy8gTW92ZSBlbGVtZW50IG91dCBvZiBzY3JlZW4gaG9yaXpvbnRhbGx5XG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGVbaXNSVEwgPyAncmlnaHQnIDogJ2xlZnQnXSA9ICctOTk5OXB4JztcbiAgICAgICAgICAgIC8vIE1vdmUgZWxlbWVudCB0byB0aGUgc2FtZSBwb3NpdGlvbiB2ZXJ0aWNhbGx5XG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnRvcCA9ICh3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCkgKyAncHgnO1xuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJycpO1xuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS52YWx1ZSA9IHRoaXMudGV4dDtcblxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmZha2VFbGVtKTtcblxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAoMCwgX3NlbGVjdDIuZGVmYXVsdCkodGhpcy5mYWtlRWxlbSk7XG4gICAgICAgICAgICB0aGlzLmNvcHlUZXh0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5yZW1vdmVGYWtlID0gZnVuY3Rpb24gcmVtb3ZlRmFrZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZha2VIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuZmFrZUVsZW0pIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZmFrZUVsZW0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUuc2VsZWN0VGFyZ2V0ID0gZnVuY3Rpb24gc2VsZWN0VGFyZ2V0KCkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAoMCwgX3NlbGVjdDIuZGVmYXVsdCkodGhpcy50YXJnZXQpO1xuICAgICAgICAgICAgdGhpcy5jb3B5VGV4dCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUuY29weVRleHQgPSBmdW5jdGlvbiBjb3B5VGV4dCgpIHtcbiAgICAgICAgICAgIHZhciBzdWNjZWVkZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3VjY2VlZGVkID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5hY3Rpb24pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgc3VjY2VlZGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVzdWx0KHN1Y2NlZWRlZCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5oYW5kbGVSZXN1bHQgPSBmdW5jdGlvbiBoYW5kbGVSZXN1bHQoc3VjY2VlZGVkKSB7XG4gICAgICAgICAgICBpZiAoc3VjY2VlZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0dGVyLmVtaXQoJ3N1Y2Nlc3MnLCB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuc2VsZWN0ZWRUZXh0LFxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiB0aGlzLnRyaWdnZXIsXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyU2VsZWN0aW9uOiB0aGlzLmNsZWFyU2VsZWN0aW9uLmJpbmQodGhpcylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0dGVyLmVtaXQoJ2Vycm9yJywge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiB0aGlzLnRyaWdnZXIsXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyU2VsZWN0aW9uOiB0aGlzLmNsZWFyU2VsZWN0aW9uLmJpbmQodGhpcylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLmNsZWFyU2VsZWN0aW9uID0gZnVuY3Rpb24gY2xlYXJTZWxlY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5ibHVyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVGYWtlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKENsaXBib2FyZEFjdGlvbiwgW3tcbiAgICAgICAgICAgIGtleTogJ2FjdGlvbicsXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gJ2NvcHknIDogYXJndW1lbnRzWzBdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aW9uID0gYWN0aW9uO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGlvbiAhPT0gJ2NvcHknICYmIHRoaXMuX2FjdGlvbiAhPT0gJ2N1dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwiYWN0aW9uXCIgdmFsdWUsIHVzZSBlaXRoZXIgXCJjb3B5XCIgb3IgXCJjdXRcIicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd0YXJnZXQnLFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgJiYgKHR5cGVvZiB0YXJnZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHRhcmdldCkpID09PSAnb2JqZWN0JyAmJiB0YXJnZXQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGlvbiA9PT0gJ2NvcHknICYmIHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiBhdHRyaWJ1dGUuIFBsZWFzZSB1c2UgXCJyZWFkb25seVwiIGluc3RlYWQgb2YgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT09ICdjdXQnICYmICh0YXJnZXQuaGFzQXR0cmlidXRlKCdyZWFkb25seScpIHx8IHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgYXR0cmlidXRlLiBZb3UgY2FuXFwndCBjdXQgdGV4dCBmcm9tIGVsZW1lbnRzIHdpdGggXCJyZWFkb25seVwiIG9yIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGVzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcInRhcmdldFwiIHZhbHVlLCB1c2UgYSB2YWxpZCBFbGVtZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBDbGlwYm9hcmRBY3Rpb247XG4gICAgfSgpO1xuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBDbGlwYm9hcmRBY3Rpb247XG59KTtcblxufSx7XCJzZWxlY3RcIjo2fV0sOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoWydtb2R1bGUnLCAnLi9jbGlwYm9hcmQtYWN0aW9uJywgJ3RpbnktZW1pdHRlcicsICdnb29kLWxpc3RlbmVyJ10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgZmFjdG9yeShtb2R1bGUsIHJlcXVpcmUoJy4vY2xpcGJvYXJkLWFjdGlvbicpLCByZXF1aXJlKCd0aW55LWVtaXR0ZXInKSwgcmVxdWlyZSgnZ29vZC1saXN0ZW5lcicpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbW9kID0ge1xuICAgICAgICAgICAgZXhwb3J0czoge31cbiAgICAgICAgfTtcbiAgICAgICAgZmFjdG9yeShtb2QsIGdsb2JhbC5jbGlwYm9hcmRBY3Rpb24sIGdsb2JhbC50aW55RW1pdHRlciwgZ2xvYmFsLmdvb2RMaXN0ZW5lcik7XG4gICAgICAgIGdsb2JhbC5jbGlwYm9hcmQgPSBtb2QuZXhwb3J0cztcbiAgICB9XG59KSh0aGlzLCBmdW5jdGlvbiAobW9kdWxlLCBfY2xpcGJvYXJkQWN0aW9uLCBfdGlueUVtaXR0ZXIsIF9nb29kTGlzdGVuZXIpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgX2NsaXBib2FyZEFjdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGlwYm9hcmRBY3Rpb24pO1xuXG4gICAgdmFyIF90aW55RW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aW55RW1pdHRlcik7XG5cbiAgICB2YXIgX2dvb2RMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nb29kTGlzdGVuZXIpO1xuXG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IG9ialxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICAgICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gICAgICAgIGlmICghc2VsZikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbiAgICB9XG5cbiAgICB2YXIgQ2xpcGJvYXJkID0gZnVuY3Rpb24gKF9FbWl0dGVyKSB7XG4gICAgICAgIF9pbmhlcml0cyhDbGlwYm9hcmQsIF9FbWl0dGVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8SFRNTENvbGxlY3Rpb258Tm9kZUxpc3R9IHRyaWdnZXJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgICAgICovXG5cbiAgICAgICAgZnVuY3Rpb24gQ2xpcGJvYXJkKHRyaWdnZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGlwYm9hcmQpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRW1pdHRlci5jYWxsKHRoaXMpKTtcblxuICAgICAgICAgICAgX3RoaXMucmVzb2x2ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICBfdGhpcy5saXN0ZW5DbGljayh0cmlnZ2VyKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmVzIGlmIGF0dHJpYnV0ZXMgd291bGQgYmUgcmVzb2x2ZWQgdXNpbmcgaW50ZXJuYWwgc2V0dGVyIGZ1bmN0aW9uc1xuICAgICAgICAgKiBvciBjdXN0b20gZnVuY3Rpb25zIHRoYXQgd2VyZSBwYXNzZWQgaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAgICAgKi9cblxuXG4gICAgICAgIENsaXBib2FyZC5wcm90b3R5cGUucmVzb2x2ZU9wdGlvbnMgPSBmdW5jdGlvbiByZXNvbHZlT3B0aW9ucygpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cbiAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gdHlwZW9mIG9wdGlvbnMuYWN0aW9uID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy5hY3Rpb24gOiB0aGlzLmRlZmF1bHRBY3Rpb247XG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IHR5cGVvZiBvcHRpb25zLnRhcmdldCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMudGFyZ2V0IDogdGhpcy5kZWZhdWx0VGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy50ZXh0ID0gdHlwZW9mIG9wdGlvbnMudGV4dCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMudGV4dCA6IHRoaXMuZGVmYXVsdFRleHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5saXN0ZW5DbGljayA9IGZ1bmN0aW9uIGxpc3RlbkNsaWNrKHRyaWdnZXIpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyID0gKDAsIF9nb29kTGlzdGVuZXIyLmRlZmF1bHQpKHRyaWdnZXIsICdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkNsaWNrKGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgICB2YXIgdHJpZ2dlciA9IGUuZGVsZWdhdGVUYXJnZXQgfHwgZS5jdXJyZW50VGFyZ2V0O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jbGlwYm9hcmRBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbmV3IF9jbGlwYm9hcmRBY3Rpb24yLmRlZmF1bHQoe1xuICAgICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24odHJpZ2dlciksXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLnRhcmdldCh0cmlnZ2VyKSxcbiAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRleHQodHJpZ2dlciksXG4gICAgICAgICAgICAgICAgdHJpZ2dlcjogdHJpZ2dlcixcbiAgICAgICAgICAgICAgICBlbWl0dGVyOiB0aGlzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBDbGlwYm9hcmQucHJvdG90eXBlLmRlZmF1bHRBY3Rpb24gPSBmdW5jdGlvbiBkZWZhdWx0QWN0aW9uKHRyaWdnZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRBdHRyaWJ1dGVWYWx1ZSgnYWN0aW9uJywgdHJpZ2dlcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5kZWZhdWx0VGFyZ2V0ID0gZnVuY3Rpb24gZGVmYXVsdFRhcmdldCh0cmlnZ2VyKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBnZXRBdHRyaWJ1dGVWYWx1ZSgndGFyZ2V0JywgdHJpZ2dlcik7XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBDbGlwYm9hcmQucHJvdG90eXBlLmRlZmF1bHRUZXh0ID0gZnVuY3Rpb24gZGVmYXVsdFRleHQodHJpZ2dlcikge1xuICAgICAgICAgICAgcmV0dXJuIGdldEF0dHJpYnV0ZVZhbHVlKCd0ZXh0JywgdHJpZ2dlcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXIuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jbGlwYm9hcmRBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBDbGlwYm9hcmQ7XG4gICAgfShfdGlueUVtaXR0ZXIyLmRlZmF1bHQpO1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRvIHJldHJpZXZlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3VmZml4XG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QXR0cmlidXRlVmFsdWUoc3VmZml4LCBlbGVtZW50KSB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGUgPSAnZGF0YS1jbGlwYm9hcmQtJyArIHN1ZmZpeDtcblxuICAgICAgICBpZiAoIWVsZW1lbnQuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgIH1cblxuICAgIG1vZHVsZS5leHBvcnRzID0gQ2xpcGJvYXJkO1xufSk7XG5cbn0se1wiLi9jbGlwYm9hcmQtYWN0aW9uXCI6OCxcImdvb2QtbGlzdGVuZXJcIjo0LFwidGlueS1lbWl0dGVyXCI6N31dfSx7fSxbOV0pKDkpXG59KTsiLCIoIGZ1bmN0aW9uKCB3aW5kb3csIHVuZGVmaW5lZCApIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdC8qKlxuXHQgKiBIYW5kbGVzIG1hbmFnaW5nIGFsbCBldmVudHMgZm9yIHdoYXRldmVyIHlvdSBwbHVnIGl0IGludG8uIFByaW9yaXRpZXMgZm9yIGhvb2tzIGFyZSBiYXNlZCBvbiBsb3dlc3QgdG8gaGlnaGVzdCBpblxuXHQgKiB0aGF0LCBsb3dlc3QgcHJpb3JpdHkgaG9va3MgYXJlIGZpcmVkIGZpcnN0LlxuXHQgKi9cblx0dmFyIEV2ZW50TWFuYWdlciA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblx0XHRcblx0XHQvKipcblx0XHQgKiBNYWludGFpbiBhIHJlZmVyZW5jZSB0byB0aGUgb2JqZWN0IHNjb3BlIHNvIG91ciBwdWJsaWMgbWV0aG9kcyBuZXZlciBnZXQgY29uZnVzaW5nLlxuXHRcdCAqL1xuXHRcdHZhciBNZXRob2RzQXZhaWxhYmxlID0ge1xuXHRcdFx0cmVtb3ZlRmlsdGVyIDogcmVtb3ZlRmlsdGVyLFxuXHRcdFx0YXBwbHlGaWx0ZXJzIDogYXBwbHlGaWx0ZXJzLFxuXHRcdFx0YWRkRmlsdGVyIDogYWRkRmlsdGVyLFxuXHRcdFx0cmVtb3ZlQWN0aW9uIDogcmVtb3ZlQWN0aW9uLFxuXHRcdFx0ZG9BY3Rpb24gOiBkb0FjdGlvbixcblx0XHRcdGFkZEFjdGlvbiA6IGFkZEFjdGlvblxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBDb250YWlucyB0aGUgaG9va3MgdGhhdCBnZXQgcmVnaXN0ZXJlZCB3aXRoIHRoaXMgRXZlbnRNYW5hZ2VyLiBUaGUgYXJyYXkgZm9yIHN0b3JhZ2UgdXRpbGl6ZXMgYSBcImZsYXRcIlxuXHRcdCAqIG9iamVjdCBsaXRlcmFsIHN1Y2ggdGhhdCBsb29raW5nIHVwIHRoZSBob29rIHV0aWxpemVzIHRoZSBuYXRpdmUgb2JqZWN0IGxpdGVyYWwgaGFzaC5cblx0XHQgKi9cblx0XHR2YXIgU1RPUkFHRSA9IHtcblx0XHRcdGFjdGlvbnMgOiB7fSxcblx0XHRcdGZpbHRlcnMgOiB7fVxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBBZGRzIGFuIGFjdGlvbiB0byB0aGUgZXZlbnQgbWFuYWdlci5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBhY3Rpb24gTXVzdCBjb250YWluIG5hbWVzcGFjZS5pZGVudGlmaWVyXG5cdFx0ICogQHBhcmFtIGNhbGxiYWNrIE11c3QgYmUgYSB2YWxpZCBjYWxsYmFjayBmdW5jdGlvbiBiZWZvcmUgdGhpcyBhY3Rpb24gaXMgYWRkZWRcblx0XHQgKiBAcGFyYW0gW3ByaW9yaXR5PTEwXSBVc2VkIHRvIGNvbnRyb2wgd2hlbiB0aGUgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgaW4gcmVsYXRpb24gdG8gb3RoZXIgY2FsbGJhY2tzIGJvdW5kIHRvIHRoZSBzYW1lIGhvb2tcblx0XHQgKiBAcGFyYW0gW2NvbnRleHRdIFN1cHBseSBhIHZhbHVlIHRvIGJlIHVzZWQgZm9yIHRoaXNcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBhZGRBY3Rpb24oIGFjdGlvbiwgY2FsbGJhY2ssIHByaW9yaXR5LCBjb250ZXh0ICkge1xuXHRcdFx0aWYoIHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnICYmIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyApIHtcblx0XHRcdFx0cHJpb3JpdHkgPSBwYXJzZUludCggKCBwcmlvcml0eSB8fCAxMCApLCAxMCApO1xuXHRcdFx0XHRfYWRkSG9vayggJ2FjdGlvbnMnLCBhY3Rpb24sIGNhbGxiYWNrLCBwcmlvcml0eSwgY29udGV4dCApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBQZXJmb3JtcyBhbiBhY3Rpb24gaWYgaXQgZXhpc3RzLiBZb3UgY2FuIHBhc3MgYXMgbWFueSBhcmd1bWVudHMgYXMgeW91IHdhbnQgdG8gdGhpcyBmdW5jdGlvbjsgdGhlIG9ubHkgcnVsZSBpc1xuXHRcdCAqIHRoYXQgdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYWx3YXlzIGJlIHRoZSBhY3Rpb24uXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gZG9BY3Rpb24oIC8qIGFjdGlvbiwgYXJnMSwgYXJnMiwgLi4uICovICkge1xuXHRcdFx0dmFyIGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKTtcblx0XHRcdHZhciBhY3Rpb24gPSBhcmdzLnNoaWZ0KCk7XG5cblx0XHRcdGlmKCB0eXBlb2YgYWN0aW9uID09PSAnc3RyaW5nJyApIHtcblx0XHRcdFx0X3J1bkhvb2soICdhY3Rpb25zJywgYWN0aW9uLCBhcmdzICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBNZXRob2RzQXZhaWxhYmxlO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBhY3Rpb24gaWYgaXQgY29udGFpbnMgYSBuYW1lc3BhY2UuaWRlbnRpZmllciAmIGV4aXN0cy5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBhY3Rpb24gVGhlIGFjdGlvbiB0byByZW1vdmVcblx0XHQgKiBAcGFyYW0gW2NhbGxiYWNrXSBDYWxsYmFjayBmdW5jdGlvbiB0byByZW1vdmVcblx0XHQgKi9cblx0XHRmdW5jdGlvbiByZW1vdmVBY3Rpb24oIGFjdGlvbiwgY2FsbGJhY2sgKSB7XG5cdFx0XHRpZiggdHlwZW9mIGFjdGlvbiA9PT0gJ3N0cmluZycgKSB7XG5cdFx0XHRcdF9yZW1vdmVIb29rKCAnYWN0aW9ucycsIGFjdGlvbiwgY2FsbGJhY2sgKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQWRkcyBhIGZpbHRlciB0byB0aGUgZXZlbnQgbWFuYWdlci5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBmaWx0ZXIgTXVzdCBjb250YWluIG5hbWVzcGFjZS5pZGVudGlmaWVyXG5cdFx0ICogQHBhcmFtIGNhbGxiYWNrIE11c3QgYmUgYSB2YWxpZCBjYWxsYmFjayBmdW5jdGlvbiBiZWZvcmUgdGhpcyBhY3Rpb24gaXMgYWRkZWRcblx0XHQgKiBAcGFyYW0gW3ByaW9yaXR5PTEwXSBVc2VkIHRvIGNvbnRyb2wgd2hlbiB0aGUgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgaW4gcmVsYXRpb24gdG8gb3RoZXIgY2FsbGJhY2tzIGJvdW5kIHRvIHRoZSBzYW1lIGhvb2tcblx0XHQgKiBAcGFyYW0gW2NvbnRleHRdIFN1cHBseSBhIHZhbHVlIHRvIGJlIHVzZWQgZm9yIHRoaXNcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBhZGRGaWx0ZXIoIGZpbHRlciwgY2FsbGJhY2ssIHByaW9yaXR5LCBjb250ZXh0ICkge1xuXHRcdFx0aWYoIHR5cGVvZiBmaWx0ZXIgPT09ICdzdHJpbmcnICYmIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyApIHtcblx0XHRcdFx0cHJpb3JpdHkgPSBwYXJzZUludCggKCBwcmlvcml0eSB8fCAxMCApLCAxMCApO1xuXHRcdFx0XHRfYWRkSG9vayggJ2ZpbHRlcnMnLCBmaWx0ZXIsIGNhbGxiYWNrLCBwcmlvcml0eSwgY29udGV4dCApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBQZXJmb3JtcyBhIGZpbHRlciBpZiBpdCBleGlzdHMuIFlvdSBzaG91bGQgb25seSBldmVyIHBhc3MgMSBhcmd1bWVudCB0byBiZSBmaWx0ZXJlZC4gVGhlIG9ubHkgcnVsZSBpcyB0aGF0XG5cdFx0ICogdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYWx3YXlzIGJlIHRoZSBmaWx0ZXIuXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gYXBwbHlGaWx0ZXJzKCAvKiBmaWx0ZXIsIGZpbHRlcmVkIGFyZywgYXJnMiwgLi4uICovICkge1xuXHRcdFx0dmFyIGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKTtcblx0XHRcdHZhciBmaWx0ZXIgPSBhcmdzLnNoaWZ0KCk7XG5cblx0XHRcdGlmKCB0eXBlb2YgZmlsdGVyID09PSAnc3RyaW5nJyApIHtcblx0XHRcdFx0cmV0dXJuIF9ydW5Ib29rKCAnZmlsdGVycycsIGZpbHRlciwgYXJncyApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgZmlsdGVyIGlmIGl0IGNvbnRhaW5zIGEgbmFtZXNwYWNlLmlkZW50aWZpZXIgJiBleGlzdHMuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gZmlsdGVyIFRoZSBhY3Rpb24gdG8gcmVtb3ZlXG5cdFx0ICogQHBhcmFtIFtjYWxsYmFja10gQ2FsbGJhY2sgZnVuY3Rpb24gdG8gcmVtb3ZlXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlRmlsdGVyKCBmaWx0ZXIsIGNhbGxiYWNrICkge1xuXHRcdFx0aWYoIHR5cGVvZiBmaWx0ZXIgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdF9yZW1vdmVIb29rKCAnZmlsdGVycycsIGZpbHRlciwgY2FsbGJhY2sgKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmVtb3ZlcyB0aGUgc3BlY2lmaWVkIGhvb2sgYnkgcmVzZXR0aW5nIHRoZSB2YWx1ZSBvZiBpdC5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB0eXBlIFR5cGUgb2YgaG9vaywgZWl0aGVyICdhY3Rpb25zJyBvciAnZmlsdGVycydcblx0XHQgKiBAcGFyYW0gaG9vayBUaGUgaG9vayAobmFtZXNwYWNlLmlkZW50aWZpZXIpIHRvIHJlbW92ZVxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gX3JlbW92ZUhvb2soIHR5cGUsIGhvb2ssIGNhbGxiYWNrLCBjb250ZXh0ICkge1xuXHRcdFx0dmFyIGhhbmRsZXJzLCBoYW5kbGVyLCBpO1xuXHRcdFx0XG5cdFx0XHRpZiAoICFTVE9SQUdFWyB0eXBlIF1bIGhvb2sgXSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFNUT1JBR0VbIHR5cGUgXVsgaG9vayBdID0gW107XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoYW5kbGVycyA9IFNUT1JBR0VbIHR5cGUgXVsgaG9vayBdO1xuXHRcdFx0XHRpZiAoICFjb250ZXh0ICkge1xuXHRcdFx0XHRcdGZvciAoIGkgPSBoYW5kbGVycy5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXJzW2ldLmNhbGxiYWNrID09PSBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBpLCAxICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdGZvciAoIGkgPSBoYW5kbGVycy5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVyID0gaGFuZGxlcnNbaV07XG5cdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXIuY2FsbGJhY2sgPT09IGNhbGxiYWNrICYmIGhhbmRsZXIuY29udGV4dCA9PT0gY29udGV4dCkge1xuXHRcdFx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGksIDEgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBBZGRzIHRoZSBob29rIHRvIHRoZSBhcHByb3ByaWF0ZSBzdG9yYWdlIGNvbnRhaW5lclxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHR5cGUgJ2FjdGlvbnMnIG9yICdmaWx0ZXJzJ1xuXHRcdCAqIEBwYXJhbSBob29rIFRoZSBob29rIChuYW1lc3BhY2UuaWRlbnRpZmllcikgdG8gYWRkIHRvIG91ciBldmVudCBtYW5hZ2VyXG5cdFx0ICogQHBhcmFtIGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGhvb2sgaXMgZXhlY3V0ZWQuXG5cdFx0ICogQHBhcmFtIHByaW9yaXR5IFRoZSBwcmlvcml0eSBvZiB0aGlzIGhvb2suIE11c3QgYmUgYW4gaW50ZWdlci5cblx0XHQgKiBAcGFyYW0gW2NvbnRleHRdIEEgdmFsdWUgdG8gYmUgdXNlZCBmb3IgdGhpc1xuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gX2FkZEhvb2soIHR5cGUsIGhvb2ssIGNhbGxiYWNrLCBwcmlvcml0eSwgY29udGV4dCApIHtcblx0XHRcdHZhciBob29rT2JqZWN0ID0ge1xuXHRcdFx0XHRjYWxsYmFjayA6IGNhbGxiYWNrLFxuXHRcdFx0XHRwcmlvcml0eSA6IHByaW9yaXR5LFxuXHRcdFx0XHRjb250ZXh0IDogY29udGV4dFxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gVXRpbGl6ZSAncHJvcCBpdHNlbGYnIDogaHR0cDovL2pzcGVyZi5jb20vaGFzb3ducHJvcGVydHktdnMtaW4tdnMtdW5kZWZpbmVkLzE5XG5cdFx0XHR2YXIgaG9va3MgPSBTVE9SQUdFWyB0eXBlIF1bIGhvb2sgXTtcblx0XHRcdGlmKCBob29rcyApIHtcblx0XHRcdFx0aG9va3MucHVzaCggaG9va09iamVjdCApO1xuXHRcdFx0XHRob29rcyA9IF9ob29rSW5zZXJ0U29ydCggaG9va3MgKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRob29rcyA9IFsgaG9va09iamVjdCBdO1xuXHRcdFx0fVxuXG5cdFx0XHRTVE9SQUdFWyB0eXBlIF1bIGhvb2sgXSA9IGhvb2tzO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFVzZSBhbiBpbnNlcnQgc29ydCBmb3Iga2VlcGluZyBvdXIgaG9va3Mgb3JnYW5pemVkIGJhc2VkIG9uIHByaW9yaXR5LiBUaGlzIGZ1bmN0aW9uIGlzIHJpZGljdWxvdXNseSBmYXN0ZXJcblx0XHQgKiB0aGFuIGJ1YmJsZSBzb3J0LCBldGM6IGh0dHA6Ly9qc3BlcmYuY29tL2phdmFzY3JpcHQtc29ydFxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIGhvb2tzIFRoZSBjdXN0b20gYXJyYXkgY29udGFpbmluZyBhbGwgb2YgdGhlIGFwcHJvcHJpYXRlIGhvb2tzIHRvIHBlcmZvcm0gYW4gaW5zZXJ0IHNvcnQgb24uXG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBfaG9va0luc2VydFNvcnQoIGhvb2tzICkge1xuXHRcdFx0dmFyIHRtcEhvb2ssIGosIHByZXZIb29rO1xuXHRcdFx0Zm9yKCB2YXIgaSA9IDEsIGxlbiA9IGhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHR0bXBIb29rID0gaG9va3NbIGkgXTtcblx0XHRcdFx0aiA9IGk7XG5cdFx0XHRcdHdoaWxlKCAoIHByZXZIb29rID0gaG9va3NbIGogLSAxIF0gKSAmJiAgcHJldkhvb2sucHJpb3JpdHkgPiB0bXBIb29rLnByaW9yaXR5ICkge1xuXHRcdFx0XHRcdGhvb2tzWyBqIF0gPSBob29rc1sgaiAtIDEgXTtcblx0XHRcdFx0XHQtLWo7XG5cdFx0XHRcdH1cblx0XHRcdFx0aG9va3NbIGogXSA9IHRtcEhvb2s7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBob29rcztcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSdW5zIHRoZSBzcGVjaWZpZWQgaG9vay4gSWYgaXQgaXMgYW4gYWN0aW9uLCB0aGUgdmFsdWUgaXMgbm90IG1vZGlmaWVkIGJ1dCBpZiBpdCBpcyBhIGZpbHRlciwgaXQgaXMuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gdHlwZSAnYWN0aW9ucycgb3IgJ2ZpbHRlcnMnXG5cdFx0ICogQHBhcmFtIGhvb2sgVGhlIGhvb2sgKCBuYW1lc3BhY2UuaWRlbnRpZmllciApIHRvIGJlIHJhbi5cblx0XHQgKiBAcGFyYW0gYXJncyBBcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgYWN0aW9uL2ZpbHRlci4gSWYgaXQncyBhIGZpbHRlciwgYXJncyBpcyBhY3R1YWxseSBhIHNpbmdsZSBwYXJhbWV0ZXIuXG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBfcnVuSG9vayggdHlwZSwgaG9vaywgYXJncyApIHtcblx0XHRcdHZhciBoYW5kbGVycyA9IFNUT1JBR0VbIHR5cGUgXVsgaG9vayBdLCBpLCBsZW47XG5cdFx0XHRcblx0XHRcdGlmICggIWhhbmRsZXJzICkge1xuXHRcdFx0XHRyZXR1cm4gKHR5cGUgPT09ICdmaWx0ZXJzJykgPyBhcmdzWzBdIDogZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGxlbiA9IGhhbmRsZXJzLmxlbmd0aDtcblx0XHRcdGlmICggdHlwZSA9PT0gJ2ZpbHRlcnMnICkge1xuXHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRcdGFyZ3NbIDAgXSA9IGhhbmRsZXJzWyBpIF0uY2FsbGJhY2suYXBwbHkoIGhhbmRsZXJzWyBpIF0uY29udGV4dCwgYXJncyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRcdGhhbmRsZXJzWyBpIF0uY2FsbGJhY2suYXBwbHkoIGhhbmRsZXJzWyBpIF0uY29udGV4dCwgYXJncyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiAoIHR5cGUgPT09ICdmaWx0ZXJzJyApID8gYXJnc1sgMCBdIDogdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyByZXR1cm4gYWxsIG9mIHRoZSBwdWJsaWNseSBhdmFpbGFibGUgbWV0aG9kc1xuXHRcdHJldHVybiBNZXRob2RzQXZhaWxhYmxlO1xuXG5cdH07XG5cdFxuXHR3aW5kb3cud3AgPSB3aW5kb3cud3AgfHwge307XG5cdHdpbmRvdy53cC5ob29rcyA9IG5ldyBFdmVudE1hbmFnZXIoKTtcblxufSApKCB3aW5kb3cgKTtcbiIsIihmdW5jdGlvbigkKSB7XG5cblx0JCgnLmNob3Nlbi1zZWxlY3QnKS5jaG9zZW4oe1xuXHRcdHdpZHRoOiAnMTAwJSdcblx0fSk7XG5cblx0Ly8gQ29weSBtZXJnZSB0YWdcblxuXHR2YXIgbWVyZ2VfdGFnX2NsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQoJyNub3RpZmljYXRpb25fbWVyZ2VfdGFncyAuaW5zaWRlIHVsIGxpIGNvZGUnKTtcblxuXHRtZXJnZV90YWdfY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24oZSkge1xuXG5cdCAgICB2YXIgJGNvZGUgPSAkKGUudHJpZ2dlciksXG5cdFx0ICAgIHRhZyAgID0gJGNvZGUudGV4dCgpO1xuXG5cdFx0JGNvZGUudGV4dCggbm90aWZpY2F0aW9uLmNvcGllZCApO1xuXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdCRjb2RlLnRleHQoIHRhZyApO1xuXHRcdH0sIDgwMCk7XG5cblx0fSk7XG5cblx0Ly8gR2V0IGZyZXNoIG1lcmdlIHRhZ3MgZm9yIHNlbGVjdGVkIHRyaWdnZXJcblxuXHQkKCcjbm90aWZpY2F0aW9uX3RyaWdnZXJfc2VsZWN0JykuY2hvc2VuKCkuY2hhbmdlKGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyICRzZWxlY3QgICAgPSAkKHRoaXMpLFxuXHRcdFx0JGNvbnRhaW5lciA9ICQoJyNub3RpZmljYXRpb25fbWVyZ2VfdGFncyAuaW5zaWRlJyksXG5cdFx0XHQkbWV0YWJveCAgID0gJCgnI25vdGlmaWNhdGlvbl9tZXJnZV90YWdzJyk7XG5cblx0XHQkbWV0YWJveC5mYWRlVG8oMjAwLCAwLjUpO1xuXG5cdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHQnYWN0aW9uJzogJ25vdGlmaWNhdGlvbl9nZXRfbWVyZ2VfdGFncycsXG5cdFx0XHQndHJpZ2dlcic6ICRzZWxlY3QudmFsKClcblx0XHR9O1xuXG5cdCAgICAkLnBvc3QoYWpheHVybCwgZGF0YSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHQgICAgXHRpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgPT0gZmFsc2UgKSB7XG5cdCAgICBcdFx0JGNvbnRhaW5lci5odG1sKCAnPHA+JyArIHJlc3BvbnNlLmRhdGEgKyAnPC9wPicgKTtcblx0ICAgIFx0XHR2YXIgdGFncyA9IHt9O1xuXHQgICAgXHR9IGVsc2Uge1xuXG5cdFx0XHRcdHVsID0gJChcIjx1bD5cIik7XG5cblx0XHRcdFx0dmFyIHRhZ3MgPSByZXNwb25zZS5kYXRhO1xuXG5cdFx0XHRcdCQuZWFjaCh0YWdzLCBmdW5jdGlvbiggbiwgdGFnICkge1xuXHRcdFx0XHRcdHVsLmFwcGVuZCgnPGxpPjxjb2RlIGRhdGEtY2xpcGJvYXJkLXRleHQ9XCJ7JyArIHRhZyArICd9XCI+eycgKyB0YWcgKyAnfTwvY29kZT48L2xpPicpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQkY29udGFpbmVyLmh0bWwodWwpO1xuXG5cdCAgICBcdH1cblxuXHQgICAgXHR3cC5ob29rcy5kb0FjdGlvbiggJ25vdGlmaWNhdGlvbi5jaGFuZ2VkX3RyaWdnZXInLCAkc2VsZWN0LnZhbCgpLCB0YWdzICk7XG5cblx0ICAgIFx0JG1ldGFib3guZmFkZVRvKDIwMCwgMSk7XG5cblx0XHR9KTtcblxuXHR9KTtcblxuXHQvLyBVcGRhdGUgcmVjaXBpZW50IHJvd3M6IG51bWJlciBhbmQgcmVtb3ZlIGJ1dHRvblxuXG5cdHZhciB1cGRhdGVfcmVjaXBpZW50cyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIGkgPSAwO1xuXG5cdFx0aWYgKCAkKCcjbm90aWZpY2F0aW9uX3JlY2lwaWVudHMgLnJlY2lwaWVudCcpLmxlbmd0aCA9PSAxICkge1xuXHRcdFx0dmFyIGRpc2FibGUgPSB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgZGlzYWJsZSA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdCQoJyNub3RpZmljYXRpb25fcmVjaXBpZW50cyAucmVjaXBpZW50JykuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciAkcm93ICAgICAgICAgICA9ICQodGhpcyksXG5cdFx0XHRcdCRyZW1vdmVfYnV0dG9uID0gJHJvdy5maW5kKCcuYWN0aW9ucyAuZGFzaGljb25zLXRyYXNoJyksXG5cdFx0XHRcdCRpbnB1dHMgICAgICAgID0gJHJvdy5maW5kKCdpbnB1dCwgc2VsZWN0Jyk7XG5cblx0XHRcdGlmICggZGlzYWJsZSApIHtcblx0XHRcdFx0JHJlbW92ZV9idXR0b24uYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkcmVtb3ZlX2J1dHRvbi5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcblx0XHRcdH1cblxuXHRcdFx0JGlucHV0cy5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHR2YXIgJGlucHV0ICAgID0gJCh0aGlzKSxcblx0XHRcdFx0XHRwYXJ0X25hbWUgPSAkaW5wdXQuYXR0cignbmFtZScpO1xuXG5cdFx0XHRcdCRpbnB1dC5hdHRyKCAnbmFtZScsIHBhcnRfbmFtZS5yZXBsYWNlKCAvbm90aWZpY2F0aW9uX3JlY2lwaWVudFxcW1swLTldK1xcXS8sICdub3RpZmljYXRpb25fcmVjaXBpZW50WycraSsnXScgKSApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHRcdGkrKztcblxuXHRcdH0gKTtcblxuXHR9XG5cblx0Ly8gQWRkIHJlY2lwaWVudFxuXG5cdCQoJyNub3RpZmljYXRpb25fcmVjaXBpZW50cycpLm9uKCAnY2xpY2snLCAnI25vdGlmaWNhdGlvbl9hZGRfcmVjaXBpZW50JywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdHZhciAkYnV0dG9uICAgID0gJCh0aGlzKSxcblx0XHRcdCRjb250YWluZXIgPSAkYnV0dG9uLnByZXYoJy5yZWNpcGllbnRzJyk7XG5cblx0XHQkY29udGFpbmVyLmZhZGVUbygyMDAsIDAuNSk7XG5cblx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdCdhY3Rpb24nOiAnbm90aWZpY2F0aW9uX2FkZF9yZWNpcGllbnQnXG5cdFx0fTtcblxuXHQgICAgJC5wb3N0KGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0ICAgIFx0aWYgKCByZXNwb25zZS5zdWNjZXNzID09IGZhbHNlICkge1xuXHQgICAgXHRcdGFsZXJ0KCByZXNwb25zZS5kYXRhICk7XG5cdCAgICBcdH0gZWxzZSB7XG5cblx0ICAgIFx0XHR2YXIgJHJvdyA9ICQocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdCRjb250YWluZXIuYXBwZW5kKCRyb3cpO1xuXG5cdCAgICBcdH1cblxuXHQgICAgXHQkY29udGFpbmVyLmZhZGVUbygyMDAsIDEpO1xuXG5cdCAgICBcdHVwZGF0ZV9yZWNpcGllbnRzKCk7XG5cblx0XHR9KTtcblxuXHR9KTtcblxuXHQvLyBSZW1vdmUgcmVjaXBpZW50XG5cblx0JCgnI25vdGlmaWNhdGlvbl9yZWNpcGllbnRzJykub24oICdjbGljaycsICcucmVjaXBpZW50IC5hY3Rpb25zIC5kYXNoaWNvbnMtdHJhc2gnLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0dmFyICRidXR0b24gICAgPSAkKHRoaXMpLFxuXHRcdFx0JGNvbnRhaW5lciA9ICRidXR0b24ucGFyZW50cygnLnJlY2lwaWVudCcpLmZpcnN0KCk7XG5cblx0XHRpZiAoICRidXR0b24uaGFzQ2xhc3MoJ2Rpc2FibGVkJykgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0JGNvbnRhaW5lci5hbmltYXRlKHtsZWZ0OiAnNTBweCcsIG9wYWNpdHk6IDB9LCA0MDAsICdsaW5lYXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XG4gICAgICAgICAgICB1cGRhdGVfcmVjaXBpZW50cygpO1xuICAgICAgICB9ICk7XG5cblx0fSk7XG5cblx0Ly8gR2V0IGlucHV0IGZpZWxkIGZvciByZWNpcGllbnRcblxuXHQkKCcjbm90aWZpY2F0aW9uX3JlY2lwaWVudHMnKS5vbiggJ2NoYW5nZScsICcucmVjaXBpZW50IC5ncm91cCBzZWxlY3QnLCBmdW5jdGlvbigpIHtcblxuXHRcdHZhciAkc2VsZWN0ICAgID0gJCh0aGlzKSxcblx0XHRcdCRpbnB1dCAgICAgPSAkc2VsZWN0LnBhcmVudCgpLm5leHQoJy52YWx1ZScpLmZpbmQoJ2lucHV0LCBzZWxlY3QnKS5maXJzdCgpLFxuXHRcdFx0JGNvbnRhaW5lciA9ICRpbnB1dC5wYXJlbnQoKTtcblxuXHRcdCRjb250YWluZXIuZmFkZVRvKDIwMCwgMC41KTtcblxuXHRcdHZhciBkYXRhID0ge1xuXHRcdFx0J2FjdGlvbic6ICdub3RpZmljYXRpb25fZ2V0X3JlY2lwaWVudF9pbnB1dCcsXG5cdFx0XHQncmVjaXBpZW50X25hbWUnOiAkc2VsZWN0LnZhbCgpXG5cdFx0fTtcblxuXHQgICAgJC5wb3N0KGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0ICAgIFx0aWYgKCByZXNwb25zZS5zdWNjZXNzID09IGZhbHNlICkge1xuXHQgICAgXHRcdGFsZXJ0KCByZXNwb25zZS5kYXRhICk7XG5cdCAgICBcdH0gZWxzZSB7XG5cblx0ICAgIFx0XHR2YXIgJGlucHV0ID0gJChyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0JGNvbnRhaW5lci5odG1sKCRpbnB1dCk7XG5cblx0XHRcdFx0aWYgKCB0eXBlb2YgJGlucHV0LmRhdGEoJ3VwZGF0ZScpICE9PSAndW5kZWZpbmVkJyApIHtcblx0XHRcdFx0XHR3cC5ob29rcy5kb0FjdGlvbiggJ25vdGlmaWNhdGlvbi51cGRhdGVfaW5wdXQnLCAkaW5wdXQsICRpbnB1dC5kYXRhKCd2YWx1ZScpLCAkaW5wdXQuZGF0YSgndXBkYXRlJykgKTtcblx0XHRcdFx0fVxuXG5cdCAgICBcdH1cblxuXHQgICAgXHQkY29udGFpbmVyLmZhZGVUbygyMDAsIDEpO1xuXG5cdCAgICBcdHVwZGF0ZV9yZWNpcGllbnRzKCk7XG5cblx0XHR9KTtcblxuXHR9KTtcblxuXHQvLyBQcm9jZXNzIGFsbCByZWNpcGllbnQgZmllbGRzIHdoaWNoIG5lZWRzIGxpdmUgdXBkYXRlXG5cblx0dmFyIHVwZGF0ZV9hbGxfaW5wdXRzID0gZnVuY3Rpb24oKSB7XG5cblx0XHQkKCcjbm90aWZpY2F0aW9uX3JlY2lwaWVudHMgLnJlY2lwaWVudCcpLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgJGlucHV0ID0gJCh0aGlzKS5maW5kKCcuZmllbGQudmFsdWUgc2VsZWN0LCAuZmllbGQudmFsdWUgaW5wdXQnKTtcblxuXHRcdFx0aWYgKCB0eXBlb2YgJGlucHV0LmRhdGEoJ3VwZGF0ZScpICE9PSAndW5kZWZpbmVkJyApIHtcblx0XHRcdFx0d3AuaG9va3MuZG9BY3Rpb24oICdub3RpZmljYXRpb24udXBkYXRlX2lucHV0JywgJGlucHV0LCAkaW5wdXQuZGF0YSgndmFsdWUnKSwgJGlucHV0LmRhdGEoJ3VwZGF0ZScpICk7XG5cdFx0XHR9XG5cblx0XHR9ICk7XG5cblx0fTtcblxuXHQkKGRvY3VtZW50KS5yZWFkeSggdXBkYXRlX2FsbF9pbnB1dHMgKTtcblx0d3AuaG9va3MuYWRkQWN0aW9uKCAnbm90aWZpY2F0aW9uLmNoYW5nZWRfdHJpZ2dlcicsIHVwZGF0ZV9hbGxfaW5wdXRzICk7XG5cblx0Ly8gVXBkYXRlIG1lcmdlIHRhZ3MgaW5wdXRcblxuXHR3cC5ob29rcy5hZGRBY3Rpb24oICdub3RpZmljYXRpb24udXBkYXRlX2lucHV0JywgZnVuY3Rpb24oICRpbnB1dCwgdmFsdWUsIHVwZGF0ZV90eXBlICkge1xuXG5cdFx0aWYgKCB1cGRhdGVfdHlwZSA9PSAnZW1haWxfbWVyZ2VfdGFncycgKSB7XG5cblx0XHRcdHZhciB0cmlnZ2VyICAgID0gJCgnI25vdGlmaWNhdGlvbl90cmlnZ2VyX3NlbGVjdCcpLnZhbCgpLFxuXHRcdFx0XHQkY29udGFpbmVyID0gJGlucHV0LnBhcmVudCgpO1xuXG5cdFx0XHQkY29udGFpbmVyLmZhZGVUbygyMDAsIDAuNSk7XG5cblx0XHRcdHZhciBkYXRhID0ge1xuXHRcdFx0XHQnYWN0aW9uJzogICdub3RpZmljYXRpb25fZ2V0X2VtYWlsX21lcmdlX3RhZ3MnLFxuXHRcdFx0XHQndHJpZ2dlcic6IHRyaWdnZXJcblx0XHRcdH07XG5cblx0XHQgICAgJC5wb3N0KGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHQgICAgXHRpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgPT0gZmFsc2UgKSB7XG5cdFx0ICAgIFx0XHRhbGVydCggcmVzcG9uc2UuZGF0YSApO1xuXHRcdCAgICBcdH0gZWxzZSB7XG5cblx0XHQgICAgXHRcdC8vIGNsZWFyIG9wdGlvbnMgZmlyc3Rcblx0XHQgICAgXHRcdCRpbnB1dC5maW5kKCdvcHRpb24nKS5yZW1vdmUoKTtcblxuXHRcdCAgICBcdFx0Ly8gYWRkIGVtcHR5IG9wdGlvbiBmb3IgY2xhcml0eVxuXHRcdCAgICBcdFx0JGlucHV0LmFwcGVuZCggJCgnPG9wdGlvbj4nKSApO1xuXG5cdFx0ICAgIFx0XHQkLmVhY2gocmVzcG9uc2UuZGF0YSwgZnVuY3Rpb24odGFnX3ZhbHVlLCB0YWdfbmFtZSkge1xuXG5cdFx0ICAgIFx0XHRcdHZhciBhdHRzID0ge1xuXHRcdFx0XHRcdCAgICAgICAgdmFsdWU6IHRhZ192YWx1ZSxcblx0XHRcdFx0XHQgICAgICAgIHRleHQgOiB0YWdfbmFtZVxuXHRcdFx0XHRcdCAgICB9O1xuXG5cdFx0XHRcdFx0ICAgIGlmICggdGFnX3ZhbHVlID09IHZhbHVlICkge1xuXHRcdFx0XHRcdCAgICBcdGF0dHMuc2VsZWN0ZWQgPSAnc2VsZWN0ZWQnO1xuXHRcdFx0XHRcdCAgICB9XG5cblx0XHRcdFx0XHQgICAgJGlucHV0LmFwcGVuZCggJCgnPG9wdGlvbj4nLCBhdHRzKSApO1xuXG5cdFx0XHRcdFx0fSk7XG5cblx0XHQgICAgXHR9XG5cblx0XHQgICAgXHQkY29udGFpbmVyLmZhZGVUbygyMDAsIDEpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH1cblxuXHR9ICk7XG5cblx0Ly8gVXBkYXRlIG5vdGlmaWNhdGlvbiBjb250ZW50XG5cblx0d3AuaG9va3MuYWRkQWN0aW9uKCAnbm90aWZpY2F0aW9uLmNoYW5nZWRfdHJpZ2dlcicsIGZ1bmN0aW9uKCB0cmlnZ2VyX3NsdWcsIHRhZ3MgKSB7XG5cblx0XHRpZiAoIHRpbnltY2UuYWN0aXZlRWRpdG9yLmdldENvbnRlbnQoKSA9PSAnJyApIHtcblxuXHRcdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHRcdCdhY3Rpb24nOiAgJ25vdGlmaWNhdGlvbl9nZXRfdGVtcGxhdGUnLFxuXHRcdFx0XHQndHJpZ2dlcic6IHRyaWdnZXJfc2x1Z1xuXHRcdFx0fTtcblxuXHRcdFx0JC5wb3N0KGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHQgICAgXHRpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgPT0gZmFsc2UgKSB7XG5cdFx0ICAgIFx0XHRhbGVydCggcmVzcG9uc2UuZGF0YSApO1xuXHRcdCAgICBcdH0gZWxzZSB7XG5cdFx0ICAgIFx0XHR0aW55bWNlLmFjdGl2ZUVkaXRvci5zZXRDb250ZW50KCByZXNwb25zZS5kYXRhICk7XG5cdFx0ICAgIFx0fVxuXG5cdFx0XHR9KTtcblxuXHRcdH1cblxuXHR9ICk7XG5cblx0Ly8gRGlzbWlzcyBiZWcgbWVzc2FnZVxuXG5cdCQoICcubm90aWZpY2F0aW9uLW5vdGljZScgKS5vbiggJ2NsaWNrJywgJy5kaXNtaXNzLWJlZy1tZXNzYWdlJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdHZhciAkYnV0dG9uID0gJCggdGhpcyApO1xuXG5cdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHQnYWN0aW9uJzogICdub3RpZmljYXRpb25fZGlzbWlzc19iZWdfbWVzc2FnZScsXG5cdFx0XHQnbm9uY2UnOiAkYnV0dG9uLmRhdGEoICdub25jZScgKVxuXHRcdH07XG5cblx0XHQkLnBvc3QoIGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblx0ICAgIFx0JGJ1dHRvbi5wYXJlbnRzKCAnLm5vdGlmaWNhdGlvbi1ub3RpY2UnICkuc2xpZGVVcCgpO1xuXHRcdH0pO1xuXG5cdH0pO1xuXG5cdC8vIFBsdWdpbiByZW1vdmFsXG5cblx0JCggJyN0aGUtbGlzdCB0cltkYXRhLXNsdWc9XCJub3RpZmljYXRpb25cIl0gLmRlYWN0aXZhdGUgYScgKS5jbGljayggZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdH0gKTtcblxuXHQkKCAnYm9keScgKS5vbiggJ3N1Ym1pdCcsICcjbm90aWZpY2F0aW9uLXBsdWdpbi1mZWVkYmFjay1mb3JtJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdHZhciAkZm9ybSA9ICQodGhpcyk7XG5cblx0XHQkZm9ybS5maW5kKCAnLnNwaW5uZXInICkuYWRkQ2xhc3MoICdpcy1hY3RpdmUnICk7XG5cblx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdCdhY3Rpb24nOiAnbm90aWZpY2F0aW9uX3NlbmRfZmVlZGJhY2snLFxuXHRcdFx0J2Zvcm0nICA6ICRmb3JtLnNlcmlhbGl6ZUFycmF5KClcblx0XHR9O1xuXG5cdFx0JC5wb3N0KCBhamF4dXJsLCBkYXRhLCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9ICQoICcjdGhlLWxpc3QgdHJbZGF0YS1zbHVnPVwibm90aWZpY2F0aW9uXCJdIC5kZWFjdGl2YXRlIGEnICkuZGF0YSggJ2RlYWN0aXZhdGUnICk7XG5cdFx0fSk7XG5cblx0fSApO1xuXG59KShqUXVlcnkpO1xuIl19
