(function(){var t,e,i,s,n,o={}.hasOwnProperty,r=function(t,e){function i(){this.constructor=t}for(var s in e)o.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};s=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,s,n,o,r;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),o=t.childNodes,r=[],s=0,n=o.length;s<n;s++)i=o[s],r.push(this.add_option(i,e,t.disabled));return r},t.prototype.add_option=function(t,e,i){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:i===!0?i:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t.prototype.escapeExpression=function(t){var e,i;return null==t||t===!1?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(i,function(t){return e[t]||"&amp;"})):t},t}(),s.select_to_array=function(t){var e,i,n,o,r;for(i=new s,r=t.childNodes,n=0,o=r.length;n<o;n++)e=r[n],i.add_node(e);return i.parsed},e=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+t.group_label+"</b>"+t.html:t.html},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(t){var e=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return e.blur_test()},100)},t.prototype.results_option_build=function(t){var e,i,s,n,o,r,l;for(e="",n=0,l=this.results_data,o=0,r=l.length;o<r&&(i=l[o],s="",s=i.group?this.result_add_group(i):this.result_add_option(i),""!==s&&(n++,e+=s),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(i))),!(n>=this.max_shown_results));o++);return e},t.prototype.result_add_option=function(t){var e,i;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.style.cssText=t.style,i.setAttribute("data-option-array-index",t.array_index),i.innerHTML=t.search_text,t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.result_add_group=function(t){var e,i;return(t.search_match||t.group_match)&&t.active_options>0?(e=[],e.push("group-result"),t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.innerHTML=t.search_text,t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},t.prototype.reset_single_select_options=function(){var t,e,i,s,n;for(s=this.results_data,n=[],e=0,i=s.length;e<i;e++)t=s[e],t.selected?n.push(t.selected=!1):n.push(void 0);return n},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,i,s,n,o,r,l,a,c,h,u;for(this.no_results_clear(),s=0,o=this.get_search_text(),t=o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),a=new RegExp(t,"i"),i=this.get_search_regex(t),u=this.results_data,c=0,h=u.length;c<h;c++)e=u[c],e.search_match=!1,n=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(n=this.results_data[e.group_array_index],0===n.active_options&&n.search_match&&(s+=1),n.active_options+=1),e.search_text=e.group?e.label:e.html,e.group&&!this.group_search||(e.search_match=this.search_string_match(e.search_text,i),e.search_match&&!e.group&&(s+=1),e.search_match?(o.length&&(r=e.search_text.search(a),l=e.search_text.substr(0,r+o.length)+"</em>"+e.search_text.substr(r+o.length),e.search_text=l.substr(0,r)+"<em>"+l.substr(r)),null!=n&&(n.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),s<1&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.get_search_regex=function(t){var e,i;return e=this.search_contains?"":"^",i=this.case_sensitive_search?"":"i",new RegExp(e+t,i)},t.prototype.search_string_match=function(t,e){var i,s,n,o;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))&&(s=t.replace(/\[|\]/g,"").split(" "),s.length))for(n=0,o=s.length;n<o;n++)if(i=s[n],e.test(i))return!0},t.prototype.choices_count=function(){var t,e,i,s;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,s=this.form_field.options,e=0,i=s.length;e<i;e++)t=s[e],t.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){if(t.preventDefault(),!this.results_showing&&!this.is_disabled)return this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},t.prototype.clipboard_event_checker=function(t){var e=this;return setTimeout(function(){return e.results_search()},50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:(e=document.createElement("div"),e.appendChild(t),e.innerHTML)},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),t=jQuery,t.fn.extend({chosen:function(s){return e.browser_is_supported()?this.each(function(e){var n,o;return n=t(this),o=n.data("chosen"),"destroy"===s?void(o instanceof i&&o.destroy()):void(o instanceof i||n.data("chosen",new i(this,s)))}):this}}),i=function(e){function i(){return n=i.__super__.constructor.apply(this,arguments)}return r(i,e),i.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var e,i;return e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),i={class:e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},i.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var t=this;return this.container.bind("touchstart.chosen",function(e){return t.container_mousedown(e),e.preventDefault()}),this.container.bind("touchend.chosen",function(e){return t.container_mouseup(e),e.preventDefault()}),this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},i.prototype.destroy=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(e){if(!this.is_disabled&&(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null==e||!t(e.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()},i.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},i.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e=40*e),this.search_results.scrollTop(e+this.search_results.scrollTop())},i.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},i.prototype.close_field=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(e){var i;return i=t(e.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=s.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(t){var e,i,s,n,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),s=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),n=s+o,i=this.result_highlight.position().top+this.search_results.scrollTop(),e=i+this.result_highlight.outerHeight(),e>=n)return this.search_results.scrollTop(e-s>0?e-s:0);if(i<o)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(t){return this.search_results.html(t)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(t){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},i.prototype.set_label_behavior=function(){var e=this;if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()})},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(e){var i;if(i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length)return this.result_highlight=i,this.result_select(e),this.search_field.focus()},i.prototype.search_results_mouseover=function(e){var i;if(i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first())return this.result_do_highlight(i)},i.prototype.search_results_mouseout=function(e){if(t(e.target).hasClass("active-result"))return this.result_clear_highlight()},i.prototype.choice_build=function(e){var i,s,n=this;return i=t("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?i.addClass("search-choice-disabled"):(s=t("<a />",{class:"search-choice-close","data-option-array-index":e.array_index}),s.bind("click.chosen",function(t){return n.choice_destroy_link_click(t)}),i.append(s)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(t(e.target))},i.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},i.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(t){var e,i;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),i=this.results_data[e[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(this.choice_label(i)),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())},i.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},i.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},i.prototype.get_search_text=function(){return t("<div/>").text(t.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var t,e;if(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null!=t)return this.result_do_highlight(t)},i.prototype.no_results=function(e){var i;return i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(e),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var e,i,s,n,o,r,l,a,c;if(this.is_multiple){for(s=0,l=0,o="position:absolute; left: -1000px; top: -1000px; display:none;",r=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],a=0,c=r.length;a<c;a++)n=r[a],o+=n+":"+this.search_field.css(n)+";";return e=t("<div />",{style:o}),e.text(this.search_field.val()),t("body").append(e),l=e.width()+25,e.remove(),i=this.container.outerWidth(),l>i-10&&(l=i-10),this.search_field.css({width:l+"px"})}},i}(e)}).call(this),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t;return function t(e,i,s){function n(r,l){if(!i[r]){if(!e[r]){var a="function"==typeof require&&require;if(!l&&a)return a(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[r]={exports:{}};e[r][0].call(h.exports,function(t){var i=e[r][1][t];return n(i?i:t)},h,h.exports,t,e,i,s)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<s.length;r++)n(s[r]);return n}({1:[function(t,e,i){var s=t("matches-selector");e.exports=function(t,e,i){for(var n=i?t:t.parentNode;n&&n!==document;){if(s(n,e))return n;n=n.parentNode}}},{"matches-selector":5}],2:[function(t,e,i){function s(t,e,i,s,o){var r=n.apply(this,arguments);return t.addEventListener(i,r,o),{destroy:function(){t.removeEventListener(i,r,o)}}}function n(t,e,i,s){return function(i){i.delegateTarget=o(i.target,e,!0),i.delegateTarget&&s.call(t,i)}}var o=t("closest");e.exports=s},{closest:1}],3:[function(t,e,i){i.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},i.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||i.node(t[0]))},i.string=function(t){return"string"==typeof t||t instanceof String},i.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},{}],4:[function(t,e,i){function s(t,e,i){if(!t&&!e&&!i)throw new Error("Missing required arguments");if(!l.string(e))throw new TypeError("Second argument must be a String");if(!l.fn(i))throw new TypeError("Third argument must be a Function");if(l.node(t))return n(t,e,i);if(l.nodeList(t))return o(t,e,i);if(l.string(t))return r(t,e,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function n(t,e,i){return t.addEventListener(e,i),{destroy:function(){t.removeEventListener(e,i)}}}function o(t,e,i){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,i)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,i)})}}}function r(t,e,i){return a(document.body,t,e,i)}var l=t("./is"),a=t("delegate");e.exports=s},{"./is":3,delegate:2}],5:[function(t,e,i){function s(t,e){if(o)return o.call(t,e);for(var i=t.parentNode.querySelectorAll(e),s=0;s<i.length;++s)if(i[s]==t)return!0;return!1}var n=Element.prototype,o=n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;e.exports=s},{}],6:[function(t,e,i){function s(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),s=document.createRange();s.selectNodeContents(t),i.removeAllRanges(),i.addRange(s),e=i.toString()}return e}e.exports=s},{}],7:[function(t,e,i){function s(){}s.prototype={on:function(t,e,i){var s=this.e||(this.e={});return(s[t]||(s[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){function s(){n.off(t,s),e.apply(i,arguments)}var n=this;return s._=e,this.on(t,s,i)},emit:function(t){var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),s=0,n=i.length;for(s;s<n;s++)i[s].fn.apply(i[s].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),s=i[t],n=[];if(s&&e)for(var o=0,r=s.length;o<r;o++)s[o].fn!==e&&s[o].fn._!==e&&n.push(s[o]);return n.length?i[t]=n:delete i[t],this}},e.exports=s},{}],8:[function(e,i,s){!function(n,o){if("function"==typeof t&&t.amd)t(["module","select"],o);else if("undefined"!=typeof s)o(i,e("select"));else{var r={exports:{}};o(r,n.select),n.clipboardAction=r.exports}}(this,function(t,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=i(e),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(){function t(e){s(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];
this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){this.selectedText=(0,n.default)(this.target),this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},r(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":o(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=l})},{select:6}],9:[function(e,i,s){!function(n,o){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],o);else if("undefined"!=typeof s)o(i,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var r={exports:{}};o(r,n.clipboardAction,n.tinyEmitter,n.goodListener),n.clipboard=r.exports}}(this,function(t,e,i,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){var i="data-clipboard-"+t;if(e.hasAttribute(i))return e.getAttribute(i)}var c=n(e),h=n(i),u=n(s),d=function(t){function e(i,s){o(this,e);var n=r(this,t.call(this));return n.resolveOptions(s),n.listenClick(i),n}return l(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.listenClick=function(t){var e=this;this.listener=(0,u.default)(t,"click",function(t){return e.onClick(t)})},e.prototype.onClick=function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},e.prototype.defaultAction=function(t){return a("action",t)},e.prototype.defaultTarget=function(t){var e=a("target",t);if(e)return document.querySelector(e)},e.prototype.defaultText=function(t){return a("text",t)},e.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(h.default);t.exports=d})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)}),function(t,e){"use strict";var i=function(){function t(t,e,i,s){return"string"==typeof t&&"function"==typeof e&&(i=parseInt(i||10,10),l("actions",t,e,i,s)),u}function e(){var t=h.call(arguments),e=t.shift();return"string"==typeof e&&c("actions",e,t),u}function i(t,e){return"string"==typeof t&&r("actions",t,e),u}function s(t,e,i,s){return"string"==typeof t&&"function"==typeof e&&(i=parseInt(i||10,10),l("filters",t,e,i,s)),u}function n(){var t=h.call(arguments),e=t.shift();return"string"==typeof e?c("filters",e,t):u}function o(t,e){return"string"==typeof t&&r("filters",t,e),u}function r(t,e,i,s){var n,o,r;if(d[t][e])if(i)if(n=d[t][e],s)for(r=n.length;r--;)o=n[r],o.callback===i&&o.context===s&&n.splice(r,1);else for(r=n.length;r--;)n[r].callback===i&&n.splice(r,1);else d[t][e]=[]}function l(t,e,i,s,n){var o={callback:i,priority:s,context:n},r=d[t][e];r?(r.push(o),r=a(r)):r=[o],d[t][e]=r}function a(t){for(var e,i,s,n=1,o=t.length;n<o;n++){for(e=t[n],i=n;(s=t[i-1])&&s.priority>e.priority;)t[i]=t[i-1],--i;t[i]=e}return t}function c(t,e,i){var s,n,o=d[t][e];if(!o)return"filters"===t&&i[0];if(n=o.length,"filters"===t)for(s=0;s<n;s++)i[0]=o[s].callback.apply(o[s].context,i);else for(s=0;s<n;s++)o[s].callback.apply(o[s].context,i);return"filters"!==t||i[0]}var h=Array.prototype.slice,u={removeFilter:o,applyFilters:n,addFilter:s,removeAction:i,doAction:e,addAction:t},d={actions:{},filters:{}};return u};t.wp=t.wp||{},t.wp.hooks=new i}(window),function(t){t(".chosen-select").chosen({width:"100%"});var e=new Clipboard("#notification_merge_tags .inside ul li code");e.on("success",function(e){var i=t(e.trigger),s=i.text();i.text(notification.copied),setTimeout(function(){i.text(s)},800)}),t("#notification_trigger_select").chosen().change(function(){var e=t(this),i=t("#notification_merge_tags .inside"),s=t("#notification_merge_tags");s.fadeTo(200,.5);var n={action:"notification_get_merge_tags",trigger:e.val()};t.post(ajaxurl,n,function(n){if(0==n.success){i.html("<p>"+n.data+"</p>");var o={}}else{ul=t("<ul>");var o=n.data;t.each(o,function(t,e){ul.append('<li><code data-clipboard-text="{'+e+'}">{'+e+"}</code></li>")}),i.html(ul)}wp.hooks.doAction("notification.changed_trigger",e.val(),o),s.fadeTo(200,1)})});var i=function(){var e=0;if(1==t("#notification_recipients .recipient").length)var i=!0;else var i=!1;t("#notification_recipients .recipient").each(function(){var s=t(this),n=s.find(".actions .dashicons-trash"),o=s.find("input, select");i?n.addClass("disabled"):n.removeClass("disabled"),o.each(function(){var i=t(this),s=i.attr("name");i.attr("name",s.replace(/notification_recipient\[[0-9]+\]/,"notification_recipient["+e+"]"))}),e++})},s=function(e,s){e="undefined"!=typeof e?e:"",s="undefined"!=typeof s?s:"";var n=t("#notification_recipients .recipients");n.fadeTo(200,.5);var o={action:"notification_add_recipient",type:e,value:s};t.post(ajaxurl,o,function(e){if(0==e.success)alert(e.data);else{var s=t(e.data);n.append(s)}n.fadeTo(200,1),i()})};t("#notification_recipients").on("click","#notification_add_recipient",function(t){t.preventDefault(),s()}),t("#notification_recipients").on("click",".recipient .actions .dashicons-trash",function(e){e.preventDefault();var s=t(this),n=s.parents(".recipient").first();return!s.hasClass("disabled")&&void n.animate({left:"50px",opacity:0},400,"linear",function(){t(this).remove(),i()})}),t("#notification_recipients").on("change",".recipient .group select",function(){var e=t(this),s=e.parent().next(".value").find("input, select").first(),n=s.parent();n.fadeTo(200,.5);var o={action:"notification_get_recipient_input",recipient_name:e.val()};t.post(ajaxurl,o,function(e){if(0==e.success)alert(e.data);else{var s=t(e.data);n.html(s),"undefined"!=typeof s.data("update")&&wp.hooks.doAction("notification.update_input",s,s.data("value"),s.data("update"))}n.fadeTo(200,1),i()})});var n=function(){t("#notification_recipients .recipient").each(function(){var e=t(this).find(".field.value select, .field.value input");"undefined"!=typeof e.data("update")&&wp.hooks.doAction("notification.update_input",e,e.data("value"),e.data("update"))})};t(document).ready(n),wp.hooks.addAction("notification.changed_trigger",n),wp.hooks.addAction("notification.update_input",function(e,i,s){if("email_merge_tags"==s){var n=t("#notification_trigger_select").val(),o=e.parent();o.fadeTo(200,.5);var r={action:"notification_get_email_merge_tags",trigger:n};t.post(ajaxurl,r,function(s){0==s.success?alert(s.data):(e.find("option").remove(),e.append(t("<option>")),t.each(s.data,function(s,n){var o={value:s,text:n};s==i&&(o.selected="selected"),e.append(t("<option>",o))})),o.fadeTo(200,1)})}}),wp.hooks.addAction("notification.changed_trigger",function(e,i){if(""==tinymce.activeEditor.getContent()){var n={action:"notification_get_defaults",trigger:e};t.post(ajaxurl,n,function(e){if(0==e.success)alert(e.data);else{var i=e.data;i.title&&t("#title").val(i.title).focus(),i.template&&tinymce.activeEditor.setContent(i.template),i.recipients&&(t("#notification_recipients .recipients .recipient").first().remove(),t.each(i.recipients,function(t,e){s(t,e)}))}})}}),t(".notification-notice").on("click",".dismiss-beg-message",function(e){e.preventDefault();var i=t(this),s={action:"notification_dismiss_beg_message",nonce:i.data("nonce")};t.post(ajaxurl,s,function(t){i.parents(".notification-notice").slideUp()})}),t('#the-list tr[data-slug="notification"] .deactivate a').click(function(t){t.preventDefault()}),t("body").on("submit","#notification-plugin-feedback-form",function(e){e.preventDefault();var i=t(this);i.find(".spinner").addClass("is-active");var s={action:"notification_send_feedback",form:i.serializeArray()};t.post(ajaxurl,s,function(e){window.location.href=t('#the-list tr[data-slug="notification"] .deactivate a').data("deactivate")})})}(jQuery);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlbmRvci9jaG9zZW4uanF1ZXJ5LmpzIiwidmVuZG9yL2NsaXBib2FyZC5qcyIsInZlbmRvci9ldmVudC1tYW5hZ2VyLmpzIiwiYWRtaW4uanMiXSwibmFtZXMiOlsiJCIsIkFic3RyYWN0Q2hvc2VuIiwiQ2hvc2VuIiwiU2VsZWN0UGFyc2VyIiwiX3JlZiIsIl9faGFzUHJvcCIsImhhc093blByb3BlcnR5IiwiX19leHRlbmRzIiwiY2hpbGQiLCJwYXJlbnQiLCJjdG9yIiwidGhpcyIsImNvbnN0cnVjdG9yIiwia2V5IiwiY2FsbCIsInByb3RvdHlwZSIsIl9fc3VwZXJfXyIsIm9wdGlvbnNfaW5kZXgiLCJwYXJzZWQiLCJhZGRfbm9kZSIsIm5vZGVOYW1lIiwidG9VcHBlckNhc2UiLCJhZGRfZ3JvdXAiLCJhZGRfb3B0aW9uIiwiZ3JvdXAiLCJncm91cF9wb3NpdGlvbiIsIm9wdGlvbiIsIl9pIiwiX2xlbiIsIl9yZXN1bHRzIiwibGVuZ3RoIiwicHVzaCIsImFycmF5X2luZGV4IiwibGFiZWwiLCJlc2NhcGVFeHByZXNzaW9uIiwidGl0bGUiLCJjaGlsZHJlbiIsImRpc2FibGVkIiwiY2xhc3NlcyIsImNsYXNzTmFtZSIsImNoaWxkTm9kZXMiLCJncm91cF9kaXNhYmxlZCIsInRleHQiLCJ2YWx1ZSIsImh0bWwiLCJpbm5lckhUTUwiLCJzZWxlY3RlZCIsImdyb3VwX2FycmF5X2luZGV4IiwiZ3JvdXBfbGFiZWwiLCJzdHlsZSIsImNzc1RleHQiLCJlbXB0eSIsIm1hcCIsInVuc2FmZV9jaGFycyIsInRlc3QiLCI8IiwiPiIsIlwiIiwiJyIsImAiLCJyZXBsYWNlIiwiY2hyIiwic2VsZWN0X3RvX2FycmF5Iiwic2VsZWN0IiwicGFyc2VyIiwiZm9ybV9maWVsZCIsIm9wdGlvbnMiLCJicm93c2VyX2lzX3N1cHBvcnRlZCIsImlzX211bHRpcGxlIiwibXVsdGlwbGUiLCJzZXRfZGVmYXVsdF90ZXh0Iiwic2V0X2RlZmF1bHRfdmFsdWVzIiwic2V0dXAiLCJzZXRfdXBfaHRtbCIsInJlZ2lzdGVyX29ic2VydmVycyIsIm9uX3JlYWR5IiwiX3RoaXMiLCJjbGlja190ZXN0X2FjdGlvbiIsImV2dCIsInRlc3RfYWN0aXZlX2NsaWNrIiwiYWN0aXZhdGVfYWN0aW9uIiwiYWN0aXZhdGVfZmllbGQiLCJhY3RpdmVfZmllbGQiLCJtb3VzZV9vbl9jb250YWluZXIiLCJyZXN1bHRzX3Nob3dpbmciLCJyZXN1bHRfaGlnaGxpZ2h0ZWQiLCJhbGxvd19zaW5nbGVfZGVzZWxlY3QiLCJkaXNhYmxlX3NlYXJjaF90aHJlc2hvbGQiLCJkaXNhYmxlX3NlYXJjaCIsImVuYWJsZV9zcGxpdF93b3JkX3NlYXJjaCIsImdyb3VwX3NlYXJjaCIsInNlYXJjaF9jb250YWlucyIsInNpbmdsZV9iYWNrc3Ryb2tlX2RlbGV0ZSIsIm1heF9zZWxlY3RlZF9vcHRpb25zIiwiSW5maW5pdHkiLCJpbmhlcml0X3NlbGVjdF9jbGFzc2VzIiwiZGlzcGxheV9zZWxlY3RlZF9vcHRpb25zIiwiZGlzcGxheV9kaXNhYmxlZF9vcHRpb25zIiwiaW5jbHVkZV9ncm91cF9sYWJlbF9pbl9zZWxlY3RlZCIsIm1heF9zaG93bl9yZXN1bHRzIiwiTnVtYmVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJjYXNlX3NlbnNpdGl2ZV9zZWFyY2giLCJnZXRBdHRyaWJ1dGUiLCJkZWZhdWx0X3RleHQiLCJwbGFjZWhvbGRlcl90ZXh0X211bHRpcGxlIiwicGxhY2Vob2xkZXJfdGV4dCIsImRlZmF1bHRfbXVsdGlwbGVfdGV4dCIsInBsYWNlaG9sZGVyX3RleHRfc2luZ2xlIiwiZGVmYXVsdF9zaW5nbGVfdGV4dCIsInJlc3VsdHNfbm9uZV9mb3VuZCIsIm5vX3Jlc3VsdHNfdGV4dCIsImRlZmF1bHRfbm9fcmVzdWx0X3RleHQiLCJjaG9pY2VfbGFiZWwiLCJpdGVtIiwibW91c2VfZW50ZXIiLCJtb3VzZV9sZWF2ZSIsImlucHV0X2ZvY3VzIiwic2V0VGltZW91dCIsImNvbnRhaW5lcl9tb3VzZWRvd24iLCJpbnB1dF9ibHVyIiwiYmx1cl90ZXN0IiwicmVzdWx0c19vcHRpb25fYnVpbGQiLCJjb250ZW50IiwiZGF0YSIsImRhdGFfY29udGVudCIsInNob3duX3Jlc3VsdHMiLCJyZXN1bHRzX2RhdGEiLCJyZXN1bHRfYWRkX2dyb3VwIiwicmVzdWx0X2FkZF9vcHRpb24iLCJmaXJzdCIsImNob2ljZV9idWlsZCIsInNpbmdsZV9zZXRfc2VsZWN0ZWRfdGV4dCIsIm9wdGlvbl9lbCIsInNlYXJjaF9tYXRjaCIsImluY2x1ZGVfb3B0aW9uX2luX3Jlc3VsdHMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJqb2luIiwic2V0QXR0cmlidXRlIiwic2VhcmNoX3RleHQiLCJvdXRlckhUTUwiLCJncm91cF9lbCIsImdyb3VwX21hdGNoIiwiYWN0aXZlX29wdGlvbnMiLCJyZXN1bHRzX3VwZGF0ZV9maWVsZCIsInJlc3VsdHNfcmVzZXRfY2xlYW51cCIsInJlc3VsdF9jbGVhcl9oaWdobGlnaHQiLCJyZXN1bHRzX2J1aWxkIiwid2lubm93X3Jlc3VsdHMiLCJyZXNldF9zaW5nbGVfc2VsZWN0X29wdGlvbnMiLCJyZXN1bHQiLCJyZXN1bHRzX3RvZ2dsZSIsInJlc3VsdHNfaGlkZSIsInJlc3VsdHNfc2hvdyIsInJlc3VsdHNfc2VhcmNoIiwiZXNjYXBlZFNlYXJjaFRleHQiLCJyZWdleCIsInJlc3VsdHMiLCJyZXN1bHRzX2dyb3VwIiwic2VhcmNoVGV4dCIsInN0YXJ0cG9zIiwienJlZ2V4Iiwibm9fcmVzdWx0c19jbGVhciIsImdldF9zZWFyY2hfdGV4dCIsIlJlZ0V4cCIsImdldF9zZWFyY2hfcmVnZXgiLCJzZWFyY2hfc3RyaW5nX21hdGNoIiwic2VhcmNoIiwic3Vic3RyIiwidXBkYXRlX3Jlc3VsdHNfY29udGVudCIsIm5vX3Jlc3VsdHMiLCJ3aW5ub3dfcmVzdWx0c19zZXRfaGlnaGxpZ2h0IiwiZXNjYXBlZF9zZWFyY2hfc3RyaW5nIiwicmVnZXhfYW5jaG9yIiwicmVnZXhfZmxhZyIsInNlYXJjaF9zdHJpbmciLCJwYXJ0IiwicGFydHMiLCJpbmRleE9mIiwic3BsaXQiLCJjaG9pY2VzX2NvdW50Iiwic2VsZWN0ZWRfb3B0aW9uX2NvdW50IiwiY2hvaWNlc19jbGljayIsInByZXZlbnREZWZhdWx0IiwiaXNfZGlzYWJsZWQiLCJrZXl1cF9jaGVja2VyIiwic3Ryb2tlIiwid2hpY2giLCJrZXlDb2RlIiwic2VhcmNoX2ZpZWxkX3NjYWxlIiwiYmFja3N0cm9rZV9sZW5ndGgiLCJrZXlkb3duX2JhY2tzdHJva2UiLCJwZW5kaW5nX2JhY2tzdHJva2UiLCJyZXN1bHRfc2VsZWN0IiwiY2xpcGJvYXJkX2V2ZW50X2NoZWNrZXIiLCJjb250YWluZXJfd2lkdGgiLCJ3aWR0aCIsIm9mZnNldFdpZHRoIiwic2VhcmNoX3Jlc3VsdHNfdG91Y2hzdGFydCIsInRvdWNoX3N0YXJ0ZWQiLCJzZWFyY2hfcmVzdWx0c19tb3VzZW92ZXIiLCJzZWFyY2hfcmVzdWx0c190b3VjaG1vdmUiLCJzZWFyY2hfcmVzdWx0c19tb3VzZW91dCIsInNlYXJjaF9yZXN1bHRzX3RvdWNoZW5kIiwic2VhcmNoX3Jlc3VsdHNfbW91c2V1cCIsImVsZW1lbnQiLCJ0bXAiLCJhcHBlbmRDaGlsZCIsIndpbmRvdyIsIm5hdmlnYXRvciIsImFwcE5hbWUiLCJkb2N1bWVudE1vZGUiLCJ1c2VyQWdlbnQiLCJqUXVlcnkiLCJmbiIsImV4dGVuZCIsImNob3NlbiIsImVhY2giLCJpbnB1dF9maWVsZCIsIiR0aGlzIiwiZGVzdHJveSIsIl9zdXBlciIsImFwcGx5IiwiYXJndW1lbnRzIiwiZm9ybV9maWVsZF9qcSIsImN1cnJlbnRfc2VsZWN0ZWRJbmRleCIsInNlbGVjdGVkSW5kZXgiLCJpc19ydGwiLCJoYXNDbGFzcyIsImNvbnRhaW5lcl9jbGFzc2VzIiwiY29udGFpbmVyX3Byb3BzIiwiY2xhc3MiLCJpZCIsImNvbnRhaW5lciIsImhpZGUiLCJhZnRlciIsImRyb3Bkb3duIiwiZmluZCIsInNlYXJjaF9maWVsZCIsInNlYXJjaF9yZXN1bHRzIiwic2VhcmNoX25vX3Jlc3VsdHMiLCJzZWFyY2hfY2hvaWNlcyIsInNlYXJjaF9jb250YWluZXIiLCJzZWxlY3RlZF9pdGVtIiwic2V0X3RhYl9pbmRleCIsInNldF9sYWJlbF9iZWhhdmlvciIsInRyaWdnZXIiLCJiaW5kIiwiY29udGFpbmVyX21vdXNldXAiLCJzZWFyY2hfcmVzdWx0c19tb3VzZXdoZWVsIiwia2V5ZG93bl9jaGVja2VyIiwib3duZXJEb2N1bWVudCIsInVuYmluZCIsInRhYkluZGV4IiwicmVtb3ZlIiwicmVtb3ZlRGF0YSIsInNob3ciLCJzZWFyY2hfZmllbGRfZGlzYWJsZWQiLCJhZGRDbGFzcyIsImNsb3NlX2ZpZWxkIiwicmVtb3ZlQ2xhc3MiLCJ0eXBlIiwidGFyZ2V0IiwicGFyZW50cyIsInZhbCIsInJlc3VsdHNfcmVzZXQiLCJkZWx0YSIsIm9yaWdpbmFsRXZlbnQiLCJkZWx0YVkiLCJ3aGVlbERlbHRhIiwiZGV0YWlsIiwic2Nyb2xsVG9wIiwiY2xlYXJfYmFja3N0cm9rZSIsInNob3dfc2VhcmNoX2ZpZWxkX2RlZmF1bHQiLCJmb2N1cyIsImFjdGl2ZV9jb250YWluZXIiLCJjbG9zZXN0IiwicGFyc2luZyIsInJlYWRPbmx5IiwicmVzdWx0X2RvX2hpZ2hsaWdodCIsImVsIiwiaGlnaF9ib3R0b20iLCJoaWdoX3RvcCIsIm1heEhlaWdodCIsInZpc2libGVfYm90dG9tIiwidmlzaWJsZV90b3AiLCJyZXN1bHRfaGlnaGxpZ2h0IiwicGFyc2VJbnQiLCJjc3MiLCJwb3NpdGlvbiIsInRvcCIsIm91dGVySGVpZ2h0IiwidGkiLCJmb3JtX2ZpZWxkX2xhYmVsIiwiY2hvaWNlIiwiY2xvc2VfbGluayIsImRhdGEtb3B0aW9uLWFycmF5LWluZGV4IiwiY2hvaWNlX2Rlc3Ryb3lfbGlua19jbGljayIsImFwcGVuZCIsImJlZm9yZSIsInN0b3BQcm9wYWdhdGlvbiIsImNob2ljZV9kZXN0cm95IiwibGluayIsInJlc3VsdF9kZXNlbGVjdCIsImhpZ2giLCJtZXRhS2V5IiwiY3RybEtleSIsInNpbmdsZV9kZXNlbGVjdF9jb250cm9sX2J1aWxkIiwicG9zIiwicmVzdWx0X2RhdGEiLCJkZXNlbGVjdGVkIiwidHJpbSIsImRvX2hpZ2giLCJzZWxlY3RlZF9yZXN1bHRzIiwidGVybXMiLCJub19yZXN1bHRzX2h0bWwiLCJrZXlkb3duX2Fycm93IiwibmV4dF9zaWIiLCJuZXh0QWxsIiwia2V5dXBfYXJyb3ciLCJwcmV2X3NpYnMiLCJwcmV2QWxsIiwibmV4dF9hdmFpbGFibGVfZGVzdHJveSIsInNpYmxpbmdzIiwibGFzdCIsIl9yZWYxIiwiZGl2IiwiZl93aWR0aCIsImgiLCJzdHlsZV9ibG9jayIsInN0eWxlcyIsInciLCJvdXRlcldpZHRoIiwiZiIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJnIiwiZ2xvYmFsIiwic2VsZiIsIkNsaXBib2FyZCIsImUiLCJ0IiwibiIsInIiLCJzIiwibyIsInUiLCJhIiwicmVxdWlyZSIsImkiLCJFcnJvciIsImNvZGUiLCJsIiwiMSIsIm1hdGNoZXMiLCJzZWxlY3RvciIsImNoZWNrWW9TZWxmIiwicGFyZW50Tm9kZSIsIm1hdGNoZXMtc2VsZWN0b3IiLCIyIiwiZGVsZWdhdGUiLCJjYWxsYmFjayIsInVzZUNhcHR1cmUiLCJsaXN0ZW5lckZuIiwibGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRlbGVnYXRlVGFyZ2V0IiwiMyIsIm5vZGUiLCJ1bmRlZmluZWQiLCJIVE1MRWxlbWVudCIsIm5vZGVUeXBlIiwibm9kZUxpc3QiLCJPYmplY3QiLCJ0b1N0cmluZyIsInN0cmluZyIsIlN0cmluZyIsIjQiLCJsaXN0ZW4iLCJpcyIsIlR5cGVFcnJvciIsImxpc3Rlbk5vZGUiLCJsaXN0ZW5Ob2RlTGlzdCIsImxpc3RlblNlbGVjdG9yIiwiQXJyYXkiLCJmb3JFYWNoIiwiYm9keSIsIi4vaXMiLCI1IiwibWF0Y2giLCJ2ZW5kb3IiLCJub2RlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwcm90byIsIkVsZW1lbnQiLCJtYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCI2Iiwic2VsZWN0ZWRUZXh0Iiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJoYXNBdHRyaWJ1dGUiLCJzZWxlY3Rpb24iLCJnZXRTZWxlY3Rpb24iLCJyYW5nZSIsImNyZWF0ZVJhbmdlIiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCI3IiwiRSIsIm9uIiwibmFtZSIsImN0eCIsIm9uY2UiLCJvZmYiLCJfIiwiZW1pdCIsInNsaWNlIiwiZXZ0QXJyIiwibGVuIiwiZXZ0cyIsImxpdmVFdmVudHMiLCI4IiwiZmFjdG9yeSIsIm1vZCIsImNsaXBib2FyZEFjdGlvbiIsIl9zZWxlY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX3NlbGVjdDIiLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZGVmaW5lUHJvcGVydHkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJDbGlwYm9hcmRBY3Rpb24iLCJyZXNvbHZlT3B0aW9ucyIsImluaXRTZWxlY3Rpb24iLCJhY3Rpb24iLCJlbWl0dGVyIiwic2VsZWN0RmFrZSIsInNlbGVjdFRhcmdldCIsImlzUlRMIiwiZG9jdW1lbnRFbGVtZW50IiwicmVtb3ZlRmFrZSIsImZha2VIYW5kbGVyQ2FsbGJhY2siLCJmYWtlSGFuZGxlciIsImZha2VFbGVtIiwiZm9udFNpemUiLCJib3JkZXIiLCJwYWRkaW5nIiwibWFyZ2luIiwicGFnZVlPZmZzZXQiLCJjb3B5VGV4dCIsInJlbW92ZUNoaWxkIiwic3VjY2VlZGVkIiwiZXhlY0NvbW1hbmQiLCJlcnIiLCJoYW5kbGVSZXN1bHQiLCJjbGVhclNlbGVjdGlvbiIsImJsdXIiLCJzZXQiLCJfYWN0aW9uIiwiZ2V0IiwiX3RhcmdldCIsIjkiLCJ0aW55RW1pdHRlciIsImdvb2RMaXN0ZW5lciIsImNsaXBib2FyZCIsIl9jbGlwYm9hcmRBY3Rpb24iLCJfdGlueUVtaXR0ZXIiLCJfZ29vZExpc3RlbmVyIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNyZWF0ZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZ2V0QXR0cmlidXRlVmFsdWUiLCJzdWZmaXgiLCJhdHRyaWJ1dGUiLCJfY2xpcGJvYXJkQWN0aW9uMiIsIl90aW55RW1pdHRlcjIiLCJfZ29vZExpc3RlbmVyMiIsIl9FbWl0dGVyIiwibGlzdGVuQ2xpY2siLCJkZWZhdWx0QWN0aW9uIiwiZGVmYXVsdFRhcmdldCIsImRlZmF1bHRUZXh0IiwiX3RoaXMyIiwib25DbGljayIsImN1cnJlbnRUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiLi9jbGlwYm9hcmQtYWN0aW9uIiwiZ29vZC1saXN0ZW5lciIsInRpbnktZW1pdHRlciIsIkV2ZW50TWFuYWdlciIsImFkZEFjdGlvbiIsInByaW9yaXR5IiwiY29udGV4dCIsIl9hZGRIb29rIiwiTWV0aG9kc0F2YWlsYWJsZSIsImRvQWN0aW9uIiwiYXJncyIsInNoaWZ0IiwiX3J1bkhvb2siLCJyZW1vdmVBY3Rpb24iLCJfcmVtb3ZlSG9vayIsImFkZEZpbHRlciIsImZpbHRlciIsImFwcGx5RmlsdGVycyIsInJlbW92ZUZpbHRlciIsImhvb2siLCJoYW5kbGVycyIsImhhbmRsZXIiLCJTVE9SQUdFIiwic3BsaWNlIiwiaG9va09iamVjdCIsImhvb2tzIiwiX2hvb2tJbnNlcnRTb3J0IiwidG1wSG9vayIsImoiLCJwcmV2SG9vayIsImFjdGlvbnMiLCJmaWx0ZXJzIiwid3AiLCJtZXJnZV90YWdfY2xpcGJvYXJkIiwiJGNvZGUiLCJ0YWciLCJub3RpZmljYXRpb24iLCJjb3BpZWQiLCJjaGFuZ2UiLCIkc2VsZWN0IiwiJGNvbnRhaW5lciIsIiRtZXRhYm94IiwiZmFkZVRvIiwicG9zdCIsImFqYXh1cmwiLCJyZXNwb25zZSIsInN1Y2Nlc3MiLCJ0YWdzIiwidWwiLCJ1cGRhdGVfcmVjaXBpZW50cyIsImRpc2FibGUiLCIkcm93IiwiJHJlbW92ZV9idXR0b24iLCIkaW5wdXRzIiwiJGlucHV0IiwicGFydF9uYW1lIiwiYXR0ciIsImFkZF9yZWNpcGllbnQiLCJhbGVydCIsImV2ZW50IiwiJGJ1dHRvbiIsImFuaW1hdGUiLCJsZWZ0Iiwib3BhY2l0eSIsIm5leHQiLCJyZWNpcGllbnRfbmFtZSIsInVwZGF0ZV9hbGxfaW5wdXRzIiwicmVhZHkiLCJ1cGRhdGVfdHlwZSIsInRhZ192YWx1ZSIsInRhZ19uYW1lIiwiYXR0cyIsInRyaWdnZXJfc2x1ZyIsInRpbnltY2UiLCJhY3RpdmVFZGl0b3IiLCJnZXRDb250ZW50IiwiZGVmYXVsdHMiLCJ0ZW1wbGF0ZSIsInNldENvbnRlbnQiLCJyZWNpcGllbnRzIiwibm9uY2UiLCJzbGlkZVVwIiwiY2xpY2siLCIkZm9ybSIsImZvcm0iLCJzZXJpYWxpemVBcnJheSIsImxvY2F0aW9uIiwiaHJlZiJdLCJtYXBwaW5ncyI6IkNBWUEsV0FDQSxHQUFBQSxHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUNBQyxLQUFBQyxlQUNBQyxFQUFBLFNBQUFDLEVBQUFDLEdBQUEsUUFBQUMsS0FBQUMsS0FBQUMsWUFBQUosRUFBQSxJQUFBLEdBQUFLLEtBQUFKLEdBQUFKLEVBQUFTLEtBQUFMLEVBQUFJLEtBQUFMLEVBQUFLLEdBQUFKLEVBQUFJLEdBQUEsT0FBQUgsR0FBQUssVUFBQU4sRUFBQU0sVUFBQVAsRUFBQU8sVUFBQSxH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U0FBQW9iLEdBRUEsR0FBQSxHQUFBQSxFQUFBQyxRQUNBWSxNQUFBYixFQUFBcGIsVUFDQSxDQUVBLEdBQUFtZCxHQUFBL0IsRUFBQXBiLElBRUFtZCxHQUFBNWlCLE9BQ0FuQyxFQUFBLFVBQUF5USxJQUFBc1UsRUFBQTVpQixPQUFBZ1AsUUFHQTRULEVBQUFDLFVBQ0FKLFFBQUFDLGFBQUFJLFdBQUFGLEVBQUFDLFVBR0FELEVBQUFHLGFBRUFsbEIsRUFBQSxtREFBQWtJLFFBQUE2SCxTQUVBL1AsRUFBQTBOLEtBQUFxWCxFQUFBRyxXQUFBLFNBQUE1VSxFQUFBM04sR0FDQWloQixFQUFBdFQsRUFBQTNOLFlBZUEzQyxFQUFBLHdCQUFBaWEsR0FBQSxRQUFBLHVCQUFBLFNBQUE2SixHQUVBQSxFQUFBdFksZ0JBRUEsSUFBQXVZLEdBQUEvakIsRUFBQVcsTUFFQWlILEdBQ0E4VSxPQUFBLG1DQUNBeUksTUFBQXBCLEVBQUFuYyxLQUFBLFNBR0E1SCxHQUFBOGlCLEtBQUFDLFFBQUFuYixFQUFBLFNBQUFvYixHQUNBZSxFQUFBdlQsUUFBQSx3QkFBQTRVLGNBT0FwbEIsRUFBQSx3REFBQXFsQixNQUFBLFNBQUF2QixHQUNBQSxFQUFBdFksbUJBR0F4TCxFQUFBLFFBQUFpYSxHQUFBLFNBQUEscUNBQUEsU0FBQTZKLEdBRUFBLEVBQUF0WSxnQkFFQSxJQUFBOFosR0FBQXRsQixFQUFBVyxLQUVBMmtCLEdBQUF4VyxLQUFBLFlBQUFxQixTQUFBLFlBRUEsSUFBQXZJLElBQ0E4VSxPQUFBLDZCQUNBNkksS0FBQUQsRUFBQUUsaUJBR0F4bEIsR0FBQThpQixLQUFBQyxRQUFBbmIsRUFBQSxTQUFBb2IsR0FDQS9WLE9BQUF3WSxTQUFBQyxLQUFBMWxCLEVBQUEsd0RBQUE0SCxLQUFBLG1CQUtBMEYiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcclxuQ2hvc2VuLCBhIFNlbGVjdCBCb3ggRW5oYW5jZXIgZm9yIGpRdWVyeSBhbmQgUHJvdG90eXBlXHJcbmJ5IFBhdHJpY2sgRmlsbGVyIGZvciBIYXJ2ZXN0LCBodHRwOi8vZ2V0aGFydmVzdC5jb21cclxuXHJcblZlcnNpb24gMS42LjJcclxuRnVsbCBzb3VyY2UgYXQgaHR0cHM6Ly9naXRodWIuY29tL2hhcnZlc3RocS9jaG9zZW5cclxuQ29weXJpZ2h0IChjKSAyMDExLTIwMTYgSGFydmVzdCBodHRwOi8vZ2V0aGFydmVzdC5jb21cclxuXHJcbk1JVCBMaWNlbnNlLCBodHRwczovL2dpdGh1Yi5jb20vaGFydmVzdGhxL2Nob3Nlbi9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXHJcblRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgYnkgYGdydW50IGJ1aWxkYCwgZG8gbm90IGVkaXQgaXQgYnkgaGFuZC5cclxuKi9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuICB2YXIgJCwgQWJzdHJhY3RDaG9zZW4sIENob3NlbiwgU2VsZWN0UGFyc2VyLCBfcmVmLFxyXG4gICAgX19oYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHksXHJcbiAgICBfX2V4dGVuZHMgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKF9faGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfTtcclxuXHJcbiAgU2VsZWN0UGFyc2VyID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgZnVuY3Rpb24gU2VsZWN0UGFyc2VyKCkge1xyXG4gICAgICB0aGlzLm9wdGlvbnNfaW5kZXggPSAwO1xyXG4gICAgICB0aGlzLnBhcnNlZCA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIFNlbGVjdFBhcnNlci5wcm90b3R5cGUuYWRkX25vZGUgPSBmdW5jdGlvbihjaGlsZCkge1xyXG4gICAgICBpZiAoY2hpbGQubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gXCJPUFRHUk9VUFwiKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkX2dyb3VwKGNoaWxkKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hZGRfb3B0aW9uKGNoaWxkKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBTZWxlY3RQYXJzZXIucHJvdG90eXBlLmFkZF9ncm91cCA9IGZ1bmN0aW9uKGdyb3VwKSB7XHJcbiAgICAgIHZhciBncm91cF9wb3NpdGlvbiwgb3B0aW9uLCBfaSwgX2xlbiwgX3JlZiwgX3Jlc3VsdHM7XHJcbiAgICAgIGdyb3VwX3Bvc2l0aW9uID0gdGhpcy5wYXJzZWQubGVuZ3RoO1xyXG4gICAgICB0aGlzLnBhcnNlZC5wdXNoKHtcclxuICAgICAgICBhcnJheV9pbmRleDogZ3JvdXBfcG9zaXRpb24sXHJcbiAgICAgICAgZ3JvdXA6IHRydWUsXHJcbiAgICAgICAgbGFiZWw6IHRoaXMuZXNjYXBlRXhwcmVzc2lvbihncm91cC5sYWJlbCksXHJcbiAgICAgICAgdGl0bGU6IGdyb3VwLnRpdGxlID8gZ3JvdXAudGl0bGUgOiB2b2lkIDAsXHJcbiAgICAgICAgY2hpbGRyZW46IDAsXHJcbiAgICAgICAgZGlzYWJsZWQ6IGdyb3VwLmRpc2FibGVkLFxyXG4gICAgICAgIGNsYXNzZXM6IGdyb3VwLmNsYXNzTmFtZVxyXG4gICAgICB9KTtcclxuICAgICAgX3JlZiA9IGdyb3VwLmNoaWxkTm9kZXM7XHJcbiAgICAgIF9yZXN1bHRzID0gW107XHJcbiAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xyXG4gICAgICAgIG9wdGlvbiA9IF9yZWZbX2ldO1xyXG4gICAgICAgIF9yZXN1bHRzLnB1c2godGhpcy5hZGRfb3B0aW9uKG9wdGlvbiwgZ3JvdXBfcG9zaXRpb24sIGdyb3VwLmRpc2FibGVkKSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIF9yZXN1bHRzO1xyXG4gICAgfTtcclxuXHJcbiAgICBTZWxlY3RQYXJzZXIucHJvdG90eXBlLmFkZF9vcHRpb24gPSBmdW5jdGlvbihvcHRpb24sIGdyb3VwX3Bvc2l0aW9uLCBncm91cF9kaXNhYmxlZCkge1xyXG4gICAgICBpZiAob3B0aW9uLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09IFwiT1BUSU9OXCIpIHtcclxuICAgICAgICBpZiAob3B0aW9uLnRleHQgIT09IFwiXCIpIHtcclxuICAgICAgICAgIGlmIChncm91cF9wb3NpdGlvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyc2VkW2dyb3VwX3Bvc2l0aW9uXS5jaGlsZHJlbiArPSAxO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5wYXJzZWQucHVzaCh7XHJcbiAgICAgICAgICAgIGFycmF5X2luZGV4OiB0aGlzLnBhcnNlZC5sZW5ndGgsXHJcbiAgICAgICAgICAgIG9wdGlvbnNfaW5kZXg6IHRoaXMub3B0aW9uc19pbmRleCxcclxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZSxcclxuICAgICAgICAgICAgdGV4dDogb3B0aW9uLnRleHQsXHJcbiAgICAgICAgICAgIGh0bWw6IG9wdGlvbi5pbm5lckhUTUwsXHJcbiAgICAgICAgICAgIHRpdGxlOiBvcHRpb24udGl0bGUgPyBvcHRpb24udGl0bGUgOiB2b2lkIDAsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkOiBvcHRpb24uc2VsZWN0ZWQsXHJcbiAgICAgICAgICAgIGRpc2FibGVkOiBncm91cF9kaXNhYmxlZCA9PT0gdHJ1ZSA/IGdyb3VwX2Rpc2FibGVkIDogb3B0aW9uLmRpc2FibGVkLFxyXG4gICAgICAgICAgICBncm91cF9hcnJheV9pbmRleDogZ3JvdXBfcG9zaXRpb24sXHJcbiAgICAgICAgICAgIGdyb3VwX2xhYmVsOiBncm91cF9wb3NpdGlvbiAhPSBudWxsID8gdGhpcy5wYXJzZWRbZ3JvdXBfcG9zaXRpb25dLmxhYmVsIDogbnVsbCxcclxuICAgICAgICAgICAgY2xhc3Nlczogb3B0aW9uLmNsYXNzTmFtZSxcclxuICAgICAgICAgICAgc3R5bGU6IG9wdGlvbi5zdHlsZS5jc3NUZXh0XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5wYXJzZWQucHVzaCh7XHJcbiAgICAgICAgICAgIGFycmF5X2luZGV4OiB0aGlzLnBhcnNlZC5sZW5ndGgsXHJcbiAgICAgICAgICAgIG9wdGlvbnNfaW5kZXg6IHRoaXMub3B0aW9uc19pbmRleCxcclxuICAgICAgICAgICAgZW1wdHk6IHRydWVcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zX2luZGV4ICs9IDE7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgU2VsZWN0UGFyc2VyLnByb3RvdHlwZS5lc2NhcGVFeHByZXNzaW9uID0gZnVuY3Rpb24odGV4dCkge1xyXG4gICAgICB2YXIgbWFwLCB1bnNhZmVfY2hhcnM7XHJcbiAgICAgIGlmICgodGV4dCA9PSBudWxsKSB8fCB0ZXh0ID09PSBmYWxzZSkge1xyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghL1tcXCZcXDxcXD5cXFwiXFwnXFxgXS8udGVzdCh0ZXh0KSkge1xyXG4gICAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgICB9XHJcbiAgICAgIG1hcCA9IHtcclxuICAgICAgICBcIjxcIjogXCImbHQ7XCIsXHJcbiAgICAgICAgXCI+XCI6IFwiJmd0O1wiLFxyXG4gICAgICAgICdcIic6IFwiJnF1b3Q7XCIsXHJcbiAgICAgICAgXCInXCI6IFwiJiN4Mjc7XCIsXHJcbiAgICAgICAgXCJgXCI6IFwiJiN4NjA7XCJcclxuICAgICAgfTtcclxuICAgICAgdW5zYWZlX2NoYXJzID0gLyYoPyFcXHcrOyl8W1xcPFxcPlxcXCJcXCdcXGBdL2c7XHJcbiAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UodW5zYWZlX2NoYXJzLCBmdW5jdGlvbihjaHIpIHtcclxuICAgICAgICByZXR1cm4gbWFwW2Nocl0gfHwgXCImYW1wO1wiO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIFNlbGVjdFBhcnNlcjtcclxuXHJcbiAgfSkoKTtcclxuXHJcbiAgU2VsZWN0UGFyc2VyLnNlbGVjdF90b19hcnJheSA9IGZ1bmN0aW9uKHNlbGVjdCkge1xyXG4gICAgdmFyIGNoaWxkLCBwYXJzZXIsIF9pLCBfbGVuLCBfcmVmO1xyXG4gICAgcGFyc2VyID0gbmV3IFNlbGVjdFBhcnNlcigpO1xyXG4gICAgX3JlZiA9IHNlbGVjdC5jaGlsZE5vZGVzO1xyXG4gICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XHJcbiAgICAgIGNoaWxkID0gX3JlZltfaV07XHJcbiAgICAgIHBhcnNlci5hZGRfbm9kZShjaGlsZCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGFyc2VyLnBhcnNlZDtcclxuICB9O1xyXG5cclxuICBBYnN0cmFjdENob3NlbiA9IChmdW5jdGlvbigpIHtcclxuICAgIGZ1bmN0aW9uIEFic3RyYWN0Q2hvc2VuKGZvcm1fZmllbGQsIG9wdGlvbnMpIHtcclxuICAgICAgdGhpcy5mb3JtX2ZpZWxkID0gZm9ybV9maWVsZDtcclxuICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucyA6IHt9O1xyXG4gICAgICBpZiAoIUFic3RyYWN0Q2hvc2VuLmJyb3dzZXJfaXNfc3VwcG9ydGVkKCkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5pc19tdWx0aXBsZSA9IHRoaXMuZm9ybV9maWVsZC5tdWx0aXBsZTtcclxuICAgICAgdGhpcy5zZXRfZGVmYXVsdF90ZXh0KCk7XHJcbiAgICAgIHRoaXMuc2V0X2RlZmF1bHRfdmFsdWVzKCk7XHJcbiAgICAgIHRoaXMuc2V0dXAoKTtcclxuICAgICAgdGhpcy5zZXRfdXBfaHRtbCgpO1xyXG4gICAgICB0aGlzLnJlZ2lzdGVyX29ic2VydmVycygpO1xyXG4gICAgICB0aGlzLm9uX3JlYWR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLnNldF9kZWZhdWx0X3ZhbHVlcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICB0aGlzLmNsaWNrX3Rlc3RfYWN0aW9uID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzLnRlc3RfYWN0aXZlX2NsaWNrKGV2dCk7XHJcbiAgICAgIH07XHJcbiAgICAgIHRoaXMuYWN0aXZhdGVfYWN0aW9uID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzLmFjdGl2YXRlX2ZpZWxkKGV2dCk7XHJcbiAgICAgIH07XHJcbiAgICAgIHRoaXMuYWN0aXZlX2ZpZWxkID0gZmFsc2U7XHJcbiAgICAgIHRoaXMubW91c2Vfb25fY29udGFpbmVyID0gZmFsc2U7XHJcbiAgICAgIHRoaXMucmVzdWx0c19zaG93aW5nID0gZmFsc2U7XHJcbiAgICAgIHRoaXMucmVzdWx0X2hpZ2hsaWdodGVkID0gbnVsbDtcclxuICAgICAgdGhpcy5hbGxvd19zaW5nbGVfZGVzZWxlY3QgPSAodGhpcy5vcHRpb25zLmFsbG93X3NpbmdsZV9kZXNlbGVjdCAhPSBudWxsKSAmJiAodGhpcy5mb3JtX2ZpZWxkLm9wdGlvbnNbMF0gIT0gbnVsbCkgJiYgdGhpcy5mb3JtX2ZpZWxkLm9wdGlvbnNbMF0udGV4dCA9PT0gXCJcIiA/IHRoaXMub3B0aW9ucy5hbGxvd19zaW5nbGVfZGVzZWxlY3QgOiBmYWxzZTtcclxuICAgICAgdGhpcy5kaXNhYmxlX3NlYXJjaF90aHJlc2hvbGQgPSB0aGlzLm9wdGlvbnMuZGlzYWJsZV9zZWFyY2hfdGhyZXNob2xkIHx8IDA7XHJcbiAgICAgIHRoaXMuZGlzYWJsZV9zZWFyY2ggPSB0aGlzLm9wdGlvbnMuZGlzYWJsZV9zZWFyY2ggfHwgZmFsc2U7XHJcbiAgICAgIHRoaXMuZW5hYmxlX3NwbGl0X3dvcmRfc2VhcmNoID0gdGhpcy5vcHRpb25zLmVuYWJsZV9zcGxpdF93b3JkX3NlYXJjaCAhPSBudWxsID8gdGhpcy5vcHRpb25zLmVuYWJsZV9zcGxpdF93b3JkX3NlYXJjaCA6IHRydWU7XHJcbiAgICAgIHRoaXMuZ3JvdXBfc2VhcmNoID0gdGhpcy5vcHRpb25zLmdyb3VwX3NlYXJjaCAhPSBudWxsID8gdGhpcy5vcHRpb25zLmdyb3VwX3NlYXJjaCA6IHRydWU7XHJcbiAgICAgIHRoaXMuc2VhcmNoX2NvbnRhaW5zID0gdGhpcy5vcHRpb25zLnNlYXJjaF9jb250YWlucyB8fCBmYWxzZTtcclxuICAgICAgdGhpcy5zaW5nbGVfYmFja3N0cm9rZV9kZWxldGUgPSB0aGlzLm9wdGlvbnMuc2luZ2xlX2JhY2tzdHJva2VfZGVsZXRlICE9IG51bGwgPyB0aGlzLm9wdGlvbnMuc2luZ2xlX2JhY2tzdHJva2VfZGVsZXRlIDogdHJ1ZTtcclxuICAgICAgdGhpcy5tYXhfc2VsZWN0ZWRfb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5tYXhfc2VsZWN0ZWRfb3B0aW9ucyB8fCBJbmZpbml0eTtcclxuICAgICAgdGhpcy5pbmhlcml0X3NlbGVjdF9jbGFzc2VzID0gdGhpcy5vcHRpb25zLmluaGVyaXRfc2VsZWN0X2NsYXNzZXMgfHwgZmFsc2U7XHJcbiAgICAgIHRoaXMuZGlzcGxheV9zZWxlY3RlZF9vcHRpb25zID0gdGhpcy5vcHRpb25zLmRpc3BsYXlfc2VsZWN0ZWRfb3B0aW9ucyAhPSBudWxsID8gdGhpcy5vcHRpb25zLmRpc3BsYXlfc2VsZWN0ZWRfb3B0aW9ucyA6IHRydWU7XHJcbiAgICAgIHRoaXMuZGlzcGxheV9kaXNhYmxlZF9vcHRpb25zID0gdGhpcy5vcHRpb25zLmRpc3BsYXlfZGlzYWJsZWRfb3B0aW9ucyAhPSBudWxsID8gdGhpcy5vcHRpb25zLmRpc3BsYXlfZGlzYWJsZWRfb3B0aW9ucyA6IHRydWU7XHJcbiAgICAgIHRoaXMuaW5jbHVkZV9ncm91cF9sYWJlbF9pbl9zZWxlY3RlZCA9IHRoaXMub3B0aW9ucy5pbmNsdWRlX2dyb3VwX2xhYmVsX2luX3NlbGVjdGVkIHx8IGZhbHNlO1xyXG4gICAgICB0aGlzLm1heF9zaG93bl9yZXN1bHRzID0gdGhpcy5vcHRpb25zLm1heF9zaG93bl9yZXN1bHRzIHx8IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcclxuICAgICAgcmV0dXJuIHRoaXMuY2FzZV9zZW5zaXRpdmVfc2VhcmNoID0gdGhpcy5vcHRpb25zLmNhc2Vfc2Vuc2l0aXZlX3NlYXJjaCB8fCBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLnNldF9kZWZhdWx0X3RleHQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKHRoaXMuZm9ybV9maWVsZC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBsYWNlaG9sZGVyXCIpKSB7XHJcbiAgICAgICAgdGhpcy5kZWZhdWx0X3RleHQgPSB0aGlzLmZvcm1fZmllbGQuZ2V0QXR0cmlidXRlKFwiZGF0YS1wbGFjZWhvbGRlclwiKTtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzX211bHRpcGxlKSB7XHJcbiAgICAgICAgdGhpcy5kZWZhdWx0X3RleHQgPSB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXJfdGV4dF9tdWx0aXBsZSB8fCB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXJfdGV4dCB8fCBBYnN0cmFjdENob3Nlbi5kZWZhdWx0X211bHRpcGxlX3RleHQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5kZWZhdWx0X3RleHQgPSB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXJfdGV4dF9zaW5nbGUgfHwgdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyX3RleHQgfHwgQWJzdHJhY3RDaG9zZW4uZGVmYXVsdF9zaW5nbGVfdGV4dDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGhpcy5yZXN1bHRzX25vbmVfZm91bmQgPSB0aGlzLmZvcm1fZmllbGQuZ2V0QXR0cmlidXRlKFwiZGF0YS1ub19yZXN1bHRzX3RleHRcIikgfHwgdGhpcy5vcHRpb25zLm5vX3Jlc3VsdHNfdGV4dCB8fCBBYnN0cmFjdENob3Nlbi5kZWZhdWx0X25vX3Jlc3VsdF90ZXh0O1xyXG4gICAgfTtcclxuXHJcbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuY2hvaWNlX2xhYmVsID0gZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICBpZiAodGhpcy5pbmNsdWRlX2dyb3VwX2xhYmVsX2luX3NlbGVjdGVkICYmIChpdGVtLmdyb3VwX2xhYmVsICE9IG51bGwpKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiPGIgY2xhc3M9J2dyb3VwLW5hbWUnPlwiICsgaXRlbS5ncm91cF9sYWJlbCArIFwiPC9iPlwiICsgaXRlbS5odG1sO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBpdGVtLmh0bWw7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLm1vdXNlX2VudGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLm1vdXNlX29uX2NvbnRhaW5lciA9IHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5tb3VzZV9sZWF2ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5tb3VzZV9vbl9jb250YWluZXIgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmlucHV0X2ZvY3VzID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZV9maWVsZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuY29udGFpbmVyX21vdXNlZG93bigpO1xyXG4gICAgICAgICAgfSksIDUwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZV9maWVsZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZhdGVfZmllbGQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmlucHV0X2JsdXIgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgaWYgKCF0aGlzLm1vdXNlX29uX2NvbnRhaW5lcikge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlX2ZpZWxkID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgcmV0dXJuIF90aGlzLmJsdXJfdGVzdCgpO1xyXG4gICAgICAgIH0pLCAxMDApO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5yZXN1bHRzX29wdGlvbl9idWlsZCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgICAgdmFyIGNvbnRlbnQsIGRhdGEsIGRhdGFfY29udGVudCwgc2hvd25fcmVzdWx0cywgX2ksIF9sZW4sIF9yZWY7XHJcbiAgICAgIGNvbnRlbnQgPSAnJztcclxuICAgICAgc2hvd25fcmVzdWx0cyA9IDA7XHJcbiAgICAgIF9yZWYgPSB0aGlzLnJlc3VsdHNfZGF0YTtcclxuICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XHJcbiAgICAgICAgZGF0YSA9IF9yZWZbX2ldO1xyXG4gICAgICAgIGRhdGFfY29udGVudCA9ICcnO1xyXG4gICAgICAgIGlmIChkYXRhLmdyb3VwKSB7XHJcbiAgICAgICAgICBkYXRhX2NvbnRlbnQgPSB0aGlzLnJlc3VsdF9hZGRfZ3JvdXAoZGF0YSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGRhdGFfY29udGVudCA9IHRoaXMucmVzdWx0X2FkZF9vcHRpb24oZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhX2NvbnRlbnQgIT09ICcnKSB7XHJcbiAgICAgICAgICBzaG93bl9yZXN1bHRzKys7XHJcbiAgICAgICAgICBjb250ZW50ICs9IGRhdGFfY29udGVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuZmlyc3QgOiB2b2lkIDApIHtcclxuICAgICAgICAgIGlmIChkYXRhLnNlbGVjdGVkICYmIHRoaXMuaXNfbXVsdGlwbGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jaG9pY2VfYnVpbGQoZGF0YSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuc2VsZWN0ZWQgJiYgIXRoaXMuaXNfbXVsdGlwbGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zaW5nbGVfc2V0X3NlbGVjdGVkX3RleHQodGhpcy5jaG9pY2VfbGFiZWwoZGF0YSkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2hvd25fcmVzdWx0cyA+PSB0aGlzLm1heF9zaG93bl9yZXN1bHRzKSB7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XHJcbiAgICB9O1xyXG5cclxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5yZXN1bHRfYWRkX29wdGlvbiA9IGZ1bmN0aW9uKG9wdGlvbikge1xyXG4gICAgICB2YXIgY2xhc3Nlcywgb3B0aW9uX2VsO1xyXG4gICAgICBpZiAoIW9wdGlvbi5zZWFyY2hfbWF0Y2gpIHtcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCF0aGlzLmluY2x1ZGVfb3B0aW9uX2luX3Jlc3VsdHMob3B0aW9uKSkge1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgICAgfVxyXG4gICAgICBjbGFzc2VzID0gW107XHJcbiAgICAgIGlmICghb3B0aW9uLmRpc2FibGVkICYmICEob3B0aW9uLnNlbGVjdGVkICYmIHRoaXMuaXNfbXVsdGlwbGUpKSB7XHJcbiAgICAgICAgY2xhc3Nlcy5wdXNoKFwiYWN0aXZlLXJlc3VsdFwiKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAob3B0aW9uLmRpc2FibGVkICYmICEob3B0aW9uLnNlbGVjdGVkICYmIHRoaXMuaXNfbXVsdGlwbGUpKSB7XHJcbiAgICAgICAgY2xhc3Nlcy5wdXNoKFwiZGlzYWJsZWQtcmVzdWx0XCIpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQpIHtcclxuICAgICAgICBjbGFzc2VzLnB1c2goXCJyZXN1bHQtc2VsZWN0ZWRcIik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKG9wdGlvbi5ncm91cF9hcnJheV9pbmRleCAhPSBudWxsKSB7XHJcbiAgICAgICAgY2xhc3Nlcy5wdXNoKFwiZ3JvdXAtb3B0aW9uXCIpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChvcHRpb24uY2xhc3NlcyAhPT0gXCJcIikge1xyXG4gICAgICAgIGNsYXNzZXMucHVzaChvcHRpb24uY2xhc3Nlcyk7XHJcbiAgICAgIH1cclxuICAgICAgb3B0aW9uX2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG4gICAgICBvcHRpb25fZWwuY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKFwiIFwiKTtcclxuICAgICAgb3B0aW9uX2VsLnN0eWxlLmNzc1RleHQgPSBvcHRpb24uc3R5bGU7XHJcbiAgICAgIG9wdGlvbl9lbC5zZXRBdHRyaWJ1dGUoXCJkYXRhLW9wdGlvbi1hcnJheS1pbmRleFwiLCBvcHRpb24uYXJyYXlfaW5kZXgpO1xyXG4gICAgICBvcHRpb25fZWwuaW5uZXJIVE1MID0gb3B0aW9uLnNlYXJjaF90ZXh0O1xyXG4gICAgICBpZiAob3B0aW9uLnRpdGxlKSB7XHJcbiAgICAgICAgb3B0aW9uX2VsLnRpdGxlID0gb3B0aW9uLnRpdGxlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0aGlzLm91dGVySFRNTChvcHRpb25fZWwpO1xyXG4gICAgfTtcclxuXHJcbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUucmVzdWx0X2FkZF9ncm91cCA9IGZ1bmN0aW9uKGdyb3VwKSB7XHJcbiAgICAgIHZhciBjbGFzc2VzLCBncm91cF9lbDtcclxuICAgICAgaWYgKCEoZ3JvdXAuc2VhcmNoX21hdGNoIHx8IGdyb3VwLmdyb3VwX21hdGNoKSkge1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgICAgfVxyXG4gICAgICBpZiAoIShncm91cC5hY3RpdmVfb3B0aW9ucyA+IDApKSB7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICB9XHJcbiAgICAgIGNsYXNzZXMgPSBbXTtcclxuICAgICAgY2xhc3Nlcy5wdXNoKFwiZ3JvdXAtcmVzdWx0XCIpO1xyXG4gICAgICBpZiAoZ3JvdXAuY2xhc3Nlcykge1xyXG4gICAgICAgIGNsYXNzZXMucHVzaChncm91cC5jbGFzc2VzKTtcclxuICAgICAgfVxyXG4gICAgICBncm91cF9lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuICAgICAgZ3JvdXBfZWwuY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKFwiIFwiKTtcclxuICAgICAgZ3JvdXBfZWwuaW5uZXJIVE1MID0gZ3JvdXAuc2VhcmNoX3RleHQ7XHJcbiAgICAgIGlmIChncm91cC50aXRsZSkge1xyXG4gICAgICAgIGdyb3VwX2VsLnRpdGxlID0gZ3JvdXAudGl0bGU7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRoaXMub3V0ZXJIVE1MKGdyb3VwX2VsKTtcclxuICAgIH07XHJcblxyXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLnJlc3VsdHNfdXBkYXRlX2ZpZWxkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHRoaXMuc2V0X2RlZmF1bHRfdGV4dCgpO1xyXG4gICAgICBpZiAoIXRoaXMuaXNfbXVsdGlwbGUpIHtcclxuICAgICAgICB0aGlzLnJlc3VsdHNfcmVzZXRfY2xlYW51cCgpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCgpO1xyXG4gICAgICB0aGlzLnJlc3VsdHNfYnVpbGQoKTtcclxuICAgICAgaWYgKHRoaXMucmVzdWx0c19zaG93aW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud2lubm93X3Jlc3VsdHMoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUucmVzZXRfc2luZ2xlX3NlbGVjdF9vcHRpb25zID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciByZXN1bHQsIF9pLCBfbGVuLCBfcmVmLCBfcmVzdWx0cztcclxuICAgICAgX3JlZiA9IHRoaXMucmVzdWx0c19kYXRhO1xyXG4gICAgICBfcmVzdWx0cyA9IFtdO1xyXG4gICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcclxuICAgICAgICByZXN1bHQgPSBfcmVmW19pXTtcclxuICAgICAgICBpZiAocmVzdWx0LnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICBfcmVzdWx0cy5wdXNoKHJlc3VsdC5zZWxlY3RlZCA9IGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgX3Jlc3VsdHMucHVzaCh2b2lkIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gX3Jlc3VsdHM7XHJcbiAgICB9O1xyXG5cclxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5yZXN1bHRzX3RvZ2dsZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzX2hpZGUoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzX3Nob3coKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUucmVzdWx0c19zZWFyY2ggPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgaWYgKHRoaXMucmVzdWx0c19zaG93aW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud2lubm93X3Jlc3VsdHMoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzX3Nob3coKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUud2lubm93X3Jlc3VsdHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIGVzY2FwZWRTZWFyY2hUZXh0LCBvcHRpb24sIHJlZ2V4LCByZXN1bHRzLCByZXN1bHRzX2dyb3VwLCBzZWFyY2hUZXh0LCBzdGFydHBvcywgdGV4dCwgenJlZ2V4LCBfaSwgX2xlbiwgX3JlZjtcclxuICAgICAgdGhpcy5ub19yZXN1bHRzX2NsZWFyKCk7XHJcbiAgICAgIHJlc3VsdHMgPSAwO1xyXG4gICAgICBzZWFyY2hUZXh0ID0gdGhpcy5nZXRfc2VhcmNoX3RleHQoKTtcclxuICAgICAgZXNjYXBlZFNlYXJjaFRleHQgPSBzZWFyY2hUZXh0LnJlcGxhY2UoL1stW1xcXXt9KCkqKz8uLFxcXFxeJHwjXFxzXS9nLCBcIlxcXFwkJlwiKTtcclxuICAgICAgenJlZ2V4ID0gbmV3IFJlZ0V4cChlc2NhcGVkU2VhcmNoVGV4dCwgJ2knKTtcclxuICAgICAgcmVnZXggPSB0aGlzLmdldF9zZWFyY2hfcmVnZXgoZXNjYXBlZFNlYXJjaFRleHQpO1xyXG4gICAgICBfcmVmID0gdGhpcy5yZXN1bHRzX2RhdGE7XHJcbiAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xyXG4gICAgICAgIG9wdGlvbiA9IF9yZWZbX2ldO1xyXG4gICAgICAgIG9wdGlvbi5zZWFyY2hfbWF0Y2ggPSBmYWxzZTtcclxuICAgICAgICByZXN1bHRzX2dyb3VwID0gbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5pbmNsdWRlX29wdGlvbl9pbl9yZXN1bHRzKG9wdGlvbikpIHtcclxuICAgICAgICAgIGlmIChvcHRpb24uZ3JvdXApIHtcclxuICAgICAgICAgICAgb3B0aW9uLmdyb3VwX21hdGNoID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG9wdGlvbi5hY3RpdmVfb3B0aW9ucyA9IDA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoKG9wdGlvbi5ncm91cF9hcnJheV9pbmRleCAhPSBudWxsKSAmJiB0aGlzLnJlc3VsdHNfZGF0YVtvcHRpb24uZ3JvdXBfYXJyYXlfaW5kZXhdKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdHNfZ3JvdXAgPSB0aGlzLnJlc3VsdHNfZGF0YVtvcHRpb24uZ3JvdXBfYXJyYXlfaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0c19ncm91cC5hY3RpdmVfb3B0aW9ucyA9PT0gMCAmJiByZXN1bHRzX2dyb3VwLnNlYXJjaF9tYXRjaCkge1xyXG4gICAgICAgICAgICAgIHJlc3VsdHMgKz0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXN1bHRzX2dyb3VwLmFjdGl2ZV9vcHRpb25zICs9IDE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBvcHRpb24uc2VhcmNoX3RleHQgPSBvcHRpb24uZ3JvdXAgPyBvcHRpb24ubGFiZWwgOiBvcHRpb24uaHRtbDtcclxuICAgICAgICAgIGlmICghKG9wdGlvbi5ncm91cCAmJiAhdGhpcy5ncm91cF9zZWFyY2gpKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbi5zZWFyY2hfbWF0Y2ggPSB0aGlzLnNlYXJjaF9zdHJpbmdfbWF0Y2gob3B0aW9uLnNlYXJjaF90ZXh0LCByZWdleCk7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb24uc2VhcmNoX21hdGNoICYmICFvcHRpb24uZ3JvdXApIHtcclxuICAgICAgICAgICAgICByZXN1bHRzICs9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9wdGlvbi5zZWFyY2hfbWF0Y2gpIHtcclxuICAgICAgICAgICAgICBpZiAoc2VhcmNoVGV4dC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0cG9zID0gb3B0aW9uLnNlYXJjaF90ZXh0LnNlYXJjaCh6cmVnZXgpO1xyXG4gICAgICAgICAgICAgICAgdGV4dCA9IG9wdGlvbi5zZWFyY2hfdGV4dC5zdWJzdHIoMCwgc3RhcnRwb3MgKyBzZWFyY2hUZXh0Lmxlbmd0aCkgKyAnPC9lbT4nICsgb3B0aW9uLnNlYXJjaF90ZXh0LnN1YnN0cihzdGFydHBvcyArIHNlYXJjaFRleHQubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIG9wdGlvbi5zZWFyY2hfdGV4dCA9IHRleHQuc3Vic3RyKDAsIHN0YXJ0cG9zKSArICc8ZW0+JyArIHRleHQuc3Vic3RyKHN0YXJ0cG9zKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdHNfZ3JvdXAgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0c19ncm91cC5ncm91cF9tYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKChvcHRpb24uZ3JvdXBfYXJyYXlfaW5kZXggIT0gbnVsbCkgJiYgdGhpcy5yZXN1bHRzX2RhdGFbb3B0aW9uLmdyb3VwX2FycmF5X2luZGV4XS5zZWFyY2hfbWF0Y2gpIHtcclxuICAgICAgICAgICAgICBvcHRpb24uc2VhcmNoX21hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB0aGlzLnJlc3VsdF9jbGVhcl9oaWdobGlnaHQoKTtcclxuICAgICAgaWYgKHJlc3VsdHMgPCAxICYmIHNlYXJjaFRleHQubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVfcmVzdWx0c19jb250ZW50KFwiXCIpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5vX3Jlc3VsdHMoc2VhcmNoVGV4dCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVfcmVzdWx0c19jb250ZW50KHRoaXMucmVzdWx0c19vcHRpb25fYnVpbGQoKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud2lubm93X3Jlc3VsdHNfc2V0X2hpZ2hsaWdodCgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5nZXRfc2VhcmNoX3JlZ2V4ID0gZnVuY3Rpb24oZXNjYXBlZF9zZWFyY2hfc3RyaW5nKSB7XHJcbiAgICAgIHZhciByZWdleF9hbmNob3IsIHJlZ2V4X2ZsYWc7XHJcbiAgICAgIHJlZ2V4X2FuY2hvciA9IHRoaXMuc2VhcmNoX2NvbnRhaW5zID8gXCJcIiA6IFwiXlwiO1xyXG4gICAgICByZWdleF9mbGFnID0gdGhpcy5jYXNlX3NlbnNpdGl2ZV9zZWFyY2ggPyBcIlwiIDogXCJpXCI7XHJcbiAgICAgIHJldHVybiBuZXcgUmVnRXhwKHJlZ2V4X2FuY2hvciArIGVzY2FwZWRfc2VhcmNoX3N0cmluZywgcmVnZXhfZmxhZyk7XHJcbiAgICB9O1xyXG5cclxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfc3RyaW5nX21hdGNoID0gZnVuY3Rpb24oc2VhcmNoX3N0cmluZywgcmVnZXgpIHtcclxuICAgICAgdmFyIHBhcnQsIHBhcnRzLCBfaSwgX2xlbjtcclxuICAgICAgaWYgKHJlZ2V4LnRlc3Qoc2VhcmNoX3N0cmluZykpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLmVuYWJsZV9zcGxpdF93b3JkX3NlYXJjaCAmJiAoc2VhcmNoX3N0cmluZy5pbmRleE9mKFwiIFwiKSA+PSAwIHx8IHNlYXJjaF9zdHJpbmcuaW5kZXhPZihcIltcIikgPT09IDApKSB7XHJcbiAgICAgICAgcGFydHMgPSBzZWFyY2hfc3RyaW5nLnJlcGxhY2UoL1xcW3xcXF0vZywgXCJcIikuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgIGlmIChwYXJ0cy5sZW5ndGgpIHtcclxuICAgICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gcGFydHMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcclxuICAgICAgICAgICAgcGFydCA9IHBhcnRzW19pXTtcclxuICAgICAgICAgICAgaWYgKHJlZ2V4LnRlc3QocGFydCkpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuY2hvaWNlc19jb3VudCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgb3B0aW9uLCBfaSwgX2xlbiwgX3JlZjtcclxuICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRfb3B0aW9uX2NvdW50ICE9IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZF9vcHRpb25fY291bnQ7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zZWxlY3RlZF9vcHRpb25fY291bnQgPSAwO1xyXG4gICAgICBfcmVmID0gdGhpcy5mb3JtX2ZpZWxkLm9wdGlvbnM7XHJcbiAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xyXG4gICAgICAgIG9wdGlvbiA9IF9yZWZbX2ldO1xyXG4gICAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQpIHtcclxuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRfb3B0aW9uX2NvdW50ICs9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkX29wdGlvbl9jb3VudDtcclxuICAgIH07XHJcblxyXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmNob2ljZXNfY2xpY2sgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGlmICghKHRoaXMucmVzdWx0c19zaG93aW5nIHx8IHRoaXMuaXNfZGlzYWJsZWQpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0c19zaG93KCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmtleXVwX2NoZWNrZXIgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgdmFyIHN0cm9rZSwgX3JlZjtcclxuICAgICAgc3Ryb2tlID0gKF9yZWYgPSBldnQud2hpY2gpICE9IG51bGwgPyBfcmVmIDogZXZ0LmtleUNvZGU7XHJcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkX3NjYWxlKCk7XHJcbiAgICAgIHN3aXRjaCAoc3Ryb2tlKSB7XHJcbiAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUgJiYgdGhpcy5iYWNrc3Ryb2tlX2xlbmd0aCA8IDEgJiYgdGhpcy5jaG9pY2VzX2NvdW50KCkgPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmtleWRvd25fYmFja3N0cm9rZSgpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5wZW5kaW5nX2JhY2tzdHJva2UpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXN1bHRfY2xlYXJfaGlnaGxpZ2h0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc3VsdHNfc2VhcmNoKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDEzOlxyXG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0X3NlbGVjdChldnQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAyNzpcclxuICAgICAgICAgIGlmICh0aGlzLnJlc3VsdHNfc2hvd2luZykge1xyXG4gICAgICAgICAgICB0aGlzLnJlc3VsdHNfaGlkZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgY2FzZSA5OlxyXG4gICAgICAgIGNhc2UgMzg6XHJcbiAgICAgICAgY2FzZSA0MDpcclxuICAgICAgICBjYXNlIDE2OlxyXG4gICAgICAgIGNhc2UgOTE6XHJcbiAgICAgICAgY2FzZSAxNzpcclxuICAgICAgICBjYXNlIDE4OlxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIHJldHVybiB0aGlzLnJlc3VsdHNfc2VhcmNoKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmNsaXBib2FyZF9ldmVudF9jaGVja2VyID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KChmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gX3RoaXMucmVzdWx0c19zZWFyY2goKTtcclxuICAgICAgfSksIDUwKTtcclxuICAgIH07XHJcblxyXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmNvbnRhaW5lcl93aWR0aCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAodGhpcy5vcHRpb25zLndpZHRoICE9IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLndpZHRoO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBcIlwiICsgdGhpcy5mb3JtX2ZpZWxkLm9mZnNldFdpZHRoICsgXCJweFwiO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5pbmNsdWRlX29wdGlvbl9pbl9yZXN1bHRzID0gZnVuY3Rpb24ob3B0aW9uKSB7XHJcbiAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlICYmICghdGhpcy5kaXNwbGF5X3NlbGVjdGVkX29wdGlvbnMgJiYgb3B0aW9uLnNlbGVjdGVkKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXRoaXMuZGlzcGxheV9kaXNhYmxlZF9vcHRpb25zICYmIG9wdGlvbi5kaXNhYmxlZCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAob3B0aW9uLmVtcHR5KSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuXHJcbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuc2VhcmNoX3Jlc3VsdHNfdG91Y2hzdGFydCA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICB0aGlzLnRvdWNoX3N0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICByZXR1cm4gdGhpcy5zZWFyY2hfcmVzdWx0c19tb3VzZW92ZXIoZXZ0KTtcclxuICAgIH07XHJcblxyXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLnNlYXJjaF9yZXN1bHRzX3RvdWNobW92ZSA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICB0aGlzLnRvdWNoX3N0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX3Jlc3VsdHNfbW91c2VvdXQoZXZ0KTtcclxuICAgIH07XHJcblxyXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLnNlYXJjaF9yZXN1bHRzX3RvdWNoZW5kID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgIGlmICh0aGlzLnRvdWNoX3N0YXJ0ZWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2hfcmVzdWx0c19tb3VzZXVwKGV2dCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLm91dGVySFRNTCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgdmFyIHRtcDtcclxuICAgICAgaWYgKGVsZW1lbnQub3V0ZXJIVE1MKSB7XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQub3V0ZXJIVE1MO1xyXG4gICAgICB9XHJcbiAgICAgIHRtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgIHRtcC5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICAgICAgcmV0dXJuIHRtcC5pbm5lckhUTUw7XHJcbiAgICB9O1xyXG5cclxuICAgIEFic3RyYWN0Q2hvc2VuLmJyb3dzZXJfaXNfc3VwcG9ydGVkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmIChcIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlclwiID09PSB3aW5kb3cubmF2aWdhdG9yLmFwcE5hbWUpIHtcclxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRNb2RlID49IDg7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKC9pUChvZHxob25lKS9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpIHx8IC9JRU1vYmlsZS9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpIHx8IC9XaW5kb3dzIFBob25lL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgL0JsYWNrQmVycnkvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSB8fCAvQkIxMC9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpIHx8IC9BbmRyb2lkLipNb2JpbGUvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgQWJzdHJhY3RDaG9zZW4uZGVmYXVsdF9tdWx0aXBsZV90ZXh0ID0gXCJTZWxlY3QgU29tZSBPcHRpb25zXCI7XHJcblxyXG4gICAgQWJzdHJhY3RDaG9zZW4uZGVmYXVsdF9zaW5nbGVfdGV4dCA9IFwiU2VsZWN0IGFuIE9wdGlvblwiO1xyXG5cclxuICAgIEFic3RyYWN0Q2hvc2VuLmRlZmF1bHRfbm9fcmVzdWx0X3RleHQgPSBcIk5vIHJlc3VsdHMgbWF0Y2hcIjtcclxuXHJcbiAgICByZXR1cm4gQWJzdHJhY3RDaG9zZW47XHJcblxyXG4gIH0pKCk7XHJcblxyXG4gICQgPSBqUXVlcnk7XHJcblxyXG4gICQuZm4uZXh0ZW5kKHtcclxuICAgIGNob3NlbjogZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgICBpZiAoIUFic3RyYWN0Q2hvc2VuLmJyb3dzZXJfaXNfc3VwcG9ydGVkKCkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGlucHV0X2ZpZWxkKSB7XHJcbiAgICAgICAgdmFyICR0aGlzLCBjaG9zZW47XHJcbiAgICAgICAgJHRoaXMgPSAkKHRoaXMpO1xyXG4gICAgICAgIGNob3NlbiA9ICR0aGlzLmRhdGEoJ2Nob3NlbicpO1xyXG4gICAgICAgIGlmIChvcHRpb25zID09PSAnZGVzdHJveScpIHtcclxuICAgICAgICAgIGlmIChjaG9zZW4gaW5zdGFuY2VvZiBDaG9zZW4pIHtcclxuICAgICAgICAgICAgY2hvc2VuLmRlc3Ryb3koKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCEoY2hvc2VuIGluc3RhbmNlb2YgQ2hvc2VuKSkge1xyXG4gICAgICAgICAgJHRoaXMuZGF0YSgnY2hvc2VuJywgbmV3IENob3Nlbih0aGlzLCBvcHRpb25zKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgQ2hvc2VuID0gKGZ1bmN0aW9uKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKENob3NlbiwgX3N1cGVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBDaG9zZW4oKSB7XHJcbiAgICAgIF9yZWYgPSBDaG9zZW4uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgIHJldHVybiBfcmVmO1xyXG4gICAgfVxyXG5cclxuICAgIENob3Nlbi5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdGhpcy5mb3JtX2ZpZWxkX2pxID0gJCh0aGlzLmZvcm1fZmllbGQpO1xyXG4gICAgICB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRJbmRleCA9IHRoaXMuZm9ybV9maWVsZC5zZWxlY3RlZEluZGV4O1xyXG4gICAgICByZXR1cm4gdGhpcy5pc19ydGwgPSB0aGlzLmZvcm1fZmllbGRfanEuaGFzQ2xhc3MoXCJjaG9zZW4tcnRsXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICBDaG9zZW4ucHJvdG90eXBlLnNldF91cF9odG1sID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBjb250YWluZXJfY2xhc3NlcywgY29udGFpbmVyX3Byb3BzO1xyXG4gICAgICBjb250YWluZXJfY2xhc3NlcyA9IFtcImNob3Nlbi1jb250YWluZXJcIl07XHJcbiAgICAgIGNvbnRhaW5lcl9jbGFzc2VzLnB1c2goXCJjaG9zZW4tY29udGFpbmVyLVwiICsgKHRoaXMuaXNfbXVsdGlwbGUgPyBcIm11bHRpXCIgOiBcInNpbmdsZVwiKSk7XHJcbiAgICAgIGlmICh0aGlzLmluaGVyaXRfc2VsZWN0X2NsYXNzZXMgJiYgdGhpcy5mb3JtX2ZpZWxkLmNsYXNzTmFtZSkge1xyXG4gICAgICAgIGNvbnRhaW5lcl9jbGFzc2VzLnB1c2godGhpcy5mb3JtX2ZpZWxkLmNsYXNzTmFtZSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuaXNfcnRsKSB7XHJcbiAgICAgICAgY29udGFpbmVyX2NsYXNzZXMucHVzaChcImNob3Nlbi1ydGxcIik7XHJcbiAgICAgIH1cclxuICAgICAgY29udGFpbmVyX3Byb3BzID0ge1xyXG4gICAgICAgICdjbGFzcyc6IGNvbnRhaW5lcl9jbGFzc2VzLmpvaW4oJyAnKSxcclxuICAgICAgICAnc3R5bGUnOiBcIndpZHRoOiBcIiArICh0aGlzLmNvbnRhaW5lcl93aWR0aCgpKSArIFwiO1wiLFxyXG4gICAgICAgICd0aXRsZSc6IHRoaXMuZm9ybV9maWVsZC50aXRsZVxyXG4gICAgICB9O1xyXG4gICAgICBpZiAodGhpcy5mb3JtX2ZpZWxkLmlkLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnRhaW5lcl9wcm9wcy5pZCA9IHRoaXMuZm9ybV9maWVsZC5pZC5yZXBsYWNlKC9bXlxcd10vZywgJ18nKSArIFwiX2Nob3NlblwiO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuY29udGFpbmVyID0gJChcIjxkaXYgLz5cIiwgY29udGFpbmVyX3Byb3BzKTtcclxuICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUpIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5odG1sKCc8dWwgY2xhc3M9XCJjaG9zZW4tY2hvaWNlc1wiPjxsaSBjbGFzcz1cInNlYXJjaC1maWVsZFwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIHRoaXMuZGVmYXVsdF90ZXh0ICsgJ1wiIGNsYXNzPVwiZGVmYXVsdFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIHN0eWxlPVwid2lkdGg6MjVweDtcIiAvPjwvbGk+PC91bD48ZGl2IGNsYXNzPVwiY2hvc2VuLWRyb3BcIj48dWwgY2xhc3M9XCJjaG9zZW4tcmVzdWx0c1wiPjwvdWw+PC9kaXY+Jyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuaHRtbCgnPGEgY2xhc3M9XCJjaG9zZW4tc2luZ2xlIGNob3Nlbi1kZWZhdWx0XCI+PHNwYW4+JyArIHRoaXMuZGVmYXVsdF90ZXh0ICsgJzwvc3Bhbj48ZGl2PjxiPjwvYj48L2Rpdj48L2E+PGRpdiBjbGFzcz1cImNob3Nlbi1kcm9wXCI+PGRpdiBjbGFzcz1cImNob3Nlbi1zZWFyY2hcIj48aW5wdXQgdHlwZT1cInRleHRcIiBhdXRvY29tcGxldGU9XCJvZmZcIiAvPjwvZGl2Pjx1bCBjbGFzcz1cImNob3Nlbi1yZXN1bHRzXCI+PC91bD48L2Rpdj4nKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmZvcm1fZmllbGRfanEuaGlkZSgpLmFmdGVyKHRoaXMuY29udGFpbmVyKTtcclxuICAgICAgdGhpcy5kcm9wZG93biA9IHRoaXMuY29udGFpbmVyLmZpbmQoJ2Rpdi5jaG9zZW4tZHJvcCcpLmZpcnN0KCk7XHJcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkID0gdGhpcy5jb250YWluZXIuZmluZCgnaW5wdXQnKS5maXJzdCgpO1xyXG4gICAgICB0aGlzLnNlYXJjaF9yZXN1bHRzID0gdGhpcy5jb250YWluZXIuZmluZCgndWwuY2hvc2VuLXJlc3VsdHMnKS5maXJzdCgpO1xyXG4gICAgICB0aGlzLnNlYXJjaF9maWVsZF9zY2FsZSgpO1xyXG4gICAgICB0aGlzLnNlYXJjaF9ub19yZXN1bHRzID0gdGhpcy5jb250YWluZXIuZmluZCgnbGkubm8tcmVzdWx0cycpLmZpcnN0KCk7XHJcbiAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlKSB7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hfY2hvaWNlcyA9IHRoaXMuY29udGFpbmVyLmZpbmQoJ3VsLmNob3Nlbi1jaG9pY2VzJykuZmlyc3QoKTtcclxuICAgICAgICB0aGlzLnNlYXJjaF9jb250YWluZXIgPSB0aGlzLmNvbnRhaW5lci5maW5kKCdsaS5zZWFyY2gtZmllbGQnKS5maXJzdCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuc2VhcmNoX2NvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLmZpbmQoJ2Rpdi5jaG9zZW4tc2VhcmNoJykuZmlyc3QoKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkX2l0ZW0gPSB0aGlzLmNvbnRhaW5lci5maW5kKCcuY2hvc2VuLXNpbmdsZScpLmZpcnN0KCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5yZXN1bHRzX2J1aWxkKCk7XHJcbiAgICAgIHRoaXMuc2V0X3RhYl9pbmRleCgpO1xyXG4gICAgICByZXR1cm4gdGhpcy5zZXRfbGFiZWxfYmVoYXZpb3IoKTtcclxuICAgIH07XHJcblxyXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5vbl9yZWFkeSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5mb3JtX2ZpZWxkX2pxLnRyaWdnZXIoXCJjaG9zZW46cmVhZHlcIiwge1xyXG4gICAgICAgIGNob3NlbjogdGhpc1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5yZWdpc3Rlcl9vYnNlcnZlcnMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgdGhpcy5jb250YWluZXIuYmluZCgndG91Y2hzdGFydC5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICBfdGhpcy5jb250YWluZXJfbW91c2Vkb3duKGV2dCk7XHJcbiAgICAgICAgcmV0dXJuIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5jb250YWluZXIuYmluZCgndG91Y2hlbmQuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgX3RoaXMuY29udGFpbmVyX21vdXNldXAoZXZ0KTtcclxuICAgICAgICByZXR1cm4gZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmNvbnRhaW5lci5iaW5kKCdtb3VzZWRvd24uY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgX3RoaXMuY29udGFpbmVyX21vdXNlZG93bihldnQpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5jb250YWluZXIuYmluZCgnbW91c2V1cC5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICBfdGhpcy5jb250YWluZXJfbW91c2V1cChldnQpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5jb250YWluZXIuYmluZCgnbW91c2VlbnRlci5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICBfdGhpcy5tb3VzZV9lbnRlcihldnQpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5jb250YWluZXIuYmluZCgnbW91c2VsZWF2ZS5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICBfdGhpcy5tb3VzZV9sZWF2ZShldnQpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5zZWFyY2hfcmVzdWx0cy5iaW5kKCdtb3VzZXVwLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgIF90aGlzLnNlYXJjaF9yZXN1bHRzX21vdXNldXAoZXZ0KTtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuc2VhcmNoX3Jlc3VsdHMuYmluZCgnbW91c2VvdmVyLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgIF90aGlzLnNlYXJjaF9yZXN1bHRzX21vdXNlb3ZlcihldnQpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5zZWFyY2hfcmVzdWx0cy5iaW5kKCdtb3VzZW91dC5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICBfdGhpcy5zZWFyY2hfcmVzdWx0c19tb3VzZW91dChldnQpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5zZWFyY2hfcmVzdWx0cy5iaW5kKCdtb3VzZXdoZWVsLmNob3NlbiBET01Nb3VzZVNjcm9sbC5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICBfdGhpcy5zZWFyY2hfcmVzdWx0c19tb3VzZXdoZWVsKGV2dCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnNlYXJjaF9yZXN1bHRzLmJpbmQoJ3RvdWNoc3RhcnQuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgX3RoaXMuc2VhcmNoX3Jlc3VsdHNfdG91Y2hzdGFydChldnQpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5zZWFyY2hfcmVzdWx0cy5iaW5kKCd0b3VjaG1vdmUuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgX3RoaXMuc2VhcmNoX3Jlc3VsdHNfdG91Y2htb3ZlKGV2dCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnNlYXJjaF9yZXN1bHRzLmJpbmQoJ3RvdWNoZW5kLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgIF90aGlzLnNlYXJjaF9yZXN1bHRzX3RvdWNoZW5kKGV2dCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmZvcm1fZmllbGRfanEuYmluZChcImNob3Nlbjp1cGRhdGVkLmNob3NlblwiLCBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICBfdGhpcy5yZXN1bHRzX3VwZGF0ZV9maWVsZChldnQpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5mb3JtX2ZpZWxkX2pxLmJpbmQoXCJjaG9zZW46YWN0aXZhdGUuY2hvc2VuXCIsIGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgIF90aGlzLmFjdGl2YXRlX2ZpZWxkKGV2dCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmZvcm1fZmllbGRfanEuYmluZChcImNob3NlbjpvcGVuLmNob3NlblwiLCBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICBfdGhpcy5jb250YWluZXJfbW91c2Vkb3duKGV2dCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmZvcm1fZmllbGRfanEuYmluZChcImNob3NlbjpjbG9zZS5jaG9zZW5cIiwgZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgX3RoaXMuaW5wdXRfYmx1cihldnQpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5zZWFyY2hfZmllbGQuYmluZCgnYmx1ci5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICBfdGhpcy5pbnB1dF9ibHVyKGV2dCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnNlYXJjaF9maWVsZC5iaW5kKCdrZXl1cC5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICBfdGhpcy5rZXl1cF9jaGVja2VyKGV2dCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnNlYXJjaF9maWVsZC5iaW5kKCdrZXlkb3duLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgIF90aGlzLmtleWRvd25fY2hlY2tlcihldnQpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5zZWFyY2hfZmllbGQuYmluZCgnZm9jdXMuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgX3RoaXMuaW5wdXRfZm9jdXMoZXZ0KTtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkLmJpbmQoJ2N1dC5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICBfdGhpcy5jbGlwYm9hcmRfZXZlbnRfY2hlY2tlcihldnQpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5zZWFyY2hfZmllbGQuYmluZCgncGFzdGUuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgX3RoaXMuY2xpcGJvYXJkX2V2ZW50X2NoZWNrZXIoZXZ0KTtcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX2Nob2ljZXMuYmluZCgnY2xpY2suY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgICBfdGhpcy5jaG9pY2VzX2NsaWNrKGV2dCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmJpbmQoJ2NsaWNrLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICQodGhpcy5jb250YWluZXJbMF0ub3duZXJEb2N1bWVudCkudW5iaW5kKFwiY2xpY2suY2hvc2VuXCIsIHRoaXMuY2xpY2tfdGVzdF9hY3Rpb24pO1xyXG4gICAgICBpZiAodGhpcy5zZWFyY2hfZmllbGRbMF0udGFiSW5kZXgpIHtcclxuICAgICAgICB0aGlzLmZvcm1fZmllbGRfanFbMF0udGFiSW5kZXggPSB0aGlzLnNlYXJjaF9maWVsZFswXS50YWJJbmRleDtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmUoKTtcclxuICAgICAgdGhpcy5mb3JtX2ZpZWxkX2pxLnJlbW92ZURhdGEoJ2Nob3NlbicpO1xyXG4gICAgICByZXR1cm4gdGhpcy5mb3JtX2ZpZWxkX2pxLnNob3coKTtcclxuICAgIH07XHJcblxyXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfZmllbGRfZGlzYWJsZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdGhpcy5pc19kaXNhYmxlZCA9IHRoaXMuZm9ybV9maWVsZF9qcVswXS5kaXNhYmxlZDtcclxuICAgICAgaWYgKHRoaXMuaXNfZGlzYWJsZWQpIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDbGFzcygnY2hvc2VuLWRpc2FibGVkJyk7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hfZmllbGRbMF0uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGlmICghdGhpcy5pc19tdWx0aXBsZSkge1xyXG4gICAgICAgICAgdGhpcy5zZWxlY3RlZF9pdGVtLnVuYmluZChcImZvY3VzLmNob3NlblwiLCB0aGlzLmFjdGl2YXRlX2FjdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmNsb3NlX2ZpZWxkKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlQ2xhc3MoJ2Nob3Nlbi1kaXNhYmxlZCcpO1xyXG4gICAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkWzBdLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzX211bHRpcGxlKSB7XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZF9pdGVtLmJpbmQoXCJmb2N1cy5jaG9zZW5cIiwgdGhpcy5hY3RpdmF0ZV9hY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBDaG9zZW4ucHJvdG90eXBlLmNvbnRhaW5lcl9tb3VzZWRvd24gPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgaWYgKCF0aGlzLmlzX2Rpc2FibGVkKSB7XHJcbiAgICAgICAgaWYgKGV2dCAmJiBldnQudHlwZSA9PT0gXCJtb3VzZWRvd25cIiAmJiAhdGhpcy5yZXN1bHRzX3Nob3dpbmcpIHtcclxuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoISgoZXZ0ICE9IG51bGwpICYmICgkKGV2dC50YXJnZXQpKS5oYXNDbGFzcyhcInNlYXJjaC1jaG9pY2UtY2xvc2VcIikpKSB7XHJcbiAgICAgICAgICBpZiAoIXRoaXMuYWN0aXZlX2ZpZWxkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5zZWFyY2hfZmllbGQudmFsKFwiXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQodGhpcy5jb250YWluZXJbMF0ub3duZXJEb2N1bWVudCkuYmluZCgnY2xpY2suY2hvc2VuJywgdGhpcy5jbGlja190ZXN0X2FjdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdWx0c19zaG93KCk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmlzX211bHRpcGxlICYmIGV2dCAmJiAoKCQoZXZ0LnRhcmdldClbMF0gPT09IHRoaXMuc2VsZWN0ZWRfaXRlbVswXSkgfHwgJChldnQudGFyZ2V0KS5wYXJlbnRzKFwiYS5jaG9zZW4tc2luZ2xlXCIpLmxlbmd0aCkpIHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdWx0c190b2dnbGUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiB0aGlzLmFjdGl2YXRlX2ZpZWxkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIENob3Nlbi5wcm90b3R5cGUuY29udGFpbmVyX21vdXNldXAgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgaWYgKGV2dC50YXJnZXQubm9kZU5hbWUgPT09IFwiQUJCUlwiICYmICF0aGlzLmlzX2Rpc2FibGVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0c19yZXNldChldnQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIENob3Nlbi5wcm90b3R5cGUuc2VhcmNoX3Jlc3VsdHNfbW91c2V3aGVlbCA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICB2YXIgZGVsdGE7XHJcbiAgICAgIGlmIChldnQub3JpZ2luYWxFdmVudCkge1xyXG4gICAgICAgIGRlbHRhID0gZXZ0Lm9yaWdpbmFsRXZlbnQuZGVsdGFZIHx8IC1ldnQub3JpZ2luYWxFdmVudC53aGVlbERlbHRhIHx8IGV2dC5vcmlnaW5hbEV2ZW50LmRldGFpbDtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZGVsdGEgIT0gbnVsbCkge1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGlmIChldnQudHlwZSA9PT0gJ0RPTU1vdXNlU2Nyb2xsJykge1xyXG4gICAgICAgICAgZGVsdGEgPSBkZWx0YSAqIDQwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2hfcmVzdWx0cy5zY3JvbGxUb3AoZGVsdGEgKyB0aGlzLnNlYXJjaF9yZXN1bHRzLnNjcm9sbFRvcCgpKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBDaG9zZW4ucHJvdG90eXBlLmJsdXJfdGVzdCA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICBpZiAoIXRoaXMuYWN0aXZlX2ZpZWxkICYmIHRoaXMuY29udGFpbmVyLmhhc0NsYXNzKFwiY2hvc2VuLWNvbnRhaW5lci1hY3RpdmVcIikpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jbG9zZV9maWVsZCgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIENob3Nlbi5wcm90b3R5cGUuY2xvc2VfZmllbGQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgJCh0aGlzLmNvbnRhaW5lclswXS5vd25lckRvY3VtZW50KS51bmJpbmQoXCJjbGljay5jaG9zZW5cIiwgdGhpcy5jbGlja190ZXN0X2FjdGlvbik7XHJcbiAgICAgIHRoaXMuYWN0aXZlX2ZpZWxkID0gZmFsc2U7XHJcbiAgICAgIHRoaXMucmVzdWx0c19oaWRlKCk7XHJcbiAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUNsYXNzKFwiY2hvc2VuLWNvbnRhaW5lci1hY3RpdmVcIik7XHJcbiAgICAgIHRoaXMuY2xlYXJfYmFja3N0cm9rZSgpO1xyXG4gICAgICB0aGlzLnNob3dfc2VhcmNoX2ZpZWxkX2RlZmF1bHQoKTtcclxuICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkX3NjYWxlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIENob3Nlbi5wcm90b3R5cGUuYWN0aXZhdGVfZmllbGQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2xhc3MoXCJjaG9zZW4tY29udGFpbmVyLWFjdGl2ZVwiKTtcclxuICAgICAgdGhpcy5hY3RpdmVfZmllbGQgPSB0cnVlO1xyXG4gICAgICB0aGlzLnNlYXJjaF9maWVsZC52YWwodGhpcy5zZWFyY2hfZmllbGQudmFsKCkpO1xyXG4gICAgICByZXR1cm4gdGhpcy5zZWFyY2hfZmllbGQuZm9jdXMoKTtcclxuICAgIH07XHJcblxyXG4gICAgQ2hvc2VuLnByb3RvdHlwZS50ZXN0X2FjdGl2ZV9jbGljayA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICB2YXIgYWN0aXZlX2NvbnRhaW5lcjtcclxuICAgICAgYWN0aXZlX2NvbnRhaW5lciA9ICQoZXZ0LnRhcmdldCkuY2xvc2VzdCgnLmNob3Nlbi1jb250YWluZXInKTtcclxuICAgICAgaWYgKGFjdGl2ZV9jb250YWluZXIubGVuZ3RoICYmIHRoaXMuY29udGFpbmVyWzBdID09PSBhY3RpdmVfY29udGFpbmVyWzBdKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlX2ZpZWxkID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jbG9zZV9maWVsZCgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIENob3Nlbi5wcm90b3R5cGUucmVzdWx0c19idWlsZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB0aGlzLnBhcnNpbmcgPSB0cnVlO1xyXG4gICAgICB0aGlzLnNlbGVjdGVkX29wdGlvbl9jb3VudCA9IG51bGw7XHJcbiAgICAgIHRoaXMucmVzdWx0c19kYXRhID0gU2VsZWN0UGFyc2VyLnNlbGVjdF90b19hcnJheSh0aGlzLmZvcm1fZmllbGQpO1xyXG4gICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSkge1xyXG4gICAgICAgIHRoaXMuc2VhcmNoX2Nob2ljZXMuZmluZChcImxpLnNlYXJjaC1jaG9pY2VcIikucmVtb3ZlKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNfbXVsdGlwbGUpIHtcclxuICAgICAgICB0aGlzLnNpbmdsZV9zZXRfc2VsZWN0ZWRfdGV4dCgpO1xyXG4gICAgICAgIGlmICh0aGlzLmRpc2FibGVfc2VhcmNoIHx8IHRoaXMuZm9ybV9maWVsZC5vcHRpb25zLmxlbmd0aCA8PSB0aGlzLmRpc2FibGVfc2VhcmNoX3RocmVzaG9sZCkge1xyXG4gICAgICAgICAgdGhpcy5zZWFyY2hfZmllbGRbMF0ucmVhZE9ubHkgPSB0cnVlO1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2xhc3MoXCJjaG9zZW4tY29udGFpbmVyLXNpbmdsZS1ub3NlYXJjaFwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5zZWFyY2hfZmllbGRbMF0ucmVhZE9ubHkgPSBmYWxzZTtcclxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUNsYXNzKFwiY2hvc2VuLWNvbnRhaW5lci1zaW5nbGUtbm9zZWFyY2hcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMudXBkYXRlX3Jlc3VsdHNfY29udGVudCh0aGlzLnJlc3VsdHNfb3B0aW9uX2J1aWxkKHtcclxuICAgICAgICBmaXJzdDogdHJ1ZVxyXG4gICAgICB9KSk7XHJcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkX2Rpc2FibGVkKCk7XHJcbiAgICAgIHRoaXMuc2hvd19zZWFyY2hfZmllbGRfZGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLnNlYXJjaF9maWVsZF9zY2FsZSgpO1xyXG4gICAgICByZXR1cm4gdGhpcy5wYXJzaW5nID0gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIENob3Nlbi5wcm90b3R5cGUucmVzdWx0X2RvX2hpZ2hsaWdodCA9IGZ1bmN0aW9uKGVsKSB7XHJcbiAgICAgIHZhciBoaWdoX2JvdHRvbSwgaGlnaF90b3AsIG1heEhlaWdodCwgdmlzaWJsZV9ib3R0b20sIHZpc2libGVfdG9wO1xyXG4gICAgICBpZiAoZWwubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy5yZXN1bHRfY2xlYXJfaGlnaGxpZ2h0KCk7XHJcbiAgICAgICAgdGhpcy5yZXN1bHRfaGlnaGxpZ2h0ID0gZWw7XHJcbiAgICAgICAgdGhpcy5yZXN1bHRfaGlnaGxpZ2h0LmFkZENsYXNzKFwiaGlnaGxpZ2h0ZWRcIik7XHJcbiAgICAgICAgbWF4SGVpZ2h0ID0gcGFyc2VJbnQodGhpcy5zZWFyY2hfcmVzdWx0cy5jc3MoXCJtYXhIZWlnaHRcIiksIDEwKTtcclxuICAgICAgICB2aXNpYmxlX3RvcCA9IHRoaXMuc2VhcmNoX3Jlc3VsdHMuc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgdmlzaWJsZV9ib3R0b20gPSBtYXhIZWlnaHQgKyB2aXNpYmxlX3RvcDtcclxuICAgICAgICBoaWdoX3RvcCA9IHRoaXMucmVzdWx0X2hpZ2hsaWdodC5wb3NpdGlvbigpLnRvcCArIHRoaXMuc2VhcmNoX3Jlc3VsdHMuc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgaGlnaF9ib3R0b20gPSBoaWdoX3RvcCArIHRoaXMucmVzdWx0X2hpZ2hsaWdodC5vdXRlckhlaWdodCgpO1xyXG4gICAgICAgIGlmIChoaWdoX2JvdHRvbSA+PSB2aXNpYmxlX2JvdHRvbSkge1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX3Jlc3VsdHMuc2Nyb2xsVG9wKChoaWdoX2JvdHRvbSAtIG1heEhlaWdodCkgPiAwID8gaGlnaF9ib3R0b20gLSBtYXhIZWlnaHQgOiAwKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGhpZ2hfdG9wIDwgdmlzaWJsZV90b3ApIHtcclxuICAgICAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9yZXN1bHRzLnNjcm9sbFRvcChoaWdoX3RvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIENob3Nlbi5wcm90b3R5cGUucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAodGhpcy5yZXN1bHRfaGlnaGxpZ2h0KSB7XHJcbiAgICAgICAgdGhpcy5yZXN1bHRfaGlnaGxpZ2h0LnJlbW92ZUNsYXNzKFwiaGlnaGxpZ2h0ZWRcIik7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRoaXMucmVzdWx0X2hpZ2hsaWdodCA9IG51bGw7XHJcbiAgICB9O1xyXG5cclxuICAgIENob3Nlbi5wcm90b3R5cGUucmVzdWx0c19zaG93ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlICYmIHRoaXMubWF4X3NlbGVjdGVkX29wdGlvbnMgPD0gdGhpcy5jaG9pY2VzX2NvdW50KCkpIHtcclxuICAgICAgICB0aGlzLmZvcm1fZmllbGRfanEudHJpZ2dlcihcImNob3NlbjptYXhzZWxlY3RlZFwiLCB7XHJcbiAgICAgICAgICBjaG9zZW46IHRoaXNcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2xhc3MoXCJjaG9zZW4td2l0aC1kcm9wXCIpO1xyXG4gICAgICB0aGlzLnJlc3VsdHNfc2hvd2luZyA9IHRydWU7XHJcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkLmZvY3VzKCk7XHJcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkLnZhbCh0aGlzLnNlYXJjaF9maWVsZC52YWwoKSk7XHJcbiAgICAgIHRoaXMud2lubm93X3Jlc3VsdHMoKTtcclxuICAgICAgcmV0dXJuIHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiY2hvc2VuOnNob3dpbmdfZHJvcGRvd25cIiwge1xyXG4gICAgICAgIGNob3NlbjogdGhpc1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgQ2hvc2VuLnByb3RvdHlwZS51cGRhdGVfcmVzdWx0c19jb250ZW50ID0gZnVuY3Rpb24oY29udGVudCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5zZWFyY2hfcmVzdWx0cy5odG1sKGNvbnRlbnQpO1xyXG4gICAgfTtcclxuXHJcbiAgICBDaG9zZW4ucHJvdG90eXBlLnJlc3VsdHNfaGlkZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcpIHtcclxuICAgICAgICB0aGlzLnJlc3VsdF9jbGVhcl9oaWdobGlnaHQoKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImNob3Nlbi13aXRoLWRyb3BcIik7XHJcbiAgICAgICAgdGhpcy5mb3JtX2ZpZWxkX2pxLnRyaWdnZXIoXCJjaG9zZW46aGlkaW5nX2Ryb3Bkb3duXCIsIHtcclxuICAgICAgICAgIGNob3NlbjogdGhpc1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0aGlzLnJlc3VsdHNfc2hvd2luZyA9IGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICBDaG9zZW4ucHJvdG90eXBlLnNldF90YWJfaW5kZXggPSBmdW5jdGlvbihlbCkge1xyXG4gICAgICB2YXIgdGk7XHJcbiAgICAgIGlmICh0aGlzLmZvcm1fZmllbGQudGFiSW5kZXgpIHtcclxuICAgICAgICB0aSA9IHRoaXMuZm9ybV9maWVsZC50YWJJbmRleDtcclxuICAgICAgICB0aGlzLmZvcm1fZmllbGQudGFiSW5kZXggPSAtMTtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2hfZmllbGRbMF0udGFiSW5kZXggPSB0aTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBDaG9zZW4ucHJvdG90eXBlLnNldF9sYWJlbF9iZWhhdmlvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICB0aGlzLmZvcm1fZmllbGRfbGFiZWwgPSB0aGlzLmZvcm1fZmllbGRfanEucGFyZW50cyhcImxhYmVsXCIpO1xyXG4gICAgICBpZiAoIXRoaXMuZm9ybV9maWVsZF9sYWJlbC5sZW5ndGggJiYgdGhpcy5mb3JtX2ZpZWxkLmlkLmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMuZm9ybV9maWVsZF9sYWJlbCA9ICQoXCJsYWJlbFtmb3I9J1wiICsgdGhpcy5mb3JtX2ZpZWxkLmlkICsgXCInXVwiKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5mb3JtX2ZpZWxkX2xhYmVsLmxlbmd0aCA+IDApIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5mb3JtX2ZpZWxkX2xhYmVsLmJpbmQoJ2NsaWNrLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgICAgaWYgKF90aGlzLmlzX211bHRpcGxlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb250YWluZXJfbW91c2Vkb3duKGV2dCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuYWN0aXZhdGVfZmllbGQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBDaG9zZW4ucHJvdG90eXBlLnNob3dfc2VhcmNoX2ZpZWxkX2RlZmF1bHQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUgJiYgdGhpcy5jaG9pY2VzX2NvdW50KCkgPCAxICYmICF0aGlzLmFjdGl2ZV9maWVsZCkge1xyXG4gICAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkLnZhbCh0aGlzLmRlZmF1bHRfdGV4dCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkLmFkZENsYXNzKFwiZGVmYXVsdFwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnNlYXJjaF9maWVsZC52YWwoXCJcIik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkLnJlbW92ZUNsYXNzKFwiZGVmYXVsdFwiKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBDaG9zZW4ucHJvdG90eXBlLnNlYXJjaF9yZXN1bHRzX21vdXNldXAgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgdmFyIHRhcmdldDtcclxuICAgICAgdGFyZ2V0ID0gJChldnQudGFyZ2V0KS5oYXNDbGFzcyhcImFjdGl2ZS1yZXN1bHRcIikgPyAkKGV2dC50YXJnZXQpIDogJChldnQudGFyZ2V0KS5wYXJlbnRzKFwiLmFjdGl2ZS1yZXN1bHRcIikuZmlyc3QoKTtcclxuICAgICAgaWYgKHRhcmdldC5sZW5ndGgpIHtcclxuICAgICAgICB0aGlzLnJlc3VsdF9oaWdobGlnaHQgPSB0YXJnZXQ7XHJcbiAgICAgICAgdGhpcy5yZXN1bHRfc2VsZWN0KGV2dCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkLmZvY3VzKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfcmVzdWx0c19tb3VzZW92ZXIgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgdmFyIHRhcmdldDtcclxuICAgICAgdGFyZ2V0ID0gJChldnQudGFyZ2V0KS5oYXNDbGFzcyhcImFjdGl2ZS1yZXN1bHRcIikgPyAkKGV2dC50YXJnZXQpIDogJChldnQudGFyZ2V0KS5wYXJlbnRzKFwiLmFjdGl2ZS1yZXN1bHRcIikuZmlyc3QoKTtcclxuICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdF9kb19oaWdobGlnaHQodGFyZ2V0KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBDaG9zZW4ucHJvdG90eXBlLnNlYXJjaF9yZXN1bHRzX21vdXNlb3V0ID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgIGlmICgkKGV2dC50YXJnZXQpLmhhc0NsYXNzKFwiYWN0aXZlLXJlc3VsdFwiIHx8ICQoZXZ0LnRhcmdldCkucGFyZW50cygnLmFjdGl2ZS1yZXN1bHQnKS5maXJzdCgpKSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdF9jbGVhcl9oaWdobGlnaHQoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBDaG9zZW4ucHJvdG90eXBlLmNob2ljZV9idWlsZCA9IGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgICAgdmFyIGNob2ljZSwgY2xvc2VfbGluayxcclxuICAgICAgICBfdGhpcyA9IHRoaXM7XHJcbiAgICAgIGNob2ljZSA9ICQoJzxsaSAvPicsIHtcclxuICAgICAgICBcImNsYXNzXCI6IFwic2VhcmNoLWNob2ljZVwiXHJcbiAgICAgIH0pLmh0bWwoXCI8c3Bhbj5cIiArICh0aGlzLmNob2ljZV9sYWJlbChpdGVtKSkgKyBcIjwvc3Bhbj5cIik7XHJcbiAgICAgIGlmIChpdGVtLmRpc2FibGVkKSB7XHJcbiAgICAgICAgY2hvaWNlLmFkZENsYXNzKCdzZWFyY2gtY2hvaWNlLWRpc2FibGVkJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2xvc2VfbGluayA9ICQoJzxhIC8+Jywge1xyXG4gICAgICAgICAgXCJjbGFzc1wiOiAnc2VhcmNoLWNob2ljZS1jbG9zZScsXHJcbiAgICAgICAgICAnZGF0YS1vcHRpb24tYXJyYXktaW5kZXgnOiBpdGVtLmFycmF5X2luZGV4XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY2xvc2VfbGluay5iaW5kKCdjbGljay5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICAgIHJldHVybiBfdGhpcy5jaG9pY2VfZGVzdHJveV9saW5rX2NsaWNrKGV2dCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY2hvaWNlLmFwcGVuZChjbG9zZV9saW5rKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGhpcy5zZWFyY2hfY29udGFpbmVyLmJlZm9yZShjaG9pY2UpO1xyXG4gICAgfTtcclxuXHJcbiAgICBDaG9zZW4ucHJvdG90eXBlLmNob2ljZV9kZXN0cm95X2xpbmtfY2xpY2sgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgaWYgKCF0aGlzLmlzX2Rpc2FibGVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hvaWNlX2Rlc3Ryb3koJChldnQudGFyZ2V0KSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5jaG9pY2VfZGVzdHJveSA9IGZ1bmN0aW9uKGxpbmspIHtcclxuICAgICAgaWYgKHRoaXMucmVzdWx0X2Rlc2VsZWN0KGxpbmtbMF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1vcHRpb24tYXJyYXktaW5kZXhcIikpKSB7XHJcbiAgICAgICAgdGhpcy5zaG93X3NlYXJjaF9maWVsZF9kZWZhdWx0KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUgJiYgdGhpcy5jaG9pY2VzX2NvdW50KCkgPiAwICYmIHRoaXMuc2VhcmNoX2ZpZWxkLnZhbCgpLmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgIHRoaXMucmVzdWx0c19oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxpbmsucGFyZW50cygnbGknKS5maXJzdCgpLnJlbW92ZSgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9maWVsZF9zY2FsZSgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIENob3Nlbi5wcm90b3R5cGUucmVzdWx0c19yZXNldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB0aGlzLnJlc2V0X3NpbmdsZV9zZWxlY3Rfb3B0aW9ucygpO1xyXG4gICAgICB0aGlzLmZvcm1fZmllbGQub3B0aW9uc1swXS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgIHRoaXMuc2luZ2xlX3NldF9zZWxlY3RlZF90ZXh0KCk7XHJcbiAgICAgIHRoaXMuc2hvd19zZWFyY2hfZmllbGRfZGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLnJlc3VsdHNfcmVzZXRfY2xlYW51cCgpO1xyXG4gICAgICB0aGlzLmZvcm1fZmllbGRfanEudHJpZ2dlcihcImNoYW5nZVwiKTtcclxuICAgICAgaWYgKHRoaXMuYWN0aXZlX2ZpZWxkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0c19oaWRlKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5yZXN1bHRzX3Jlc2V0X2NsZWFudXAgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdGhpcy5jdXJyZW50X3NlbGVjdGVkSW5kZXggPSB0aGlzLmZvcm1fZmllbGQuc2VsZWN0ZWRJbmRleDtcclxuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRfaXRlbS5maW5kKFwiYWJiclwiKS5yZW1vdmUoKTtcclxuICAgIH07XHJcblxyXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5yZXN1bHRfc2VsZWN0ID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgIHZhciBoaWdoLCBpdGVtO1xyXG4gICAgICBpZiAodGhpcy5yZXN1bHRfaGlnaGxpZ2h0KSB7XHJcbiAgICAgICAgaGlnaCA9IHRoaXMucmVzdWx0X2hpZ2hsaWdodDtcclxuICAgICAgICB0aGlzLnJlc3VsdF9jbGVhcl9oaWdobGlnaHQoKTtcclxuICAgICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSAmJiB0aGlzLm1heF9zZWxlY3RlZF9vcHRpb25zIDw9IHRoaXMuY2hvaWNlc19jb3VudCgpKSB7XHJcbiAgICAgICAgICB0aGlzLmZvcm1fZmllbGRfanEudHJpZ2dlcihcImNob3NlbjptYXhzZWxlY3RlZFwiLCB7XHJcbiAgICAgICAgICAgIGNob3NlbjogdGhpc1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlKSB7XHJcbiAgICAgICAgICBoaWdoLnJlbW92ZUNsYXNzKFwiYWN0aXZlLXJlc3VsdFwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5yZXNldF9zaW5nbGVfc2VsZWN0X29wdGlvbnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaGlnaC5hZGRDbGFzcyhcInJlc3VsdC1zZWxlY3RlZFwiKTtcclxuICAgICAgICBpdGVtID0gdGhpcy5yZXN1bHRzX2RhdGFbaGlnaFswXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW9wdGlvbi1hcnJheS1pbmRleFwiKV07XHJcbiAgICAgICAgaXRlbS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5mb3JtX2ZpZWxkLm9wdGlvbnNbaXRlbS5vcHRpb25zX2luZGV4XS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZF9vcHRpb25fY291bnQgPSBudWxsO1xyXG4gICAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlKSB7XHJcbiAgICAgICAgICB0aGlzLmNob2ljZV9idWlsZChpdGVtKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5zaW5nbGVfc2V0X3NlbGVjdGVkX3RleHQodGhpcy5jaG9pY2VfbGFiZWwoaXRlbSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoISgoZXZ0Lm1ldGFLZXkgfHwgZXZ0LmN0cmxLZXkpICYmIHRoaXMuaXNfbXVsdGlwbGUpKSB7XHJcbiAgICAgICAgICB0aGlzLnJlc3VsdHNfaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNob3dfc2VhcmNoX2ZpZWxkX2RlZmF1bHQoKTtcclxuICAgICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSB8fCB0aGlzLmZvcm1fZmllbGQuc2VsZWN0ZWRJbmRleCAhPT0gdGhpcy5jdXJyZW50X3NlbGVjdGVkSW5kZXgpIHtcclxuICAgICAgICAgIHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiY2hhbmdlXCIsIHtcclxuICAgICAgICAgICAgJ3NlbGVjdGVkJzogdGhpcy5mb3JtX2ZpZWxkLm9wdGlvbnNbaXRlbS5vcHRpb25zX2luZGV4XS52YWx1ZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VycmVudF9zZWxlY3RlZEluZGV4ID0gdGhpcy5mb3JtX2ZpZWxkLnNlbGVjdGVkSW5kZXg7XHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkX3NjYWxlKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5zaW5nbGVfc2V0X3NlbGVjdGVkX3RleHQgPSBmdW5jdGlvbih0ZXh0KSB7XHJcbiAgICAgIGlmICh0ZXh0ID09IG51bGwpIHtcclxuICAgICAgICB0ZXh0ID0gdGhpcy5kZWZhdWx0X3RleHQ7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRleHQgPT09IHRoaXMuZGVmYXVsdF90ZXh0KSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZF9pdGVtLmFkZENsYXNzKFwiY2hvc2VuLWRlZmF1bHRcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5zaW5nbGVfZGVzZWxlY3RfY29udHJvbF9idWlsZCgpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRfaXRlbS5yZW1vdmVDbGFzcyhcImNob3Nlbi1kZWZhdWx0XCIpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkX2l0ZW0uZmluZChcInNwYW5cIikuaHRtbCh0ZXh0KTtcclxuICAgIH07XHJcblxyXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5yZXN1bHRfZGVzZWxlY3QgPSBmdW5jdGlvbihwb3MpIHtcclxuICAgICAgdmFyIHJlc3VsdF9kYXRhO1xyXG4gICAgICByZXN1bHRfZGF0YSA9IHRoaXMucmVzdWx0c19kYXRhW3Bvc107XHJcbiAgICAgIGlmICghdGhpcy5mb3JtX2ZpZWxkLm9wdGlvbnNbcmVzdWx0X2RhdGEub3B0aW9uc19pbmRleF0uZGlzYWJsZWQpIHtcclxuICAgICAgICByZXN1bHRfZGF0YS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZm9ybV9maWVsZC5vcHRpb25zW3Jlc3VsdF9kYXRhLm9wdGlvbnNfaW5kZXhdLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZF9vcHRpb25fY291bnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCgpO1xyXG4gICAgICAgIGlmICh0aGlzLnJlc3VsdHNfc2hvd2luZykge1xyXG4gICAgICAgICAgdGhpcy53aW5ub3dfcmVzdWx0cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmZvcm1fZmllbGRfanEudHJpZ2dlcihcImNoYW5nZVwiLCB7XHJcbiAgICAgICAgICBkZXNlbGVjdGVkOiB0aGlzLmZvcm1fZmllbGQub3B0aW9uc1tyZXN1bHRfZGF0YS5vcHRpb25zX2luZGV4XS52YWx1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkX3NjYWxlKCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIENob3Nlbi5wcm90b3R5cGUuc2luZ2xlX2Rlc2VsZWN0X2NvbnRyb2xfYnVpbGQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKCF0aGlzLmFsbG93X3NpbmdsZV9kZXNlbGVjdCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRfaXRlbS5maW5kKFwiYWJiclwiKS5sZW5ndGgpIHtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkX2l0ZW0uZmluZChcInNwYW5cIikuZmlyc3QoKS5hZnRlcihcIjxhYmJyIGNsYXNzPVxcXCJzZWFyY2gtY2hvaWNlLWNsb3NlXFxcIj48L2FiYnI+XCIpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkX2l0ZW0uYWRkQ2xhc3MoXCJjaG9zZW4tc2luZ2xlLXdpdGgtZGVzZWxlY3RcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIENob3Nlbi5wcm90b3R5cGUuZ2V0X3NlYXJjaF90ZXh0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiAkKCc8ZGl2Lz4nKS50ZXh0KCQudHJpbSh0aGlzLnNlYXJjaF9maWVsZC52YWwoKSkpLmh0bWwoKTtcclxuICAgIH07XHJcblxyXG4gICAgQ2hvc2VuLnByb3RvdHlwZS53aW5ub3dfcmVzdWx0c19zZXRfaGlnaGxpZ2h0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBkb19oaWdoLCBzZWxlY3RlZF9yZXN1bHRzO1xyXG4gICAgICBzZWxlY3RlZF9yZXN1bHRzID0gIXRoaXMuaXNfbXVsdGlwbGUgPyB0aGlzLnNlYXJjaF9yZXN1bHRzLmZpbmQoXCIucmVzdWx0LXNlbGVjdGVkLmFjdGl2ZS1yZXN1bHRcIikgOiBbXTtcclxuICAgICAgZG9faGlnaCA9IHNlbGVjdGVkX3Jlc3VsdHMubGVuZ3RoID8gc2VsZWN0ZWRfcmVzdWx0cy5maXJzdCgpIDogdGhpcy5zZWFyY2hfcmVzdWx0cy5maW5kKFwiLmFjdGl2ZS1yZXN1bHRcIikuZmlyc3QoKTtcclxuICAgICAgaWYgKGRvX2hpZ2ggIT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdF9kb19oaWdobGlnaHQoZG9faGlnaCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5ub19yZXN1bHRzID0gZnVuY3Rpb24odGVybXMpIHtcclxuICAgICAgdmFyIG5vX3Jlc3VsdHNfaHRtbDtcclxuICAgICAgbm9fcmVzdWx0c19odG1sID0gJCgnPGxpIGNsYXNzPVwibm8tcmVzdWx0c1wiPicgKyB0aGlzLnJlc3VsdHNfbm9uZV9mb3VuZCArICcgXCI8c3Bhbj48L3NwYW4+XCI8L2xpPicpO1xyXG4gICAgICBub19yZXN1bHRzX2h0bWwuZmluZChcInNwYW5cIikuZmlyc3QoKS5odG1sKHRlcm1zKTtcclxuICAgICAgdGhpcy5zZWFyY2hfcmVzdWx0cy5hcHBlbmQobm9fcmVzdWx0c19odG1sKTtcclxuICAgICAgcmV0dXJuIHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiY2hvc2VuOm5vX3Jlc3VsdHNcIiwge1xyXG4gICAgICAgIGNob3NlbjogdGhpc1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5ub19yZXN1bHRzX2NsZWFyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9yZXN1bHRzLmZpbmQoXCIubm8tcmVzdWx0c1wiKS5yZW1vdmUoKTtcclxuICAgIH07XHJcblxyXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5rZXlkb3duX2Fycm93ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBuZXh0X3NpYjtcclxuICAgICAgaWYgKHRoaXMucmVzdWx0c19zaG93aW5nICYmIHRoaXMucmVzdWx0X2hpZ2hsaWdodCkge1xyXG4gICAgICAgIG5leHRfc2liID0gdGhpcy5yZXN1bHRfaGlnaGxpZ2h0Lm5leHRBbGwoXCJsaS5hY3RpdmUtcmVzdWx0XCIpLmZpcnN0KCk7XHJcbiAgICAgICAgaWYgKG5leHRfc2liKSB7XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRfZG9faGlnaGxpZ2h0KG5leHRfc2liKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0c19zaG93KCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5rZXl1cF9hcnJvdyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgcHJldl9zaWJzO1xyXG4gICAgICBpZiAoIXRoaXMucmVzdWx0c19zaG93aW5nICYmICF0aGlzLmlzX211bHRpcGxlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0c19zaG93KCk7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXN1bHRfaGlnaGxpZ2h0KSB7XHJcbiAgICAgICAgcHJldl9zaWJzID0gdGhpcy5yZXN1bHRfaGlnaGxpZ2h0LnByZXZBbGwoXCJsaS5hY3RpdmUtcmVzdWx0XCIpO1xyXG4gICAgICAgIGlmIChwcmV2X3NpYnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRfZG9faGlnaGxpZ2h0KHByZXZfc2licy5maXJzdCgpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKHRoaXMuY2hvaWNlc19jb3VudCgpID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlc3VsdHNfaGlkZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBDaG9zZW4ucHJvdG90eXBlLmtleWRvd25fYmFja3N0cm9rZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgbmV4dF9hdmFpbGFibGVfZGVzdHJveTtcclxuICAgICAgaWYgKHRoaXMucGVuZGluZ19iYWNrc3Ryb2tlKSB7XHJcbiAgICAgICAgdGhpcy5jaG9pY2VfZGVzdHJveSh0aGlzLnBlbmRpbmdfYmFja3N0cm9rZS5maW5kKFwiYVwiKS5maXJzdCgpKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5jbGVhcl9iYWNrc3Ryb2tlKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbmV4dF9hdmFpbGFibGVfZGVzdHJveSA9IHRoaXMuc2VhcmNoX2NvbnRhaW5lci5zaWJsaW5ncyhcImxpLnNlYXJjaC1jaG9pY2VcIikubGFzdCgpO1xyXG4gICAgICAgIGlmIChuZXh0X2F2YWlsYWJsZV9kZXN0cm95Lmxlbmd0aCAmJiAhbmV4dF9hdmFpbGFibGVfZGVzdHJveS5oYXNDbGFzcyhcInNlYXJjaC1jaG9pY2UtZGlzYWJsZWRcIikpIHtcclxuICAgICAgICAgIHRoaXMucGVuZGluZ19iYWNrc3Ryb2tlID0gbmV4dF9hdmFpbGFibGVfZGVzdHJveTtcclxuICAgICAgICAgIGlmICh0aGlzLnNpbmdsZV9iYWNrc3Ryb2tlX2RlbGV0ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5rZXlkb3duX2JhY2tzdHJva2UoKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBlbmRpbmdfYmFja3N0cm9rZS5hZGRDbGFzcyhcInNlYXJjaC1jaG9pY2UtZm9jdXNcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIENob3Nlbi5wcm90b3R5cGUuY2xlYXJfYmFja3N0cm9rZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAodGhpcy5wZW5kaW5nX2JhY2tzdHJva2UpIHtcclxuICAgICAgICB0aGlzLnBlbmRpbmdfYmFja3N0cm9rZS5yZW1vdmVDbGFzcyhcInNlYXJjaC1jaG9pY2UtZm9jdXNcIik7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRoaXMucGVuZGluZ19iYWNrc3Ryb2tlID0gbnVsbDtcclxuICAgIH07XHJcblxyXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5rZXlkb3duX2NoZWNrZXIgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgdmFyIHN0cm9rZSwgX3JlZjE7XHJcbiAgICAgIHN0cm9rZSA9IChfcmVmMSA9IGV2dC53aGljaCkgIT0gbnVsbCA/IF9yZWYxIDogZXZ0LmtleUNvZGU7XHJcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkX3NjYWxlKCk7XHJcbiAgICAgIGlmIChzdHJva2UgIT09IDggJiYgdGhpcy5wZW5kaW5nX2JhY2tzdHJva2UpIHtcclxuICAgICAgICB0aGlzLmNsZWFyX2JhY2tzdHJva2UoKTtcclxuICAgICAgfVxyXG4gICAgICBzd2l0Y2ggKHN0cm9rZSkge1xyXG4gICAgICAgIGNhc2UgODpcclxuICAgICAgICAgIHRoaXMuYmFja3N0cm9rZV9sZW5ndGggPSB0aGlzLnNlYXJjaF9maWVsZC52YWwoKS5sZW5ndGg7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDk6XHJcbiAgICAgICAgICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcgJiYgIXRoaXMuaXNfbXVsdGlwbGUpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXN1bHRfc2VsZWN0KGV2dCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLm1vdXNlX29uX2NvbnRhaW5lciA9IGZhbHNlO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxMzpcclxuICAgICAgICAgIGlmICh0aGlzLnJlc3VsdHNfc2hvd2luZykge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzI6XHJcbiAgICAgICAgICBpZiAodGhpcy5kaXNhYmxlX3NlYXJjaCkge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzg6XHJcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIHRoaXMua2V5dXBfYXJyb3coKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgNDA6XHJcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIHRoaXMua2V5ZG93bl9hcnJvdygpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfZmllbGRfc2NhbGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIGRpdiwgZl93aWR0aCwgaCwgc3R5bGUsIHN0eWxlX2Jsb2NrLCBzdHlsZXMsIHcsIF9pLCBfbGVuO1xyXG4gICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSkge1xyXG4gICAgICAgIGggPSAwO1xyXG4gICAgICAgIHcgPSAwO1xyXG4gICAgICAgIHN0eWxlX2Jsb2NrID0gXCJwb3NpdGlvbjphYnNvbHV0ZTsgbGVmdDogLTEwMDBweDsgdG9wOiAtMTAwMHB4OyBkaXNwbGF5Om5vbmU7XCI7XHJcbiAgICAgICAgc3R5bGVzID0gWydmb250LXNpemUnLCAnZm9udC1zdHlsZScsICdmb250LXdlaWdodCcsICdmb250LWZhbWlseScsICdsaW5lLWhlaWdodCcsICd0ZXh0LXRyYW5zZm9ybScsICdsZXR0ZXItc3BhY2luZyddO1xyXG4gICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gc3R5bGVzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XHJcbiAgICAgICAgICBzdHlsZSA9IHN0eWxlc1tfaV07XHJcbiAgICAgICAgICBzdHlsZV9ibG9jayArPSBzdHlsZSArIFwiOlwiICsgdGhpcy5zZWFyY2hfZmllbGQuY3NzKHN0eWxlKSArIFwiO1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkaXYgPSAkKCc8ZGl2IC8+Jywge1xyXG4gICAgICAgICAgJ3N0eWxlJzogc3R5bGVfYmxvY2tcclxuICAgICAgICB9KTtcclxuICAgICAgICBkaXYudGV4dCh0aGlzLnNlYXJjaF9maWVsZC52YWwoKSk7XHJcbiAgICAgICAgJCgnYm9keScpLmFwcGVuZChkaXYpO1xyXG4gICAgICAgIHcgPSBkaXYud2lkdGgoKSArIDI1O1xyXG4gICAgICAgIGRpdi5yZW1vdmUoKTtcclxuICAgICAgICBmX3dpZHRoID0gdGhpcy5jb250YWluZXIub3V0ZXJXaWR0aCgpO1xyXG4gICAgICAgIGlmICh3ID4gZl93aWR0aCAtIDEwKSB7XHJcbiAgICAgICAgICB3ID0gZl93aWR0aCAtIDEwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2hfZmllbGQuY3NzKHtcclxuICAgICAgICAgICd3aWR0aCc6IHcgKyAncHgnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIENob3NlbjtcclxuXHJcbiAgfSkoQWJzdHJhY3RDaG9zZW4pO1xyXG5cclxufSkuY2FsbCh0aGlzKTtcclxuIiwiLyohXHJcbiAqIGNsaXBib2FyZC5qcyB2MS41LjEyXHJcbiAqIGh0dHBzOi8vemVub3JvY2hhLmdpdGh1Yi5pby9jbGlwYm9hcmQuanNcclxuICpcclxuICogTGljZW5zZWQgTUlUIMKpIFplbm8gUm9jaGFcclxuICovXHJcbihmdW5jdGlvbihmKXtpZih0eXBlb2YgZXhwb3J0cz09PVwib2JqZWN0XCImJnR5cGVvZiBtb2R1bGUhPT1cInVuZGVmaW5lZFwiKXttb2R1bGUuZXhwb3J0cz1mKCl9ZWxzZSBpZih0eXBlb2YgZGVmaW5lPT09XCJmdW5jdGlvblwiJiZkZWZpbmUuYW1kKXtkZWZpbmUoW10sZil9ZWxzZXt2YXIgZztpZih0eXBlb2Ygd2luZG93IT09XCJ1bmRlZmluZWRcIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09XCJ1bmRlZmluZWRcIil7Zz1nbG9iYWx9ZWxzZSBpZih0eXBlb2Ygc2VsZiE9PVwidW5kZWZpbmVkXCIpe2c9c2VsZn1lbHNle2c9dGhpc31nLkNsaXBib2FyZCA9IGYoKX19KShmdW5jdGlvbigpe3ZhciBkZWZpbmUsbW9kdWxlLGV4cG9ydHM7cmV0dXJuIChmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxudmFyIG1hdGNoZXMgPSByZXF1aXJlKCdtYXRjaGVzLXNlbGVjdG9yJylcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGVsZW1lbnQsIHNlbGVjdG9yLCBjaGVja1lvU2VsZikge1xyXG4gIHZhciBwYXJlbnQgPSBjaGVja1lvU2VsZiA/IGVsZW1lbnQgOiBlbGVtZW50LnBhcmVudE5vZGVcclxuXHJcbiAgd2hpbGUgKHBhcmVudCAmJiBwYXJlbnQgIT09IGRvY3VtZW50KSB7XHJcbiAgICBpZiAobWF0Y2hlcyhwYXJlbnQsIHNlbGVjdG9yKSkgcmV0dXJuIHBhcmVudDtcclxuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlXHJcbiAgfVxyXG59XHJcblxyXG59LHtcIm1hdGNoZXMtc2VsZWN0b3JcIjo1fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XHJcbnZhciBjbG9zZXN0ID0gcmVxdWlyZSgnY2xvc2VzdCcpO1xyXG5cclxuLyoqXHJcbiAqIERlbGVnYXRlcyBldmVudCB0byBhIHNlbGVjdG9yLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcclxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdXNlQ2FwdHVyZVxyXG4gKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAqL1xyXG5mdW5jdGlvbiBkZWxlZ2F0ZShlbGVtZW50LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpIHtcclxuICAgIHZhciBsaXN0ZW5lckZuID0gbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHJcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEZpbmRzIGNsb3Nlc3QgbWF0Y2ggYW5kIGludm9rZXMgY2FsbGJhY2suXHJcbiAqXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICogQHJldHVybiB7RnVuY3Rpb259XHJcbiAqL1xyXG5mdW5jdGlvbiBsaXN0ZW5lcihlbGVtZW50LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZS5kZWxlZ2F0ZVRhcmdldCA9IGNsb3Nlc3QoZS50YXJnZXQsIHNlbGVjdG9yLCB0cnVlKTtcclxuXHJcbiAgICAgICAgaWYgKGUuZGVsZWdhdGVUYXJnZXQpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2suY2FsbChlbGVtZW50LCBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZGVsZWdhdGU7XHJcblxyXG59LHtcImNsb3Nlc3RcIjoxfV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIEhUTUwgZWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqL1xyXG5leHBvcnRzLm5vZGUgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWRcclxuICAgICAgICAmJiB2YWx1ZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50XHJcbiAgICAgICAgJiYgdmFsdWUubm9kZVR5cGUgPT09IDE7XHJcbn07XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBsaXN0IG9mIEhUTUwgZWxlbWVudHMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxyXG4gKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gKi9cclxuZXhwb3J0cy5ub2RlTGlzdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICB2YXIgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XHJcblxyXG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWRcclxuICAgICAgICAmJiAodHlwZSA9PT0gJ1tvYmplY3QgTm9kZUxpc3RdJyB8fCB0eXBlID09PSAnW29iamVjdCBIVE1MQ29sbGVjdGlvbl0nKVxyXG4gICAgICAgICYmICgnbGVuZ3RoJyBpbiB2YWx1ZSlcclxuICAgICAgICAmJiAodmFsdWUubGVuZ3RoID09PSAwIHx8IGV4cG9ydHMubm9kZSh2YWx1ZVswXSkpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgc3RyaW5nLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICovXHJcbmV4cG9ydHMuc3RyaW5nID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnXHJcbiAgICAgICAgfHwgdmFsdWUgaW5zdGFuY2VvZiBTdHJpbmc7XHJcbn07XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBmdW5jdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqL1xyXG5leHBvcnRzLmZuID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHZhciB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcclxuXHJcbiAgICByZXR1cm4gdHlwZSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcclxufTtcclxuXHJcbn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xyXG52YXIgaXMgPSByZXF1aXJlKCcuL2lzJyk7XHJcbnZhciBkZWxlZ2F0ZSA9IHJlcXVpcmUoJ2RlbGVnYXRlJyk7XHJcblxyXG4vKipcclxuICogVmFsaWRhdGVzIGFsbCBwYXJhbXMgYW5kIGNhbGxzIHRoZSByaWdodFxyXG4gKiBsaXN0ZW5lciBmdW5jdGlvbiBiYXNlZCBvbiBpdHMgdGFyZ2V0IHR5cGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfEhUTUxFbGVtZW50fEhUTUxDb2xsZWN0aW9ufE5vZGVMaXN0fSB0YXJnZXRcclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICogQHJldHVybiB7T2JqZWN0fVxyXG4gKi9cclxuZnVuY3Rpb24gbGlzdGVuKHRhcmdldCwgdHlwZSwgY2FsbGJhY2spIHtcclxuICAgIGlmICghdGFyZ2V0ICYmICF0eXBlICYmICFjYWxsYmFjaykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCBhcmd1bWVudHMnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzLnN0cmluZyh0eXBlKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpcy5mbihjYWxsYmFjaykpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGlyZCBhcmd1bWVudCBtdXN0IGJlIGEgRnVuY3Rpb24nKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXMubm9kZSh0YXJnZXQpKSB7XHJcbiAgICAgICAgcmV0dXJuIGxpc3Rlbk5vZGUodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpcy5ub2RlTGlzdCh0YXJnZXQpKSB7XHJcbiAgICAgICAgcmV0dXJuIGxpc3Rlbk5vZGVMaXN0KHRhcmdldCwgdHlwZSwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXMuc3RyaW5nKHRhcmdldCkpIHtcclxuICAgICAgICByZXR1cm4gbGlzdGVuU2VsZWN0b3IodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nLCBIVE1MRWxlbWVudCwgSFRNTENvbGxlY3Rpb24sIG9yIE5vZGVMaXN0Jyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBZGRzIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGEgSFRNTCBlbGVtZW50XHJcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICovXHJcbmZ1bmN0aW9uIGxpc3Rlbk5vZGUobm9kZSwgdHlwZSwgY2FsbGJhY2spIHtcclxuICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYSBsaXN0IG9mIEhUTUwgZWxlbWVudHNcclxuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7Tm9kZUxpc3R8SFRNTENvbGxlY3Rpb259IG5vZGVMaXN0XHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICovXHJcbmZ1bmN0aW9uIGxpc3Rlbk5vZGVMaXN0KG5vZGVMaXN0LCB0eXBlLCBjYWxsYmFjaykge1xyXG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChub2RlTGlzdCwgZnVuY3Rpb24obm9kZSkge1xyXG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVMaXN0LCBmdW5jdGlvbihub2RlKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYSBzZWxlY3RvclxyXG4gKiBhbmQgcmV0dXJucyBhIHJlbW92ZSBsaXN0ZW5lciBmdW5jdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICovXHJcbmZ1bmN0aW9uIGxpc3RlblNlbGVjdG9yKHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIGRlbGVnYXRlKGRvY3VtZW50LmJvZHksIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjayk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbGlzdGVuO1xyXG5cclxufSx7XCIuL2lzXCI6MyxcImRlbGVnYXRlXCI6Mn1dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xyXG5cclxuLyoqXHJcbiAqIEVsZW1lbnQgcHJvdG90eXBlLlxyXG4gKi9cclxuXHJcbnZhciBwcm90byA9IEVsZW1lbnQucHJvdG90eXBlO1xyXG5cclxuLyoqXHJcbiAqIFZlbmRvciBmdW5jdGlvbi5cclxuICovXHJcblxyXG52YXIgdmVuZG9yID0gcHJvdG8ubWF0Y2hlc1NlbGVjdG9yXHJcbiAgfHwgcHJvdG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yXHJcbiAgfHwgcHJvdG8ubW96TWF0Y2hlc1NlbGVjdG9yXHJcbiAgfHwgcHJvdG8ubXNNYXRjaGVzU2VsZWN0b3JcclxuICB8fCBwcm90by5vTWF0Y2hlc1NlbGVjdG9yO1xyXG5cclxuLyoqXHJcbiAqIEV4cG9zZSBgbWF0Y2goKWAuXHJcbiAqL1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBtYXRjaDtcclxuXHJcbi8qKlxyXG4gKiBNYXRjaCBgZWxgIHRvIGBzZWxlY3RvcmAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcclxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gbWF0Y2goZWwsIHNlbGVjdG9yKSB7XHJcbiAgaWYgKHZlbmRvcikgcmV0dXJuIHZlbmRvci5jYWxsKGVsLCBzZWxlY3Rvcik7XHJcbiAgdmFyIG5vZGVzID0gZWwucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgKytpKSB7XHJcbiAgICBpZiAobm9kZXNbaV0gPT0gZWwpIHJldHVybiB0cnVlO1xyXG4gIH1cclxuICByZXR1cm4gZmFsc2U7XHJcbn1cclxufSx7fV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XHJcbmZ1bmN0aW9uIHNlbGVjdChlbGVtZW50KSB7XHJcbiAgICB2YXIgc2VsZWN0ZWRUZXh0O1xyXG5cclxuICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSU5QVVQnIHx8IGVsZW1lbnQubm9kZU5hbWUgPT09ICdURVhUQVJFQScpIHtcclxuICAgICAgICBlbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgZWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSgwLCBlbGVtZW50LnZhbHVlLmxlbmd0aCk7XHJcblxyXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IGVsZW1lbnQudmFsdWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcclxuXHJcbiAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGVsZW1lbnQpO1xyXG4gICAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcclxuICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xyXG5cclxuICAgICAgICBzZWxlY3RlZFRleHQgPSBzZWxlY3Rpb24udG9TdHJpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2VsZWN0ZWRUZXh0O1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHNlbGVjdDtcclxuXHJcbn0se31dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xyXG5mdW5jdGlvbiBFICgpIHtcclxuXHQvLyBLZWVwIHRoaXMgZW1wdHkgc28gaXQncyBlYXNpZXIgdG8gaW5oZXJpdCBmcm9tXHJcbiAgLy8gKHZpYSBodHRwczovL2dpdGh1Yi5jb20vbGlwc21hY2sgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRjb3JnYW4vdGlueS1lbWl0dGVyL2lzc3Vlcy8zKVxyXG59XHJcblxyXG5FLnByb3RvdHlwZSA9IHtcclxuXHRvbjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcclxuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XHJcblxyXG4gICAgKGVbbmFtZV0gfHwgKGVbbmFtZV0gPSBbXSkpLnB1c2goe1xyXG4gICAgICBmbjogY2FsbGJhY2ssXHJcbiAgICAgIGN0eDogY3R4XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG5cclxuICBvbmNlOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgZnVuY3Rpb24gbGlzdGVuZXIgKCkge1xyXG4gICAgICBzZWxmLm9mZihuYW1lLCBsaXN0ZW5lcik7XHJcbiAgICAgIGNhbGxiYWNrLmFwcGx5KGN0eCwgYXJndW1lbnRzKTtcclxuICAgIH07XHJcblxyXG4gICAgbGlzdGVuZXIuXyA9IGNhbGxiYWNrXHJcbiAgICByZXR1cm4gdGhpcy5vbihuYW1lLCBsaXN0ZW5lciwgY3R4KTtcclxuICB9LFxyXG5cclxuICBlbWl0OiBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgdmFyIGRhdGEgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcbiAgICB2YXIgZXZ0QXJyID0gKCh0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KSlbbmFtZV0gfHwgW10pLnNsaWNlKCk7XHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICB2YXIgbGVuID0gZXZ0QXJyLmxlbmd0aDtcclxuXHJcbiAgICBmb3IgKGk7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICBldnRBcnJbaV0uZm4uYXBwbHkoZXZ0QXJyW2ldLmN0eCwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSxcclxuXHJcbiAgb2ZmOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHtcclxuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XHJcbiAgICB2YXIgZXZ0cyA9IGVbbmFtZV07XHJcbiAgICB2YXIgbGl2ZUV2ZW50cyA9IFtdO1xyXG5cclxuICAgIGlmIChldnRzICYmIGNhbGxiYWNrKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBldnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGV2dHNbaV0uZm4gIT09IGNhbGxiYWNrICYmIGV2dHNbaV0uZm4uXyAhPT0gY2FsbGJhY2spXHJcbiAgICAgICAgICBsaXZlRXZlbnRzLnB1c2goZXZ0c1tpXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZW1vdmUgZXZlbnQgZnJvbSBxdWV1ZSB0byBwcmV2ZW50IG1lbW9yeSBsZWFrXHJcbiAgICAvLyBTdWdnZXN0ZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2xhemRcclxuICAgIC8vIFJlZjogaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0Y29yZ2FuL3RpbnktZW1pdHRlci9jb21taXQvYzZlYmZhYTliYzk3M2IzM2QxMTBhODRhMzA3NzQyYjdjZjk0Yzk1MyNjb21taXRjb21tZW50LTUwMjQ5MTBcclxuXHJcbiAgICAobGl2ZUV2ZW50cy5sZW5ndGgpXHJcbiAgICAgID8gZVtuYW1lXSA9IGxpdmVFdmVudHNcclxuICAgICAgOiBkZWxldGUgZVtuYW1lXTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEU7XHJcblxyXG59LHt9XSw4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcclxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgICAgIGRlZmluZShbJ21vZHVsZScsICdzZWxlY3QnXSwgZmFjdG9yeSk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgZmFjdG9yeShtb2R1bGUsIHJlcXVpcmUoJ3NlbGVjdCcpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIG1vZCA9IHtcclxuICAgICAgICAgICAgZXhwb3J0czoge31cclxuICAgICAgICB9O1xyXG4gICAgICAgIGZhY3RvcnkobW9kLCBnbG9iYWwuc2VsZWN0KTtcclxuICAgICAgICBnbG9iYWwuY2xpcGJvYXJkQWN0aW9uID0gbW9kLmV4cG9ydHM7XHJcbiAgICB9XHJcbn0pKHRoaXMsIGZ1bmN0aW9uIChtb2R1bGUsIF9zZWxlY3QpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgX3NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3QpO1xyXG5cclxuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogb2JqXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xyXG4gICAgfSA6IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XHJcbiAgICAgICAgICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XHJcbiAgICAgICAgICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xyXG4gICAgICAgICAgICByZXR1cm4gQ29uc3RydWN0b3I7XHJcbiAgICAgICAgfTtcclxuICAgIH0oKTtcclxuXHJcbiAgICB2YXIgQ2xpcGJvYXJkQWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICAgICAgICovXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIENsaXBib2FyZEFjdGlvbihvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGlwYm9hcmRBY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlT3B0aW9ucyhvcHRpb25zKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBEZWZpbmVzIGJhc2UgcHJvcGVydGllcyBwYXNzZWQgZnJvbSBjb25zdHJ1Y3Rvci5cclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xyXG4gICAgICAgICAqL1xyXG5cclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5yZXNvbHZlT3B0aW9ucyA9IGZ1bmN0aW9uIHJlc29sdmVPcHRpb25zKCkge1xyXG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSBvcHRpb25zLmFjdGlvbjtcclxuICAgICAgICAgICAgdGhpcy5lbWl0dGVyID0gb3B0aW9ucy5lbWl0dGVyO1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IG9wdGlvbnMudGFyZ2V0O1xyXG4gICAgICAgICAgICB0aGlzLnRleHQgPSBvcHRpb25zLnRleHQ7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlciA9IG9wdGlvbnMudHJpZ2dlcjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gJyc7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5pbml0U2VsZWN0aW9uID0gZnVuY3Rpb24gaW5pdFNlbGVjdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RGYWtlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy50YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0VGFyZ2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLnNlbGVjdEZha2UgPSBmdW5jdGlvbiBzZWxlY3RGYWtlKCkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgdmFyIGlzUlRMID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGlyJykgPT0gJ3J0bCc7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZha2UoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5yZW1vdmVGYWtlKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXIgPSBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrKSB8fCB0cnVlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XHJcbiAgICAgICAgICAgIC8vIFByZXZlbnQgem9vbWluZyBvbiBpT1NcclxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5mb250U2l6ZSA9ICcxMnB0JztcclxuICAgICAgICAgICAgLy8gUmVzZXQgYm94IG1vZGVsXHJcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUuYm9yZGVyID0gJzAnO1xyXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnBhZGRpbmcgPSAnMCc7XHJcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUubWFyZ2luID0gJzAnO1xyXG4gICAgICAgICAgICAvLyBNb3ZlIGVsZW1lbnQgb3V0IG9mIHNjcmVlbiBob3Jpem9udGFsbHlcclxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGVbaXNSVEwgPyAncmlnaHQnIDogJ2xlZnQnXSA9ICctOTk5OXB4JztcclxuICAgICAgICAgICAgLy8gTW92ZSBlbGVtZW50IHRvIHRoZSBzYW1lIHBvc2l0aW9uIHZlcnRpY2FsbHlcclxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS50b3AgPSAod2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApICsgJ3B4JztcclxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJycpO1xyXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnZhbHVlID0gdGhpcy50ZXh0O1xyXG5cclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmZha2VFbGVtKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gKDAsIF9zZWxlY3QyLmRlZmF1bHQpKHRoaXMuZmFrZUVsZW0pO1xyXG4gICAgICAgICAgICB0aGlzLmNvcHlUZXh0KCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5yZW1vdmVGYWtlID0gZnVuY3Rpb24gcmVtb3ZlRmFrZSgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZmFrZUhhbmRsZXIpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2sgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5mYWtlRWxlbSkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmZha2VFbGVtKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5zZWxlY3RUYXJnZXQgPSBmdW5jdGlvbiBzZWxlY3RUYXJnZXQoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gKDAsIF9zZWxlY3QyLmRlZmF1bHQpKHRoaXMudGFyZ2V0KTtcclxuICAgICAgICAgICAgdGhpcy5jb3B5VGV4dCgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUuY29weVRleHQgPSBmdW5jdGlvbiBjb3B5VGV4dCgpIHtcclxuICAgICAgICAgICAgdmFyIHN1Y2NlZWRlZCA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZWVkZWQgPSBkb2N1bWVudC5leGVjQ29tbWFuZCh0aGlzLmFjdGlvbik7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VlZGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVzdWx0KHN1Y2NlZWRlZCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5oYW5kbGVSZXN1bHQgPSBmdW5jdGlvbiBoYW5kbGVSZXN1bHQoc3VjY2VlZGVkKSB7XHJcbiAgICAgICAgICAgIGlmIChzdWNjZWVkZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdHRlci5lbWl0KCdzdWNjZXNzJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGhpcy5zZWxlY3RlZFRleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogdGhpcy50cmlnZ2VyLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyU2VsZWN0aW9uOiB0aGlzLmNsZWFyU2VsZWN0aW9uLmJpbmQodGhpcylcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0dGVyLmVtaXQoJ2Vycm9yJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogdGhpcy50cmlnZ2VyLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyU2VsZWN0aW9uOiB0aGlzLmNsZWFyU2VsZWN0aW9uLmJpbmQodGhpcylcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5jbGVhclNlbGVjdGlvbiA9IGZ1bmN0aW9uIGNsZWFyU2VsZWN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LmJsdXIoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRmFrZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF9jcmVhdGVDbGFzcyhDbGlwYm9hcmRBY3Rpb24sIFt7XHJcbiAgICAgICAgICAgIGtleTogJ2FjdGlvbicsXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/ICdjb3B5JyA6IGFyZ3VtZW50c1swXTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hY3Rpb24gPSBhY3Rpb247XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGlvbiAhPT0gJ2NvcHknICYmIHRoaXMuX2FjdGlvbiAhPT0gJ2N1dCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJhY3Rpb25cIiB2YWx1ZSwgdXNlIGVpdGhlciBcImNvcHlcIiBvciBcImN1dFwiJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAga2V5OiAndGFyZ2V0JyxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICYmICh0eXBlb2YgdGFyZ2V0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih0YXJnZXQpKSA9PT0gJ29iamVjdCcgJiYgdGFyZ2V0Lm5vZGVUeXBlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGlvbiA9PT0gJ2NvcHknICYmIHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcInRhcmdldFwiIGF0dHJpYnV0ZS4gUGxlYXNlIHVzZSBcInJlYWRvbmx5XCIgaW5zdGVhZCBvZiBcImRpc2FibGVkXCIgYXR0cmlidXRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGlvbiA9PT0gJ2N1dCcgJiYgKHRhcmdldC5oYXNBdHRyaWJ1dGUoJ3JlYWRvbmx5JykgfHwgdGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcInRhcmdldFwiIGF0dHJpYnV0ZS4gWW91IGNhblxcJ3QgY3V0IHRleHQgZnJvbSBlbGVtZW50cyB3aXRoIFwicmVhZG9ubHlcIiBvciBcImRpc2FibGVkXCIgYXR0cmlidXRlcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgdmFsdWUsIHVzZSBhIHZhbGlkIEVsZW1lbnQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIENsaXBib2FyZEFjdGlvbjtcclxuICAgIH0oKTtcclxuXHJcbiAgICBtb2R1bGUuZXhwb3J0cyA9IENsaXBib2FyZEFjdGlvbjtcclxufSk7XHJcblxyXG59LHtcInNlbGVjdFwiOjZ9XSw5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcclxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgICAgIGRlZmluZShbJ21vZHVsZScsICcuL2NsaXBib2FyZC1hY3Rpb24nLCAndGlueS1lbWl0dGVyJywgJ2dvb2QtbGlzdGVuZXInXSwgZmFjdG9yeSk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgZmFjdG9yeShtb2R1bGUsIHJlcXVpcmUoJy4vY2xpcGJvYXJkLWFjdGlvbicpLCByZXF1aXJlKCd0aW55LWVtaXR0ZXInKSwgcmVxdWlyZSgnZ29vZC1saXN0ZW5lcicpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIG1vZCA9IHtcclxuICAgICAgICAgICAgZXhwb3J0czoge31cclxuICAgICAgICB9O1xyXG4gICAgICAgIGZhY3RvcnkobW9kLCBnbG9iYWwuY2xpcGJvYXJkQWN0aW9uLCBnbG9iYWwudGlueUVtaXR0ZXIsIGdsb2JhbC5nb29kTGlzdGVuZXIpO1xyXG4gICAgICAgIGdsb2JhbC5jbGlwYm9hcmQgPSBtb2QuZXhwb3J0cztcclxuICAgIH1cclxufSkodGhpcywgZnVuY3Rpb24gKG1vZHVsZSwgX2NsaXBib2FyZEFjdGlvbiwgX3RpbnlFbWl0dGVyLCBfZ29vZExpc3RlbmVyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIF9jbGlwYm9hcmRBY3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xpcGJvYXJkQWN0aW9uKTtcclxuXHJcbiAgICB2YXIgX3RpbnlFbWl0dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RpbnlFbWl0dGVyKTtcclxuXHJcbiAgICB2YXIgX2dvb2RMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nb29kTGlzdGVuZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogb2JqXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xyXG4gICAgICAgIGlmICghc2VsZikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XHJcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yOiB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIENsaXBib2FyZCA9IGZ1bmN0aW9uIChfRW1pdHRlcikge1xyXG4gICAgICAgIF9pbmhlcml0cyhDbGlwYm9hcmQsIF9FbWl0dGVyKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8SFRNTENvbGxlY3Rpb258Tm9kZUxpc3R9IHRyaWdnZXJcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xyXG4gICAgICAgICAqL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBDbGlwYm9hcmQodHJpZ2dlciwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xpcGJvYXJkKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FbWl0dGVyLmNhbGwodGhpcykpO1xyXG5cclxuICAgICAgICAgICAgX3RoaXMucmVzb2x2ZU9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICAgICAgICAgIF90aGlzLmxpc3RlbkNsaWNrKHRyaWdnZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBEZWZpbmVzIGlmIGF0dHJpYnV0ZXMgd291bGQgYmUgcmVzb2x2ZWQgdXNpbmcgaW50ZXJuYWwgc2V0dGVyIGZ1bmN0aW9uc1xyXG4gICAgICAgICAqIG9yIGN1c3RvbSBmdW5jdGlvbnMgdGhhdCB3ZXJlIHBhc3NlZCBpbiB0aGUgY29uc3RydWN0b3IuXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcclxuICAgICAgICAgKi9cclxuXHJcblxyXG4gICAgICAgIENsaXBib2FyZC5wcm90b3R5cGUucmVzb2x2ZU9wdGlvbnMgPSBmdW5jdGlvbiByZXNvbHZlT3B0aW9ucygpIHtcclxuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gdHlwZW9mIG9wdGlvbnMuYWN0aW9uID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy5hY3Rpb24gOiB0aGlzLmRlZmF1bHRBY3Rpb247XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdHlwZW9mIG9wdGlvbnMudGFyZ2V0ID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy50YXJnZXQgOiB0aGlzLmRlZmF1bHRUYXJnZXQ7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dCA9IHR5cGVvZiBvcHRpb25zLnRleHQgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLnRleHQgOiB0aGlzLmRlZmF1bHRUZXh0O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENsaXBib2FyZC5wcm90b3R5cGUubGlzdGVuQ2xpY2sgPSBmdW5jdGlvbiBsaXN0ZW5DbGljayh0cmlnZ2VyKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lciA9ICgwLCBfZ29vZExpc3RlbmVyMi5kZWZhdWx0KSh0cmlnZ2VyLCAnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkNsaWNrKGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmQucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcclxuICAgICAgICAgICAgdmFyIHRyaWdnZXIgPSBlLmRlbGVnYXRlVGFyZ2V0IHx8IGUuY3VycmVudFRhcmdldDtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNsaXBib2FyZEFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG5ldyBfY2xpcGJvYXJkQWN0aW9uMi5kZWZhdWx0KHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24odHJpZ2dlciksXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMudGFyZ2V0KHRyaWdnZXIpLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogdGhpcy50ZXh0KHRyaWdnZXIpLFxyXG4gICAgICAgICAgICAgICAgdHJpZ2dlcjogdHJpZ2dlcixcclxuICAgICAgICAgICAgICAgIGVtaXR0ZXI6IHRoaXNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5kZWZhdWx0QWN0aW9uID0gZnVuY3Rpb24gZGVmYXVsdEFjdGlvbih0cmlnZ2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnZXRBdHRyaWJ1dGVWYWx1ZSgnYWN0aW9uJywgdHJpZ2dlcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5kZWZhdWx0VGFyZ2V0ID0gZnVuY3Rpb24gZGVmYXVsdFRhcmdldCh0cmlnZ2VyKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IGdldEF0dHJpYnV0ZVZhbHVlKCd0YXJnZXQnLCB0cmlnZ2VyKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZWxlY3Rvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5kZWZhdWx0VGV4dCA9IGZ1bmN0aW9uIGRlZmF1bHRUZXh0KHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdldEF0dHJpYnV0ZVZhbHVlKCd0ZXh0JywgdHJpZ2dlcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5kZXN0cm95KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5jbGlwYm9hcmRBY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBDbGlwYm9hcmQ7XHJcbiAgICB9KF90aW55RW1pdHRlcjIuZGVmYXVsdCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gcmV0cmlldmUgYXR0cmlidXRlIHZhbHVlLlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN1ZmZpeFxyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldEF0dHJpYnV0ZVZhbHVlKHN1ZmZpeCwgZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBhdHRyaWJ1dGUgPSAnZGF0YS1jbGlwYm9hcmQtJyArIHN1ZmZpeDtcclxuXHJcbiAgICAgICAgaWYgKCFlbGVtZW50Lmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZS5leHBvcnRzID0gQ2xpcGJvYXJkO1xyXG59KTtcclxuXHJcbn0se1wiLi9jbGlwYm9hcmQtYWN0aW9uXCI6OCxcImdvb2QtbGlzdGVuZXJcIjo0LFwidGlueS1lbWl0dGVyXCI6N31dfSx7fSxbOV0pKDkpXHJcbn0pOyIsIiggZnVuY3Rpb24oIHdpbmRvdywgdW5kZWZpbmVkICkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0ICogSGFuZGxlcyBtYW5hZ2luZyBhbGwgZXZlbnRzIGZvciB3aGF0ZXZlciB5b3UgcGx1ZyBpdCBpbnRvLiBQcmlvcml0aWVzIGZvciBob29rcyBhcmUgYmFzZWQgb24gbG93ZXN0IHRvIGhpZ2hlc3QgaW5cclxuXHQgKiB0aGF0LCBsb3dlc3QgcHJpb3JpdHkgaG9va3MgYXJlIGZpcmVkIGZpcnN0LlxyXG5cdCAqL1xyXG5cdHZhciBFdmVudE1hbmFnZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBNYWludGFpbiBhIHJlZmVyZW5jZSB0byB0aGUgb2JqZWN0IHNjb3BlIHNvIG91ciBwdWJsaWMgbWV0aG9kcyBuZXZlciBnZXQgY29uZnVzaW5nLlxyXG5cdFx0ICovXHJcblx0XHR2YXIgTWV0aG9kc0F2YWlsYWJsZSA9IHtcclxuXHRcdFx0cmVtb3ZlRmlsdGVyIDogcmVtb3ZlRmlsdGVyLFxyXG5cdFx0XHRhcHBseUZpbHRlcnMgOiBhcHBseUZpbHRlcnMsXHJcblx0XHRcdGFkZEZpbHRlciA6IGFkZEZpbHRlcixcclxuXHRcdFx0cmVtb3ZlQWN0aW9uIDogcmVtb3ZlQWN0aW9uLFxyXG5cdFx0XHRkb0FjdGlvbiA6IGRvQWN0aW9uLFxyXG5cdFx0XHRhZGRBY3Rpb24gOiBhZGRBY3Rpb25cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDb250YWlucyB0aGUgaG9va3MgdGhhdCBnZXQgcmVnaXN0ZXJlZCB3aXRoIHRoaXMgRXZlbnRNYW5hZ2VyLiBUaGUgYXJyYXkgZm9yIHN0b3JhZ2UgdXRpbGl6ZXMgYSBcImZsYXRcIlxyXG5cdFx0ICogb2JqZWN0IGxpdGVyYWwgc3VjaCB0aGF0IGxvb2tpbmcgdXAgdGhlIGhvb2sgdXRpbGl6ZXMgdGhlIG5hdGl2ZSBvYmplY3QgbGl0ZXJhbCBoYXNoLlxyXG5cdFx0ICovXHJcblx0XHR2YXIgU1RPUkFHRSA9IHtcclxuXHRcdFx0YWN0aW9ucyA6IHt9LFxyXG5cdFx0XHRmaWx0ZXJzIDoge31cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBZGRzIGFuIGFjdGlvbiB0byB0aGUgZXZlbnQgbWFuYWdlci5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gYWN0aW9uIE11c3QgY29udGFpbiBuYW1lc3BhY2UuaWRlbnRpZmllclxyXG5cdFx0ICogQHBhcmFtIGNhbGxiYWNrIE11c3QgYmUgYSB2YWxpZCBjYWxsYmFjayBmdW5jdGlvbiBiZWZvcmUgdGhpcyBhY3Rpb24gaXMgYWRkZWRcclxuXHRcdCAqIEBwYXJhbSBbcHJpb3JpdHk9MTBdIFVzZWQgdG8gY29udHJvbCB3aGVuIHRoZSBmdW5jdGlvbiBpcyBleGVjdXRlZCBpbiByZWxhdGlvbiB0byBvdGhlciBjYWxsYmFja3MgYm91bmQgdG8gdGhlIHNhbWUgaG9va1xyXG5cdFx0ICogQHBhcmFtIFtjb250ZXh0XSBTdXBwbHkgYSB2YWx1ZSB0byBiZSB1c2VkIGZvciB0aGlzXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIGFkZEFjdGlvbiggYWN0aW9uLCBjYWxsYmFjaywgcHJpb3JpdHksIGNvbnRleHQgKSB7XHJcblx0XHRcdGlmKCB0eXBlb2YgYWN0aW9uID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicgKSB7XHJcblx0XHRcdFx0cHJpb3JpdHkgPSBwYXJzZUludCggKCBwcmlvcml0eSB8fCAxMCApLCAxMCApO1xyXG5cdFx0XHRcdF9hZGRIb29rKCAnYWN0aW9ucycsIGFjdGlvbiwgY2FsbGJhY2ssIHByaW9yaXR5LCBjb250ZXh0ICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBNZXRob2RzQXZhaWxhYmxlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUGVyZm9ybXMgYW4gYWN0aW9uIGlmIGl0IGV4aXN0cy4gWW91IGNhbiBwYXNzIGFzIG1hbnkgYXJndW1lbnRzIGFzIHlvdSB3YW50IHRvIHRoaXMgZnVuY3Rpb247IHRoZSBvbmx5IHJ1bGUgaXNcclxuXHRcdCAqIHRoYXQgdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYWx3YXlzIGJlIHRoZSBhY3Rpb24uXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIGRvQWN0aW9uKCAvKiBhY3Rpb24sIGFyZzEsIGFyZzIsIC4uLiAqLyApIHtcclxuXHRcdFx0dmFyIGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKTtcclxuXHRcdFx0dmFyIGFjdGlvbiA9IGFyZ3Muc2hpZnQoKTtcclxuXHJcblx0XHRcdGlmKCB0eXBlb2YgYWN0aW9uID09PSAnc3RyaW5nJyApIHtcclxuXHRcdFx0XHRfcnVuSG9vayggJ2FjdGlvbnMnLCBhY3Rpb24sIGFyZ3MgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgYWN0aW9uIGlmIGl0IGNvbnRhaW5zIGEgbmFtZXNwYWNlLmlkZW50aWZpZXIgJiBleGlzdHMuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIGFjdGlvbiBUaGUgYWN0aW9uIHRvIHJlbW92ZVxyXG5cdFx0ICogQHBhcmFtIFtjYWxsYmFja10gQ2FsbGJhY2sgZnVuY3Rpb24gdG8gcmVtb3ZlXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIHJlbW92ZUFjdGlvbiggYWN0aW9uLCBjYWxsYmFjayApIHtcclxuXHRcdFx0aWYoIHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnICkge1xyXG5cdFx0XHRcdF9yZW1vdmVIb29rKCAnYWN0aW9ucycsIGFjdGlvbiwgY2FsbGJhY2sgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBZGRzIGEgZmlsdGVyIHRvIHRoZSBldmVudCBtYW5hZ2VyLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBmaWx0ZXIgTXVzdCBjb250YWluIG5hbWVzcGFjZS5pZGVudGlmaWVyXHJcblx0XHQgKiBAcGFyYW0gY2FsbGJhY2sgTXVzdCBiZSBhIHZhbGlkIGNhbGxiYWNrIGZ1bmN0aW9uIGJlZm9yZSB0aGlzIGFjdGlvbiBpcyBhZGRlZFxyXG5cdFx0ICogQHBhcmFtIFtwcmlvcml0eT0xMF0gVXNlZCB0byBjb250cm9sIHdoZW4gdGhlIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIGluIHJlbGF0aW9uIHRvIG90aGVyIGNhbGxiYWNrcyBib3VuZCB0byB0aGUgc2FtZSBob29rXHJcblx0XHQgKiBAcGFyYW0gW2NvbnRleHRdIFN1cHBseSBhIHZhbHVlIHRvIGJlIHVzZWQgZm9yIHRoaXNcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gYWRkRmlsdGVyKCBmaWx0ZXIsIGNhbGxiYWNrLCBwcmlvcml0eSwgY29udGV4dCApIHtcclxuXHRcdFx0aWYoIHR5cGVvZiBmaWx0ZXIgPT09ICdzdHJpbmcnICYmIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyApIHtcclxuXHRcdFx0XHRwcmlvcml0eSA9IHBhcnNlSW50KCAoIHByaW9yaXR5IHx8IDEwICksIDEwICk7XHJcblx0XHRcdFx0X2FkZEhvb2soICdmaWx0ZXJzJywgZmlsdGVyLCBjYWxsYmFjaywgcHJpb3JpdHksIGNvbnRleHQgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBQZXJmb3JtcyBhIGZpbHRlciBpZiBpdCBleGlzdHMuIFlvdSBzaG91bGQgb25seSBldmVyIHBhc3MgMSBhcmd1bWVudCB0byBiZSBmaWx0ZXJlZC4gVGhlIG9ubHkgcnVsZSBpcyB0aGF0XHJcblx0XHQgKiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBhbHdheXMgYmUgdGhlIGZpbHRlci5cclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gYXBwbHlGaWx0ZXJzKCAvKiBmaWx0ZXIsIGZpbHRlcmVkIGFyZywgYXJnMiwgLi4uICovICkge1xyXG5cdFx0XHR2YXIgYXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApO1xyXG5cdFx0XHR2YXIgZmlsdGVyID0gYXJncy5zaGlmdCgpO1xyXG5cclxuXHRcdFx0aWYoIHR5cGVvZiBmaWx0ZXIgPT09ICdzdHJpbmcnICkge1xyXG5cdFx0XHRcdHJldHVybiBfcnVuSG9vayggJ2ZpbHRlcnMnLCBmaWx0ZXIsIGFyZ3MgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgZmlsdGVyIGlmIGl0IGNvbnRhaW5zIGEgbmFtZXNwYWNlLmlkZW50aWZpZXIgJiBleGlzdHMuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIGZpbHRlciBUaGUgYWN0aW9uIHRvIHJlbW92ZVxyXG5cdFx0ICogQHBhcmFtIFtjYWxsYmFja10gQ2FsbGJhY2sgZnVuY3Rpb24gdG8gcmVtb3ZlXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIHJlbW92ZUZpbHRlciggZmlsdGVyLCBjYWxsYmFjayApIHtcclxuXHRcdFx0aWYoIHR5cGVvZiBmaWx0ZXIgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0X3JlbW92ZUhvb2soICdmaWx0ZXJzJywgZmlsdGVyLCBjYWxsYmFjayApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBob29rIGJ5IHJlc2V0dGluZyB0aGUgdmFsdWUgb2YgaXQuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHR5cGUgVHlwZSBvZiBob29rLCBlaXRoZXIgJ2FjdGlvbnMnIG9yICdmaWx0ZXJzJ1xyXG5cdFx0ICogQHBhcmFtIGhvb2sgVGhlIGhvb2sgKG5hbWVzcGFjZS5pZGVudGlmaWVyKSB0byByZW1vdmVcclxuXHRcdCAqIEBwcml2YXRlXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIF9yZW1vdmVIb29rKCB0eXBlLCBob29rLCBjYWxsYmFjaywgY29udGV4dCApIHtcclxuXHRcdFx0dmFyIGhhbmRsZXJzLCBoYW5kbGVyLCBpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKCAhU1RPUkFHRVsgdHlwZSBdWyBob29rIF0gKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggIWNhbGxiYWNrICkge1xyXG5cdFx0XHRcdFNUT1JBR0VbIHR5cGUgXVsgaG9vayBdID0gW107XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aGFuZGxlcnMgPSBTVE9SQUdFWyB0eXBlIF1bIGhvb2sgXTtcclxuXHRcdFx0XHRpZiAoICFjb250ZXh0ICkge1xyXG5cdFx0XHRcdFx0Zm9yICggaSA9IGhhbmRsZXJzLmxlbmd0aDsgaS0tOyApIHtcclxuXHRcdFx0XHRcdFx0aWYgKCBoYW5kbGVyc1tpXS5jYWxsYmFjayA9PT0gY2FsbGJhY2sgKSB7XHJcblx0XHRcdFx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBpLCAxICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRmb3IgKCBpID0gaGFuZGxlcnMubGVuZ3RoOyBpLS07ICkge1xyXG5cdFx0XHRcdFx0XHRoYW5kbGVyID0gaGFuZGxlcnNbaV07XHJcblx0XHRcdFx0XHRcdGlmICggaGFuZGxlci5jYWxsYmFjayA9PT0gY2FsbGJhY2sgJiYgaGFuZGxlci5jb250ZXh0ID09PSBjb250ZXh0KSB7XHJcblx0XHRcdFx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBpLCAxICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFkZHMgdGhlIGhvb2sgdG8gdGhlIGFwcHJvcHJpYXRlIHN0b3JhZ2UgY29udGFpbmVyXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHR5cGUgJ2FjdGlvbnMnIG9yICdmaWx0ZXJzJ1xyXG5cdFx0ICogQHBhcmFtIGhvb2sgVGhlIGhvb2sgKG5hbWVzcGFjZS5pZGVudGlmaWVyKSB0byBhZGQgdG8gb3VyIGV2ZW50IG1hbmFnZXJcclxuXHRcdCAqIEBwYXJhbSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBob29rIGlzIGV4ZWN1dGVkLlxyXG5cdFx0ICogQHBhcmFtIHByaW9yaXR5IFRoZSBwcmlvcml0eSBvZiB0aGlzIGhvb2suIE11c3QgYmUgYW4gaW50ZWdlci5cclxuXHRcdCAqIEBwYXJhbSBbY29udGV4dF0gQSB2YWx1ZSB0byBiZSB1c2VkIGZvciB0aGlzXHJcblx0XHQgKiBAcHJpdmF0ZVxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBfYWRkSG9vayggdHlwZSwgaG9vaywgY2FsbGJhY2ssIHByaW9yaXR5LCBjb250ZXh0ICkge1xyXG5cdFx0XHR2YXIgaG9va09iamVjdCA9IHtcclxuXHRcdFx0XHRjYWxsYmFjayA6IGNhbGxiYWNrLFxyXG5cdFx0XHRcdHByaW9yaXR5IDogcHJpb3JpdHksXHJcblx0XHRcdFx0Y29udGV4dCA6IGNvbnRleHRcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIFV0aWxpemUgJ3Byb3AgaXRzZWxmJyA6IGh0dHA6Ly9qc3BlcmYuY29tL2hhc293bnByb3BlcnR5LXZzLWluLXZzLXVuZGVmaW5lZC8xOVxyXG5cdFx0XHR2YXIgaG9va3MgPSBTVE9SQUdFWyB0eXBlIF1bIGhvb2sgXTtcclxuXHRcdFx0aWYoIGhvb2tzICkge1xyXG5cdFx0XHRcdGhvb2tzLnB1c2goIGhvb2tPYmplY3QgKTtcclxuXHRcdFx0XHRob29rcyA9IF9ob29rSW5zZXJ0U29ydCggaG9va3MgKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRob29rcyA9IFsgaG9va09iamVjdCBdO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRTVE9SQUdFWyB0eXBlIF1bIGhvb2sgXSA9IGhvb2tzO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVXNlIGFuIGluc2VydCBzb3J0IGZvciBrZWVwaW5nIG91ciBob29rcyBvcmdhbml6ZWQgYmFzZWQgb24gcHJpb3JpdHkuIFRoaXMgZnVuY3Rpb24gaXMgcmlkaWN1bG91c2x5IGZhc3RlclxyXG5cdFx0ICogdGhhbiBidWJibGUgc29ydCwgZXRjOiBodHRwOi8vanNwZXJmLmNvbS9qYXZhc2NyaXB0LXNvcnRcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gaG9va3MgVGhlIGN1c3RvbSBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGUgYXBwcm9wcmlhdGUgaG9va3MgdG8gcGVyZm9ybSBhbiBpbnNlcnQgc29ydCBvbi5cclxuXHRcdCAqIEBwcml2YXRlXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIF9ob29rSW5zZXJ0U29ydCggaG9va3MgKSB7XHJcblx0XHRcdHZhciB0bXBIb29rLCBqLCBwcmV2SG9vaztcclxuXHRcdFx0Zm9yKCB2YXIgaSA9IDEsIGxlbiA9IGhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrICkge1xyXG5cdFx0XHRcdHRtcEhvb2sgPSBob29rc1sgaSBdO1xyXG5cdFx0XHRcdGogPSBpO1xyXG5cdFx0XHRcdHdoaWxlKCAoIHByZXZIb29rID0gaG9va3NbIGogLSAxIF0gKSAmJiAgcHJldkhvb2sucHJpb3JpdHkgPiB0bXBIb29rLnByaW9yaXR5ICkge1xyXG5cdFx0XHRcdFx0aG9va3NbIGogXSA9IGhvb2tzWyBqIC0gMSBdO1xyXG5cdFx0XHRcdFx0LS1qO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRob29rc1sgaiBdID0gdG1wSG9vaztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIGhvb2tzO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUnVucyB0aGUgc3BlY2lmaWVkIGhvb2suIElmIGl0IGlzIGFuIGFjdGlvbiwgdGhlIHZhbHVlIGlzIG5vdCBtb2RpZmllZCBidXQgaWYgaXQgaXMgYSBmaWx0ZXIsIGl0IGlzLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB0eXBlICdhY3Rpb25zJyBvciAnZmlsdGVycydcclxuXHRcdCAqIEBwYXJhbSBob29rIFRoZSBob29rICggbmFtZXNwYWNlLmlkZW50aWZpZXIgKSB0byBiZSByYW4uXHJcblx0XHQgKiBAcGFyYW0gYXJncyBBcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgYWN0aW9uL2ZpbHRlci4gSWYgaXQncyBhIGZpbHRlciwgYXJncyBpcyBhY3R1YWxseSBhIHNpbmdsZSBwYXJhbWV0ZXIuXHJcblx0XHQgKiBAcHJpdmF0ZVxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBfcnVuSG9vayggdHlwZSwgaG9vaywgYXJncyApIHtcclxuXHRcdFx0dmFyIGhhbmRsZXJzID0gU1RPUkFHRVsgdHlwZSBdWyBob29rIF0sIGksIGxlbjtcclxuXHRcdFx0XHJcblx0XHRcdGlmICggIWhhbmRsZXJzICkge1xyXG5cdFx0XHRcdHJldHVybiAodHlwZSA9PT0gJ2ZpbHRlcnMnKSA/IGFyZ3NbMF0gOiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGVuID0gaGFuZGxlcnMubGVuZ3RoO1xyXG5cdFx0XHRpZiAoIHR5cGUgPT09ICdmaWx0ZXJzJyApIHtcclxuXHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xyXG5cdFx0XHRcdFx0YXJnc1sgMCBdID0gaGFuZGxlcnNbIGkgXS5jYWxsYmFjay5hcHBseSggaGFuZGxlcnNbIGkgXS5jb250ZXh0LCBhcmdzICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XHJcblx0XHRcdFx0XHRoYW5kbGVyc1sgaSBdLmNhbGxiYWNrLmFwcGx5KCBoYW5kbGVyc1sgaSBdLmNvbnRleHQsIGFyZ3MgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiAoIHR5cGUgPT09ICdmaWx0ZXJzJyApID8gYXJnc1sgMCBdIDogdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyByZXR1cm4gYWxsIG9mIHRoZSBwdWJsaWNseSBhdmFpbGFibGUgbWV0aG9kc1xyXG5cdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XHJcblxyXG5cdH07XHJcblx0XHJcblx0d2luZG93LndwID0gd2luZG93LndwIHx8IHt9O1xyXG5cdHdpbmRvdy53cC5ob29rcyA9IG5ldyBFdmVudE1hbmFnZXIoKTtcclxuXHJcbn0gKSggd2luZG93ICk7XHJcbiIsIihmdW5jdGlvbigkKSB7XG5cblx0JCgnLmNob3Nlbi1zZWxlY3QnKS5jaG9zZW4oe1xuXHRcdHdpZHRoOiAnMTAwJSdcblx0fSk7XG5cblx0Ly8gQ29weSBtZXJnZSB0YWdcblxuXHR2YXIgbWVyZ2VfdGFnX2NsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQoJyNub3RpZmljYXRpb25fbWVyZ2VfdGFncyAuaW5zaWRlIHVsIGxpIGNvZGUnKTtcblxuXHRtZXJnZV90YWdfY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24oZSkge1xuXG5cdCAgICB2YXIgJGNvZGUgPSAkKGUudHJpZ2dlciksXG5cdFx0ICAgIHRhZyAgID0gJGNvZGUudGV4dCgpO1xuXG5cdFx0JGNvZGUudGV4dCggbm90aWZpY2F0aW9uLmNvcGllZCApO1xuXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdCRjb2RlLnRleHQoIHRhZyApO1xuXHRcdH0sIDgwMCk7XG5cblx0fSk7XG5cblx0Ly8gR2V0IGZyZXNoIG1lcmdlIHRhZ3MgZm9yIHNlbGVjdGVkIHRyaWdnZXJcblxuXHQkKCcjbm90aWZpY2F0aW9uX3RyaWdnZXJfc2VsZWN0JykuY2hvc2VuKCkuY2hhbmdlKGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyICRzZWxlY3QgICAgPSAkKHRoaXMpLFxuXHRcdFx0JGNvbnRhaW5lciA9ICQoJyNub3RpZmljYXRpb25fbWVyZ2VfdGFncyAuaW5zaWRlJyksXG5cdFx0XHQkbWV0YWJveCAgID0gJCgnI25vdGlmaWNhdGlvbl9tZXJnZV90YWdzJyk7XG5cblx0XHQkbWV0YWJveC5mYWRlVG8oMjAwLCAwLjUpO1xuXG5cdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHQnYWN0aW9uJzogJ25vdGlmaWNhdGlvbl9nZXRfbWVyZ2VfdGFncycsXG5cdFx0XHQndHJpZ2dlcic6ICRzZWxlY3QudmFsKClcblx0XHR9O1xuXG5cdCAgICAkLnBvc3QoYWpheHVybCwgZGF0YSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHQgICAgXHRpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgPT0gZmFsc2UgKSB7XG5cdCAgICBcdFx0JGNvbnRhaW5lci5odG1sKCAnPHA+JyArIHJlc3BvbnNlLmRhdGEgKyAnPC9wPicgKTtcblx0ICAgIFx0XHR2YXIgdGFncyA9IHt9O1xuXHQgICAgXHR9IGVsc2Uge1xuXG5cdFx0XHRcdHVsID0gJChcIjx1bD5cIik7XG5cblx0XHRcdFx0dmFyIHRhZ3MgPSByZXNwb25zZS5kYXRhO1xuXG5cdFx0XHRcdCQuZWFjaCh0YWdzLCBmdW5jdGlvbiggbiwgdGFnICkge1xuXHRcdFx0XHRcdHVsLmFwcGVuZCgnPGxpPjxjb2RlIGRhdGEtY2xpcGJvYXJkLXRleHQ9XCJ7JyArIHRhZyArICd9XCI+eycgKyB0YWcgKyAnfTwvY29kZT48L2xpPicpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQkY29udGFpbmVyLmh0bWwodWwpO1xuXG5cdCAgICBcdH1cblxuXHQgICAgXHR3cC5ob29rcy5kb0FjdGlvbiggJ25vdGlmaWNhdGlvbi5jaGFuZ2VkX3RyaWdnZXInLCAkc2VsZWN0LnZhbCgpLCB0YWdzICk7XG5cblx0ICAgIFx0JG1ldGFib3guZmFkZVRvKDIwMCwgMSk7XG5cblx0XHR9KTtcblxuXHR9KTtcblxuXHQvLyBVcGRhdGUgcmVjaXBpZW50IHJvd3M6IG51bWJlciBhbmQgcmVtb3ZlIGJ1dHRvblxuXG5cdHZhciB1cGRhdGVfcmVjaXBpZW50cyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIGkgPSAwO1xuXG5cdFx0aWYgKCAkKCcjbm90aWZpY2F0aW9uX3JlY2lwaWVudHMgLnJlY2lwaWVudCcpLmxlbmd0aCA9PSAxICkge1xuXHRcdFx0dmFyIGRpc2FibGUgPSB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgZGlzYWJsZSA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdCQoJyNub3RpZmljYXRpb25fcmVjaXBpZW50cyAucmVjaXBpZW50JykuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciAkcm93ICAgICAgICAgICA9ICQodGhpcyksXG5cdFx0XHRcdCRyZW1vdmVfYnV0dG9uID0gJHJvdy5maW5kKCcuYWN0aW9ucyAuZGFzaGljb25zLXRyYXNoJyksXG5cdFx0XHRcdCRpbnB1dHMgICAgICAgID0gJHJvdy5maW5kKCdpbnB1dCwgc2VsZWN0Jyk7XG5cblx0XHRcdGlmICggZGlzYWJsZSApIHtcblx0XHRcdFx0JHJlbW92ZV9idXR0b24uYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkcmVtb3ZlX2J1dHRvbi5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcblx0XHRcdH1cblxuXHRcdFx0JGlucHV0cy5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHR2YXIgJGlucHV0ICAgID0gJCh0aGlzKSxcblx0XHRcdFx0XHRwYXJ0X25hbWUgPSAkaW5wdXQuYXR0cignbmFtZScpO1xuXG5cdFx0XHRcdCRpbnB1dC5hdHRyKCAnbmFtZScsIHBhcnRfbmFtZS5yZXBsYWNlKCAvbm90aWZpY2F0aW9uX3JlY2lwaWVudFxcW1swLTldK1xcXS8sICdub3RpZmljYXRpb25fcmVjaXBpZW50WycraSsnXScgKSApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHRcdGkrKztcblxuXHRcdH0gKTtcblxuXHR9XG5cblx0Ly8gQWRkIHJlY2lwaWVudFxuXG5cdHZhciBhZGRfcmVjaXBpZW50ID0gZnVuY3Rpb24oIHR5cGUsIHZhbHVlICkge1xuXG5cdFx0dHlwZSAgPSB0eXBlb2YgdHlwZSAhPT0gJ3VuZGVmaW5lZCcgPyB0eXBlIDogJyc7XG5cdFx0dmFsdWUgPSB0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnID8gdmFsdWUgOiAnJztcblxuXHRcdHZhciAkY29udGFpbmVyID0gJCgnI25vdGlmaWNhdGlvbl9yZWNpcGllbnRzIC5yZWNpcGllbnRzJyk7XG5cblx0XHQkY29udGFpbmVyLmZhZGVUbygyMDAsIDAuNSk7XG5cblx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdCdhY3Rpb24nOiAnbm90aWZpY2F0aW9uX2FkZF9yZWNpcGllbnQnLFxuXHRcdFx0J3R5cGUnOiAgIHR5cGUsXG5cdFx0XHQndmFsdWUnOiAgdmFsdWVcblx0XHR9O1xuXG5cdCAgICAkLnBvc3QoYWpheHVybCwgZGF0YSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHQgICAgXHRpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgPT0gZmFsc2UgKSB7XG5cdCAgICBcdFx0YWxlcnQoIHJlc3BvbnNlLmRhdGEgKTtcblx0ICAgIFx0fSBlbHNlIHtcblxuXHQgICAgXHRcdHZhciAkcm93ID0gJChyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0JGNvbnRhaW5lci5hcHBlbmQoJHJvdyk7XG5cblx0ICAgIFx0fVxuXG5cdCAgICBcdCRjb250YWluZXIuZmFkZVRvKDIwMCwgMSk7XG5cblx0ICAgIFx0dXBkYXRlX3JlY2lwaWVudHMoKTtcblxuXHRcdH0pO1xuXG5cdH07XG5cblx0JCgnI25vdGlmaWNhdGlvbl9yZWNpcGllbnRzJykub24oICdjbGljaycsICcjbm90aWZpY2F0aW9uX2FkZF9yZWNpcGllbnQnLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0YWRkX3JlY2lwaWVudCgpO1xuXG5cdH0pO1xuXG5cdC8vIFJlbW92ZSByZWNpcGllbnRcblxuXHQkKCcjbm90aWZpY2F0aW9uX3JlY2lwaWVudHMnKS5vbiggJ2NsaWNrJywgJy5yZWNpcGllbnQgLmFjdGlvbnMgLmRhc2hpY29ucy10cmFzaCcsIGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR2YXIgJGJ1dHRvbiAgICA9ICQodGhpcyksXG5cdFx0XHQkY29udGFpbmVyID0gJGJ1dHRvbi5wYXJlbnRzKCcucmVjaXBpZW50JykuZmlyc3QoKTtcblxuXHRcdGlmICggJGJ1dHRvbi5oYXNDbGFzcygnZGlzYWJsZWQnKSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQkY29udGFpbmVyLmFuaW1hdGUoe2xlZnQ6ICc1MHB4Jywgb3BhY2l0eTogMH0sIDQwMCwgJ2xpbmVhcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHVwZGF0ZV9yZWNpcGllbnRzKCk7XG4gICAgICAgIH0gKTtcblxuXHR9KTtcblxuXHQvLyBHZXQgaW5wdXQgZmllbGQgZm9yIHJlY2lwaWVudFxuXG5cdCQoJyNub3RpZmljYXRpb25fcmVjaXBpZW50cycpLm9uKCAnY2hhbmdlJywgJy5yZWNpcGllbnQgLmdyb3VwIHNlbGVjdCcsIGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyICRzZWxlY3QgICAgPSAkKHRoaXMpLFxuXHRcdFx0JGlucHV0ICAgICA9ICRzZWxlY3QucGFyZW50KCkubmV4dCgnLnZhbHVlJykuZmluZCgnaW5wdXQsIHNlbGVjdCcpLmZpcnN0KCksXG5cdFx0XHQkY29udGFpbmVyID0gJGlucHV0LnBhcmVudCgpO1xuXG5cdFx0JGNvbnRhaW5lci5mYWRlVG8oMjAwLCAwLjUpO1xuXG5cdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHQnYWN0aW9uJzogJ25vdGlmaWNhdGlvbl9nZXRfcmVjaXBpZW50X2lucHV0Jyxcblx0XHRcdCdyZWNpcGllbnRfbmFtZSc6ICRzZWxlY3QudmFsKClcblx0XHR9O1xuXG5cdCAgICAkLnBvc3QoYWpheHVybCwgZGF0YSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHQgICAgXHRpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgPT0gZmFsc2UgKSB7XG5cdCAgICBcdFx0YWxlcnQoIHJlc3BvbnNlLmRhdGEgKTtcblx0ICAgIFx0fSBlbHNlIHtcblxuXHQgICAgXHRcdHZhciAkaW5wdXQgPSAkKHJlc3BvbnNlLmRhdGEpO1xuXHRcdFx0XHQkY29udGFpbmVyLmh0bWwoJGlucHV0KTtcblxuXHRcdFx0XHRpZiAoIHR5cGVvZiAkaW5wdXQuZGF0YSgndXBkYXRlJykgIT09ICd1bmRlZmluZWQnICkge1xuXHRcdFx0XHRcdHdwLmhvb2tzLmRvQWN0aW9uKCAnbm90aWZpY2F0aW9uLnVwZGF0ZV9pbnB1dCcsICRpbnB1dCwgJGlucHV0LmRhdGEoJ3ZhbHVlJyksICRpbnB1dC5kYXRhKCd1cGRhdGUnKSApO1xuXHRcdFx0XHR9XG5cblx0ICAgIFx0fVxuXG5cdCAgICBcdCRjb250YWluZXIuZmFkZVRvKDIwMCwgMSk7XG5cblx0ICAgIFx0dXBkYXRlX3JlY2lwaWVudHMoKTtcblxuXHRcdH0pO1xuXG5cdH0pO1xuXG5cdC8vIFByb2Nlc3MgYWxsIHJlY2lwaWVudCBmaWVsZHMgd2hpY2ggbmVlZHMgbGl2ZSB1cGRhdGVcblxuXHR2YXIgdXBkYXRlX2FsbF9pbnB1dHMgPSBmdW5jdGlvbigpIHtcblxuXHRcdCQoJyNub3RpZmljYXRpb25fcmVjaXBpZW50cyAucmVjaXBpZW50JykuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciAkaW5wdXQgPSAkKHRoaXMpLmZpbmQoJy5maWVsZC52YWx1ZSBzZWxlY3QsIC5maWVsZC52YWx1ZSBpbnB1dCcpO1xuXG5cdFx0XHRpZiAoIHR5cGVvZiAkaW5wdXQuZGF0YSgndXBkYXRlJykgIT09ICd1bmRlZmluZWQnICkge1xuXHRcdFx0XHR3cC5ob29rcy5kb0FjdGlvbiggJ25vdGlmaWNhdGlvbi51cGRhdGVfaW5wdXQnLCAkaW5wdXQsICRpbnB1dC5kYXRhKCd2YWx1ZScpLCAkaW5wdXQuZGF0YSgndXBkYXRlJykgKTtcblx0XHRcdH1cblxuXHRcdH0gKTtcblxuXHR9O1xuXG5cdCQoZG9jdW1lbnQpLnJlYWR5KCB1cGRhdGVfYWxsX2lucHV0cyApO1xuXHR3cC5ob29rcy5hZGRBY3Rpb24oICdub3RpZmljYXRpb24uY2hhbmdlZF90cmlnZ2VyJywgdXBkYXRlX2FsbF9pbnB1dHMgKTtcblxuXHQvLyBVcGRhdGUgbWVyZ2UgdGFncyBpbnB1dFxuXG5cdHdwLmhvb2tzLmFkZEFjdGlvbiggJ25vdGlmaWNhdGlvbi51cGRhdGVfaW5wdXQnLCBmdW5jdGlvbiggJGlucHV0LCB2YWx1ZSwgdXBkYXRlX3R5cGUgKSB7XG5cblx0XHRpZiAoIHVwZGF0ZV90eXBlID09ICdlbWFpbF9tZXJnZV90YWdzJyApIHtcblxuXHRcdFx0dmFyIHRyaWdnZXIgICAgPSAkKCcjbm90aWZpY2F0aW9uX3RyaWdnZXJfc2VsZWN0JykudmFsKCksXG5cdFx0XHRcdCRjb250YWluZXIgPSAkaW5wdXQucGFyZW50KCk7XG5cblx0XHRcdCRjb250YWluZXIuZmFkZVRvKDIwMCwgMC41KTtcblxuXHRcdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHRcdCdhY3Rpb24nOiAgJ25vdGlmaWNhdGlvbl9nZXRfZW1haWxfbWVyZ2VfdGFncycsXG5cdFx0XHRcdCd0cmlnZ2VyJzogdHJpZ2dlclxuXHRcdFx0fTtcblxuXHRcdCAgICAkLnBvc3QoYWpheHVybCwgZGF0YSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdCAgICBcdGlmICggcmVzcG9uc2Uuc3VjY2VzcyA9PSBmYWxzZSApIHtcblx0XHQgICAgXHRcdGFsZXJ0KCByZXNwb25zZS5kYXRhICk7XG5cdFx0ICAgIFx0fSBlbHNlIHtcblxuXHRcdCAgICBcdFx0Ly8gY2xlYXIgb3B0aW9ucyBmaXJzdFxuXHRcdCAgICBcdFx0JGlucHV0LmZpbmQoJ29wdGlvbicpLnJlbW92ZSgpO1xuXG5cdFx0ICAgIFx0XHQvLyBhZGQgZW1wdHkgb3B0aW9uIGZvciBjbGFyaXR5XG5cdFx0ICAgIFx0XHQkaW5wdXQuYXBwZW5kKCAkKCc8b3B0aW9uPicpICk7XG5cblx0XHQgICAgXHRcdCQuZWFjaChyZXNwb25zZS5kYXRhLCBmdW5jdGlvbih0YWdfdmFsdWUsIHRhZ19uYW1lKSB7XG5cblx0XHQgICAgXHRcdFx0dmFyIGF0dHMgPSB7XG5cdFx0XHRcdFx0ICAgICAgICB2YWx1ZTogdGFnX3ZhbHVlLFxuXHRcdFx0XHRcdCAgICAgICAgdGV4dCA6IHRhZ19uYW1lXG5cdFx0XHRcdFx0ICAgIH07XG5cblx0XHRcdFx0XHQgICAgaWYgKCB0YWdfdmFsdWUgPT0gdmFsdWUgKSB7XG5cdFx0XHRcdFx0ICAgIFx0YXR0cy5zZWxlY3RlZCA9ICdzZWxlY3RlZCc7XG5cdFx0XHRcdFx0ICAgIH1cblxuXHRcdFx0XHRcdCAgICAkaW5wdXQuYXBwZW5kKCAkKCc8b3B0aW9uPicsIGF0dHMpICk7XG5cblx0XHRcdFx0XHR9KTtcblxuXHRcdCAgICBcdH1cblxuXHRcdCAgICBcdCRjb250YWluZXIuZmFkZVRvKDIwMCwgMSk7XG5cblx0XHRcdH0pO1xuXG5cdFx0fVxuXG5cdH0gKTtcblxuXHQvLyBVcGRhdGUgbm90aWZpY2F0aW9uIGRlZmF1bHRzOiB0aXRsZSwgdGVtcGxhdGUgYW5kIHJlY2lwaWVudHNcblxuXHR3cC5ob29rcy5hZGRBY3Rpb24oICdub3RpZmljYXRpb24uY2hhbmdlZF90cmlnZ2VyJywgZnVuY3Rpb24oIHRyaWdnZXJfc2x1ZywgdGFncyApIHtcblxuXHRcdGlmICggdGlueW1jZS5hY3RpdmVFZGl0b3IuZ2V0Q29udGVudCgpID09ICcnICkge1xuXG5cdFx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdFx0J2FjdGlvbic6ICAnbm90aWZpY2F0aW9uX2dldF9kZWZhdWx0cycsXG5cdFx0XHRcdCd0cmlnZ2VyJzogdHJpZ2dlcl9zbHVnXG5cdFx0XHR9O1xuXG5cdFx0XHQkLnBvc3QoYWpheHVybCwgZGF0YSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdCAgICBcdGlmICggcmVzcG9uc2Uuc3VjY2VzcyA9PSBmYWxzZSApIHtcblx0XHQgICAgXHRcdGFsZXJ0KCByZXNwb25zZS5kYXRhICk7XG5cdFx0ICAgIFx0fSBlbHNlIHtcblxuXHRcdCAgICBcdFx0dmFyIGRlZmF1bHRzID0gcmVzcG9uc2UuZGF0YTtcblxuXHRcdCAgICBcdFx0aWYgKCBkZWZhdWx0cy50aXRsZSApIHtcblx0XHQgICAgXHRcdFx0JCggJyN0aXRsZScgKS52YWwoIGRlZmF1bHRzLnRpdGxlICkuZm9jdXMoKTtcblx0XHQgICAgXHRcdH1cblxuXHRcdCAgICBcdFx0aWYgKCBkZWZhdWx0cy50ZW1wbGF0ZSApIHtcblx0XHQgICAgXHRcdFx0dGlueW1jZS5hY3RpdmVFZGl0b3Iuc2V0Q29udGVudCggZGVmYXVsdHMudGVtcGxhdGUgKTtcblx0XHQgICAgXHRcdH1cblxuXHRcdCAgICBcdFx0aWYgKCBkZWZhdWx0cy5yZWNpcGllbnRzICkge1xuXG5cdFx0ICAgIFx0XHRcdCQoJyNub3RpZmljYXRpb25fcmVjaXBpZW50cyAucmVjaXBpZW50cyAucmVjaXBpZW50JykuZmlyc3QoKS5yZW1vdmUoKTtcblxuXHRcdCAgICBcdFx0XHQkLmVhY2goIGRlZmF1bHRzLnJlY2lwaWVudHMsIGZ1bmN0aW9uKCB0eXBlLCB2YWx1ZSApIHtcblx0XHRcdFx0XHRcdFx0YWRkX3JlY2lwaWVudCggdHlwZSwgdmFsdWUgKTtcblx0XHRcdFx0XHRcdH0gKTtcblxuXHRcdCAgICBcdFx0fVxuXG5cdFx0ICAgIFx0fVxuXG5cdFx0XHR9KTtcblxuXHRcdH1cblxuXHR9ICk7XG5cblx0Ly8gRGlzbWlzcyBiZWcgbWVzc2FnZVxuXG5cdCQoICcubm90aWZpY2F0aW9uLW5vdGljZScgKS5vbiggJ2NsaWNrJywgJy5kaXNtaXNzLWJlZy1tZXNzYWdlJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdHZhciAkYnV0dG9uID0gJCggdGhpcyApO1xuXG5cdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHQnYWN0aW9uJzogICdub3RpZmljYXRpb25fZGlzbWlzc19iZWdfbWVzc2FnZScsXG5cdFx0XHQnbm9uY2UnOiAkYnV0dG9uLmRhdGEoICdub25jZScgKVxuXHRcdH07XG5cblx0XHQkLnBvc3QoIGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblx0ICAgIFx0JGJ1dHRvbi5wYXJlbnRzKCAnLm5vdGlmaWNhdGlvbi1ub3RpY2UnICkuc2xpZGVVcCgpO1xuXHRcdH0pO1xuXG5cdH0pO1xuXG5cdC8vIFBsdWdpbiByZW1vdmFsXG5cblx0JCggJyN0aGUtbGlzdCB0cltkYXRhLXNsdWc9XCJub3RpZmljYXRpb25cIl0gLmRlYWN0aXZhdGUgYScgKS5jbGljayggZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdH0gKTtcblxuXHQkKCAnYm9keScgKS5vbiggJ3N1Ym1pdCcsICcjbm90aWZpY2F0aW9uLXBsdWdpbi1mZWVkYmFjay1mb3JtJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdHZhciAkZm9ybSA9ICQodGhpcyk7XG5cblx0XHQkZm9ybS5maW5kKCAnLnNwaW5uZXInICkuYWRkQ2xhc3MoICdpcy1hY3RpdmUnICk7XG5cblx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdCdhY3Rpb24nOiAnbm90aWZpY2F0aW9uX3NlbmRfZmVlZGJhY2snLFxuXHRcdFx0J2Zvcm0nICA6ICRmb3JtLnNlcmlhbGl6ZUFycmF5KClcblx0XHR9O1xuXG5cdFx0JC5wb3N0KCBhamF4dXJsLCBkYXRhLCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9ICQoICcjdGhlLWxpc3QgdHJbZGF0YS1zbHVnPVwibm90aWZpY2F0aW9uXCJdIC5kZWFjdGl2YXRlIGEnICkuZGF0YSggJ2RlYWN0aXZhdGUnICk7XG5cdFx0fSk7XG5cblx0fSApO1xuXG59KShqUXVlcnkpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
