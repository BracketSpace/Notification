!function(t,e){"function"==typeof define&&define.amd?define("sifter",e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(!(t=o(String(t||"").toLowerCase()))||!t.length)return[];var e,n,i,s,l=[],c=t.split(/ +/);for(e=0,n=c.length;e<n;e++){if(i=r(c[e]),this.settings.diacritics)for(s in a)a.hasOwnProperty(s)&&(i=i.replace(new RegExp(s,"g"),a[s]));l.push({string:c[e],regex:new RegExp(i,"i")})}return l},t.prototype.iterator=function(t,e){var n;n=s(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)},n.apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var n,o,r,s,a;n=this,t=n.prepareSearch(t,e),r=t.tokens,o=t.options.fields,s=r.length,a=t.options.nesting;var l=function(t,e){var n,i;return t?(t=String(t||""),-1===(i=t.search(e.regex))?0:(n=e.string.length/t.length,0===i&&(n+=.5),n)):0},c=function(){var t=o.length;return t?1===t?function(t,e){return l(i(e,o[0],a),t)}:function(e,n){for(var r=0,s=0;r<t;r++)s+=l(i(n,o[r],a),e);return s/t}:function(){return 0}}();return s?1===s?function(t){return c(r[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,i=0;n<s;n++){if((e=c(r[n],t))<=0)return 0;i+=e}return i/s}:function(t){for(var e=0,n=0;e<s;e++)n+=c(r[e],t);return n/s}:function(){return 0}},t.prototype.getSortFunction=function(t,n){var o,r,s,a,l,c,u,p,d,f,h;if(s=this,t=s.prepareSearch(t,n),h=!t.query&&n.sort_empty||n.sort,d=function(t,e){return"$score"===t?e.score:i(s.items[e.id],t,n.nesting)},l=[],h)for(o=0,r=h.length;o<r;o++)(t.query||"$score"!==h[o].field)&&l.push(h[o]);if(t.query){for(f=!0,o=0,r=l.length;o<r;o++)if("$score"===l[o].field){f=!1;break}f&&l.unshift({field:"$score",direction:"desc"})}else for(o=0,r=l.length;o<r;o++)if("$score"===l[o].field){l.splice(o,1);break}for(p=[],o=0,r=l.length;o<r;o++)p.push("desc"===l[o].direction?-1:1);return c=l.length,c?1===c?(a=l[0].field,u=p[0],function(t,n){return u*e(d(a,t),d(a,n))}):function(t,n){var i,o,r;for(i=0;i<c;i++)if(r=l[i].field,o=p[i]*e(d(r,t),d(r,n)))return o;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;e=n({},e);var i=e.fields,o=e.sort,r=e.sort_empty;return i&&!s(i)&&(e.fields=[i]),o&&!s(o)&&(e.sort=[o]),r&&!s(r)&&(e.sort_empty=[r]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var n,i,o,r,s=this;return i=this.prepareSearch(t,e),e=i.options,t=i.query,r=e.score||s.getScoreFunction(i),t.length?s.iterator(s.items,function(t,o){n=r(t),(!1===e.filter||n>0)&&i.items.push({score:n,id:o})}):s.iterator(s.items,function(t,e){i.items.push({score:1,id:e})}),o=s.getSortFunction(i,e),o&&i.items.sort(o),i.total=i.items.length,"number"==typeof e.limit&&(i.items=i.items.slice(0,e.limit)),i};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=l(String(t||"")),e=l(String(e||"")),t>e?1:e>t?-1:0)},n=function(t,e){var n,i,o,r;for(n=1,i=arguments.length;n<i;n++)if(r=arguments[n])for(o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);return t},i=function(t,e,n){if(t&&e){if(!n)return t[e];for(var i=e.split(".");i.length&&(t=t[i.shift()]););return t}},o=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},r=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},l=function(){var t,e,n,i,o="",r={};for(n in a)if(a.hasOwnProperty(n))for(i=a[n].substring(2,a[n].length-1),o+=i,t=0,e=i.length;t<e;t++)r[i.charAt(t)]=n;var s=new RegExp("["+o+"]","g");return function(t){return t.replace(s,function(t){return r[t]}).toLowerCase()}}();return t}),function(t,e){"function"==typeof define&&define.amd?define("microplugin",e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,function(){var t={};t.mixin=function(t){t.plugins={},t.prototype.initializePlugins=function(t){var n,i,o,r=this,s=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(n=0,i=t.length;n<i;n++)"string"==typeof t[n]?s.push(t[n]):(r.plugins.settings[t[n].name]=t[n].options,s.push(t[n].name));else if(t)for(o in t)t.hasOwnProperty(o)&&(r.plugins.settings[o]=t[o],s.push(o));for(;s.length;)r.require(s.shift())},t.prototype.loadPlugin=function(e){var n=this,i=n.plugins,o=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');i.requested[e]=!0,i.loaded[e]=o.fn.apply(n,[n.plugins.settings[e]||{}]),i.names.push(e)},t.prototype.require=function(t){var e=this,n=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(n.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return n.loaded[t]},t.define=function(e,n){t.plugins[e]={name:e,fn:n}}};var e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),function(t,e){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,function(t,e,n){"use strict";var i=function(t,e){if("string"!=typeof e||e.length){var n="string"==typeof e?new RegExp(e,"i"):e,i=function(t){var e=0;if(3===t.nodeType){var o=t.data.search(n);if(o>=0&&t.data.length>0){var r=t.data.match(n),s=document.createElement("span");s.className="highlight";var a=t.splitText(o),l=(a.splitText(r[0].length),a.cloneNode(!0));s.appendChild(l),a.parentNode.replaceChild(s,a),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var c=0;c<t.childNodes.length;++c)c+=i(t.childNodes[c]);return e};return t.each(function(){i(this)})}};t.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()};var o=function(){};o.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},o.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=o.prototype[e[n]]};var r=/Mac/.test(navigator.userAgent),s=r?91:17,a=r?18:17,l=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,c=function(t){return void 0!==t},u=function(t){return void 0===t||null===t?null:"boolean"==typeof t?t?"1":"0":t+""},p=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},d={};d.before=function(t,e,n){var i=t[e];t[e]=function(){return n.apply(t,arguments),i.apply(t,arguments)}},d.after=function(t,e,n){var i=t[e];t[e]=function(){var e=i.apply(t,arguments);return n.apply(t,arguments),e}};var f=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},h=function(t,e){var n;return function(){var i=this,o=arguments;window.clearTimeout(n),n=window.setTimeout(function(){t.apply(i,o)},e)}},g=function(t,e,n){var i,o=t.trigger,r={};t.trigger=function(){var n=arguments[0];if(-1===e.indexOf(n))return o.apply(t,arguments);r[n]=arguments},n.apply(t,[]),t.trigger=o;for(i in r)r.hasOwnProperty(i)&&o.apply(t,r[i])},v=function(t,e,n,i){t.on(e,n,function(e){for(var n=e.target;n&&n.parentNode!==t[0];)n=n.parentNode;return e.currentTarget=n,i.apply(this,[e])})},m=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-t.value.length),e.start=n.text.length-i,e.length=i}return e},y=function(t,e,n){var i,o,r={};if(n)for(i=0,o=n.length;i<o;i++)r[n[i]]=t.css(n[i]);else r=t.css();e.css(r)},w=function(e,n){if(!e)return 0;var i=t("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");y(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=i.width();return i.remove(),o},b=function(t){var e=null,n=function(n,i){var o,r,s,a,l,c,u,p;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||!1!==t.data("grow"))&&(o=t.val(),n.type&&"keydown"===n.type.toLowerCase()&&(r=n.keyCode,s=r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||32===r,46===r||8===r?(p=m(t[0]),p.length?o=o.substring(0,p.start)+o.substring(p.start+p.length):8===r&&p.start?o=o.substring(0,p.start-1)+o.substring(p.start+1):46===r&&void 0!==p.start&&(o=o.substring(0,p.start)+o.substring(p.start+1))):s&&(c=n.shiftKey,u=String.fromCharCode(n.keyCode),u=c?u.toUpperCase():u.toLowerCase(),o+=u)),a=t.attr("placeholder"),!o&&a&&(o=a),(l=w(o,t)+4)!==e&&(e=l,t.width(l),t.triggerHandler("resize")))};t.on("keydown keyup update blur",n),n()},O=function(t){var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML},C=function(n,i){var o,r,s,a,l=this;a=n[0],a.selectize=l;var c=window.getComputedStyle&&window.getComputedStyle(a,null);if(s=c?c.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction,s=s||n.parents("[dir]:first").attr("dir")||"",t.extend(l,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++C.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?l.onSearchChange:h(l.onSearchChange,i.loadThrottle)}),l.sifter=new e(this.options,{diacritics:i.diacritics}),l.settings.options){for(o=0,r=l.settings.options.length;o<r;o++)l.registerOption(l.settings.options[o]);delete l.settings.options}if(l.settings.optgroups){for(o=0,r=l.settings.optgroups.length;o<r;o++)l.registerOptionGroup(l.settings.optgroups[o]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return o.mixin(C),void 0!==n?n.mixin(C):function(t,e){e||(e={});console.error("Selectize: "+t),e.explanation&&(console.group&&console.group(),console.error(e.explanation),console.group&&console.groupEnd())}("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),t.extend(C.prototype,{setup:function(){var e,n,i,o,c,u,p,d,f,h,g=this,m=g.settings,y=g.eventNS,w=t(window),O=t(document),C=g.$input;if(p=g.settings.mode,d=C.attr("class")||"",e=t("<div>").addClass(m.wrapperClass).addClass(d).addClass(p),n=t("<div>").addClass(m.inputClass).addClass("items").appendTo(e),i=t('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",C.is(":disabled")?"-1":g.tabIndex),u=t(m.dropdownParent||e),o=t("<div>").addClass(m.dropdownClass).addClass(p).hide().appendTo(u),c=t("<div>").addClass(m.dropdownContentClass).appendTo(o),(h=C.attr("id"))&&(i.attr("id",h+"-selectized"),t("label[for='"+h+"']").attr("for",h+"-selectized")),g.settings.copyClassesToDropdown&&o.addClass(d),e.css({width:C[0].style.width}),g.plugins.names.length&&(f="plugin-"+g.plugins.names.join(" plugin-"),e.addClass(f),o.addClass(f)),(null===m.maxItems||m.maxItems>1)&&1===g.tagType&&C.attr("multiple","multiple"),g.settings.placeholder&&i.attr("placeholder",m.placeholder),!g.settings.splitOn&&g.settings.delimiter){var x=g.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");g.settings.splitOn=new RegExp("\\s*"+x+"+\\s*")}C.attr("autocorrect")&&i.attr("autocorrect",C.attr("autocorrect")),C.attr("autocapitalize")&&i.attr("autocapitalize",C.attr("autocapitalize")),g.$wrapper=e,g.$control=n,g.$control_input=i,g.$dropdown=o,g.$dropdown_content=c,o.on("mouseenter","[data-selectable]",function(){return g.onOptionHover.apply(g,arguments)}),o.on("mousedown click","[data-selectable]",function(){return g.onOptionSelect.apply(g,arguments)}),v(n,"mousedown","*:not(input)",function(){return g.onItemSelect.apply(g,arguments)}),b(i),n.on({mousedown:function(){return g.onMouseDown.apply(g,arguments)},click:function(){return g.onClick.apply(g,arguments)}}),i.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return g.onKeyDown.apply(g,arguments)},keyup:function(){return g.onKeyUp.apply(g,arguments)},keypress:function(){return g.onKeyPress.apply(g,arguments)},resize:function(){g.positionDropdown.apply(g,[])},blur:function(){return g.onBlur.apply(g,arguments)},focus:function(){return g.ignoreBlur=!1,g.onFocus.apply(g,arguments)},paste:function(){return g.onPaste.apply(g,arguments)}}),O.on("keydown"+y,function(t){g.isCmdDown=t[r?"metaKey":"ctrlKey"],g.isCtrlDown=t[r?"altKey":"ctrlKey"],g.isShiftDown=t.shiftKey}),O.on("keyup"+y,function(t){t.keyCode===a&&(g.isCtrlDown=!1),16===t.keyCode&&(g.isShiftDown=!1),t.keyCode===s&&(g.isCmdDown=!1)}),O.on("mousedown"+y,function(t){if(g.isFocused){if(t.target===g.$dropdown[0]||t.target.parentNode===g.$dropdown[0])return!1;g.$control.has(t.target).length||t.target===g.$control[0]||g.blur(t.target)}}),w.on(["scroll"+y,"resize"+y].join(" "),function(){g.isOpen&&g.positionDropdown.apply(g,arguments)}),w.on("mousemove"+y,function(){g.ignoreHover=!1}),this.revertSettings={$children:C.children().detach(),tabindex:C.attr("tabindex")},C.attr("tabindex",-1).hide().after(g.$wrapper),t.isArray(m.items)&&(g.setValue(m.items),delete m.items),l&&C.on("invalid"+y,function(t){t.preventDefault(),g.isInvalid=!0,g.refreshState()}),g.updateOriginalInput(),g.refreshItems(),g.refreshState(),g.updatePlaceholder(),g.isSetup=!0,C.is(":disabled")&&g.disable(),g.on("change",this.onChange),C.data("selectize",g),C.addClass("selectized"),g.trigger("initialize"),!0===m.preload&&g.onSearchChange("")},setupTemplates:function(){var e=this,n=e.settings.labelField,i=e.settings.optgroupLabelField,o={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[i])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[n])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[n])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};e.settings.render=t.extend({},o,e.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]])&&this.on(t,e)},onClick:function(t){var e=this;e.isFocused||(e.focus(),t.preventDefault())},onMouseDown:function(e){var n=this,i=e.isDefaultPrevented();t(e.target);if(n.isFocused){if(e.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var n=this;if(n.isFull()||n.isInputHidden||n.isLocked)return void e.preventDefault();n.settings.splitOn&&setTimeout(function(){var e=n.$control_input.val();if(e.match(n.settings.splitOn))for(var i=t.trim(e).split(n.settings.splitOn),o=0,r=i.length;o<r;o++)n.createItem(i[o])},0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){var e=(t.target,this.$control_input[0],this);if(e.isLocked)return void(9!==t.keyCode&&t.preventDefault());switch(t.keyCode){case 65:if(e.isCmdDown)return void e.selectAll();break;case 27:return void(e.isOpen&&(t.preventDefault(),t.stopPropagation(),e.close()));case 78:if(!t.ctrlKey||t.altKey)break;case 40:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case 80:if(!t.ctrlKey||t.altKey)break;case 38:if(e.$activeOption){e.ignoreHover=!0;var i=e.getAdjacentOption(e.$activeOption,-1);i.length&&e.setActiveOption(i,!0,!0)}return void t.preventDefault();case 13:return void(e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),t.preventDefault()));case 37:return void e.advanceSelection(-1,t);case 39:return void e.advanceSelection(1,t);case 9:return e.settings.selectOnTab&&e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),e.isFull()||t.preventDefault()),void(e.settings.create&&e.createItem()&&t.preventDefault());case 8:case 46:return void e.deleteSelection(t)}return!e.isFull()&&!e.isInputHidden||(r?t.metaKey:t.ctrlKey)?void 0:void t.preventDefault()},onKeyUp:function(t){var e=this;if(e.isLocked)return t&&t.preventDefault();var n=e.$control_input.val()||"";e.lastValue!==n&&(e.lastValue=n,e.onSearchChange(n),e.refreshOptions(),e.trigger("type",n))},onSearchChange:function(t){var e=this,n=e.settings.load;n&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(i){n.apply(e,[t,i])})))},onFocus:function(t){var e=this,n=e.isFocused;if(e.isDisabled)return e.blur(),t&&t.preventDefault(),!1;e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),n||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())},onBlur:function(t,e){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(t);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),e&&e.focus&&e.focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var n,i,o=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),i=t(e.currentTarget),i.hasClass("create")?o.createItem(null,function(){o.settings.closeAfterSelect&&o.close()}):void 0!==(n=i.attr("data-value"))&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(n),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&o.setActiveOption(o.getOption(n)))},onItemSelect:function(t){var e=this;e.isLocked||"multi"===e.settings.mode&&(t.preventDefault(),e.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input;e.val()!==t&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){g(this,e?[]:["change"],function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(e,n){var i,o,r,s,a,l,c,u,p=this;if("single"!==p.settings.mode){if(e=t(e),!e.length)return t(p.$activeItems).removeClass("active"),p.$activeItems=[],void(p.isFocused&&p.showInput());if("mousedown"===(i=n&&n.type.toLowerCase())&&p.isShiftDown&&p.$activeItems.length){for(u=p.$control.children(".active:last"),s=Array.prototype.indexOf.apply(p.$control[0].childNodes,[u[0]]),a=Array.prototype.indexOf.apply(p.$control[0].childNodes,[e[0]]),s>a&&(c=s,s=a,a=c),o=s;o<=a;o++)l=p.$control[0].childNodes[o],-1===p.$activeItems.indexOf(l)&&(t(l).addClass("active"),p.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&p.isCtrlDown||"keydown"===i&&this.isShiftDown?e.hasClass("active")?(r=p.$activeItems.indexOf(e[0]),p.$activeItems.splice(r,1),e.removeClass("active")):p.$activeItems.push(e.addClass("active")[0]):(t(p.$activeItems).removeClass("active"),p.$activeItems=[e.addClass("active")[0]]);p.hideInput(),this.isFocused||p.focus()}},setActiveOption:function(e,n,i){var o,r,s,a,l,u=this;u.$activeOption&&u.$activeOption.removeClass("active"),u.$activeOption=null,e=t(e),e.length&&(u.$activeOption=e.addClass("active"),!n&&c(n)||(o=u.$dropdown_content.height(),r=u.$activeOption.outerHeight(!0),n=u.$dropdown_content.scrollTop()||0,s=u.$activeOption.offset().top-u.$dropdown_content.offset().top+n,a=s,l=s-o+r,s+r>o+n?u.$dropdown_content.stop().animate({scrollTop:l},i?u.settings.scrollDuration:0):s<n&&u.$dropdown_content.stop().animate({scrollTop:a},i?u.settings.scrollDuration:0)))},selectAll:function(){var t=this;"single"!==t.settings.mode&&(t.$activeItems=Array.prototype.slice.apply(t.$control.children(":not(input)").addClass("active")),t.$activeItems.length&&(t.hideInput(),t.close()),t.focus())},hideInput:function(){var t=this;t.setTextboxValue(""),t.$control_input.css({opacity:0,position:"absolute",left:t.rtl?1e4:-1e4}),t.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(e){var n,i,o,r=this,s=r.settings,a=this.getSearchOptions();if(s.score&&"function"!=typeof(o=r.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==r.lastQuery?(r.lastQuery=e,i=r.sifter.search(e,t.extend(a,{score:o})),r.currentResults=i):i=t.extend(!0,{},r.currentResults),s.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==r.items.indexOf(u(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(e){var n,o,r,s,a,l,c,p,d,f,h,g,v,m,y,w;void 0===e&&(e=!0);var b=this,C=t.trim(b.$control_input.val()),x=b.search(C),$=b.$dropdown_content,_=b.$activeOption&&u(b.$activeOption.attr("data-value"));for(s=x.items.length,"number"==typeof b.settings.maxOptions&&(s=Math.min(s,b.settings.maxOptions)),a={},l=[],n=0;n<s;n++)for(c=b.options[x.items[n].id],p=b.render("option",c),d=c[b.settings.optgroupField]||"",f=t.isArray(d)?d:[d],o=0,r=f&&f.length;o<r;o++)d=f[o],b.optgroups.hasOwnProperty(d)||(d=""),a.hasOwnProperty(d)||(a[d]=document.createDocumentFragment(),l.push(d)),a[d].appendChild(p);for(this.settings.lockOptgroupOrder&&l.sort(function(t,e){return(b.optgroups[t].$order||0)-(b.optgroups[e].$order||0)}),h=document.createDocumentFragment(),n=0,s=l.length;n<s;n++)d=l[n],b.optgroups.hasOwnProperty(d)&&a[d].childNodes.length?(g=document.createDocumentFragment(),g.appendChild(b.render("optgroup_header",b.optgroups[d])),g.appendChild(a[d]),h.appendChild(b.render("optgroup",t.extend({},b.optgroups[d],{html:O(g),dom:g})))):h.appendChild(a[d]);if($.html(h),b.settings.highlight&&x.query.length&&x.tokens.length)for($.removeHighlight(),n=0,s=x.tokens.length;n<s;n++)i($,x.tokens[n].regex);if(!b.settings.hideSelected)for(n=0,s=b.items.length;n<s;n++)b.getOption(b.items[n]).addClass("selected");v=b.canCreate(C),v&&($.prepend(b.render("option_create",{input:C})),w=t($[0].childNodes[0])),b.hasOptions=x.items.length>0||v,b.hasOptions?(x.items.length>0?(y=_&&b.getOption(_),y&&y.length?m=y:"single"===b.settings.mode&&b.items.length&&(m=b.getOption(b.items[0])),m&&m.length||(m=w&&!b.settings.addPrecedence?b.getAdjacentOption(w,1):$.find("[data-selectable]:first"))):m=w,b.setActiveOption(m),e&&!b.isOpen&&b.open()):(b.setActiveOption(null),e&&b.isOpen&&b.close())},addOption:function(e){var n,i,o,r=this;if(t.isArray(e))for(n=0,i=e.length;n<i;n++)r.addOption(e[n]);else(o=r.registerOption(e))&&(r.userOptions[o]=!0,r.lastQuery=null,r.trigger("option_add",o,e))},registerOption:function(t){var e=u(t[this.settings.valueField]);return void 0!==e&&null!==e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=u(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,n){var i,o,r,s,a,l,c,p=this;if(e=u(e),r=u(n[p.settings.valueField]),null!==e&&p.options.hasOwnProperty(e)){if("string"!=typeof r)throw new Error("Value must be set in option data");c=p.options[e].$order,r!==e&&(delete p.options[e],-1!==(s=p.items.indexOf(e))&&p.items.splice(s,1,r)),n.$order=n.$order||c,p.options[r]=n,a=p.renderCache.item,l=p.renderCache.option,a&&(delete a[e],delete a[r]),l&&(delete l[e],delete l[r]),-1!==p.items.indexOf(r)&&(i=p.getItem(e),o=t(p.render("item",n)),i.hasClass("active")&&o.addClass("active"),i.replaceWith(o)),p.lastQuery=null,p.isOpen&&p.refreshOptions(!1)}},removeOption:function(t,e){var n=this;t=u(t);var i=n.renderCache.item,o=n.renderCache.option;i&&delete i[t],o&&delete o[t],delete n.userOptions[t],delete n.options[t],n.lastQuery=null,n.trigger("option_remove",t),n.removeItem(t,e)},clearOptions:function(){var t=this;t.loadedSearches={},t.userOptions={},t.renderCache={},t.options=t.sifter.items={},t.lastQuery=null,t.trigger("option_clear"),t.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,n){var i=this.$dropdown.find("[data-selectable]"),o=i.index(e)+n;return o>=0&&o<i.length?i.eq(o):t()},getElementWithValue:function(e,n){if(void 0!==(e=u(e))&&null!==e)for(var i=0,o=n.length;i<o;i++)if(n[i].getAttribute("data-value")===e)return t(n[i]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,n){for(var i=t.isArray(e)?e:[e],o=0,r=i.length;o<r;o++)this.isPending=o<r-1,this.addItem(i[o],n)},addItem:function(e,n){g(this,n?[]:["change"],function(){var i,o,r,s,a,l=this,c=l.settings.mode;if(e=u(e),-1!==l.items.indexOf(e))return void("single"===c&&l.close());l.options.hasOwnProperty(e)&&("single"===c&&l.clear(n),"multi"===c&&l.isFull()||(i=t(l.render("item",l.options[e])),a=l.isFull(),l.items.splice(l.caretPos,0,e),l.insertAtCaret(i),(!l.isPending||!a&&l.isFull())&&l.refreshState(),l.isSetup&&(r=l.$dropdown_content.find("[data-selectable]"),l.isPending||(o=l.getOption(e),s=l.getAdjacentOption(o,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==c),s&&l.setActiveOption(l.getOption(s))),!r.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",e,i),l.updateOriginalInput({silent:n}))))})},removeItem:function(e,n){var i,o,r,s=this;i=e instanceof t?e:s.getItem(e),e=u(i.attr("data-value")),-1!==(o=s.items.indexOf(e))&&(i.remove(),i.hasClass("active")&&(r=s.$activeItems.indexOf(i[0]),s.$activeItems.splice(r,1)),s.items.splice(o,1),s.lastQuery=null,!s.settings.persist&&s.userOptions.hasOwnProperty(e)&&s.removeOption(e,n),o<s.caretPos&&s.setCaret(s.caretPos-1),s.refreshState(),s.updatePlaceholder(),s.updateOriginalInput({silent:n}),s.positionDropdown(),s.trigger("item_remove",e,i))},createItem:function(e,n){var i=this,o=i.caretPos;e=e||t.trim(i.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(e))return r(),!1;i.lock();var s="function"==typeof i.settings.create?this.settings.create:function(t){var e={};return e[i.settings.labelField]=t,e[i.settings.valueField]=t,e},a=f(function(t){if(i.unlock(),!t||"object"!=typeof t)return r();var e=u(t[i.settings.valueField]);if("string"!=typeof e)return r();i.setTextboxValue(""),i.addOption(t),i.setCaret(o),i.addItem(e),i.refreshOptions(n&&"single"!==i.settings.mode),r(t)}),l=s.apply(this,[e,a]);return void 0!==l&&a(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var e=this,n=e.isFull(),i=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!t.isEmptyObject(e.options)).toggleClass("has-items",e.items.length>0),e.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,i,o,r=this;if(t=t||{},1===r.tagType){for(i=[],e=0,n=r.items.length;e<n;e++)o=r.options[r.items[e]][r.settings.labelField]||"",i.push('<option value="'+p(r.items[e])+'" selected="selected">'+p(o)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),r.$input.html(i.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(t.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){
var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&(t.hideInput(),t.$control_input.blur()),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(e){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(e):t(this.$control[0].childNodes[n]).before(e),this.setCaret(n+1)},deleteSelection:function(e){var n,i,o,r,s,a,l,c,u,p=this;if(o=e&&8===e.keyCode?-1:1,r=m(p.$control_input[0]),p.$activeOption&&!p.settings.hideSelected&&(l=p.getAdjacentOption(p.$activeOption,-1).attr("data-value")),s=[],p.$activeItems.length){for(u=p.$control.children(".active:"+(o>0?"last":"first")),a=p.$control.children(":not(input)").index(u),o>0&&a++,n=0,i=p.$activeItems.length;n<i;n++)s.push(t(p.$activeItems[n]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(p.isFocused||"single"===p.settings.mode)&&p.items.length&&(o<0&&0===r.start&&0===r.length?s.push(p.items[p.caretPos-1]):o>0&&r.start===p.$control_input.val().length&&s.push(p.items[p.caretPos]));if(!s.length||"function"==typeof p.settings.onDelete&&!1===p.settings.onDelete.apply(p,[s]))return!1;for(void 0!==a&&p.setCaret(a);s.length;)p.removeItem(s.pop());return p.showInput(),p.positionDropdown(),p.refreshOptions(!0),l&&(c=p.getOption(l),c.length&&p.setActiveOption(c)),!0},advanceSelection:function(t,e){var n,i,o,r,s,a=this;0!==t&&(a.rtl&&(t*=-1),n=t>0?"last":"first",i=m(a.$control_input[0]),a.isFocused&&!a.isInputHidden?(r=a.$control_input.val().length,(t<0?0===i.start&&0===i.length:i.start===r)&&!r&&a.advanceCaret(t,e)):(s=a.$control.children(".active:"+n),s.length&&(o=a.$control.children(":not(input)").index(s),a.setActiveItem(null),a.setCaret(t>0?o+1:o))))},advanceCaret:function(t,e){var n,i,o=this;0!==t&&(n=t>0?"next":"prev",o.isShiftDown?(i=o.$control_input[n](),i.length&&(o.hideInput(),o.setActiveItem(i),e&&e.preventDefault())):o.setCaret(o.caretPos+t))},setCaret:function(e){var n=this;if(e="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,e)),!n.isPending){var i,o,r,s;for(r=n.$control.children(":not(input)"),i=0,o=r.length;i<o;i++)s=t(r[i]).detach(),i<e?n.$control_input.before(s):n.$control.append(s)}n.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var t=this;t.$input.prop("disabled",!0),t.$control_input.prop("disabled",!0).prop("tabindex",-1),t.isDisabled=!0,t.lock()},enable:function(){var t=this;t.$input.prop("disabled",!1),t.$control_input.prop("disabled",!1).prop("tabindex",t.tabIndex),t.isDisabled=!1,t.unlock()},destroy:function(){var e=this,n=e.eventNS,i=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),t(window).off(n),t(document).off(n),t(document.body).off(n),delete e.$input[0].selectize},render:function(e,n){var i,o,r="",s=!1,a=this;return"option"!==e&&"item"!==e||(i=u(n[a.settings.valueField]),s=!!i),s&&(c(a.renderCache[e])||(a.renderCache[e]={}),a.renderCache[e].hasOwnProperty(i))?a.renderCache[e][i]:(r=t(a.settings.render[e].apply(this,[n,p])),"option"===e||"option_create"===e?r.attr("data-selectable",""):"optgroup"===e&&(o=n[a.settings.optgroupValueField]||"",r.attr("data-group",o)),"option"!==e&&"item"!==e||r.attr("data-value",i||""),s&&(a.renderCache[e][i]=r[0]),r[0])},clearCache:function(t){var e=this;void 0===t?e.renderCache={}:delete e.renderCache[t]},canCreate:function(t){var e=this;if(!e.settings.create)return!1;var n=e.settings.createFilter;return t.length&&("function"!=typeof n||n.apply(e,[t]))&&("string"!=typeof n||new RegExp(n).test(t))&&(!(n instanceof RegExp)||n.test(t))}}),C.count=0,C.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var n=t.fn.selectize.defaults,i=t.extend({},n,e),o=i.dataAttr,r=i.labelField,s=i.valueField,a=i.optgroupField,l=i.optgroupLabelField,c=i.optgroupValueField,p=function(e,n){var a,l,c,u,p=e.attr(o);if(p)for(n.options=JSON.parse(p),a=0,l=n.options.length;a<l;a++)n.items.push(n.options[a][s]);else{var d=t.trim(e.val()||"");if(!i.allowEmptyOption&&!d.length)return;for(c=d.split(i.delimiter),a=0,l=c.length;a<l;a++)u={},u[r]=c[a],u[s]=c[a],n.options.push(u);n.items=c}},d=function(e,n){var p,d,f,h,g=n.options,v={},m=function(t){var e=o&&t.attr(o);return"string"==typeof e&&e.length?JSON.parse(e):null},y=function(e,o){e=t(e);var l=u(e.val());if(l||i.allowEmptyOption)if(v.hasOwnProperty(l)){if(o){var c=v[l][a];c?t.isArray(c)?c.push(o):v[l][a]=[c,o]:v[l][a]=o}}else{var p=m(e)||{};p[r]=p[r]||e.text(),p[s]=p[s]||l,p[a]=p[a]||o,v[l]=p,g.push(p),e.is(":selected")&&n.items.push(l)}};for(n.maxItems=e.attr("multiple")?null:1,h=e.children(),p=0,d=h.length;p<d;p++)f=h[p].tagName.toLowerCase(),"optgroup"===f?function(e){var i,o,r,s,a;for(e=t(e),r=e.attr("label"),r&&(s=m(e)||{},s[l]=r,s[c]=r,n.optgroups.push(s)),a=t("option",e),i=0,o=a.length;i<o;i++)y(a[i],r)}(h[p]):"option"===f&&y(h[p])};return this.each(function(){if(!this.selectize){var o=t(this),r=this.tagName.toLowerCase(),s=o.attr("placeholder")||o.attr("data-placeholder");s||i.allowEmptyOption||(s=o.children('option[value=""]').text());var a={placeholder:s,options:[],optgroups:[],items:[]};"select"===r?d(o,a):p(o,a),new C(o,t.extend(!0,{},n,a,e))}})},t.fn.selectize.defaults=C.defaults,t.fn.selectize.support={validity:l},C.define("drag_drop",function(e){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n=this;n.lock=function(){var t=n.lock;return function(){var e=n.$control.data("sortable");return e&&e.disable(),t.apply(n,arguments)}}(),n.unlock=function(){var t=n.unlock;return function(){var e=n.$control.data("sortable");return e&&e.enable(),t.apply(n,arguments)}}(),n.setup=function(){var e=n.setup;return function(){e.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var e=n.$activeItems?n.$activeItems.slice():null,o=[];i.children("[data-value]").each(function(){o.push(t(this).attr("data-value"))}),n.setValue(o),n.setActiveItem(e)}})}}()}}),C.define("dropdown_header",function(e){var n=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=t(e.html(e)),n.$dropdown.prepend(n.$dropdown_header)}}()}),C.define("optgroup_columns",function(e){var n=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,n){var i=e.closest("[data-group]").find("[data-selectable]"),o=i.index(e)+n;return o>=0&&o<i.length?i.eq(o):t()},this.onKeyDown=function(){var t=n.onKeyDown;return function(e){var i,o,r,s;return!this.isOpen||37!==e.keyCode&&39!==e.keyCode?t.apply(this,arguments):(n.ignoreHover=!0,s=this.$activeOption.closest("[data-group]"),i=s.find("[data-selectable]").index(this.$activeOption),s=37===e.keyCode?s.prev("[data-group]"):s.next("[data-group]"),r=s.find("[data-selectable]"),o=r.eq(Math.min(r.length-1,i)),void(o.length&&this.setActiveOption(o)))}}();var i=function(){var t,e=i.width,n=document;return void 0===e&&(t=n.createElement("div"),t.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,n.body.appendChild(t),e=i.width=t.offsetWidth-t.clientWidth,n.body.removeChild(t)),e},o=function(){var o,r,s,a,l,c,u;if(u=t("[data-group]",n.$dropdown_content),(r=u.length)&&n.$dropdown_content.width()){if(e.equalizeHeight){for(s=0,o=0;o<r;o++)s=Math.max(s,u.eq(o).height());u.css({height:s})}e.equalizeWidth&&(c=n.$dropdown_content.innerWidth()-i(),a=Math.round(c/r),u.css({width:a}),r>1&&(l=c-a*(r-1),u.eq(r-1).css({width:l})))}};(e.equalizeHeight||e.equalizeWidth)&&(d.after(this,"positionDropdown",o),d.after(this,"refreshOptions",o))}),C.define("remove_button",function(e){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);if("single"===this.settings.mode)return void function(e,n){n.className="remove-single";var i=e,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+p(n.title)+'">'+n.label+"</a>",r=function(t,e){return t+e};e.setup=function(){var s=i.setup;return function(){if(n.append){var a=t(i.$input.context).attr("id"),l=(t("#"+a),i.settings.render.item);i.settings.render.item=function(t){return r(l.apply(e,arguments),o)}}s.apply(e,arguments),e.$control.on("click","."+n.className,function(t){t.preventDefault(),i.isLocked||i.clear()})}}()}(this,e);!function(e,n){var i=e,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+p(n.title)+'">'+n.label+"</a>",r=function(t,e){var n=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,n)+e+t.substring(n)};e.setup=function(){var s=i.setup;return function(){if(n.append){var a=i.settings.render.item;i.settings.render.item=function(t){return r(a.apply(e,arguments),o)}}s.apply(e,arguments),e.$control.on("click","."+n.className,function(e){if(e.preventDefault(),!i.isLocked){var n=t(e.currentTarget).parent();i.setActiveItem(n),i.deleteSelection()&&i.setCaret(i.items.length)}})}}()}(this,e)}),C.define("restore_on_backspace",function(t){var e=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=function(){var n=e.onKeyDown;return function(e){var i,o;return 8===e.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1)>=0&&i<this.items.length?(o=this.options[this.items[i]],this.deleteSelection(e)&&(this.setTextboxValue(t.text.apply(this,[o])),this.refreshOptions(!0)),void e.preventDefault()):n.apply(this,arguments)}}()}),C}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t;return function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return o(n||t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){var i=t("matches-selector");e.exports=function(t,e,n){for(var o=n?t:t.parentNode;o&&o!==document;){if(i(o,e))return o;o=o.parentNode}}},{"matches-selector":5}],2:[function(t,e,n){function i(t,e,n,i,r){var s=o.apply(this,arguments);return t.addEventListener(n,s,r),{destroy:function(){t.removeEventListener(n,s,r)}}}function o(t,e,n,i){return function(n){n.delegateTarget=r(n.target,e,!0),n.delegateTarget&&i.call(t,n)}}var r=t("closest");e.exports=i},{closest:1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,n){function i(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(t))return o(t,e,n);if(a.nodeList(t))return r(t,e,n);if(a.string(t))return s(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function s(t,e,n){return l(document.body,t,e,n)}var a=t("./is"),l=t("delegate");e.exports=i},{"./is":3,delegate:2}],5:[function(t,e,n){function i(t,e){if(r)return r.call(t,e);for(var n=t.parentNode.querySelectorAll(e),i=0;i<n.length;++i)if(n[i]==t)return!0;return!1}var o=Element.prototype,r=o.matchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector;e.exports=i},{}],6:[function(t,e,n){function i(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(t),n.removeAllRanges(),n.addRange(i),e=n.toString()}return e}e.exports=i},{}],7:[function(t,e,n){function i(){}i.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){o.off(t,i),e.apply(n,arguments)}var o=this;return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,o=n.length;for(i;i<o;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],o=[];if(i&&e)for(var r=0,s=i.length;r<s;r++)i[r].fn!==e&&i[r].fn._!==e&&o.push(i[r]);return o.length?n[t]=o:delete n[t],this}},e.exports=i},{}],8:[function(e,n,i){!function(o,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if(void 0!==i)r(n,e("select"));else{var s={exports:{}};r(s,o.select),o.clipboardAction=s.exports}}(this,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(t){return t&&t.__esModule?t:{default:t}}(e),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){this.selectedText=(0,i.default)(this.target),this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},r(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":o(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=s})},{select:6}],9:[function(e,n,i){!function(o,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if(void 0!==i)r(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var s={exports:{}};r(s,o.clipboardAction,o.tinyEmitter,o.goodListener),o.clipboard=s.exports}}(this,function(t,e,n,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var c=o(e),u=o(n),p=o(i),d=function(t){function e(n,i){r(this,e);var o=s(this,t.call(this));return o.resolveOptions(i),o.listenClick(n),o}return a(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.listenClick=function(t){var e=this;this.listener=(0,p.default)(t,"click",function(t){return e.onClick(t)})},e.prototype.onClick=function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},e.prototype.defaultAction=function(t){return l("action",t)},e.prototype.defaultTarget=function(t){var e=l("target",t);if(e)return document.querySelector(e)},e.prototype.defaultText=function(t){return l("text",t)},e.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(u.default);t.exports=d})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)}),function(t,e){"use strict";var n=function(){function t(t,e,n,i){return"string"==typeof t&&"function"==typeof e&&(n=parseInt(n||10,10),a("actions",t,e,n,i)),p}function e(){var t=u.call(arguments),e=t.shift();return"string"==typeof e&&c("actions",e,t),p}function n(t,e){return"string"==typeof t&&s("actions",t,e),p}function i(t,e,n,i){return"string"==typeof t&&"function"==typeof e&&(n=parseInt(n||10,10),a("filters",t,e,n,i)),p}function o(){var t=u.call(arguments),e=t.shift();return"string"==typeof e?c("filters",e,t):p}function r(t,e){return"string"==typeof t&&s("filters",t,e),p}function s(t,e,n,i){var o,r,s;if(d[t][e])if(n)if(o=d[t][e],i)for(s=o.length;s--;)r=o[s],r.callback===n&&r.context===i&&o.splice(s,1);else for(s=o.length;s--;)o[s].callback===n&&o.splice(s,1);else d[t][e]=[]}function a(t,e,n,i,o){var r={callback:n,priority:i,context:o},s=d[t][e];s?(s.push(r),s=l(s)):s=[r],d[t][e]=s}function l(t){for(var e,n,i,o=1,r=t.length;o<r;o++){for(e=t[o],n=o;(i=t[n-1])&&i.priority>e.priority;)t[n]=t[n-1],--n;t[n]=e}return t}function c(t,e,n){var i,o,r=d[t][e];if(!r)return"filters"===t&&n[0];if(o=r.length,"filters"===t)for(i=0;i<o;i++)n[0]=r[i].callback.apply(r[i].context,n);else for(i=0;i<o;i++)r[i].callback.apply(r[i].context,n);return"filters"!==t||n[0]}var u=Array.prototype.slice,p={removeFilter:r,applyFilters:o,addFilter:i,removeAction:n,doAction:e,addAction:t},d={actions:{},filters:{}};return p};t.wp=t.wp||{},t.wp.hooks=new n}(window),function(t){t(document).ready(function(){t(".pretty-select").selectize(),new Clipboard("#notification_merge_tags .inside ul li code").on("success",function(e){var n=t(e.trigger),i=n.text();n.text(notification.copied),setTimeout(function(){n.text(i)},800)}),t("#notification_trigger_select").selectize().change(function(){var e=t(this),n=t("#notification_merge_tags .inside"),i=t("#notification_merge_tags");i.fadeTo(200,.5);var o={action:"notification_get_merge_tags",trigger:e.val()};t.post(ajaxurl,o,function(o){if(0==o.success){n.html("<p>"+o.data+"</p>");var r={}}else{ul=t("<ul>");var r=o.data;t.each(r,function(t,e){ul.append('<li><code data-clipboard-text="{'+e+'}">{'+e+"}</code></li>")}),n.html(ul)}wp.hooks.doAction("notification.changed_trigger",e.val(),r),i.fadeTo(200,1)})});var e=function(){var e=0;if(1==t("#notification_recipients .recipient").length)var n=!0;else var n=!1;t("#notification_recipients .recipient").each(function(){var i=t(this),o=i.find(".actions .dashicons-trash"),r=i.find("input, select");n?o.addClass("disabled"):o.removeClass("disabled"),r.each(function(){var n=t(this),i=n.attr("name");n.attr("name",i.replace(/notification_recipient\[[0-9]+\]/,"notification_recipient["+e+"]"))}),e++})},n=function(n,i){n=void 0!==n?n:"",i=void 0!==i?i:"";var o=t("#notification_recipients .recipients");o.fadeTo(200,.5);var r={action:"notification_add_recipient",type:n,value:i};t.post(ajaxurl,r,function(n){if(0==n.success)alert(n.data);else{var i=t(n.data);o.append(i),i.find("input, select").each(function(){wp.hooks.doAction("notification.update_input",t(this),t(this).data("value"),t(this).data("update"))})}o.fadeTo(200,1),e()})};t("#notification_recipients").on("click","#notification_add_recipient",function(t){t.preventDefault(),n()}),t("#notification_recipients").on("click",".recipient .actions .dashicons-trash",function(n){n.preventDefault();var i=t(this),o=i.parents(".recipient").first();if(i.hasClass("disabled"))return!1;o.animate({left:"50px",opacity:0},400,"linear",function(){t(this).remove(),e()})}),t("#notification_recipients").on("change",".recipient .group select",function(){var n=t(this),i=n.parent().next(".value").find("input, select").first(),o=i.parent();o.fadeTo(200,.5);var r={action:"notification_get_recipient_input",recipient_name:n.val()};t.post(ajaxurl,r,function(n){if(0==n.success)alert(n.data);else{var i=t(n.data);o.html(i),void 0!==i.data("update")&&wp.hooks.doAction("notification.update_input",i,i.data("value"),i.data("update"))}o.fadeTo(200,1),e()})});var i=function(){t("#notification_recipients .recipient").each(function(){var e=t(this).find(".field.value select, .field.value input");void 0!==e.data("update")&&wp.hooks.doAction("notification.update_input",e,e.data("value"),e.data("update"))})};t(document).ready(i),wp.hooks.addAction("notification.changed_trigger",i),wp.hooks.addAction("notification.update_input",function(e,n,i){if("email_merge_tags"==i){var o=t("#notification_trigger_select").val(),r=e.parent();r.fadeTo(200,.5);var s={action:"notification_get_email_merge_tags",trigger:o};t.post(ajaxurl,s,function(i){0==i.success?alert(i.data):(e.find("option").remove(),e.append(t("<option>")),t.each(i.data,function(i,o){var r={value:i,text:o};i==n&&(r.selected="selected"),e.append(t("<option>",r))})),r.fadeTo(200,1)})}}),wp.hooks.addAction("notification.changed_trigger",function(e,i){if(void 0===tinymce.editors.content)var o=t("#content").val();else var o=tinymce.activeEditor.getContent();if(""==o){var r={action:"notification_get_defaults",trigger:e};t.post(ajaxurl,r,function(e){if(0==e.success)alert(e.data);else{var i=e.data;i.title&&t("#title").val(i.title).focus(),i.template&&(void 0===tinymce.editors.content?t("#content").val(i.template):tinymce.editors.content.setContent(i.template)),i.recipients&&(t("#notification_recipients .recipients .recipient").first().remove(),t.each(i.recipients,function(t,e){n(t,e)}))}})}}),t(".notification-notice").on("click",".dismiss-beg-message",function(e){e.preventDefault();var n=t(this),i={action:"notification_dismiss_beg_message",nonce:n.data("nonce")};t.post(ajaxurl,i,function(t){n.parents(".notification-notice").slideUp()})}),t(".notification-notice").on("click",".dismiss-beg-email-message",function(e){e.preventDefault();var n=t(this),i={action:"notification_dismiss_beg_email_message",nonce:n.data("nonce")};t.post(ajaxurl,i,function(t){n.parents(".notification-notice").slideUp()})}),t('#the-list tr[data-slug="notification"] .deactivate a').click(function(t){t.preventDefault()}),t("body").on("submit","#notification-plugin-feedback-form",function(e){e.preventDefault();var n=t(this);n.find(".spinner").addClass("is-active");var i={action:"notification_send_feedback",form:n.serializeArray()};t.post(ajaxurl,i,function(e){window.location.href=t('#the-list tr[data-slug="notification"] .deactivate a').data("deactivate")})})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlbmRvci9zZWxlY3RpemUuanMiLCJ2ZW5kb3IvY2xpcGJvYXJkLmpzIiwidmVuZG9yL2V2ZW50LW1hbmFnZXIuanMiLCJhZG1pbi5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJTaWZ0ZXIiLCJ0aGlzIiwiaXRlbXMiLCJzZXR0aW5ncyIsImRpYWNyaXRpY3MiLCJwcm90b3R5cGUiLCJ0b2tlbml6ZSIsInF1ZXJ5IiwidHJpbSIsIlN0cmluZyIsInRvTG93ZXJDYXNlIiwibGVuZ3RoIiwiaSIsIm4iLCJyZWdleCIsImxldHRlciIsInRva2VucyIsIndvcmRzIiwic3BsaXQiLCJlc2NhcGVfcmVnZXgiLCJESUFDUklUSUNTIiwiaGFzT3duUHJvcGVydHkiLCJyZXBsYWNlIiwiUmVnRXhwIiwicHVzaCIsInN0cmluZyIsIml0ZXJhdG9yIiwib2JqZWN0IiwiY2FsbGJhY2siLCJpc19hcnJheSIsIkFycmF5IiwiZm9yRWFjaCIsImtleSIsImFwcGx5IiwiZ2V0U2NvcmVGdW5jdGlvbiIsInNlYXJjaCIsIm9wdGlvbnMiLCJzZWxmIiwiZmllbGRzIiwidG9rZW5fY291bnQiLCJuZXN0aW5nIiwicHJlcGFyZVNlYXJjaCIsInNjb3JlVmFsdWUiLCJ2YWx1ZSIsInRva2VuIiwic2NvcmUiLCJwb3MiLCJzY29yZU9iamVjdCIsImZpZWxkX2NvdW50IiwiZGF0YSIsImdldGF0dHIiLCJzdW0iLCJjb25qdW5jdGlvbiIsImdldFNvcnRGdW5jdGlvbiIsImZpZWxkIiwiZmllbGRzX2NvdW50IiwibXVsdGlwbGllciIsIm11bHRpcGxpZXJzIiwiZ2V0X2ZpZWxkIiwiaW1wbGljaXRfc2NvcmUiLCJzb3J0Iiwic29ydF9lbXB0eSIsIm5hbWUiLCJyZXN1bHQiLCJpZCIsInVuc2hpZnQiLCJkaXJlY3Rpb24iLCJzcGxpY2UiLCJhIiwiYiIsImNtcCIsImV4dGVuZCIsIm9wdGlvbl9maWVsZHMiLCJvcHRpb25fc29ydCIsIm9wdGlvbl9zb3J0X2VtcHR5IiwidG90YWwiLCJmbl9zb3J0IiwiZm5fc2NvcmUiLCJpdGVtIiwiZmlsdGVyIiwibGltaXQiLCJzbGljZSIsImFzY2lpZm9sZCIsImsiLCJhcmd1bWVudHMiLCJvYmoiLCJuYW1lcyIsInNoaWZ0Iiwic3RyIiwiaXNBcnJheSIsIiQiLCJPYmplY3QiLCJ0b1N0cmluZyIsImNhbGwiLCJjIiwiZCIsImUiLCJmIiwiZyIsImgiLCJqIiwibCIsIm8iLCJwIiwicSIsInIiLCJzIiwidCIsInUiLCJ2IiwidyIsIngiLCJ5IiwieiIsImNodW5rIiwiZm9yZWlnbmxldHRlcnMiLCJsb29rdXAiLCJzdWJzdHJpbmciLCJjaGFyQXQiLCJyZWdleHAiLCJmb3JlaWdubGV0dGVyIiwiTWljcm9QbHVnaW4iLCJtaXhpbiIsIkludGVyZmFjZSIsInBsdWdpbnMiLCJpbml0aWFsaXplUGx1Z2lucyIsInF1ZXVlIiwicmVxdWVzdGVkIiwibG9hZGVkIiwidXRpbHMiLCJyZXF1aXJlIiwibG9hZFBsdWdpbiIsInBsdWdpbiIsIkVycm9yIiwiZm4iLCJ2QXJnIiwiU2VsZWN0aXplIiwialF1ZXJ5IiwiaGlnaGxpZ2h0IiwiJGVsZW1lbnQiLCJwYXR0ZXJuIiwibm9kZSIsInNraXAiLCJub2RlVHlwZSIsIm1hdGNoIiwic3Bhbm5vZGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJtaWRkbGViaXQiLCJzcGxpdFRleHQiLCJtaWRkbGVjbG9uZSIsImNsb25lTm9kZSIsImFwcGVuZENoaWxkIiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsImNoaWxkTm9kZXMiLCJ0ZXN0IiwidGFnTmFtZSIsImVhY2giLCJyZW1vdmVIaWdobGlnaHQiLCJmaW5kIiwiZmlyc3RDaGlsZCIsIm5vZGVOYW1lIiwicGFyZW50Iiwibm9ybWFsaXplIiwiZW5kIiwiTWljcm9FdmVudCIsIm9uIiwiZXZlbnQiLCJmY3QiLCJfZXZlbnRzIiwib2ZmIiwiaW5kZXhPZiIsInRyaWdnZXIiLCJkZXN0T2JqZWN0IiwicHJvcHMiLCJJU19NQUMiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJLRVlfQ01EIiwiS0VZX0NUUkwiLCJTVVBQT1JUU19WQUxJRElUWV9BUEkiLCJ3aW5kb3ciLCJ2YWxpZGl0eSIsImlzc2V0IiwiaGFzaF9rZXkiLCJlc2NhcGVfaHRtbCIsImhvb2siLCJiZWZvcmUiLCJtZXRob2QiLCJvcmlnaW5hbCIsImFmdGVyIiwib25jZSIsImNhbGxlZCIsImRlYm91bmNlIiwiZGVsYXkiLCJ0aW1lb3V0IiwiYXJncyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJkZWJvdW5jZV9ldmVudHMiLCJ0eXBlcyIsInR5cGUiLCJldmVudF9hcmdzIiwid2F0Y2hDaGlsZEV2ZW50IiwiJHBhcmVudCIsInNlbGVjdG9yIiwiY2hpbGQiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiZ2V0U2VsZWN0aW9uIiwiaW5wdXQiLCJzdGFydCIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwic2VsZWN0aW9uIiwiZm9jdXMiLCJzZWwiLCJjcmVhdGVSYW5nZSIsInNlbExlbiIsInRleHQiLCJtb3ZlU3RhcnQiLCJ0cmFuc2ZlclN0eWxlcyIsIiRmcm9tIiwiJHRvIiwicHJvcGVydGllcyIsInN0eWxlcyIsImNzcyIsIm1lYXN1cmVTdHJpbmciLCIkdGVzdCIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsIndpZHRoIiwicGFkZGluZyIsIndoaXRlU3BhY2UiLCJhcHBlbmRUbyIsInJlbW92ZSIsImF1dG9Hcm93IiwiJGlucHV0IiwiY3VycmVudFdpZHRoIiwidXBkYXRlIiwia2V5Q29kZSIsInByaW50YWJsZSIsInBsYWNlaG9sZGVyIiwiY2hhcmFjdGVyIiwibWV0YUtleSIsImFsdEtleSIsImZvcmNlIiwidmFsIiwic2hpZnRLZXkiLCJmcm9tQ2hhckNvZGUiLCJ0b1VwcGVyQ2FzZSIsImF0dHIiLCJ0cmlnZ2VySGFuZGxlciIsImRvbVRvU3RyaW5nIiwidG1wIiwiaW5uZXJIVE1MIiwiZGlyIiwic2VsZWN0aXplIiwiY29tcHV0ZWRTdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiY3VycmVudFN0eWxlIiwicGFyZW50cyIsIm9yZGVyIiwidGFiSW5kZXgiLCJ0YWdUeXBlIiwicnRsIiwiZXZlbnROUyIsImNvdW50IiwiaGlnaGxpZ2h0ZWRWYWx1ZSIsImlzT3BlbiIsImlzRGlzYWJsZWQiLCJpc1JlcXVpcmVkIiwiaXMiLCJpc0ludmFsaWQiLCJpc0xvY2tlZCIsImlzRm9jdXNlZCIsImlzSW5wdXRIaWRkZW4iLCJpc1NldHVwIiwiaXNTaGlmdERvd24iLCJpc0NtZERvd24iLCJpc0N0cmxEb3duIiwiaWdub3JlRm9jdXMiLCJpZ25vcmVCbHVyIiwiaWdub3JlSG92ZXIiLCJoYXNPcHRpb25zIiwiY3VycmVudFJlc3VsdHMiLCJsYXN0VmFsdWUiLCJjYXJldFBvcyIsImxvYWRpbmciLCJsb2FkZWRTZWFyY2hlcyIsIiRhY3RpdmVPcHRpb24iLCIkYWN0aXZlSXRlbXMiLCJvcHRncm91cHMiLCJ1c2VyT3B0aW9ucyIsInJlbmRlckNhY2hlIiwib25TZWFyY2hDaGFuZ2UiLCJsb2FkVGhyb3R0bGUiLCJzaWZ0ZXIiLCJyZWdpc3Rlck9wdGlvbiIsInJlZ2lzdGVyT3B0aW9uR3JvdXAiLCJtb2RlIiwibWF4SXRlbXMiLCJoaWRlU2VsZWN0ZWQiLCJzZXR1cENhbGxiYWNrcyIsInNldHVwVGVtcGxhdGVzIiwic2V0dXAiLCJtZXNzYWdlIiwiY29uc29sZSIsImVycm9yIiwiY29tcG9uZW50IiwiZXhwbGFuYXRpb24iLCJncm91cCIsImdyb3VwRW5kIiwiJHdyYXBwZXIiLCIkY29udHJvbCIsIiRjb250cm9sX2lucHV0IiwiJGRyb3Bkb3duIiwiJGRyb3Bkb3duX2NvbnRlbnQiLCIkZHJvcGRvd25fcGFyZW50IiwiaW5wdXRNb2RlIiwiY2xhc3NlcyIsImNsYXNzZXNfcGx1Z2lucyIsImlucHV0SWQiLCIkd2luZG93IiwiJGRvY3VtZW50IiwiYWRkQ2xhc3MiLCJ3cmFwcGVyQ2xhc3MiLCJpbnB1dENsYXNzIiwiZHJvcGRvd25QYXJlbnQiLCJkcm9wZG93bkNsYXNzIiwiaGlkZSIsImRyb3Bkb3duQ29udGVudENsYXNzIiwiY29weUNsYXNzZXNUb0Ryb3Bkb3duIiwic3R5bGUiLCJqb2luIiwic3BsaXRPbiIsImRlbGltaXRlciIsImRlbGltaXRlckVzY2FwZWQiLCJvbk9wdGlvbkhvdmVyIiwib25PcHRpb25TZWxlY3QiLCJvbkl0ZW1TZWxlY3QiLCJtb3VzZWRvd24iLCJvbk1vdXNlRG93biIsImNsaWNrIiwib25DbGljayIsInN0b3BQcm9wYWdhdGlvbiIsImtleWRvd24iLCJvbktleURvd24iLCJrZXl1cCIsIm9uS2V5VXAiLCJrZXlwcmVzcyIsIm9uS2V5UHJlc3MiLCJyZXNpemUiLCJwb3NpdGlvbkRyb3Bkb3duIiwiYmx1ciIsIm9uQmx1ciIsIm9uRm9jdXMiLCJwYXN0ZSIsIm9uUGFzdGUiLCJoYXMiLCJyZXZlcnRTZXR0aW5ncyIsIiRjaGlsZHJlbiIsImNoaWxkcmVuIiwiZGV0YWNoIiwidGFiaW5kZXgiLCJzZXRWYWx1ZSIsInByZXZlbnREZWZhdWx0IiwicmVmcmVzaFN0YXRlIiwidXBkYXRlT3JpZ2luYWxJbnB1dCIsInJlZnJlc2hJdGVtcyIsInVwZGF0ZVBsYWNlaG9sZGVyIiwiZGlzYWJsZSIsIm9uQ2hhbmdlIiwicHJlbG9hZCIsImZpZWxkX2xhYmVsIiwibGFiZWxGaWVsZCIsImZpZWxkX29wdGdyb3VwIiwib3B0Z3JvdXBMYWJlbEZpZWxkIiwidGVtcGxhdGVzIiwib3B0Z3JvdXAiLCJodG1sIiwib3B0Z3JvdXBfaGVhZGVyIiwiZXNjYXBlIiwib3B0aW9uIiwib3B0aW9uX2NyZWF0ZSIsInJlbmRlciIsImNhbGxiYWNrcyIsImluaXRpYWxpemUiLCJjaGFuZ2UiLCJpdGVtX2FkZCIsIml0ZW1fcmVtb3ZlIiwiY2xlYXIiLCJvcHRpb25fYWRkIiwib3B0aW9uX3JlbW92ZSIsIm9wdGlvbl9jbGVhciIsIm9wdGdyb3VwX2FkZCIsIm9wdGdyb3VwX3JlbW92ZSIsIm9wdGdyb3VwX2NsZWFyIiwiZHJvcGRvd25fb3BlbiIsImRyb3Bkb3duX2Nsb3NlIiwibG9hZCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJjbG9zZSIsIm9wZW4iLCJzZXRBY3RpdmVJdGVtIiwiaXNGdWxsIiwicGFzdGVkVGV4dCIsInNwbGl0SW5wdXQiLCJjcmVhdGVJdGVtIiwid2hpY2giLCJjcmVhdGUiLCJzZWxlY3RBbGwiLCJjdHJsS2V5IiwiJG5leHQiLCJnZXRBZGphY2VudE9wdGlvbiIsInNldEFjdGl2ZU9wdGlvbiIsIiRwcmV2IiwiYWR2YW5jZVNlbGVjdGlvbiIsInNlbGVjdE9uVGFiIiwiZGVsZXRlU2VsZWN0aW9uIiwicmVmcmVzaE9wdGlvbnMiLCJ3YXNGb2N1c2VkIiwic2hvd0lucHV0Iiwib3Blbk9uRm9jdXMiLCJkZXN0IiwiYWN0aXZlRWxlbWVudCIsImRlYWN0aXZhdGUiLCJzZXRUZXh0Ym94VmFsdWUiLCJzZXRDYXJldCIsImNyZWF0ZU9uQmx1ciIsIiR0YXJnZXQiLCJoYXNDbGFzcyIsImNsb3NlQWZ0ZXJTZWxlY3QiLCJsYXN0UXVlcnkiLCJhZGRJdGVtIiwiZ2V0T3B0aW9uIiwibG9hZGluZ0NsYXNzIiwicmVzdWx0cyIsIk1hdGgiLCJtYXgiLCJhZGRPcHRpb24iLCJyZW1vdmVDbGFzcyIsImdldFZhbHVlIiwic2lsZW50IiwiYWRkSXRlbXMiLCIkaXRlbSIsImV2ZW50TmFtZSIsImlkeCIsImJlZ2luIiwic3dhcCIsIiRsYXN0IiwiaGlkZUlucHV0IiwiJG9wdGlvbiIsInNjcm9sbCIsImFuaW1hdGUiLCJoZWlnaHRfbWVudSIsImhlaWdodF9pdGVtIiwic2Nyb2xsX3RvcCIsInNjcm9sbF9ib3R0b20iLCJoZWlnaHQiLCJvdXRlckhlaWdodCIsInNjcm9sbFRvcCIsIm9mZnNldCIsInN0b3AiLCJzY3JvbGxEdXJhdGlvbiIsIm9wYWNpdHkiLCJnZXRTZWFyY2hPcHRpb25zIiwic29ydEZpZWxkIiwic2VhcmNoRmllbGQiLCJzZWFyY2hDb25qdW5jdGlvbiIsImNhbGN1bGF0ZVNjb3JlIiwidHJpZ2dlckRyb3Bkb3duIiwiZ3JvdXBzIiwiZ3JvdXBzX29yZGVyIiwib3B0aW9uX2h0bWwiLCJodG1sX2NoaWxkcmVuIiwiaGFzX2NyZWF0ZV9vcHRpb24iLCIkYWN0aXZlIiwiJGFjdGl2ZV9iZWZvcmUiLCIkY3JlYXRlIiwiYWN0aXZlX2JlZm9yZSIsIm1heE9wdGlvbnMiLCJtaW4iLCJvcHRncm91cEZpZWxkIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImxvY2tPcHRncm91cE9yZGVyIiwiJG9yZGVyIiwiZG9tIiwiY2FuQ3JlYXRlIiwicHJlcGVuZCIsImFkZFByZWNlZGVuY2UiLCJ2YWx1ZUZpZWxkIiwib3B0Z3JvdXBWYWx1ZUZpZWxkIiwiYWRkT3B0aW9uR3JvdXAiLCJyZW1vdmVPcHRpb25Hcm91cCIsImNsZWFyT3B0aW9uR3JvdXBzIiwidXBkYXRlT3B0aW9uIiwiJGl0ZW1fbmV3IiwidmFsdWVfbmV3IiwiaW5kZXhfaXRlbSIsImNhY2hlX2l0ZW1zIiwiY2FjaGVfb3B0aW9ucyIsIm9yZGVyX29sZCIsImdldEl0ZW0iLCJyZXBsYWNlV2l0aCIsInJlbW92ZU9wdGlvbiIsInJlbW92ZUl0ZW0iLCJjbGVhck9wdGlvbnMiLCJnZXRFbGVtZW50V2l0aFZhbHVlIiwiJG9wdGlvbnMiLCJpbmRleCIsImVxIiwiJGVscyIsImdldEF0dHJpYnV0ZSIsInZhbHVlcyIsImlzUGVuZGluZyIsInZhbHVlX25leHQiLCJ3YXNGdWxsIiwiaW5zZXJ0QXRDYXJldCIsInBlcnNpc3QiLCJjYXJldCIsImxvY2siLCJ1bmxvY2siLCJvdXRwdXQiLCJyZWZyZXNoVmFsaWRpdHlTdGF0ZSIsInJlZnJlc2hDbGFzc2VzIiwiaW52YWxpZCIsInByb3AiLCJ0b2dnbGVDbGFzcyIsImlzRW1wdHlPYmplY3QiLCJvcHRzIiwibGFiZWwiLCJyZW1vdmVBdHRyIiwidmlzaWJpbGl0eSIsImRpc3BsYXkiLCJvdXRlcldpZHRoIiwiJGVsIiwib3B0aW9uX3NlbGVjdCIsIiRvcHRpb25fc2VsZWN0IiwiJHRhaWwiLCJvbkRlbGV0ZSIsInBvcCIsInRhaWwiLCJ2YWx1ZUxlbmd0aCIsImFkdmFuY2VDYXJldCIsIiRhZGoiLCIkY2hpbGQiLCJhcHBlbmQiLCJlbmFibGUiLCJkZXN0cm95Iiwic2hvdyIsInJlbW92ZURhdGEiLCJib2R5IiwidGVtcGxhdGVOYW1lIiwiY2FjaGUiLCJjbGVhckNhY2hlIiwiY3JlYXRlRmlsdGVyIiwiZGVmYXVsdHMiLCJhbGxvd0VtcHR5T3B0aW9uIiwiZGF0YUF0dHIiLCJzZXR0aW5nc191c2VyIiwiYXR0cl9kYXRhIiwiZmllbGRfdmFsdWUiLCJmaWVsZF9vcHRncm91cF9sYWJlbCIsImZpZWxkX29wdGdyb3VwX3ZhbHVlIiwiaW5pdF90ZXh0Ym94Iiwic2V0dGluZ3NfZWxlbWVudCIsImRhdGFfcmF3IiwiSlNPTiIsInBhcnNlIiwiaW5pdF9zZWxlY3QiLCJvcHRpb25zTWFwIiwicmVhZERhdGEiLCJhcnIiLCIkb3B0Z3JvdXAiLCJ0YWdfbmFtZSIsInN1cHBvcnQiLCJzb3J0YWJsZSIsImZvcmNlUGxhY2Vob2xkZXJTaXplIiwiZGlzYWJsZWQiLCJ1aSIsImhlbHBlciIsIm92ZXJmbG93IiwiYWN0aXZlIiwidGl0bGUiLCJoZWFkZXJDbGFzcyIsInRpdGxlUm93Q2xhc3MiLCJsYWJlbENsYXNzIiwiY2xvc2VDbGFzcyIsIiRkcm9wZG93bl9oZWFkZXIiLCJlcXVhbGl6ZVdpZHRoIiwiZXF1YWxpemVIZWlnaHQiLCJjbG9zZXN0IiwicHJldiIsIm5leHQiLCJnZXRTY3JvbGxiYXJXaWR0aCIsImRpdiIsImRvYyIsIm9mZnNldFdpZHRoIiwiY2xpZW50V2lkdGgiLCJyZW1vdmVDaGlsZCIsImVxdWFsaXplU2l6ZXMiLCJoZWlnaHRfbWF4Iiwid2lkdGhfbGFzdCIsIndpZHRoX3BhcmVudCIsIiRvcHRncm91cHMiLCJpbm5lcldpZHRoIiwicm91bmQiLCJ0aGlzUmVmIiwiaHRtbF9jb250YWluZXIiLCJodG1sX2VsZW1lbnQiLCJjb250ZXh0IiwicmVuZGVyX2l0ZW0iLCJnbG9iYWwiLCJDbGlwYm9hcmQiLCJjb2RlIiwiMSIsIm1hdGNoZXMiLCJlbGVtZW50IiwiY2hlY2tZb1NlbGYiLCJtYXRjaGVzLXNlbGVjdG9yIiwiMiIsImRlbGVnYXRlIiwidXNlQ2FwdHVyZSIsImxpc3RlbmVyRm4iLCJsaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGVsZWdhdGVUYXJnZXQiLCIzIiwidW5kZWZpbmVkIiwiSFRNTEVsZW1lbnQiLCJub2RlTGlzdCIsIjQiLCJsaXN0ZW4iLCJUeXBlRXJyb3IiLCJsaXN0ZW5Ob2RlIiwibGlzdGVuTm9kZUxpc3QiLCJsaXN0ZW5TZWxlY3RvciIsIi4vaXMiLCI1IiwiZWwiLCJ2ZW5kb3IiLCJub2RlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwcm90byIsIkVsZW1lbnQiLCJtYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCI2Iiwic2VsZWN0Iiwic2VsZWN0ZWRUZXh0Iiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJoYXNBdHRyaWJ1dGUiLCJyYW5nZSIsInNlbGVjdE5vZGVDb250ZW50cyIsInJlbW92ZUFsbFJhbmdlcyIsImFkZFJhbmdlIiwiNyIsIkUiLCJjdHgiLCJfIiwiZW1pdCIsImV2dEFyciIsImxlbiIsImV2dHMiLCJsaXZlRXZlbnRzIiwiOCIsIm1vZCIsImNsaXBib2FyZEFjdGlvbiIsIl9zZWxlY3QiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX3NlbGVjdDIiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl90eXBlb2YiLCJTeW1ib2wiLCJjb25zdHJ1Y3RvciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZGVmaW5lUHJvcGVydHkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJDbGlwYm9hcmRBY3Rpb24iLCJyZXNvbHZlT3B0aW9ucyIsImluaXRTZWxlY3Rpb24iLCJhY3Rpb24iLCJlbWl0dGVyIiwic2VsZWN0RmFrZSIsInNlbGVjdFRhcmdldCIsIl90aGlzIiwiaXNSVEwiLCJkb2N1bWVudEVsZW1lbnQiLCJyZW1vdmVGYWtlIiwiZmFrZUhhbmRsZXJDYWxsYmFjayIsImZha2VIYW5kbGVyIiwiZmFrZUVsZW0iLCJmb250U2l6ZSIsImJvcmRlciIsIm1hcmdpbiIsInBhZ2VZT2Zmc2V0Iiwic2V0QXR0cmlidXRlIiwiY29weVRleHQiLCJzdWNjZWVkZWQiLCJleGVjQ29tbWFuZCIsImVyciIsImhhbmRsZVJlc3VsdCIsImNsZWFyU2VsZWN0aW9uIiwiYmluZCIsInNldCIsIl9hY3Rpb24iLCJnZXQiLCJfdGFyZ2V0IiwiOSIsInRpbnlFbWl0dGVyIiwiZ29vZExpc3RlbmVyIiwiY2xpcGJvYXJkIiwiX2NsaXBib2FyZEFjdGlvbiIsIl90aW55RW1pdHRlciIsIl9nb29kTGlzdGVuZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZ2V0QXR0cmlidXRlVmFsdWUiLCJzdWZmaXgiLCJhdHRyaWJ1dGUiLCJfY2xpcGJvYXJkQWN0aW9uMiIsIl90aW55RW1pdHRlcjIiLCJfZ29vZExpc3RlbmVyMiIsIl9FbWl0dGVyIiwibGlzdGVuQ2xpY2siLCJkZWZhdWx0QWN0aW9uIiwiZGVmYXVsdFRhcmdldCIsImRlZmF1bHRUZXh0IiwiX3RoaXMyIiwicXVlcnlTZWxlY3RvciIsIi4vY2xpcGJvYXJkLWFjdGlvbiIsImdvb2QtbGlzdGVuZXIiLCJ0aW55LWVtaXR0ZXIiLCJFdmVudE1hbmFnZXIiLCJhZGRBY3Rpb24iLCJwcmlvcml0eSIsInBhcnNlSW50IiwiX2FkZEhvb2siLCJNZXRob2RzQXZhaWxhYmxlIiwiZG9BY3Rpb24iLCJfcnVuSG9vayIsInJlbW92ZUFjdGlvbiIsIl9yZW1vdmVIb29rIiwiYWRkRmlsdGVyIiwiYXBwbHlGaWx0ZXJzIiwicmVtb3ZlRmlsdGVyIiwiaGFuZGxlcnMiLCJoYW5kbGVyIiwiU1RPUkFHRSIsImhvb2tPYmplY3QiLCJob29rcyIsIl9ob29rSW5zZXJ0U29ydCIsInRtcEhvb2siLCJwcmV2SG9vayIsImFjdGlvbnMiLCJmaWx0ZXJzIiwid3AiLCJyZWFkeSIsIiRjb2RlIiwidGFnIiwibm90aWZpY2F0aW9uIiwiY29waWVkIiwiJHNlbGVjdCIsIiRjb250YWluZXIiLCIkbWV0YWJveCIsImZhZGVUbyIsInBvc3QiLCJhamF4dXJsIiwicmVzcG9uc2UiLCJzdWNjZXNzIiwidGFncyIsInVsIiwidXBkYXRlX3JlY2lwaWVudHMiLCIkcm93IiwiJHJlbW92ZV9idXR0b24iLCIkaW5wdXRzIiwicGFydF9uYW1lIiwiYWRkX3JlY2lwaWVudCIsImFsZXJ0IiwiJGJ1dHRvbiIsImZpcnN0IiwicmVjaXBpZW50X25hbWUiLCJ1cGRhdGVfYWxsX2lucHV0cyIsInVwZGF0ZV90eXBlIiwidGFnX3ZhbHVlIiwiYXR0cyIsInNlbGVjdGVkIiwidHJpZ2dlcl9zbHVnIiwidGlueW1jZSIsImVkaXRvcnMiLCJjb250ZW50IiwiZWRpdG9yX2NvbnRlbnQiLCJhY3RpdmVFZGl0b3IiLCJnZXRDb250ZW50IiwidGVtcGxhdGUiLCJzZXRDb250ZW50IiwicmVjaXBpZW50cyIsIm5vbmNlIiwic2xpZGVVcCIsIiRmb3JtIiwiZm9ybSIsInNlcmlhbGl6ZUFycmF5IiwibG9jYXRpb24iLCJocmVmIl0sIm1hcHBpbmdzIjoiQ0FnQkEsU0FBQUEsRUFBQUMsR0FDQSxrQkFBQUMsU0FBQUEsT0FBQUMsSUFD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TUFBQWxCLEVBQUFudkIsS0FBQSxTQUdBeUMsR0FBQTZyQixLQUFBQyxRQUFBdnVCLEVBQUEsU0FBQXd1QixHQUNBVyxFQUFBM2hCLFFBQUEsd0JBQUE4aUIsY0FPQTd0QixFQUFBLHdEQUFBaVEsTUFBQSxTQUFBbEwsR0FDQUEsRUFBQXlNLG1CQUdBeFIsRUFBQSxRQUFBOEUsR0FBQSxTQUFBLHFDQUFBLFNBQUFDLEdBRUFBLEVBQUF5TSxnQkFFQSxJQUFBc2MsR0FBQTl0QixFQUFBekYsS0FFQXV6QixHQUFBdnBCLEtBQUEsWUFBQXdLLFNBQUEsWUFFQSxJQUFBeFIsSUFDQTJvQixPQUFBLDZCQUNBNkgsS0FBQUQsRUFBQUUsaUJBR0FodUIsR0FBQTZyQixLQUFBQyxRQUFBdnVCLEVBQUEsU0FBQXd1QixHQUNBbG1CLE9BQUFvb0IsU0FBQUMsS0FBQWx1QixFQUFBLHdEQUFBekMsS0FBQSxxQkFPQXdGIiwiZmlsZSI6InNjcmlwdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIHNpZnRlci5qc1xyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMgQnJpYW4gUmVhdmlzICYgY29udHJpYnV0b3JzXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzXHJcbiAqIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxyXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlclxyXG4gKiB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GXHJcbiAqIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZVxyXG4gKiBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEJyaWFuIFJlYXZpcyA8YnJpYW5AdGhpcmRyb3V0ZS5jb20+XHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcclxuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XHJcblx0XHRkZWZpbmUoJ3NpZnRlcicsIGZhY3RvcnkpO1xyXG5cdH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XHJcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cm9vdC5TaWZ0ZXIgPSBmYWN0b3J5KCk7XHJcblx0fVxyXG59KHRoaXMsIGZ1bmN0aW9uKCkge1xyXG5cclxuXHQvKipcclxuXHQgKiBUZXh0dWFsbHkgc2VhcmNoZXMgYXJyYXlzIGFuZCBoYXNoZXMgb2Ygb2JqZWN0c1xyXG5cdCAqIGJ5IHByb3BlcnR5IChvciBtdWx0aXBsZSBwcm9wZXJ0aWVzKS4gRGVzaWduZWRcclxuXHQgKiBzcGVjaWZpY2FsbHkgZm9yIGF1dG9jb21wbGV0ZS5cclxuXHQgKlxyXG5cdCAqIEBjb25zdHJ1Y3RvclxyXG5cdCAqIEBwYXJhbSB7YXJyYXl8b2JqZWN0fSBpdGVtc1xyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBpdGVtc1xyXG5cdCAqL1xyXG5cdHZhciBTaWZ0ZXIgPSBmdW5jdGlvbihpdGVtcywgc2V0dGluZ3MpIHtcclxuXHRcdHRoaXMuaXRlbXMgPSBpdGVtcztcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB7ZGlhY3JpdGljczogdHJ1ZX07XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogU3BsaXRzIGEgc2VhcmNoIHN0cmluZyBpbnRvIGFuIGFycmF5IG9mIGluZGl2aWR1YWxcclxuXHQgKiByZWdleHBzIHRvIGJlIHVzZWQgdG8gbWF0Y2ggcmVzdWx0cy5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeVxyXG5cdCAqIEByZXR1cm5zIHthcnJheX1cclxuXHQgKi9cclxuXHRTaWZ0ZXIucHJvdG90eXBlLnRva2VuaXplID0gZnVuY3Rpb24ocXVlcnkpIHtcclxuXHRcdHF1ZXJ5ID0gdHJpbShTdHJpbmcocXVlcnkgfHwgJycpLnRvTG93ZXJDYXNlKCkpO1xyXG5cdFx0aWYgKCFxdWVyeSB8fCAhcXVlcnkubGVuZ3RoKSByZXR1cm4gW107XHJcblxyXG5cdFx0dmFyIGksIG4sIHJlZ2V4LCBsZXR0ZXI7XHJcblx0XHR2YXIgdG9rZW5zID0gW107XHJcblx0XHR2YXIgd29yZHMgPSBxdWVyeS5zcGxpdCgvICsvKTtcclxuXHJcblx0XHRmb3IgKGkgPSAwLCBuID0gd29yZHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdHJlZ2V4ID0gZXNjYXBlX3JlZ2V4KHdvcmRzW2ldKTtcclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuZGlhY3JpdGljcykge1xyXG5cdFx0XHRcdGZvciAobGV0dGVyIGluIERJQUNSSVRJQ1MpIHtcclxuXHRcdFx0XHRcdGlmIChESUFDUklUSUNTLmhhc093blByb3BlcnR5KGxldHRlcikpIHtcclxuXHRcdFx0XHRcdFx0cmVnZXggPSByZWdleC5yZXBsYWNlKG5ldyBSZWdFeHAobGV0dGVyLCAnZycpLCBESUFDUklUSUNTW2xldHRlcl0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHR0b2tlbnMucHVzaCh7XHJcblx0XHRcdFx0c3RyaW5nIDogd29yZHNbaV0sXHJcblx0XHRcdFx0cmVnZXggIDogbmV3IFJlZ0V4cChyZWdleCwgJ2knKVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdG9rZW5zO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEl0ZXJhdGVzIG92ZXIgYXJyYXlzIGFuZCBoYXNoZXMuXHJcblx0ICpcclxuXHQgKiBgYGBcclxuXHQgKiB0aGlzLml0ZXJhdG9yKHRoaXMuaXRlbXMsIGZ1bmN0aW9uKGl0ZW0sIGlkKSB7XHJcblx0ICogICAgLy8gaW52b2tlZCBmb3IgZWFjaCBpdGVtXHJcblx0ICogfSk7XHJcblx0ICogYGBgXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge2FycmF5fG9iamVjdH0gb2JqZWN0XHJcblx0ICovXHJcblx0U2lmdGVyLnByb3RvdHlwZS5pdGVyYXRvciA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcclxuXHRcdHZhciBpdGVyYXRvcjtcclxuXHRcdGlmIChpc19hcnJheShvYmplY3QpKSB7XHJcblx0XHRcdGl0ZXJhdG9yID0gQXJyYXkucHJvdG90eXBlLmZvckVhY2ggfHwgZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbiA9IHRoaXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0XHRjYWxsYmFjayh0aGlzW2ldLCBpLCB0aGlzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpdGVyYXRvciA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIHRoaXMpIHtcclxuXHRcdFx0XHRcdGlmICh0aGlzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRcdFx0Y2FsbGJhY2sodGhpc1trZXldLCBrZXksIHRoaXMpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHJcblx0XHRpdGVyYXRvci5hcHBseShvYmplY3QsIFtjYWxsYmFja10pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgYSBmdW5jdGlvbiB0byBiZSB1c2VkIHRvIHNjb3JlIGluZGl2aWR1YWwgcmVzdWx0cy5cclxuXHQgKlxyXG5cdCAqIEdvb2QgbWF0Y2hlcyB3aWxsIGhhdmUgYSBoaWdoZXIgc2NvcmUgdGhhbiBwb29yIG1hdGNoZXMuXHJcblx0ICogSWYgYW4gaXRlbSBpcyBub3QgYSBtYXRjaCwgMCB3aWxsIGJlIHJldHVybmVkIGJ5IHRoZSBmdW5jdGlvbi5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fHN0cmluZ30gc2VhcmNoXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgKG9wdGlvbmFsKVxyXG5cdCAqIEByZXR1cm5zIHtmdW5jdGlvbn1cclxuXHQgKi9cclxuXHRTaWZ0ZXIucHJvdG90eXBlLmdldFNjb3JlRnVuY3Rpb24gPSBmdW5jdGlvbihzZWFyY2gsIG9wdGlvbnMpIHtcclxuXHRcdHZhciBzZWxmLCBmaWVsZHMsIHRva2VucywgdG9rZW5fY291bnQsIG5lc3Rpbmc7XHJcblxyXG5cdFx0c2VsZiAgICAgICAgPSB0aGlzO1xyXG5cdFx0c2VhcmNoICAgICAgPSBzZWxmLnByZXBhcmVTZWFyY2goc2VhcmNoLCBvcHRpb25zKTtcclxuXHRcdHRva2VucyAgICAgID0gc2VhcmNoLnRva2VucztcclxuXHRcdGZpZWxkcyAgICAgID0gc2VhcmNoLm9wdGlvbnMuZmllbGRzO1xyXG5cdFx0dG9rZW5fY291bnQgPSB0b2tlbnMubGVuZ3RoO1xyXG5cdFx0bmVzdGluZyAgICAgPSBzZWFyY2gub3B0aW9ucy5uZXN0aW5nO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2FsY3VsYXRlcyBob3cgY2xvc2Ugb2YgYSBtYXRjaCB0aGVcclxuXHRcdCAqIGdpdmVuIHZhbHVlIGlzIGFnYWluc3QgYSBzZWFyY2ggdG9rZW4uXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHttaXhlZH0gdmFsdWVcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSB0b2tlblxyXG5cdFx0ICogQHJldHVybiB7bnVtYmVyfVxyXG5cdFx0ICovXHJcblx0XHR2YXIgc2NvcmVWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlLCB0b2tlbikge1xyXG5cdFx0XHR2YXIgc2NvcmUsIHBvcztcclxuXHJcblx0XHRcdGlmICghdmFsdWUpIHJldHVybiAwO1xyXG5cdFx0XHR2YWx1ZSA9IFN0cmluZyh2YWx1ZSB8fCAnJyk7XHJcblx0XHRcdHBvcyA9IHZhbHVlLnNlYXJjaCh0b2tlbi5yZWdleCk7XHJcblx0XHRcdGlmIChwb3MgPT09IC0xKSByZXR1cm4gMDtcclxuXHRcdFx0c2NvcmUgPSB0b2tlbi5zdHJpbmcubGVuZ3RoIC8gdmFsdWUubGVuZ3RoO1xyXG5cdFx0XHRpZiAocG9zID09PSAwKSBzY29yZSArPSAwLjU7XHJcblx0XHRcdHJldHVybiBzY29yZTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDYWxjdWxhdGVzIHRoZSBzY29yZSBvZiBhbiBvYmplY3RcclxuXHRcdCAqIGFnYWluc3QgdGhlIHNlYXJjaCBxdWVyeS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gdG9rZW5cclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhXHJcblx0XHQgKiBAcmV0dXJuIHtudW1iZXJ9XHJcblx0XHQgKi9cclxuXHRcdHZhciBzY29yZU9iamVjdCA9IChmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIGZpZWxkX2NvdW50ID0gZmllbGRzLmxlbmd0aDtcclxuXHRcdFx0aWYgKCFmaWVsZF9jb3VudCkge1xyXG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGZpZWxkX2NvdW50ID09PSAxKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKHRva2VuLCBkYXRhKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gc2NvcmVWYWx1ZShnZXRhdHRyKGRhdGEsIGZpZWxkc1swXSwgbmVzdGluZyksIHRva2VuKTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbih0b2tlbiwgZGF0YSkge1xyXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwLCBzdW0gPSAwOyBpIDwgZmllbGRfY291bnQ7IGkrKykge1xyXG5cdFx0XHRcdFx0c3VtICs9IHNjb3JlVmFsdWUoZ2V0YXR0cihkYXRhLCBmaWVsZHNbaV0sIG5lc3RpbmcpLCB0b2tlbik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBzdW0gLyBmaWVsZF9jb3VudDtcclxuXHRcdFx0fTtcclxuXHRcdH0pKCk7XHJcblxyXG5cdFx0aWYgKCF0b2tlbl9jb3VudCkge1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRva2VuX2NvdW50ID09PSAxKSB7XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdFx0cmV0dXJuIHNjb3JlT2JqZWN0KHRva2Vuc1swXSwgZGF0YSk7XHJcblx0XHRcdH07XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHNlYXJjaC5vcHRpb25zLmNvbmp1bmN0aW9uID09PSAnYW5kJykge1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0XHRcdHZhciBzY29yZTtcclxuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgc3VtID0gMDsgaSA8IHRva2VuX2NvdW50OyBpKyspIHtcclxuXHRcdFx0XHRcdHNjb3JlID0gc2NvcmVPYmplY3QodG9rZW5zW2ldLCBkYXRhKTtcclxuXHRcdFx0XHRcdGlmIChzY29yZSA8PSAwKSByZXR1cm4gMDtcclxuXHRcdFx0XHRcdHN1bSArPSBzY29yZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIHN1bSAvIHRva2VuX2NvdW50O1xyXG5cdFx0XHR9O1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgc3VtID0gMDsgaSA8IHRva2VuX2NvdW50OyBpKyspIHtcclxuXHRcdFx0XHRcdHN1bSArPSBzY29yZU9iamVjdCh0b2tlbnNbaV0sIGRhdGEpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gc3VtIC8gdG9rZW5fY291bnQ7XHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgdG8gY29tcGFyZSB0d29cclxuXHQgKiByZXN1bHRzLCBmb3Igc29ydGluZyBwdXJwb3Nlcy4gSWYgbm8gc29ydGluZyBzaG91bGRcclxuXHQgKiBiZSBwZXJmb3JtZWQsIGBudWxsYCB3aWxsIGJlIHJldHVybmVkLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSBzZWFyY2hcclxuXHQgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xyXG5cdCAqIEByZXR1cm4gZnVuY3Rpb24oYSxiKVxyXG5cdCAqL1xyXG5cdFNpZnRlci5wcm90b3R5cGUuZ2V0U29ydEZ1bmN0aW9uID0gZnVuY3Rpb24oc2VhcmNoLCBvcHRpb25zKSB7XHJcblx0XHR2YXIgaSwgbiwgc2VsZiwgZmllbGQsIGZpZWxkcywgZmllbGRzX2NvdW50LCBtdWx0aXBsaWVyLCBtdWx0aXBsaWVycywgZ2V0X2ZpZWxkLCBpbXBsaWNpdF9zY29yZSwgc29ydDtcclxuXHJcblx0XHRzZWxmICAgPSB0aGlzO1xyXG5cdFx0c2VhcmNoID0gc2VsZi5wcmVwYXJlU2VhcmNoKHNlYXJjaCwgb3B0aW9ucyk7XHJcblx0XHRzb3J0ICAgPSAoIXNlYXJjaC5xdWVyeSAmJiBvcHRpb25zLnNvcnRfZW1wdHkpIHx8IG9wdGlvbnMuc29ydDtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEZldGNoZXMgdGhlIHNwZWNpZmllZCBzb3J0IGZpZWxkIHZhbHVlXHJcblx0XHQgKiBmcm9tIGEgc2VhcmNoIHJlc3VsdCBpdGVtLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSAge3N0cmluZ30gbmFtZVxyXG5cdFx0ICogQHBhcmFtICB7b2JqZWN0fSByZXN1bHRcclxuXHRcdCAqIEByZXR1cm4ge21peGVkfVxyXG5cdFx0ICovXHJcblx0XHRnZXRfZmllbGQgPSBmdW5jdGlvbihuYW1lLCByZXN1bHQpIHtcclxuXHRcdFx0aWYgKG5hbWUgPT09ICckc2NvcmUnKSByZXR1cm4gcmVzdWx0LnNjb3JlO1xyXG5cdFx0XHRyZXR1cm4gZ2V0YXR0cihzZWxmLml0ZW1zW3Jlc3VsdC5pZF0sIG5hbWUsIG9wdGlvbnMubmVzdGluZyk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIHBhcnNlIG9wdGlvbnNcclxuXHRcdGZpZWxkcyA9IFtdO1xyXG5cdFx0aWYgKHNvcnQpIHtcclxuXHRcdFx0Zm9yIChpID0gMCwgbiA9IHNvcnQubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0aWYgKHNlYXJjaC5xdWVyeSB8fCBzb3J0W2ldLmZpZWxkICE9PSAnJHNjb3JlJykge1xyXG5cdFx0XHRcdFx0ZmllbGRzLnB1c2goc29ydFtpXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gdGhlIFwiJHNjb3JlXCIgZmllbGQgaXMgaW1wbGllZCB0byBiZSB0aGUgcHJpbWFyeVxyXG5cdFx0Ly8gc29ydCBmaWVsZCwgdW5sZXNzIGl0J3MgbWFudWFsbHkgc3BlY2lmaWVkXHJcblx0XHRpZiAoc2VhcmNoLnF1ZXJ5KSB7XHJcblx0XHRcdGltcGxpY2l0X3Njb3JlID0gdHJ1ZTtcclxuXHRcdFx0Zm9yIChpID0gMCwgbiA9IGZpZWxkcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRpZiAoZmllbGRzW2ldLmZpZWxkID09PSAnJHNjb3JlJykge1xyXG5cdFx0XHRcdFx0aW1wbGljaXRfc2NvcmUgPSBmYWxzZTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoaW1wbGljaXRfc2NvcmUpIHtcclxuXHRcdFx0XHRmaWVsZHMudW5zaGlmdCh7ZmllbGQ6ICckc2NvcmUnLCBkaXJlY3Rpb246ICdkZXNjJ30pO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRmb3IgKGkgPSAwLCBuID0gZmllbGRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdGlmIChmaWVsZHNbaV0uZmllbGQgPT09ICckc2NvcmUnKSB7XHJcblx0XHRcdFx0XHRmaWVsZHMuc3BsaWNlKGksIDEpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0bXVsdGlwbGllcnMgPSBbXTtcclxuXHRcdGZvciAoaSA9IDAsIG4gPSBmaWVsZHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdG11bHRpcGxpZXJzLnB1c2goZmllbGRzW2ldLmRpcmVjdGlvbiA9PT0gJ2Rlc2MnID8gLTEgOiAxKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBidWlsZCBmdW5jdGlvblxyXG5cdFx0ZmllbGRzX2NvdW50ID0gZmllbGRzLmxlbmd0aDtcclxuXHRcdGlmICghZmllbGRzX2NvdW50KSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fSBlbHNlIGlmIChmaWVsZHNfY291bnQgPT09IDEpIHtcclxuXHRcdFx0ZmllbGQgPSBmaWVsZHNbMF0uZmllbGQ7XHJcblx0XHRcdG11bHRpcGxpZXIgPSBtdWx0aXBsaWVyc1swXTtcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcclxuXHRcdFx0XHRyZXR1cm4gbXVsdGlwbGllciAqIGNtcChcclxuXHRcdFx0XHRcdGdldF9maWVsZChmaWVsZCwgYSksXHJcblx0XHRcdFx0XHRnZXRfZmllbGQoZmllbGQsIGIpXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbihhLCBiKSB7XHJcblx0XHRcdFx0dmFyIGksIHJlc3VsdCwgYV92YWx1ZSwgYl92YWx1ZSwgZmllbGQ7XHJcblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGZpZWxkc19jb3VudDsgaSsrKSB7XHJcblx0XHRcdFx0XHRmaWVsZCA9IGZpZWxkc1tpXS5maWVsZDtcclxuXHRcdFx0XHRcdHJlc3VsdCA9IG11bHRpcGxpZXJzW2ldICogY21wKFxyXG5cdFx0XHRcdFx0XHRnZXRfZmllbGQoZmllbGQsIGEpLFxyXG5cdFx0XHRcdFx0XHRnZXRfZmllbGQoZmllbGQsIGIpXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0aWYgKHJlc3VsdCkgcmV0dXJuIHJlc3VsdDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIDA7XHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogUGFyc2VzIGEgc2VhcmNoIHF1ZXJ5IGFuZCByZXR1cm5zIGFuIG9iamVjdFxyXG5cdCAqIHdpdGggdG9rZW5zIGFuZCBmaWVsZHMgcmVhZHkgdG8gYmUgcG9wdWxhdGVkXHJcblx0ICogd2l0aCByZXN1bHRzLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5XHJcblx0ICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcclxuXHQgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG5cdCAqL1xyXG5cdFNpZnRlci5wcm90b3R5cGUucHJlcGFyZVNlYXJjaCA9IGZ1bmN0aW9uKHF1ZXJ5LCBvcHRpb25zKSB7XHJcblx0XHRpZiAodHlwZW9mIHF1ZXJ5ID09PSAnb2JqZWN0JykgcmV0dXJuIHF1ZXJ5O1xyXG5cclxuXHRcdG9wdGlvbnMgPSBleHRlbmQoe30sIG9wdGlvbnMpO1xyXG5cclxuXHRcdHZhciBvcHRpb25fZmllbGRzICAgICA9IG9wdGlvbnMuZmllbGRzO1xyXG5cdFx0dmFyIG9wdGlvbl9zb3J0ICAgICAgID0gb3B0aW9ucy5zb3J0O1xyXG5cdFx0dmFyIG9wdGlvbl9zb3J0X2VtcHR5ID0gb3B0aW9ucy5zb3J0X2VtcHR5O1xyXG5cclxuXHRcdGlmIChvcHRpb25fZmllbGRzICYmICFpc19hcnJheShvcHRpb25fZmllbGRzKSkgb3B0aW9ucy5maWVsZHMgPSBbb3B0aW9uX2ZpZWxkc107XHJcblx0XHRpZiAob3B0aW9uX3NvcnQgJiYgIWlzX2FycmF5KG9wdGlvbl9zb3J0KSkgb3B0aW9ucy5zb3J0ID0gW29wdGlvbl9zb3J0XTtcclxuXHRcdGlmIChvcHRpb25fc29ydF9lbXB0eSAmJiAhaXNfYXJyYXkob3B0aW9uX3NvcnRfZW1wdHkpKSBvcHRpb25zLnNvcnRfZW1wdHkgPSBbb3B0aW9uX3NvcnRfZW1wdHldO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdG9wdGlvbnMgOiBvcHRpb25zLFxyXG5cdFx0XHRxdWVyeSAgIDogU3RyaW5nKHF1ZXJ5IHx8ICcnKS50b0xvd2VyQ2FzZSgpLFxyXG5cdFx0XHR0b2tlbnMgIDogdGhpcy50b2tlbml6ZShxdWVyeSksXHJcblx0XHRcdHRvdGFsICAgOiAwLFxyXG5cdFx0XHRpdGVtcyAgIDogW11cclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogU2VhcmNoZXMgdGhyb3VnaCBhbGwgaXRlbXMgYW5kIHJldHVybnMgYSBzb3J0ZWQgYXJyYXkgb2YgbWF0Y2hlcy5cclxuXHQgKlxyXG5cdCAqIFRoZSBgb3B0aW9uc2AgcGFyYW1ldGVyIGNhbiBjb250YWluOlxyXG5cdCAqXHJcblx0ICogICAtIGZpZWxkcyB7c3RyaW5nfGFycmF5fVxyXG5cdCAqICAgLSBzb3J0IHthcnJheX1cclxuXHQgKiAgIC0gc2NvcmUge2Z1bmN0aW9ufVxyXG5cdCAqICAgLSBmaWx0ZXIge2Jvb2x9XHJcblx0ICogICAtIGxpbWl0IHtpbnRlZ2VyfVxyXG5cdCAqXHJcblx0ICogUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZzpcclxuXHQgKlxyXG5cdCAqICAgLSBvcHRpb25zIHtvYmplY3R9XHJcblx0ICogICAtIHF1ZXJ5IHtzdHJpbmd9XHJcblx0ICogICAtIHRva2VucyB7YXJyYXl9XHJcblx0ICogICAtIHRvdGFsIHtpbnR9XHJcblx0ICogICAtIGl0ZW1zIHthcnJheX1cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeVxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXHJcblx0ICogQHJldHVybnMge29iamVjdH1cclxuXHQgKi9cclxuXHRTaWZ0ZXIucHJvdG90eXBlLnNlYXJjaCA9IGZ1bmN0aW9uKHF1ZXJ5LCBvcHRpb25zKSB7XHJcblx0XHR2YXIgc2VsZiA9IHRoaXMsIHZhbHVlLCBzY29yZSwgc2VhcmNoLCBjYWxjdWxhdGVTY29yZTtcclxuXHRcdHZhciBmbl9zb3J0O1xyXG5cdFx0dmFyIGZuX3Njb3JlO1xyXG5cclxuXHRcdHNlYXJjaCAgPSB0aGlzLnByZXBhcmVTZWFyY2gocXVlcnksIG9wdGlvbnMpO1xyXG5cdFx0b3B0aW9ucyA9IHNlYXJjaC5vcHRpb25zO1xyXG5cdFx0cXVlcnkgICA9IHNlYXJjaC5xdWVyeTtcclxuXHJcblx0XHQvLyBnZW5lcmF0ZSByZXN1bHQgc2NvcmluZyBmdW5jdGlvblxyXG5cdFx0Zm5fc2NvcmUgPSBvcHRpb25zLnNjb3JlIHx8IHNlbGYuZ2V0U2NvcmVGdW5jdGlvbihzZWFyY2gpO1xyXG5cclxuXHRcdC8vIHBlcmZvcm0gc2VhcmNoIGFuZCBzb3J0XHJcblx0XHRpZiAocXVlcnkubGVuZ3RoKSB7XHJcblx0XHRcdHNlbGYuaXRlcmF0b3Ioc2VsZi5pdGVtcywgZnVuY3Rpb24oaXRlbSwgaWQpIHtcclxuXHRcdFx0XHRzY29yZSA9IGZuX3Njb3JlKGl0ZW0pO1xyXG5cdFx0XHRcdGlmIChvcHRpb25zLmZpbHRlciA9PT0gZmFsc2UgfHwgc2NvcmUgPiAwKSB7XHJcblx0XHRcdFx0XHRzZWFyY2guaXRlbXMucHVzaCh7J3Njb3JlJzogc2NvcmUsICdpZCc6IGlkfSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHNlbGYuaXRlcmF0b3Ioc2VsZi5pdGVtcywgZnVuY3Rpb24oaXRlbSwgaWQpIHtcclxuXHRcdFx0XHRzZWFyY2guaXRlbXMucHVzaCh7J3Njb3JlJzogMSwgJ2lkJzogaWR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm5fc29ydCA9IHNlbGYuZ2V0U29ydEZ1bmN0aW9uKHNlYXJjaCwgb3B0aW9ucyk7XHJcblx0XHRpZiAoZm5fc29ydCkgc2VhcmNoLml0ZW1zLnNvcnQoZm5fc29ydCk7XHJcblxyXG5cdFx0Ly8gYXBwbHkgbGltaXRzXHJcblx0XHRzZWFyY2gudG90YWwgPSBzZWFyY2guaXRlbXMubGVuZ3RoO1xyXG5cdFx0aWYgKHR5cGVvZiBvcHRpb25zLmxpbWl0ID09PSAnbnVtYmVyJykge1xyXG5cdFx0XHRzZWFyY2guaXRlbXMgPSBzZWFyY2guaXRlbXMuc2xpY2UoMCwgb3B0aW9ucy5saW1pdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHNlYXJjaDtcclxuXHR9O1xyXG5cclxuXHQvLyB1dGlsaXRpZXNcclxuXHQvLyAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtXHJcblxyXG5cdHZhciBjbXAgPSBmdW5jdGlvbihhLCBiKSB7XHJcblx0XHRpZiAodHlwZW9mIGEgPT09ICdudW1iZXInICYmIHR5cGVvZiBiID09PSAnbnVtYmVyJykge1xyXG5cdFx0XHRyZXR1cm4gYSA+IGIgPyAxIDogKGEgPCBiID8gLTEgOiAwKTtcclxuXHRcdH1cclxuXHRcdGEgPSBhc2NpaWZvbGQoU3RyaW5nKGEgfHwgJycpKTtcclxuXHRcdGIgPSBhc2NpaWZvbGQoU3RyaW5nKGIgfHwgJycpKTtcclxuXHRcdGlmIChhID4gYikgcmV0dXJuIDE7XHJcblx0XHRpZiAoYiA+IGEpIHJldHVybiAtMTtcclxuXHRcdHJldHVybiAwO1xyXG5cdH07XHJcblxyXG5cdHZhciBleHRlbmQgPSBmdW5jdGlvbihhLCBiKSB7XHJcblx0XHR2YXIgaSwgbiwgaywgb2JqZWN0O1xyXG5cdFx0Zm9yIChpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0b2JqZWN0ID0gYXJndW1lbnRzW2ldO1xyXG5cdFx0XHRpZiAoIW9iamVjdCkgY29udGludWU7XHJcblx0XHRcdGZvciAoayBpbiBvYmplY3QpIHtcclxuXHRcdFx0XHRpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KGspKSB7XHJcblx0XHRcdFx0XHRhW2tdID0gb2JqZWN0W2tdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGE7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogQSBwcm9wZXJ0eSBnZXR0ZXIgcmVzb2x2aW5nIGRvdC1ub3RhdGlvblxyXG5cdCAqIEBwYXJhbSAge09iamVjdH0gIG9iaiAgICAgVGhlIHJvb3Qgb2JqZWN0IHRvIGZldGNoIHByb3BlcnR5IG9uXHJcblx0ICogQHBhcmFtICB7U3RyaW5nfSAgbmFtZSAgICBUaGUgb3B0aW9uYWxseSBkb3R0ZWQgcHJvcGVydHkgbmFtZSB0byBmZXRjaFxyXG5cdCAqIEBwYXJhbSAge0Jvb2xlYW59IG5lc3RpbmcgSGFuZGxlIG5lc3Rpbmcgb3Igbm90XHJcblx0ICogQHJldHVybiB7T2JqZWN0fSAgICAgICAgICBUaGUgcmVzb2x2ZWQgcHJvcGVydHkgdmFsdWVcclxuXHQgKi9cclxuXHR2YXIgZ2V0YXR0ciA9IGZ1bmN0aW9uKG9iaiwgbmFtZSwgbmVzdGluZykge1xyXG5cdCAgICBpZiAoIW9iaiB8fCAhbmFtZSkgcmV0dXJuO1xyXG5cdCAgICBpZiAoIW5lc3RpbmcpIHJldHVybiBvYmpbbmFtZV07XHJcblx0ICAgIHZhciBuYW1lcyA9IG5hbWUuc3BsaXQoXCIuXCIpO1xyXG5cdCAgICB3aGlsZShuYW1lcy5sZW5ndGggJiYgKG9iaiA9IG9ialtuYW1lcy5zaGlmdCgpXSkpO1xyXG5cdCAgICByZXR1cm4gb2JqO1xyXG5cdH07XHJcblxyXG5cdHZhciB0cmltID0gZnVuY3Rpb24oc3RyKSB7XHJcblx0XHRyZXR1cm4gKHN0ciArICcnKS5yZXBsYWNlKC9eXFxzK3xcXHMrJHwvZywgJycpO1xyXG5cdH07XHJcblxyXG5cdHZhciBlc2NhcGVfcmVnZXggPSBmdW5jdGlvbihzdHIpIHtcclxuXHRcdHJldHVybiAoc3RyICsgJycpLnJlcGxhY2UoLyhbLj8qK14kW1xcXVxcXFwoKXt9fC1dKS9nLCAnXFxcXCQxJyk7XHJcblx0fTtcclxuXHJcblx0dmFyIGlzX2FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCAodHlwZW9mICQgIT09ICd1bmRlZmluZWQnICYmICQuaXNBcnJheSkgfHwgZnVuY3Rpb24ob2JqZWN0KSB7XHJcblx0XHRyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XHJcblx0fTtcclxuXHJcblx0dmFyIERJQUNSSVRJQ1MgPSB7XHJcblx0XHQnYSc6ICdbYeG4gOG4gcSCxIPDgsOix43Hjsi64rGlyKbIp+G6oOG6ocOEw6TDgMOgw4HDocSAxIHDg8Ojw4XDpcSFxITDg8SFxIRdJyxcclxuXHRcdCdiJzogJ1ti4pCizrLOkkLguL/wkIyB4ZuSXScsXHJcblx0XHQnYyc6ICdbY8SGxIfEiMSJxIzEjcSKxItDzIRjzITDh8On4biI4biJyLvIvMaHxojJleG0hO+8o++9g10nLFxyXG5cdFx0J2QnOiAnW2TEjsSP4biK4biL4biQ4biR4biM4biN4biS4biT4biO4biPxJDEkUTMpmTMpsaJyZbGismXxovGjOG1reG2geG2kcih4bSF77yk772Ew7BdJyxcclxuXHRcdCdlJzogJ1tlw4nDqcOIw6jDisOq4biY4biZxJrEm8SUxJXhurzhur3huJrhuJvhurrhurvElsSXw4vDq8SSxJPIqMipxJjEmeG2ksmGyYfIhMiF4bq+4bq/4buA4buB4buE4buF4buC4buD4bic4bid4biW4biX4biU4biVyIbIh+G6uOG6ueG7huG7h+KxuOG0h++8pe+9hcmYx53Gj8aQzrVdJyxcclxuXHRcdCdmJzogJ1tmxpHGkuG4nuG4n10nLFxyXG5cdFx0J2cnOiAnW2fJouKCssekx6XEnMSdxJ7En8SixKPGk8mgxKDEoV0nLFxyXG5cdFx0J2gnOiAnW2jEpMSlxKbEp+G4qOG4qeG6luG6luG4pOG4peG4ouG4o8mmyrDHtsaVXScsXHJcblx0XHQnaSc6ICdbacONw63DjMOsxKzErcOOw67Hj8eQw4/Dr+G4ruG4r8SoxKnErsSvxKrEq+G7iOG7iciIyInIisiL4buK4buL4bis4bitxpfJqMmozIbhtbvhtpbEsGlJxLHJqu+8qe+9iV0nLFxyXG5cdFx0J2onOiAnW2rIt8S0xLXJiMmJyp3Jn8qyXScsXHJcblx0XHQnayc6ICdba8aYxpnqnYDqnYHhuLDhuLHHqMep4biy4biz4bi04bi1zrrPsOKCrV0nLFxyXG5cdFx0J2wnOiAnW2zFgcWCxL3EvsS7xLzEucS64bi24bi34bi44bi54bi84bi94bi64bi7xL/FgMi9xprisaDisaHisaLJq8ms4baFya3ItMqf77ys772MXScsXHJcblx0XHQnbic6ICdbbsWDxYTHuMe5xYfFiMORw7HhuYThuYXFhcWG4bmG4bmH4bmK4bmL4bmI4bmJTsyIbsyIxp3Jssigxp7htbDhtofJs8i1ybTvvK7vvY7FisWLXScsXHJcblx0XHQnbyc6ICdbb8OYw7jDlsO2w5PDs8OSw7LDlMO0x5HHksWQxZHFjsWPyK7Ir+G7jOG7jcafybXGoMah4buO4buPxYzFjcOVw7XHqseryIzIjdWV1oVdJyxcclxuXHRcdCdwJzogJ1tw4bmU4bmV4bmW4bmX4rGj4bW9xqTGpeG1sV0nLFxyXG5cdFx0J3EnOiAnW3HqnZbqnZfKoMmKyYvqnZjqnZlxzINdJyxcclxuXHRcdCdyJzogJ1tyxZTFlcmMyY3FmMWZxZbFl+G5mOG5mciQyJHIksiT4bma4bmb4rGkyb1dJyxcclxuXHRcdCdzJzogJ1tzxZrFm+G5oOG5oeG5ouG5o+qeqOqeqcWcxZ3FoMWhxZ7Fn8iYyJlTzIhzzIhdJyxcclxuXHRcdCd0JzogJ1t0xaTFpeG5quG5q8WixaPhuazhua3GrsqIyJrIm+G5sOG5seG5ruG5r8asxq1dJyxcclxuXHRcdCd1JzogJ1t1xazFrcmEyonhu6Thu6XDnMO8w5rDusOZw7nDm8O7x5PHlMWwxbHFrMWtxq/GsOG7puG7p8WqxavFqMWpxbLFs8iUyJXiiKpdJyxcclxuXHRcdCd2JzogJ1t24bm84bm94bm+4bm/xrLKi+qdnuqdn+KxscqLXScsXHJcblx0XHQndyc6ICdbd+G6guG6g+G6gOG6gcW0xbXhuoThuoXhuobhuofhuojhuoldJyxcclxuXHRcdCd4JzogJ1t44bqM4bqN4bqK4bqLz4ddJyxcclxuXHRcdCd5JzogJ1t5w53DveG7suG7s8W2xbfFuMO/4bu44bu54bqO4bqP4bu04bu1yY7Jj8azxrRdJyxcclxuXHRcdCd6JzogJ1t6xbnFuuG6kOG6kcW9xb7Fu8W84bqS4bqT4bqU4bqVxrXGtl0nXHJcblx0fTtcclxuXHJcblx0dmFyIGFzY2lpZm9sZCA9IChmdW5jdGlvbigpIHtcclxuXHRcdHZhciBpLCBuLCBrLCBjaHVuaztcclxuXHRcdHZhciBmb3JlaWdubGV0dGVycyA9ICcnO1xyXG5cdFx0dmFyIGxvb2t1cCA9IHt9O1xyXG5cdFx0Zm9yIChrIGluIERJQUNSSVRJQ1MpIHtcclxuXHRcdFx0aWYgKERJQUNSSVRJQ1MuaGFzT3duUHJvcGVydHkoaykpIHtcclxuXHRcdFx0XHRjaHVuayA9IERJQUNSSVRJQ1Nba10uc3Vic3RyaW5nKDIsIERJQUNSSVRJQ1Nba10ubGVuZ3RoIC0gMSk7XHJcblx0XHRcdFx0Zm9yZWlnbmxldHRlcnMgKz0gY2h1bms7XHJcblx0XHRcdFx0Zm9yIChpID0gMCwgbiA9IGNodW5rLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdFx0bG9va3VwW2NodW5rLmNoYXJBdChpKV0gPSBrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0dmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAoJ1snICsgIGZvcmVpZ25sZXR0ZXJzICsgJ10nLCAnZycpO1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKHN0cikge1xyXG5cdFx0XHRyZXR1cm4gc3RyLnJlcGxhY2UocmVnZXhwLCBmdW5jdGlvbihmb3JlaWdubGV0dGVyKSB7XHJcblx0XHRcdFx0cmV0dXJuIGxvb2t1cFtmb3JlaWdubGV0dGVyXTtcclxuXHRcdFx0fSkudG9Mb3dlckNhc2UoKTtcclxuXHRcdH07XHJcblx0fSkoKTtcclxuXHJcblxyXG5cdC8vIGV4cG9ydFxyXG5cdC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC1cclxuXHJcblx0cmV0dXJuIFNpZnRlcjtcclxufSkpO1xyXG5cclxuXHJcblxyXG4vKipcclxuICogbWljcm9wbHVnaW4uanNcclxuICogQ29weXJpZ2h0IChjKSAyMDEzIEJyaWFuIFJlYXZpcyAmIGNvbnRyaWJ1dG9yc1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpc1xyXG4gKiBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcclxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXJcclxuICogdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRlxyXG4gKiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2VcclxuICogZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICpcclxuICogQGF1dGhvciBCcmlhbiBSZWF2aXMgPGJyaWFuQHRoaXJkcm91dGUuY29tPlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XHJcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG5cdFx0ZGVmaW5lKCdtaWNyb3BsdWdpbicsIGZhY3RvcnkpO1xyXG5cdH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XHJcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cm9vdC5NaWNyb1BsdWdpbiA9IGZhY3RvcnkoKTtcclxuXHR9XHJcbn0odGhpcywgZnVuY3Rpb24oKSB7XHJcblx0dmFyIE1pY3JvUGx1Z2luID0ge307XHJcblxyXG5cdE1pY3JvUGx1Z2luLm1peGluID0gZnVuY3Rpb24oSW50ZXJmYWNlKSB7XHJcblx0XHRJbnRlcmZhY2UucGx1Z2lucyA9IHt9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW5pdGlhbGl6ZXMgdGhlIGxpc3RlZCBwbHVnaW5zICh3aXRoIG9wdGlvbnMpLlxyXG5cdFx0ICogQWNjZXB0YWJsZSBmb3JtYXRzOlxyXG5cdFx0ICpcclxuXHRcdCAqIExpc3QgKHdpdGhvdXQgb3B0aW9ucyk6XHJcblx0XHQgKiAgIFsnYScsICdiJywgJ2MnXVxyXG5cdFx0ICpcclxuXHRcdCAqIExpc3QgKHdpdGggb3B0aW9ucyk6XHJcblx0XHQgKiAgIFt7J25hbWUnOiAnYScsIG9wdGlvbnM6IHt9fSwgeyduYW1lJzogJ2InLCBvcHRpb25zOiB7fX1dXHJcblx0XHQgKlxyXG5cdFx0ICogSGFzaCAod2l0aCBvcHRpb25zKTpcclxuXHRcdCAqICAgeydhJzogeyAuLi4gfSwgJ2InOiB7IC4uLiB9LCAnYyc6IHsgLi4uIH19XHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHttaXhlZH0gcGx1Z2luc1xyXG5cdFx0ICovXHJcblx0XHRJbnRlcmZhY2UucHJvdG90eXBlLmluaXRpYWxpemVQbHVnaW5zID0gZnVuY3Rpb24ocGx1Z2lucykge1xyXG5cdFx0XHR2YXIgaSwgbiwga2V5O1xyXG5cdFx0XHR2YXIgc2VsZiAgPSB0aGlzO1xyXG5cdFx0XHR2YXIgcXVldWUgPSBbXTtcclxuXHJcblx0XHRcdHNlbGYucGx1Z2lucyA9IHtcclxuXHRcdFx0XHRuYW1lcyAgICAgOiBbXSxcclxuXHRcdFx0XHRzZXR0aW5ncyAgOiB7fSxcclxuXHRcdFx0XHRyZXF1ZXN0ZWQgOiB7fSxcclxuXHRcdFx0XHRsb2FkZWQgICAgOiB7fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0aWYgKHV0aWxzLmlzQXJyYXkocGx1Z2lucykpIHtcclxuXHRcdFx0XHRmb3IgKGkgPSAwLCBuID0gcGx1Z2lucy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRcdGlmICh0eXBlb2YgcGx1Z2luc1tpXSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRcdFx0cXVldWUucHVzaChwbHVnaW5zW2ldKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHNlbGYucGx1Z2lucy5zZXR0aW5nc1twbHVnaW5zW2ldLm5hbWVdID0gcGx1Z2luc1tpXS5vcHRpb25zO1xyXG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHBsdWdpbnNbaV0ubmFtZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKHBsdWdpbnMpIHtcclxuXHRcdFx0XHRmb3IgKGtleSBpbiBwbHVnaW5zKSB7XHJcblx0XHRcdFx0XHRpZiAocGx1Z2lucy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYucGx1Z2lucy5zZXR0aW5nc1trZXldID0gcGx1Z2luc1trZXldO1xyXG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKGtleSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR3aGlsZSAocXVldWUubGVuZ3RoKSB7XHJcblx0XHRcdFx0c2VsZi5yZXF1aXJlKHF1ZXVlLnNoaWZ0KCkpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdEludGVyZmFjZS5wcm90b3R5cGUubG9hZFBsdWdpbiA9IGZ1bmN0aW9uKG5hbWUpIHtcclxuXHRcdFx0dmFyIHNlbGYgICAgPSB0aGlzO1xyXG5cdFx0XHR2YXIgcGx1Z2lucyA9IHNlbGYucGx1Z2lucztcclxuXHRcdFx0dmFyIHBsdWdpbiAgPSBJbnRlcmZhY2UucGx1Z2luc1tuYW1lXTtcclxuXHJcblx0XHRcdGlmICghSW50ZXJmYWNlLnBsdWdpbnMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBmaW5kIFwiJyArICBuYW1lICsgJ1wiIHBsdWdpbicpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRwbHVnaW5zLnJlcXVlc3RlZFtuYW1lXSA9IHRydWU7XHJcblx0XHRcdHBsdWdpbnMubG9hZGVkW25hbWVdID0gcGx1Z2luLmZuLmFwcGx5KHNlbGYsIFtzZWxmLnBsdWdpbnMuc2V0dGluZ3NbbmFtZV0gfHwge31dKTtcclxuXHRcdFx0cGx1Z2lucy5uYW1lcy5wdXNoKG5hbWUpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluaXRpYWxpemVzIGEgcGx1Z2luLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXHJcblx0XHQgKi9cclxuXHRcdEludGVyZmFjZS5wcm90b3R5cGUucmVxdWlyZSA9IGZ1bmN0aW9uKG5hbWUpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHR2YXIgcGx1Z2lucyA9IHNlbGYucGx1Z2lucztcclxuXHJcblx0XHRcdGlmICghc2VsZi5wbHVnaW5zLmxvYWRlZC5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xyXG5cdFx0XHRcdGlmIChwbHVnaW5zLnJlcXVlc3RlZFtuYW1lXSkge1xyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdQbHVnaW4gaGFzIGNpcmN1bGFyIGRlcGVuZGVuY3kgKFwiJyArIG5hbWUgKyAnXCIpJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHNlbGYubG9hZFBsdWdpbihuYW1lKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHBsdWdpbnMubG9hZGVkW25hbWVdO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlZ2lzdGVycyBhIHBsdWdpbi5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxyXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cclxuXHRcdCAqL1xyXG5cdFx0SW50ZXJmYWNlLmRlZmluZSA9IGZ1bmN0aW9uKG5hbWUsIGZuKSB7XHJcblx0XHRcdEludGVyZmFjZS5wbHVnaW5zW25hbWVdID0ge1xyXG5cdFx0XHRcdCduYW1lJyA6IG5hbWUsXHJcblx0XHRcdFx0J2ZuJyAgIDogZm5cclxuXHRcdFx0fTtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0dmFyIHV0aWxzID0ge1xyXG5cdFx0aXNBcnJheTogQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbih2QXJnKSB7XHJcblx0XHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodkFyZykgPT09ICdbb2JqZWN0IEFycmF5XSc7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0cmV0dXJuIE1pY3JvUGx1Z2luO1xyXG59KSk7XHJcblxyXG4vKipcclxuICogc2VsZWN0aXplLmpzICh2MC4xMi40KVxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTPigJMyMDE1IEJyaWFuIFJlYXZpcyAmIGNvbnRyaWJ1dG9yc1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpc1xyXG4gKiBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcclxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXJcclxuICogdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRlxyXG4gKiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2VcclxuICogZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICpcclxuICogQGF1dGhvciBCcmlhbiBSZWF2aXMgPGJyaWFuQHRoaXJkcm91dGUuY29tPlxyXG4gKi9cclxuXHJcbi8qanNoaW50IGN1cmx5OmZhbHNlICovXHJcbi8qanNoaW50IGJyb3dzZXI6dHJ1ZSAqL1xyXG5cclxuKGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcclxuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XHJcblx0XHRkZWZpbmUoJ3NlbGVjdGl6ZScsIFsnanF1ZXJ5Jywnc2lmdGVyJywnbWljcm9wbHVnaW4nXSwgZmFjdG9yeSk7XHJcblx0fSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdqcXVlcnknKSwgcmVxdWlyZSgnc2lmdGVyJyksIHJlcXVpcmUoJ21pY3JvcGx1Z2luJykpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRyb290LlNlbGVjdGl6ZSA9IGZhY3Rvcnkocm9vdC5qUXVlcnksIHJvb3QuU2lmdGVyLCByb290Lk1pY3JvUGx1Z2luKTtcclxuXHR9XHJcbn0odGhpcywgZnVuY3Rpb24oJCwgU2lmdGVyLCBNaWNyb1BsdWdpbikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0dmFyIGhpZ2hsaWdodCA9IGZ1bmN0aW9uKCRlbGVtZW50LCBwYXR0ZXJuKSB7XHJcblx0XHRpZiAodHlwZW9mIHBhdHRlcm4gPT09ICdzdHJpbmcnICYmICFwYXR0ZXJuLmxlbmd0aCkgcmV0dXJuO1xyXG5cdFx0dmFyIHJlZ2V4ID0gKHR5cGVvZiBwYXR0ZXJuID09PSAnc3RyaW5nJykgPyBuZXcgUmVnRXhwKHBhdHRlcm4sICdpJykgOiBwYXR0ZXJuO1xyXG5cclxuXHRcdHZhciBoaWdobGlnaHQgPSBmdW5jdGlvbihub2RlKSB7XHJcblx0XHRcdHZhciBza2lwID0gMDtcclxuXHRcdFx0aWYgKG5vZGUubm9kZVR5cGUgPT09IDMpIHtcclxuXHRcdFx0XHR2YXIgcG9zID0gbm9kZS5kYXRhLnNlYXJjaChyZWdleCk7XHJcblx0XHRcdFx0aWYgKHBvcyA+PSAwICYmIG5vZGUuZGF0YS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHR2YXIgbWF0Y2ggPSBub2RlLmRhdGEubWF0Y2gocmVnZXgpO1xyXG5cdFx0XHRcdFx0dmFyIHNwYW5ub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG5cdFx0XHRcdFx0c3Bhbm5vZGUuY2xhc3NOYW1lID0gJ2hpZ2hsaWdodCc7XHJcblx0XHRcdFx0XHR2YXIgbWlkZGxlYml0ID0gbm9kZS5zcGxpdFRleHQocG9zKTtcclxuXHRcdFx0XHRcdHZhciBlbmRiaXQgPSBtaWRkbGViaXQuc3BsaXRUZXh0KG1hdGNoWzBdLmxlbmd0aCk7XHJcblx0XHRcdFx0XHR2YXIgbWlkZGxlY2xvbmUgPSBtaWRkbGViaXQuY2xvbmVOb2RlKHRydWUpO1xyXG5cdFx0XHRcdFx0c3Bhbm5vZGUuYXBwZW5kQ2hpbGQobWlkZGxlY2xvbmUpO1xyXG5cdFx0XHRcdFx0bWlkZGxlYml0LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHNwYW5ub2RlLCBtaWRkbGViaXQpO1xyXG5cdFx0XHRcdFx0c2tpcCA9IDE7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEgJiYgbm9kZS5jaGlsZE5vZGVzICYmICEvKHNjcmlwdHxzdHlsZSkvaS50ZXN0KG5vZGUudGFnTmFtZSkpIHtcclxuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7ICsraSkge1xyXG5cdFx0XHRcdFx0aSArPSBoaWdobGlnaHQobm9kZS5jaGlsZE5vZGVzW2ldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHNraXA7XHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiAkZWxlbWVudC5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRoaWdobGlnaHQodGhpcyk7XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiByZW1vdmVIaWdobGlnaHQgZm4gY29waWVkIGZyb20gaGlnaGxpZ2h0IHY1IGFuZFxyXG5cdCAqIGVkaXRlZCB0byByZW1vdmUgd2l0aCgpIGFuZCBwYXNzIGpzIHN0cmljdCBtb2RlXHJcblx0ICovXHJcblx0JC5mbi5yZW1vdmVIaWdobGlnaHQgPSBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiB0aGlzLmZpbmQoXCJzcGFuLmhpZ2hsaWdodFwiKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLnBhcmVudE5vZGUuZmlyc3RDaGlsZC5ub2RlTmFtZTtcclxuXHRcdFx0dmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcclxuXHRcdFx0cGFyZW50LnJlcGxhY2VDaGlsZCh0aGlzLmZpcnN0Q2hpbGQsIHRoaXMpO1xyXG5cdFx0XHRwYXJlbnQubm9ybWFsaXplKCk7XHJcblx0XHR9KS5lbmQoKTtcclxuXHR9O1xyXG5cclxuXHJcblx0dmFyIE1pY3JvRXZlbnQgPSBmdW5jdGlvbigpIHt9O1xyXG5cdE1pY3JvRXZlbnQucHJvdG90eXBlID0ge1xyXG5cdFx0b246IGZ1bmN0aW9uKGV2ZW50LCBmY3Qpe1xyXG5cdFx0XHR0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XHJcblx0XHRcdHRoaXMuX2V2ZW50c1tldmVudF0gPSB0aGlzLl9ldmVudHNbZXZlbnRdIHx8IFtdO1xyXG5cdFx0XHR0aGlzLl9ldmVudHNbZXZlbnRdLnB1c2goZmN0KTtcclxuXHRcdH0sXHJcblx0XHRvZmY6IGZ1bmN0aW9uKGV2ZW50LCBmY3Qpe1xyXG5cdFx0XHR2YXIgbiA9IGFyZ3VtZW50cy5sZW5ndGg7XHJcblx0XHRcdGlmIChuID09PSAwKSByZXR1cm4gZGVsZXRlIHRoaXMuX2V2ZW50cztcclxuXHRcdFx0aWYgKG4gPT09IDEpIHJldHVybiBkZWxldGUgdGhpcy5fZXZlbnRzW2V2ZW50XTtcclxuXHJcblx0XHRcdHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcclxuXHRcdFx0aWYgKGV2ZW50IGluIHRoaXMuX2V2ZW50cyA9PT0gZmFsc2UpIHJldHVybjtcclxuXHRcdFx0dGhpcy5fZXZlbnRzW2V2ZW50XS5zcGxpY2UodGhpcy5fZXZlbnRzW2V2ZW50XS5pbmRleE9mKGZjdCksIDEpO1xyXG5cdFx0fSxcclxuXHRcdHRyaWdnZXI6IGZ1bmN0aW9uKGV2ZW50IC8qICwgYXJncy4uLiAqLyl7XHJcblx0XHRcdHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcclxuXHRcdFx0aWYgKGV2ZW50IGluIHRoaXMuX2V2ZW50cyA9PT0gZmFsc2UpIHJldHVybjtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9ldmVudHNbZXZlbnRdLmxlbmd0aDsgaSsrKXtcclxuXHRcdFx0XHR0aGlzLl9ldmVudHNbZXZlbnRdW2ldLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogTWl4aW4gd2lsbCBkZWxlZ2F0ZSBhbGwgTWljcm9FdmVudC5qcyBmdW5jdGlvbiBpbiB0aGUgZGVzdGluYXRpb24gb2JqZWN0LlxyXG5cdCAqXHJcblx0ICogLSBNaWNyb0V2ZW50Lm1peGluKEZvb2Jhcikgd2lsbCBtYWtlIEZvb2JhciBhYmxlIHRvIHVzZSBNaWNyb0V2ZW50XHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge29iamVjdH0gdGhlIG9iamVjdCB3aGljaCB3aWxsIHN1cHBvcnQgTWljcm9FdmVudFxyXG5cdCAqL1xyXG5cdE1pY3JvRXZlbnQubWl4aW4gPSBmdW5jdGlvbihkZXN0T2JqZWN0KXtcclxuXHRcdHZhciBwcm9wcyA9IFsnb24nLCAnb2ZmJywgJ3RyaWdnZXInXTtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspe1xyXG5cdFx0XHRkZXN0T2JqZWN0LnByb3RvdHlwZVtwcm9wc1tpXV0gPSBNaWNyb0V2ZW50LnByb3RvdHlwZVtwcm9wc1tpXV07XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0dmFyIElTX01BQyAgICAgICAgPSAvTWFjLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG5cclxuXHR2YXIgS0VZX0EgICAgICAgICA9IDY1O1xyXG5cdHZhciBLRVlfQ09NTUEgICAgID0gMTg4O1xyXG5cdHZhciBLRVlfUkVUVVJOICAgID0gMTM7XHJcblx0dmFyIEtFWV9FU0MgICAgICAgPSAyNztcclxuXHR2YXIgS0VZX0xFRlQgICAgICA9IDM3O1xyXG5cdHZhciBLRVlfVVAgICAgICAgID0gMzg7XHJcblx0dmFyIEtFWV9QICAgICAgICAgPSA4MDtcclxuXHR2YXIgS0VZX1JJR0hUICAgICA9IDM5O1xyXG5cdHZhciBLRVlfRE9XTiAgICAgID0gNDA7XHJcblx0dmFyIEtFWV9OICAgICAgICAgPSA3ODtcclxuXHR2YXIgS0VZX0JBQ0tTUEFDRSA9IDg7XHJcblx0dmFyIEtFWV9ERUxFVEUgICAgPSA0NjtcclxuXHR2YXIgS0VZX1NISUZUICAgICA9IDE2O1xyXG5cdHZhciBLRVlfQ01EICAgICAgID0gSVNfTUFDID8gOTEgOiAxNztcclxuXHR2YXIgS0VZX0NUUkwgICAgICA9IElTX01BQyA/IDE4IDogMTc7XHJcblx0dmFyIEtFWV9UQUIgICAgICAgPSA5O1xyXG5cclxuXHR2YXIgVEFHX1NFTEVDVCAgICA9IDE7XHJcblx0dmFyIFRBR19JTlBVVCAgICAgPSAyO1xyXG5cclxuXHQvLyBmb3Igbm93LCBhbmRyb2lkIHN1cHBvcnQgaW4gZ2VuZXJhbCBpcyB0b28gc3BvdHR5IHRvIHN1cHBvcnQgdmFsaWRpdHlcclxuXHR2YXIgU1VQUE9SVFNfVkFMSURJVFlfQVBJID0gIS9hbmRyb2lkL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpLnZhbGlkaXR5O1xyXG5cclxuXHJcblx0dmFyIGlzc2V0ID0gZnVuY3Rpb24ob2JqZWN0KSB7XHJcblx0XHRyZXR1cm4gdHlwZW9mIG9iamVjdCAhPT0gJ3VuZGVmaW5lZCc7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogQ29udmVydHMgYSBzY2FsYXIgdG8gaXRzIGJlc3Qgc3RyaW5nIHJlcHJlc2VudGF0aW9uXHJcblx0ICogZm9yIGhhc2gga2V5cyBhbmQgSFRNTCBhdHRyaWJ1dGUgdmFsdWVzLlxyXG5cdCAqXHJcblx0ICogVHJhbnNmb3JtYXRpb25zOlxyXG5cdCAqICAgJ3N0cicgICAgIC0+ICdzdHInXHJcblx0ICogICBudWxsICAgICAgLT4gJydcclxuXHQgKiAgIHVuZGVmaW5lZCAtPiAnJ1xyXG5cdCAqICAgdHJ1ZSAgICAgIC0+ICcxJ1xyXG5cdCAqICAgZmFsc2UgICAgIC0+ICcwJ1xyXG5cdCAqICAgMCAgICAgICAgIC0+ICcwJ1xyXG5cdCAqICAgMSAgICAgICAgIC0+ICcxJ1xyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXHJcblx0ICogQHJldHVybnMge3N0cmluZ3xudWxsfVxyXG5cdCAqL1xyXG5cdHZhciBoYXNoX2tleSA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyB8fCB2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHJldHVybiB2YWx1ZSA/ICcxJyA6ICcwJztcclxuXHRcdHJldHVybiB2YWx1ZSArICcnO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEVzY2FwZXMgYSBzdHJpbmcgZm9yIHVzZSB3aXRoaW4gSFRNTC5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG5cdCAqL1xyXG5cdHZhciBlc2NhcGVfaHRtbCA9IGZ1bmN0aW9uKHN0cikge1xyXG5cdFx0cmV0dXJuIChzdHIgKyAnJylcclxuXHRcdFx0LnJlcGxhY2UoLyYvZywgJyZhbXA7JylcclxuXHRcdFx0LnJlcGxhY2UoLzwvZywgJyZsdDsnKVxyXG5cdFx0XHQucmVwbGFjZSgvPi9nLCAnJmd0OycpXHJcblx0XHRcdC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogRXNjYXBlcyBcIiRcIiBjaGFyYWN0ZXJzIGluIHJlcGxhY2VtZW50IHN0cmluZ3MuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gc3RyXHJcblx0ICogQHJldHVybnMge3N0cmluZ31cclxuXHQgKi9cclxuXHR2YXIgZXNjYXBlX3JlcGxhY2UgPSBmdW5jdGlvbihzdHIpIHtcclxuXHRcdHJldHVybiAoc3RyICsgJycpLnJlcGxhY2UoL1xcJC9nLCAnJCQkJCcpO1xyXG5cdH07XHJcblxyXG5cdHZhciBob29rID0ge307XHJcblxyXG5cdC8qKlxyXG5cdCAqIFdyYXBzIGBtZXRob2RgIG9uIGBzZWxmYCBzbyB0aGF0IGBmbmBcclxuXHQgKiBpcyBpbnZva2VkIGJlZm9yZSB0aGUgb3JpZ2luYWwgbWV0aG9kLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IHNlbGZcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXHJcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cclxuXHQgKi9cclxuXHRob29rLmJlZm9yZSA9IGZ1bmN0aW9uKHNlbGYsIG1ldGhvZCwgZm4pIHtcclxuXHRcdHZhciBvcmlnaW5hbCA9IHNlbGZbbWV0aG9kXTtcclxuXHRcdHNlbGZbbWV0aG9kXSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRmbi5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRyZXR1cm4gb3JpZ2luYWwuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogV3JhcHMgYG1ldGhvZGAgb24gYHNlbGZgIHNvIHRoYXQgYGZuYFxyXG5cdCAqIGlzIGludm9rZWQgYWZ0ZXIgdGhlIG9yaWdpbmFsIG1ldGhvZC5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBzZWxmXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxyXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXHJcblx0ICovXHJcblx0aG9vay5hZnRlciA9IGZ1bmN0aW9uKHNlbGYsIG1ldGhvZCwgZm4pIHtcclxuXHRcdHZhciBvcmlnaW5hbCA9IHNlbGZbbWV0aG9kXTtcclxuXHRcdHNlbGZbbWV0aG9kXSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gb3JpZ2luYWwuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcclxuXHRcdFx0Zm4uYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogV3JhcHMgYGZuYCBzbyB0aGF0IGl0IGNhbiBvbmx5IGJlIGludm9rZWQgb25jZS5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXHJcblx0ICogQHJldHVybnMge2Z1bmN0aW9ufVxyXG5cdCAqL1xyXG5cdHZhciBvbmNlID0gZnVuY3Rpb24oZm4pIHtcclxuXHRcdHZhciBjYWxsZWQgPSBmYWxzZTtcclxuXHRcdHJldHVybiBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKGNhbGxlZCkgcmV0dXJuO1xyXG5cdFx0XHRjYWxsZWQgPSB0cnVlO1xyXG5cdFx0XHRmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBXcmFwcyBgZm5gIHNvIHRoYXQgaXQgY2FuIG9ubHkgYmUgY2FsbGVkIG9uY2VcclxuXHQgKiBldmVyeSBgZGVsYXlgIG1pbGxpc2Vjb25kcyAoaW52b2tlZCBvbiB0aGUgZmFsbGluZyBlZGdlKS5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXHJcblx0ICogQHBhcmFtIHtpbnR9IGRlbGF5XHJcblx0ICogQHJldHVybnMge2Z1bmN0aW9ufVxyXG5cdCAqL1xyXG5cdHZhciBkZWJvdW5jZSA9IGZ1bmN0aW9uKGZuLCBkZWxheSkge1xyXG5cdFx0dmFyIHRpbWVvdXQ7XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0dmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcblx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dCk7XHJcblx0XHRcdHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRmbi5hcHBseShzZWxmLCBhcmdzKTtcclxuXHRcdFx0fSwgZGVsYXkpO1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBEZWJvdW5jZSBhbGwgZmlyZWQgZXZlbnRzIHR5cGVzIGxpc3RlZCBpbiBgdHlwZXNgXHJcblx0ICogd2hpbGUgZXhlY3V0aW5nIHRoZSBwcm92aWRlZCBgZm5gLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IHNlbGZcclxuXHQgKiBAcGFyYW0ge2FycmF5fSB0eXBlc1xyXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXHJcblx0ICovXHJcblx0dmFyIGRlYm91bmNlX2V2ZW50cyA9IGZ1bmN0aW9uKHNlbGYsIHR5cGVzLCBmbikge1xyXG5cdFx0dmFyIHR5cGU7XHJcblx0XHR2YXIgdHJpZ2dlciA9IHNlbGYudHJpZ2dlcjtcclxuXHRcdHZhciBldmVudF9hcmdzID0ge307XHJcblxyXG5cdFx0Ly8gb3ZlcnJpZGUgdHJpZ2dlciBtZXRob2RcclxuXHRcdHNlbGYudHJpZ2dlciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgdHlwZSA9IGFyZ3VtZW50c1swXTtcclxuXHRcdFx0aWYgKHR5cGVzLmluZGV4T2YodHlwZSkgIT09IC0xKSB7XHJcblx0XHRcdFx0ZXZlbnRfYXJnc1t0eXBlXSA9IGFyZ3VtZW50cztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJpZ2dlci5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIGludm9rZSBwcm92aWRlZCBmdW5jdGlvblxyXG5cdFx0Zm4uYXBwbHkoc2VsZiwgW10pO1xyXG5cdFx0c2VsZi50cmlnZ2VyID0gdHJpZ2dlcjtcclxuXHJcblx0XHQvLyB0cmlnZ2VyIHF1ZXVlZCBldmVudHNcclxuXHRcdGZvciAodHlwZSBpbiBldmVudF9hcmdzKSB7XHJcblx0XHRcdGlmIChldmVudF9hcmdzLmhhc093blByb3BlcnR5KHR5cGUpKSB7XHJcblx0XHRcdFx0dHJpZ2dlci5hcHBseShzZWxmLCBldmVudF9hcmdzW3R5cGVdKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEEgd29ya2Fyb3VuZCBmb3IgaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvNjY5NlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtvYmplY3R9ICRwYXJlbnQgLSBQYXJlbnQgZWxlbWVudCB0byBsaXN0ZW4gb24uXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IC0gRXZlbnQgbmFtZS5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgLSBEZXNjZW5kYW50IHNlbGVjdG9yIHRvIGZpbHRlciBieS5cclxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIEV2ZW50IGhhbmRsZXIuXHJcblx0ICovXHJcblx0dmFyIHdhdGNoQ2hpbGRFdmVudCA9IGZ1bmN0aW9uKCRwYXJlbnQsIGV2ZW50LCBzZWxlY3RvciwgZm4pIHtcclxuXHRcdCRwYXJlbnQub24oZXZlbnQsIHNlbGVjdG9yLCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHZhciBjaGlsZCA9IGUudGFyZ2V0O1xyXG5cdFx0XHR3aGlsZSAoY2hpbGQgJiYgY2hpbGQucGFyZW50Tm9kZSAhPT0gJHBhcmVudFswXSkge1xyXG5cdFx0XHRcdGNoaWxkID0gY2hpbGQucGFyZW50Tm9kZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlLmN1cnJlbnRUYXJnZXQgPSBjaGlsZDtcclxuXHRcdFx0cmV0dXJuIGZuLmFwcGx5KHRoaXMsIFtlXSk7XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBEZXRlcm1pbmVzIHRoZSBjdXJyZW50IHNlbGVjdGlvbiB3aXRoaW4gYSB0ZXh0IGlucHV0IGNvbnRyb2wuXHJcblx0ICogUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZzpcclxuXHQgKiAgIC0gc3RhcnRcclxuXHQgKiAgIC0gbGVuZ3RoXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge29iamVjdH0gaW5wdXRcclxuXHQgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG5cdCAqL1xyXG5cdHZhciBnZXRTZWxlY3Rpb24gPSBmdW5jdGlvbihpbnB1dCkge1xyXG5cdFx0dmFyIHJlc3VsdCA9IHt9O1xyXG5cdFx0aWYgKCdzZWxlY3Rpb25TdGFydCcgaW4gaW5wdXQpIHtcclxuXHRcdFx0cmVzdWx0LnN0YXJ0ID0gaW5wdXQuc2VsZWN0aW9uU3RhcnQ7XHJcblx0XHRcdHJlc3VsdC5sZW5ndGggPSBpbnB1dC5zZWxlY3Rpb25FbmQgLSByZXN1bHQuc3RhcnQ7XHJcblx0XHR9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikge1xyXG5cdFx0XHRpbnB1dC5mb2N1cygpO1xyXG5cdFx0XHR2YXIgc2VsID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XHJcblx0XHRcdHZhciBzZWxMZW4gPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKS50ZXh0Lmxlbmd0aDtcclxuXHRcdFx0c2VsLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgLWlucHV0LnZhbHVlLmxlbmd0aCk7XHJcblx0XHRcdHJlc3VsdC5zdGFydCA9IHNlbC50ZXh0Lmxlbmd0aCAtIHNlbExlbjtcclxuXHRcdFx0cmVzdWx0Lmxlbmd0aCA9IHNlbExlbjtcclxuXHRcdH1cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogQ29waWVzIENTUyBwcm9wZXJ0aWVzIGZyb20gb25lIGVsZW1lbnQgdG8gYW5vdGhlci5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSAkZnJvbVxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSAkdG9cclxuXHQgKiBAcGFyYW0ge2FycmF5fSBwcm9wZXJ0aWVzXHJcblx0ICovXHJcblx0dmFyIHRyYW5zZmVyU3R5bGVzID0gZnVuY3Rpb24oJGZyb20sICR0bywgcHJvcGVydGllcykge1xyXG5cdFx0dmFyIGksIG4sIHN0eWxlcyA9IHt9O1xyXG5cdFx0aWYgKHByb3BlcnRpZXMpIHtcclxuXHRcdFx0Zm9yIChpID0gMCwgbiA9IHByb3BlcnRpZXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0c3R5bGVzW3Byb3BlcnRpZXNbaV1dID0gJGZyb20uY3NzKHByb3BlcnRpZXNbaV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdHlsZXMgPSAkZnJvbS5jc3MoKTtcclxuXHRcdH1cclxuXHRcdCR0by5jc3Moc3R5bGVzKTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBNZWFzdXJlcyB0aGUgd2lkdGggb2YgYSBzdHJpbmcgd2l0aGluIGFcclxuXHQgKiBwYXJlbnQgZWxlbWVudCAoaW4gcGl4ZWxzKS5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuXHQgKiBAcGFyYW0ge29iamVjdH0gJHBhcmVudFxyXG5cdCAqIEByZXR1cm5zIHtpbnR9XHJcblx0ICovXHJcblx0dmFyIG1lYXN1cmVTdHJpbmcgPSBmdW5jdGlvbihzdHIsICRwYXJlbnQpIHtcclxuXHRcdGlmICghc3RyKSB7XHJcblx0XHRcdHJldHVybiAwO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciAkdGVzdCA9ICQoJzx0ZXN0PicpLmNzcyh7XHJcblx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG5cdFx0XHR0b3A6IC05OTk5OSxcclxuXHRcdFx0bGVmdDogLTk5OTk5LFxyXG5cdFx0XHR3aWR0aDogJ2F1dG8nLFxyXG5cdFx0XHRwYWRkaW5nOiAwLFxyXG5cdFx0XHR3aGl0ZVNwYWNlOiAncHJlJ1xyXG5cdFx0fSkudGV4dChzdHIpLmFwcGVuZFRvKCdib2R5Jyk7XHJcblxyXG5cdFx0dHJhbnNmZXJTdHlsZXMoJHBhcmVudCwgJHRlc3QsIFtcclxuXHRcdFx0J2xldHRlclNwYWNpbmcnLFxyXG5cdFx0XHQnZm9udFNpemUnLFxyXG5cdFx0XHQnZm9udEZhbWlseScsXHJcblx0XHRcdCdmb250V2VpZ2h0JyxcclxuXHRcdFx0J3RleHRUcmFuc2Zvcm0nXHJcblx0XHRdKTtcclxuXHJcblx0XHR2YXIgd2lkdGggPSAkdGVzdC53aWR0aCgpO1xyXG5cdFx0JHRlc3QucmVtb3ZlKCk7XHJcblxyXG5cdFx0cmV0dXJuIHdpZHRoO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldHMgdXAgYW4gaW5wdXQgdG8gZ3JvdyBob3Jpem9udGFsbHkgYXMgdGhlIHVzZXJcclxuXHQgKiB0eXBlcy4gSWYgdGhlIHZhbHVlIGlzIGNoYW5nZWQgbWFudWFsbHksIHlvdSBjYW5cclxuXHQgKiB0cmlnZ2VyIHRoZSBcInVwZGF0ZVwiIGhhbmRsZXIgdG8gcmVzaXplOlxyXG5cdCAqXHJcblx0ICogJGlucHV0LnRyaWdnZXIoJ3VwZGF0ZScpO1xyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtvYmplY3R9ICRpbnB1dFxyXG5cdCAqL1xyXG5cdHZhciBhdXRvR3JvdyA9IGZ1bmN0aW9uKCRpbnB1dCkge1xyXG5cdFx0dmFyIGN1cnJlbnRXaWR0aCA9IG51bGw7XHJcblxyXG5cdFx0dmFyIHVwZGF0ZSA9IGZ1bmN0aW9uKGUsIG9wdGlvbnMpIHtcclxuXHRcdFx0dmFyIHZhbHVlLCBrZXlDb2RlLCBwcmludGFibGUsIHBsYWNlaG9sZGVyLCB3aWR0aDtcclxuXHRcdFx0dmFyIHNoaWZ0LCBjaGFyYWN0ZXIsIHNlbGVjdGlvbjtcclxuXHRcdFx0ZSA9IGUgfHwgd2luZG93LmV2ZW50IHx8IHt9O1xyXG5cdFx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcblx0XHRcdGlmIChlLm1ldGFLZXkgfHwgZS5hbHRLZXkpIHJldHVybjtcclxuXHRcdFx0aWYgKCFvcHRpb25zLmZvcmNlICYmICRpbnB1dC5kYXRhKCdncm93JykgPT09IGZhbHNlKSByZXR1cm47XHJcblxyXG5cdFx0XHR2YWx1ZSA9ICRpbnB1dC52YWwoKTtcclxuXHRcdFx0aWYgKGUudHlwZSAmJiBlLnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2tleWRvd24nKSB7XHJcblx0XHRcdFx0a2V5Q29kZSA9IGUua2V5Q29kZTtcclxuXHRcdFx0XHRwcmludGFibGUgPSAoXHJcblx0XHRcdFx0XHQoa2V5Q29kZSA+PSA5NyAmJiBrZXlDb2RlIDw9IDEyMikgfHwgLy8gYS16XHJcblx0XHRcdFx0XHQoa2V5Q29kZSA+PSA2NSAmJiBrZXlDb2RlIDw9IDkwKSAgfHwgLy8gQS1aXHJcblx0XHRcdFx0XHQoa2V5Q29kZSA+PSA0OCAmJiBrZXlDb2RlIDw9IDU3KSAgfHwgLy8gMC05XHJcblx0XHRcdFx0XHRrZXlDb2RlID09PSAzMiAvLyBzcGFjZVxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdGlmIChrZXlDb2RlID09PSBLRVlfREVMRVRFIHx8IGtleUNvZGUgPT09IEtFWV9CQUNLU1BBQ0UpIHtcclxuXHRcdFx0XHRcdHNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbigkaW5wdXRbMF0pO1xyXG5cdFx0XHRcdFx0aWYgKHNlbGVjdGlvbi5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMCwgc2VsZWN0aW9uLnN0YXJ0KSArIHZhbHVlLnN1YnN0cmluZyhzZWxlY3Rpb24uc3RhcnQgKyBzZWxlY3Rpb24ubGVuZ3RoKTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoa2V5Q29kZSA9PT0gS0VZX0JBQ0tTUEFDRSAmJiBzZWxlY3Rpb24uc3RhcnQpIHtcclxuXHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMCwgc2VsZWN0aW9uLnN0YXJ0IC0gMSkgKyB2YWx1ZS5zdWJzdHJpbmcoc2VsZWN0aW9uLnN0YXJ0ICsgMSk7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGtleUNvZGUgPT09IEtFWV9ERUxFVEUgJiYgdHlwZW9mIHNlbGVjdGlvbi5zdGFydCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMCwgc2VsZWN0aW9uLnN0YXJ0KSArIHZhbHVlLnN1YnN0cmluZyhzZWxlY3Rpb24uc3RhcnQgKyAxKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2UgaWYgKHByaW50YWJsZSkge1xyXG5cdFx0XHRcdFx0c2hpZnQgPSBlLnNoaWZ0S2V5O1xyXG5cdFx0XHRcdFx0Y2hhcmFjdGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLmtleUNvZGUpO1xyXG5cdFx0XHRcdFx0aWYgKHNoaWZ0KSBjaGFyYWN0ZXIgPSBjaGFyYWN0ZXIudG9VcHBlckNhc2UoKTtcclxuXHRcdFx0XHRcdGVsc2UgY2hhcmFjdGVyID0gY2hhcmFjdGVyLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRcdFx0XHR2YWx1ZSArPSBjaGFyYWN0ZXI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRwbGFjZWhvbGRlciA9ICRpbnB1dC5hdHRyKCdwbGFjZWhvbGRlcicpO1xyXG5cdFx0XHRpZiAoIXZhbHVlICYmIHBsYWNlaG9sZGVyKSB7XHJcblx0XHRcdFx0dmFsdWUgPSBwbGFjZWhvbGRlcjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0d2lkdGggPSBtZWFzdXJlU3RyaW5nKHZhbHVlLCAkaW5wdXQpICsgNDtcclxuXHRcdFx0aWYgKHdpZHRoICE9PSBjdXJyZW50V2lkdGgpIHtcclxuXHRcdFx0XHRjdXJyZW50V2lkdGggPSB3aWR0aDtcclxuXHRcdFx0XHQkaW5wdXQud2lkdGgod2lkdGgpO1xyXG5cdFx0XHRcdCRpbnB1dC50cmlnZ2VySGFuZGxlcigncmVzaXplJyk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JGlucHV0Lm9uKCdrZXlkb3duIGtleXVwIHVwZGF0ZSBibHVyJywgdXBkYXRlKTtcclxuXHRcdHVwZGF0ZSgpO1xyXG5cdH07XHJcblxyXG5cdHZhciBkb21Ub1N0cmluZyA9IGZ1bmN0aW9uKGQpIHtcclxuXHRcdHZhciB0bXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcblx0XHR0bXAuYXBwZW5kQ2hpbGQoZC5jbG9uZU5vZGUodHJ1ZSkpO1xyXG5cclxuXHRcdHJldHVybiB0bXAuaW5uZXJIVE1MO1xyXG5cdH07XHJcblxyXG5cdHZhciBsb2dFcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIG9wdGlvbnMpe1xyXG5cdFx0aWYoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcclxuXHRcdHZhciBjb21wb25lbnQgPSBcIlNlbGVjdGl6ZVwiO1xyXG5cclxuXHRcdGNvbnNvbGUuZXJyb3IoY29tcG9uZW50ICsgXCI6IFwiICsgbWVzc2FnZSlcclxuXHJcblx0XHRpZihvcHRpb25zLmV4cGxhbmF0aW9uKXtcclxuXHRcdFx0Ly8gY29uc29sZS5ncm91cCBpcyB1bmRlZmluZWQgaW4gPElFMTFcclxuXHRcdFx0aWYoY29uc29sZS5ncm91cCkgY29uc29sZS5ncm91cCgpO1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKG9wdGlvbnMuZXhwbGFuYXRpb24pO1xyXG5cdFx0XHRpZihjb25zb2xlLmdyb3VwKSBjb25zb2xlLmdyb3VwRW5kKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHJcblx0dmFyIFNlbGVjdGl6ZSA9IGZ1bmN0aW9uKCRpbnB1dCwgc2V0dGluZ3MpIHtcclxuXHRcdHZhciBrZXksIGksIG4sIGRpciwgaW5wdXQsIHNlbGYgPSB0aGlzO1xyXG5cdFx0aW5wdXQgPSAkaW5wdXRbMF07XHJcblx0XHRpbnB1dC5zZWxlY3RpemUgPSBzZWxmO1xyXG5cclxuXHRcdC8vIGRldGVjdCBydGwgZW52aXJvbm1lbnRcclxuXHRcdHZhciBjb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUgJiYgd2luZG93LmdldENvbXB1dGVkU3R5bGUoaW5wdXQsIG51bGwpO1xyXG5cdFx0ZGlyID0gY29tcHV0ZWRTdHlsZSA/IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnZGlyZWN0aW9uJykgOiBpbnB1dC5jdXJyZW50U3R5bGUgJiYgaW5wdXQuY3VycmVudFN0eWxlLmRpcmVjdGlvbjtcclxuXHRcdGRpciA9IGRpciB8fCAkaW5wdXQucGFyZW50cygnW2Rpcl06Zmlyc3QnKS5hdHRyKCdkaXInKSB8fCAnJztcclxuXHJcblx0XHQvLyBzZXR1cCBkZWZhdWx0IHN0YXRlXHJcblx0XHQkLmV4dGVuZChzZWxmLCB7XHJcblx0XHRcdG9yZGVyICAgICAgICAgICAgOiAwLFxyXG5cdFx0XHRzZXR0aW5ncyAgICAgICAgIDogc2V0dGluZ3MsXHJcblx0XHRcdCRpbnB1dCAgICAgICAgICAgOiAkaW5wdXQsXHJcblx0XHRcdHRhYkluZGV4ICAgICAgICAgOiAkaW5wdXQuYXR0cigndGFiaW5kZXgnKSB8fCAnJyxcclxuXHRcdFx0dGFnVHlwZSAgICAgICAgICA6IGlucHV0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3NlbGVjdCcgPyBUQUdfU0VMRUNUIDogVEFHX0lOUFVULFxyXG5cdFx0XHRydGwgICAgICAgICAgICAgIDogL3J0bC9pLnRlc3QoZGlyKSxcclxuXHJcblx0XHRcdGV2ZW50TlMgICAgICAgICAgOiAnLnNlbGVjdGl6ZScgKyAoKytTZWxlY3RpemUuY291bnQpLFxyXG5cdFx0XHRoaWdobGlnaHRlZFZhbHVlIDogbnVsbCxcclxuXHRcdFx0aXNPcGVuICAgICAgICAgICA6IGZhbHNlLFxyXG5cdFx0XHRpc0Rpc2FibGVkICAgICAgIDogZmFsc2UsXHJcblx0XHRcdGlzUmVxdWlyZWQgICAgICAgOiAkaW5wdXQuaXMoJ1tyZXF1aXJlZF0nKSxcclxuXHRcdFx0aXNJbnZhbGlkICAgICAgICA6IGZhbHNlLFxyXG5cdFx0XHRpc0xvY2tlZCAgICAgICAgIDogZmFsc2UsXHJcblx0XHRcdGlzRm9jdXNlZCAgICAgICAgOiBmYWxzZSxcclxuXHRcdFx0aXNJbnB1dEhpZGRlbiAgICA6IGZhbHNlLFxyXG5cdFx0XHRpc1NldHVwICAgICAgICAgIDogZmFsc2UsXHJcblx0XHRcdGlzU2hpZnREb3duICAgICAgOiBmYWxzZSxcclxuXHRcdFx0aXNDbWREb3duICAgICAgICA6IGZhbHNlLFxyXG5cdFx0XHRpc0N0cmxEb3duICAgICAgIDogZmFsc2UsXHJcblx0XHRcdGlnbm9yZUZvY3VzICAgICAgOiBmYWxzZSxcclxuXHRcdFx0aWdub3JlQmx1ciAgICAgICA6IGZhbHNlLFxyXG5cdFx0XHRpZ25vcmVIb3ZlciAgICAgIDogZmFsc2UsXHJcblx0XHRcdGhhc09wdGlvbnMgICAgICAgOiBmYWxzZSxcclxuXHRcdFx0Y3VycmVudFJlc3VsdHMgICA6IG51bGwsXHJcblx0XHRcdGxhc3RWYWx1ZSAgICAgICAgOiAnJyxcclxuXHRcdFx0Y2FyZXRQb3MgICAgICAgICA6IDAsXHJcblx0XHRcdGxvYWRpbmcgICAgICAgICAgOiAwLFxyXG5cdFx0XHRsb2FkZWRTZWFyY2hlcyAgIDoge30sXHJcblxyXG5cdFx0XHQkYWN0aXZlT3B0aW9uICAgIDogbnVsbCxcclxuXHRcdFx0JGFjdGl2ZUl0ZW1zICAgICA6IFtdLFxyXG5cclxuXHRcdFx0b3B0Z3JvdXBzICAgICAgICA6IHt9LFxyXG5cdFx0XHRvcHRpb25zICAgICAgICAgIDoge30sXHJcblx0XHRcdHVzZXJPcHRpb25zICAgICAgOiB7fSxcclxuXHRcdFx0aXRlbXMgICAgICAgICAgICA6IFtdLFxyXG5cdFx0XHRyZW5kZXJDYWNoZSAgICAgIDoge30sXHJcblx0XHRcdG9uU2VhcmNoQ2hhbmdlICAgOiBzZXR0aW5ncy5sb2FkVGhyb3R0bGUgPT09IG51bGwgPyBzZWxmLm9uU2VhcmNoQ2hhbmdlIDogZGVib3VuY2Uoc2VsZi5vblNlYXJjaENoYW5nZSwgc2V0dGluZ3MubG9hZFRocm90dGxlKVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gc2VhcmNoIHN5c3RlbVxyXG5cdFx0c2VsZi5zaWZ0ZXIgPSBuZXcgU2lmdGVyKHRoaXMub3B0aW9ucywge2RpYWNyaXRpY3M6IHNldHRpbmdzLmRpYWNyaXRpY3N9KTtcclxuXHJcblx0XHQvLyBidWlsZCBvcHRpb25zIHRhYmxlXHJcblx0XHRpZiAoc2VsZi5zZXR0aW5ncy5vcHRpb25zKSB7XHJcblx0XHRcdGZvciAoaSA9IDAsIG4gPSBzZWxmLnNldHRpbmdzLm9wdGlvbnMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0c2VsZi5yZWdpc3Rlck9wdGlvbihzZWxmLnNldHRpbmdzLm9wdGlvbnNbaV0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGRlbGV0ZSBzZWxmLnNldHRpbmdzLm9wdGlvbnM7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gYnVpbGQgb3B0Z3JvdXAgdGFibGVcclxuXHRcdGlmIChzZWxmLnNldHRpbmdzLm9wdGdyb3Vwcykge1xyXG5cdFx0XHRmb3IgKGkgPSAwLCBuID0gc2VsZi5zZXR0aW5ncy5vcHRncm91cHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0c2VsZi5yZWdpc3Rlck9wdGlvbkdyb3VwKHNlbGYuc2V0dGluZ3Mub3B0Z3JvdXBzW2ldKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRkZWxldGUgc2VsZi5zZXR0aW5ncy5vcHRncm91cHM7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gb3B0aW9uLWRlcGVuZGVudCBkZWZhdWx0c1xyXG5cdFx0c2VsZi5zZXR0aW5ncy5tb2RlID0gc2VsZi5zZXR0aW5ncy5tb2RlIHx8IChzZWxmLnNldHRpbmdzLm1heEl0ZW1zID09PSAxID8gJ3NpbmdsZScgOiAnbXVsdGknKTtcclxuXHRcdGlmICh0eXBlb2Ygc2VsZi5zZXR0aW5ncy5oaWRlU2VsZWN0ZWQgIT09ICdib29sZWFuJykge1xyXG5cdFx0XHRzZWxmLnNldHRpbmdzLmhpZGVTZWxlY3RlZCA9IHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ211bHRpJztcclxuXHRcdH1cclxuXHJcblx0XHRzZWxmLmluaXRpYWxpemVQbHVnaW5zKHNlbGYuc2V0dGluZ3MucGx1Z2lucyk7XHJcblx0XHRzZWxmLnNldHVwQ2FsbGJhY2tzKCk7XHJcblx0XHRzZWxmLnNldHVwVGVtcGxhdGVzKCk7XHJcblx0XHRzZWxmLnNldHVwKCk7XHJcblx0fTtcclxuXHJcblx0Ly8gbWl4aW5zXHJcblx0Ly8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC1cclxuXHJcblx0TWljcm9FdmVudC5taXhpbihTZWxlY3RpemUpO1xyXG5cclxuXHRpZih0eXBlb2YgTWljcm9QbHVnaW4gIT09IFwidW5kZWZpbmVkXCIpe1xyXG5cdFx0TWljcm9QbHVnaW4ubWl4aW4oU2VsZWN0aXplKTtcclxuXHR9ZWxzZXtcclxuXHRcdGxvZ0Vycm9yKFwiRGVwZW5kZW5jeSBNaWNyb1BsdWdpbiBpcyBtaXNzaW5nXCIsXHJcblx0XHRcdHtleHBsYW5hdGlvbjpcclxuXHRcdFx0XHRcIk1ha2Ugc3VyZSB5b3UgZWl0aGVyOiAoMSkgYXJlIHVzaW5nIHRoZSBcXFwic3RhbmRhbG9uZVxcXCIgXCIrXHJcblx0XHRcdFx0XCJ2ZXJzaW9uIG9mIFNlbGVjdGl6ZSwgb3IgKDIpIHJlcXVpcmUgTWljcm9QbHVnaW4gYmVmb3JlIHlvdSBcIitcclxuXHRcdFx0XHRcImxvYWQgU2VsZWN0aXplLlwifVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cclxuXHQvLyBtZXRob2RzXHJcblx0Ly8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC1cclxuXHJcblx0JC5leHRlbmQoU2VsZWN0aXplLnByb3RvdHlwZSwge1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ3JlYXRlcyBhbGwgZWxlbWVudHMgYW5kIHNldHMgdXAgZXZlbnQgYmluZGluZ3MuXHJcblx0XHQgKi9cclxuXHRcdHNldHVwOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgICAgICA9IHRoaXM7XHJcblx0XHRcdHZhciBzZXR0aW5ncyAgPSBzZWxmLnNldHRpbmdzO1xyXG5cdFx0XHR2YXIgZXZlbnROUyAgID0gc2VsZi5ldmVudE5TO1xyXG5cdFx0XHR2YXIgJHdpbmRvdyAgID0gJCh3aW5kb3cpO1xyXG5cdFx0XHR2YXIgJGRvY3VtZW50ID0gJChkb2N1bWVudCk7XHJcblx0XHRcdHZhciAkaW5wdXQgICAgPSBzZWxmLiRpbnB1dDtcclxuXHJcblx0XHRcdHZhciAkd3JhcHBlcjtcclxuXHRcdFx0dmFyICRjb250cm9sO1xyXG5cdFx0XHR2YXIgJGNvbnRyb2xfaW5wdXQ7XHJcblx0XHRcdHZhciAkZHJvcGRvd247XHJcblx0XHRcdHZhciAkZHJvcGRvd25fY29udGVudDtcclxuXHRcdFx0dmFyICRkcm9wZG93bl9wYXJlbnQ7XHJcblx0XHRcdHZhciBpbnB1dE1vZGU7XHJcblx0XHRcdHZhciB0aW1lb3V0X2JsdXI7XHJcblx0XHRcdHZhciB0aW1lb3V0X2ZvY3VzO1xyXG5cdFx0XHR2YXIgY2xhc3NlcztcclxuXHRcdFx0dmFyIGNsYXNzZXNfcGx1Z2lucztcclxuXHRcdFx0dmFyIGlucHV0SWQ7XHJcblxyXG5cdFx0XHRpbnB1dE1vZGUgICAgICAgICA9IHNlbGYuc2V0dGluZ3MubW9kZTtcclxuXHRcdFx0Y2xhc3NlcyAgICAgICAgICAgPSAkaW5wdXQuYXR0cignY2xhc3MnKSB8fCAnJztcclxuXHJcblx0XHRcdCR3cmFwcGVyICAgICAgICAgID0gJCgnPGRpdj4nKS5hZGRDbGFzcyhzZXR0aW5ncy53cmFwcGVyQ2xhc3MpLmFkZENsYXNzKGNsYXNzZXMpLmFkZENsYXNzKGlucHV0TW9kZSk7XHJcblx0XHRcdCRjb250cm9sICAgICAgICAgID0gJCgnPGRpdj4nKS5hZGRDbGFzcyhzZXR0aW5ncy5pbnB1dENsYXNzKS5hZGRDbGFzcygnaXRlbXMnKS5hcHBlbmRUbygkd3JhcHBlcik7XHJcblx0XHRcdCRjb250cm9sX2lucHV0ICAgID0gJCgnPGlucHV0IHR5cGU9XCJ0ZXh0XCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgLz4nKS5hcHBlbmRUbygkY29udHJvbCkuYXR0cigndGFiaW5kZXgnLCAkaW5wdXQuaXMoJzpkaXNhYmxlZCcpID8gJy0xJyA6IHNlbGYudGFiSW5kZXgpO1xyXG5cdFx0XHQkZHJvcGRvd25fcGFyZW50ICA9ICQoc2V0dGluZ3MuZHJvcGRvd25QYXJlbnQgfHwgJHdyYXBwZXIpO1xyXG5cdFx0XHQkZHJvcGRvd24gICAgICAgICA9ICQoJzxkaXY+JykuYWRkQ2xhc3Moc2V0dGluZ3MuZHJvcGRvd25DbGFzcykuYWRkQ2xhc3MoaW5wdXRNb2RlKS5oaWRlKCkuYXBwZW5kVG8oJGRyb3Bkb3duX3BhcmVudCk7XHJcblx0XHRcdCRkcm9wZG93bl9jb250ZW50ID0gJCgnPGRpdj4nKS5hZGRDbGFzcyhzZXR0aW5ncy5kcm9wZG93bkNvbnRlbnRDbGFzcykuYXBwZW5kVG8oJGRyb3Bkb3duKTtcclxuXHJcblx0XHRcdGlmKGlucHV0SWQgPSAkaW5wdXQuYXR0cignaWQnKSkge1xyXG5cdFx0XHRcdCRjb250cm9sX2lucHV0LmF0dHIoJ2lkJywgaW5wdXRJZCArICctc2VsZWN0aXplZCcpO1xyXG5cdFx0XHRcdCQoXCJsYWJlbFtmb3I9J1wiK2lucHV0SWQrXCInXVwiKS5hdHRyKCdmb3InLCBpbnB1dElkICsgJy1zZWxlY3RpemVkJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKHNlbGYuc2V0dGluZ3MuY29weUNsYXNzZXNUb0Ryb3Bkb3duKSB7XHJcblx0XHRcdFx0JGRyb3Bkb3duLmFkZENsYXNzKGNsYXNzZXMpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQkd3JhcHBlci5jc3Moe1xyXG5cdFx0XHRcdHdpZHRoOiAkaW5wdXRbMF0uc3R5bGUud2lkdGhcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpZiAoc2VsZi5wbHVnaW5zLm5hbWVzLmxlbmd0aCkge1xyXG5cdFx0XHRcdGNsYXNzZXNfcGx1Z2lucyA9ICdwbHVnaW4tJyArIHNlbGYucGx1Z2lucy5uYW1lcy5qb2luKCcgcGx1Z2luLScpO1xyXG5cdFx0XHRcdCR3cmFwcGVyLmFkZENsYXNzKGNsYXNzZXNfcGx1Z2lucyk7XHJcblx0XHRcdFx0JGRyb3Bkb3duLmFkZENsYXNzKGNsYXNzZXNfcGx1Z2lucyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICgoc2V0dGluZ3MubWF4SXRlbXMgPT09IG51bGwgfHwgc2V0dGluZ3MubWF4SXRlbXMgPiAxKSAmJiBzZWxmLnRhZ1R5cGUgPT09IFRBR19TRUxFQ1QpIHtcclxuXHRcdFx0XHQkaW5wdXQuYXR0cignbXVsdGlwbGUnLCAnbXVsdGlwbGUnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MucGxhY2Vob2xkZXIpIHtcclxuXHRcdFx0XHQkY29udHJvbF9pbnB1dC5hdHRyKCdwbGFjZWhvbGRlcicsIHNldHRpbmdzLnBsYWNlaG9sZGVyKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gaWYgc3BsaXRPbiB3YXMgbm90IHBhc3NlZCBpbiwgY29uc3RydWN0IGl0IGZyb20gdGhlIGRlbGltaXRlciB0byBhbGxvdyBwYXN0aW5nIHVuaXZlcnNhbGx5XHJcblx0XHRcdGlmICghc2VsZi5zZXR0aW5ncy5zcGxpdE9uICYmIHNlbGYuc2V0dGluZ3MuZGVsaW1pdGVyKSB7XHJcblx0XHRcdFx0dmFyIGRlbGltaXRlckVzY2FwZWQgPSBzZWxmLnNldHRpbmdzLmRlbGltaXRlci5yZXBsYWNlKC9bLVxcL1xcXFxeJCorPy4oKXxbXFxde31dL2csICdcXFxcJCYnKTtcclxuXHRcdFx0XHRzZWxmLnNldHRpbmdzLnNwbGl0T24gPSBuZXcgUmVnRXhwKCdcXFxccyonICsgZGVsaW1pdGVyRXNjYXBlZCArICcrXFxcXHMqJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICgkaW5wdXQuYXR0cignYXV0b2NvcnJlY3QnKSkge1xyXG5cdFx0XHRcdCRjb250cm9sX2lucHV0LmF0dHIoJ2F1dG9jb3JyZWN0JywgJGlucHV0LmF0dHIoJ2F1dG9jb3JyZWN0JykpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoJGlucHV0LmF0dHIoJ2F1dG9jYXBpdGFsaXplJykpIHtcclxuXHRcdFx0XHQkY29udHJvbF9pbnB1dC5hdHRyKCdhdXRvY2FwaXRhbGl6ZScsICRpbnB1dC5hdHRyKCdhdXRvY2FwaXRhbGl6ZScpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c2VsZi4kd3JhcHBlciAgICAgICAgICA9ICR3cmFwcGVyO1xyXG5cdFx0XHRzZWxmLiRjb250cm9sICAgICAgICAgID0gJGNvbnRyb2w7XHJcblx0XHRcdHNlbGYuJGNvbnRyb2xfaW5wdXQgICAgPSAkY29udHJvbF9pbnB1dDtcclxuXHRcdFx0c2VsZi4kZHJvcGRvd24gICAgICAgICA9ICRkcm9wZG93bjtcclxuXHRcdFx0c2VsZi4kZHJvcGRvd25fY29udGVudCA9ICRkcm9wZG93bl9jb250ZW50O1xyXG5cclxuXHRcdFx0JGRyb3Bkb3duLm9uKCdtb3VzZWVudGVyJywgJ1tkYXRhLXNlbGVjdGFibGVdJywgZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uT3B0aW9uSG92ZXIuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSk7XHJcblx0XHRcdCRkcm9wZG93bi5vbignbW91c2Vkb3duIGNsaWNrJywgJ1tkYXRhLXNlbGVjdGFibGVdJywgZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uT3B0aW9uU2VsZWN0LmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH0pO1xyXG5cdFx0XHR3YXRjaENoaWxkRXZlbnQoJGNvbnRyb2wsICdtb3VzZWRvd24nLCAnKjpub3QoaW5wdXQpJywgZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uSXRlbVNlbGVjdC5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9KTtcclxuXHRcdFx0YXV0b0dyb3coJGNvbnRyb2xfaW5wdXQpO1xyXG5cclxuXHRcdFx0JGNvbnRyb2wub24oe1xyXG5cdFx0XHRcdG1vdXNlZG93biA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vbk1vdXNlRG93bi5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9LFxyXG5cdFx0XHRcdGNsaWNrICAgICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vbkNsaWNrLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkY29udHJvbF9pbnB1dC5vbih7XHJcblx0XHRcdFx0bW91c2Vkb3duIDogZnVuY3Rpb24oZSkgeyBlLnN0b3BQcm9wYWdhdGlvbigpOyB9LFxyXG5cdFx0XHRcdGtleWRvd24gICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vbktleURvd24uYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSxcclxuXHRcdFx0XHRrZXl1cCAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYub25LZXlVcC5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9LFxyXG5cdFx0XHRcdGtleXByZXNzICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vbktleVByZXNzLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH0sXHJcblx0XHRcdFx0cmVzaXplICAgIDogZnVuY3Rpb24oKSB7IHNlbGYucG9zaXRpb25Ecm9wZG93bi5hcHBseShzZWxmLCBbXSk7IH0sXHJcblx0XHRcdFx0Ymx1ciAgICAgIDogZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uQmx1ci5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9LFxyXG5cdFx0XHRcdGZvY3VzICAgICA6IGZ1bmN0aW9uKCkgeyBzZWxmLmlnbm9yZUJsdXIgPSBmYWxzZTsgcmV0dXJuIHNlbGYub25Gb2N1cy5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9LFxyXG5cdFx0XHRcdHBhc3RlICAgICA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vblBhc3RlLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkZG9jdW1lbnQub24oJ2tleWRvd24nICsgZXZlbnROUywgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdHNlbGYuaXNDbWREb3duID0gZVtJU19NQUMgPyAnbWV0YUtleScgOiAnY3RybEtleSddO1xyXG5cdFx0XHRcdHNlbGYuaXNDdHJsRG93biA9IGVbSVNfTUFDID8gJ2FsdEtleScgOiAnY3RybEtleSddO1xyXG5cdFx0XHRcdHNlbGYuaXNTaGlmdERvd24gPSBlLnNoaWZ0S2V5O1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRkb2N1bWVudC5vbigna2V5dXAnICsgZXZlbnROUywgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdGlmIChlLmtleUNvZGUgPT09IEtFWV9DVFJMKSBzZWxmLmlzQ3RybERvd24gPSBmYWxzZTtcclxuXHRcdFx0XHRpZiAoZS5rZXlDb2RlID09PSBLRVlfU0hJRlQpIHNlbGYuaXNTaGlmdERvd24gPSBmYWxzZTtcclxuXHRcdFx0XHRpZiAoZS5rZXlDb2RlID09PSBLRVlfQ01EKSBzZWxmLmlzQ21kRG93biA9IGZhbHNlO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRkb2N1bWVudC5vbignbW91c2Vkb3duJyArIGV2ZW50TlMsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHRpZiAoc2VsZi5pc0ZvY3VzZWQpIHtcclxuXHRcdFx0XHRcdC8vIHByZXZlbnQgZXZlbnRzIG9uIHRoZSBkcm9wZG93biBzY3JvbGxiYXIgZnJvbSBjYXVzaW5nIHRoZSBjb250cm9sIHRvIGJsdXJcclxuXHRcdFx0XHRcdGlmIChlLnRhcmdldCA9PT0gc2VsZi4kZHJvcGRvd25bMF0gfHwgZS50YXJnZXQucGFyZW50Tm9kZSA9PT0gc2VsZi4kZHJvcGRvd25bMF0pIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Ly8gYmx1ciBvbiBjbGljayBvdXRzaWRlXHJcblx0XHRcdFx0XHRpZiAoIXNlbGYuJGNvbnRyb2wuaGFzKGUudGFyZ2V0KS5sZW5ndGggJiYgZS50YXJnZXQgIT09IHNlbGYuJGNvbnRyb2xbMF0pIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5ibHVyKGUudGFyZ2V0KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHdpbmRvdy5vbihbJ3Njcm9sbCcgKyBldmVudE5TLCAncmVzaXplJyArIGV2ZW50TlNdLmpvaW4oJyAnKSwgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0aWYgKHNlbGYuaXNPcGVuKSB7XHJcblx0XHRcdFx0XHRzZWxmLnBvc2l0aW9uRHJvcGRvd24uYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQkd2luZG93Lm9uKCdtb3VzZW1vdmUnICsgZXZlbnROUywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0c2VsZi5pZ25vcmVIb3ZlciA9IGZhbHNlO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIHN0b3JlIG9yaWdpbmFsIGNoaWxkcmVuIGFuZCB0YWIgaW5kZXggc28gdGhhdCB0aGV5IGNhbiBiZVxyXG5cdFx0XHQvLyByZXN0b3JlZCB3aGVuIHRoZSBkZXN0cm95KCkgbWV0aG9kIGlzIGNhbGxlZC5cclxuXHRcdFx0dGhpcy5yZXZlcnRTZXR0aW5ncyA9IHtcclxuXHRcdFx0XHQkY2hpbGRyZW4gOiAkaW5wdXQuY2hpbGRyZW4oKS5kZXRhY2goKSxcclxuXHRcdFx0XHR0YWJpbmRleCAgOiAkaW5wdXQuYXR0cigndGFiaW5kZXgnKVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0JGlucHV0LmF0dHIoJ3RhYmluZGV4JywgLTEpLmhpZGUoKS5hZnRlcihzZWxmLiR3cmFwcGVyKTtcclxuXHJcblx0XHRcdGlmICgkLmlzQXJyYXkoc2V0dGluZ3MuaXRlbXMpKSB7XHJcblx0XHRcdFx0c2VsZi5zZXRWYWx1ZShzZXR0aW5ncy5pdGVtcyk7XHJcblx0XHRcdFx0ZGVsZXRlIHNldHRpbmdzLml0ZW1zO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBmZWF0dXJlIGRldGVjdCBmb3IgdGhlIHZhbGlkYXRpb24gQVBJXHJcblx0XHRcdGlmIChTVVBQT1JUU19WQUxJRElUWV9BUEkpIHtcclxuXHRcdFx0XHQkaW5wdXQub24oJ2ludmFsaWQnICsgZXZlbnROUywgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0c2VsZi5pc0ludmFsaWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0c2VsZi5yZWZyZXNoU3RhdGUoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c2VsZi51cGRhdGVPcmlnaW5hbElucHV0KCk7XHJcblx0XHRcdHNlbGYucmVmcmVzaEl0ZW1zKCk7XHJcblx0XHRcdHNlbGYucmVmcmVzaFN0YXRlKCk7XHJcblx0XHRcdHNlbGYudXBkYXRlUGxhY2Vob2xkZXIoKTtcclxuXHRcdFx0c2VsZi5pc1NldHVwID0gdHJ1ZTtcclxuXHJcblx0XHRcdGlmICgkaW5wdXQuaXMoJzpkaXNhYmxlZCcpKSB7XHJcblx0XHRcdFx0c2VsZi5kaXNhYmxlKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNlbGYub24oJ2NoYW5nZScsIHRoaXMub25DaGFuZ2UpO1xyXG5cclxuXHRcdFx0JGlucHV0LmRhdGEoJ3NlbGVjdGl6ZScsIHNlbGYpO1xyXG5cdFx0XHQkaW5wdXQuYWRkQ2xhc3MoJ3NlbGVjdGl6ZWQnKTtcclxuXHRcdFx0c2VsZi50cmlnZ2VyKCdpbml0aWFsaXplJyk7XHJcblxyXG5cdFx0XHQvLyBwcmVsb2FkIG9wdGlvbnNcclxuXHRcdFx0aWYgKHNldHRpbmdzLnByZWxvYWQgPT09IHRydWUpIHtcclxuXHRcdFx0XHRzZWxmLm9uU2VhcmNoQ2hhbmdlKCcnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZXRzIHVwIGRlZmF1bHQgcmVuZGVyaW5nIGZ1bmN0aW9ucy5cclxuXHRcdCAqL1xyXG5cdFx0c2V0dXBUZW1wbGF0ZXM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdHZhciBmaWVsZF9sYWJlbCA9IHNlbGYuc2V0dGluZ3MubGFiZWxGaWVsZDtcclxuXHRcdFx0dmFyIGZpZWxkX29wdGdyb3VwID0gc2VsZi5zZXR0aW5ncy5vcHRncm91cExhYmVsRmllbGQ7XHJcblxyXG5cdFx0XHR2YXIgdGVtcGxhdGVzID0ge1xyXG5cdFx0XHRcdCdvcHRncm91cCc6IGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0XHRcdHJldHVybiAnPGRpdiBjbGFzcz1cIm9wdGdyb3VwXCI+JyArIGRhdGEuaHRtbCArICc8L2Rpdj4nO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0J29wdGdyb3VwX2hlYWRlcic6IGZ1bmN0aW9uKGRhdGEsIGVzY2FwZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuICc8ZGl2IGNsYXNzPVwib3B0Z3JvdXAtaGVhZGVyXCI+JyArIGVzY2FwZShkYXRhW2ZpZWxkX29wdGdyb3VwXSkgKyAnPC9kaXY+JztcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdCdvcHRpb24nOiBmdW5jdGlvbihkYXRhLCBlc2NhcGUpIHtcclxuXHRcdFx0XHRcdHJldHVybiAnPGRpdiBjbGFzcz1cIm9wdGlvblwiPicgKyBlc2NhcGUoZGF0YVtmaWVsZF9sYWJlbF0pICsgJzwvZGl2Pic7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHQnaXRlbSc6IGZ1bmN0aW9uKGRhdGEsIGVzY2FwZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuICc8ZGl2IGNsYXNzPVwiaXRlbVwiPicgKyBlc2NhcGUoZGF0YVtmaWVsZF9sYWJlbF0pICsgJzwvZGl2Pic7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHQnb3B0aW9uX2NyZWF0ZSc6IGZ1bmN0aW9uKGRhdGEsIGVzY2FwZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuICc8ZGl2IGNsYXNzPVwiY3JlYXRlXCI+QWRkIDxzdHJvbmc+JyArIGVzY2FwZShkYXRhLmlucHV0KSArICc8L3N0cm9uZz4maGVsbGlwOzwvZGl2Pic7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0c2VsZi5zZXR0aW5ncy5yZW5kZXIgPSAkLmV4dGVuZCh7fSwgdGVtcGxhdGVzLCBzZWxmLnNldHRpbmdzLnJlbmRlcik7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogTWFwcyBmaXJlZCBldmVudHMgdG8gY2FsbGJhY2tzIHByb3ZpZGVkXHJcblx0XHQgKiBpbiB0aGUgc2V0dGluZ3MgdXNlZCB3aGVuIGNyZWF0aW5nIHRoZSBjb250cm9sLlxyXG5cdFx0ICovXHJcblx0XHRzZXR1cENhbGxiYWNrczogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBrZXksIGZuLCBjYWxsYmFja3MgPSB7XHJcblx0XHRcdFx0J2luaXRpYWxpemUnICAgICAgOiAnb25Jbml0aWFsaXplJyxcclxuXHRcdFx0XHQnY2hhbmdlJyAgICAgICAgICA6ICdvbkNoYW5nZScsXHJcblx0XHRcdFx0J2l0ZW1fYWRkJyAgICAgICAgOiAnb25JdGVtQWRkJyxcclxuXHRcdFx0XHQnaXRlbV9yZW1vdmUnICAgICA6ICdvbkl0ZW1SZW1vdmUnLFxyXG5cdFx0XHRcdCdjbGVhcicgICAgICAgICAgIDogJ29uQ2xlYXInLFxyXG5cdFx0XHRcdCdvcHRpb25fYWRkJyAgICAgIDogJ29uT3B0aW9uQWRkJyxcclxuXHRcdFx0XHQnb3B0aW9uX3JlbW92ZScgICA6ICdvbk9wdGlvblJlbW92ZScsXHJcblx0XHRcdFx0J29wdGlvbl9jbGVhcicgICAgOiAnb25PcHRpb25DbGVhcicsXHJcblx0XHRcdFx0J29wdGdyb3VwX2FkZCcgICAgOiAnb25PcHRpb25Hcm91cEFkZCcsXHJcblx0XHRcdFx0J29wdGdyb3VwX3JlbW92ZScgOiAnb25PcHRpb25Hcm91cFJlbW92ZScsXHJcblx0XHRcdFx0J29wdGdyb3VwX2NsZWFyJyAgOiAnb25PcHRpb25Hcm91cENsZWFyJyxcclxuXHRcdFx0XHQnZHJvcGRvd25fb3BlbicgICA6ICdvbkRyb3Bkb3duT3BlbicsXHJcblx0XHRcdFx0J2Ryb3Bkb3duX2Nsb3NlJyAgOiAnb25Ecm9wZG93bkNsb3NlJyxcclxuXHRcdFx0XHQndHlwZScgICAgICAgICAgICA6ICdvblR5cGUnLFxyXG5cdFx0XHRcdCdsb2FkJyAgICAgICAgICAgIDogJ29uTG9hZCcsXHJcblx0XHRcdFx0J2ZvY3VzJyAgICAgICAgICAgOiAnb25Gb2N1cycsXHJcblx0XHRcdFx0J2JsdXInICAgICAgICAgICAgOiAnb25CbHVyJ1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Zm9yIChrZXkgaW4gY2FsbGJhY2tzKSB7XHJcblx0XHRcdFx0aWYgKGNhbGxiYWNrcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0XHRmbiA9IHRoaXMuc2V0dGluZ3NbY2FsbGJhY2tzW2tleV1dO1xyXG5cdFx0XHRcdFx0aWYgKGZuKSB0aGlzLm9uKGtleSwgZm4pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRyaWdnZXJlZCB3aGVuIHRoZSBtYWluIGNvbnRyb2wgZWxlbWVudFxyXG5cdFx0ICogaGFzIGEgY2xpY2sgZXZlbnQuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGVcclxuXHRcdCAqIEByZXR1cm4ge2Jvb2xlYW59XHJcblx0XHQgKi9cclxuXHRcdG9uQ2xpY2s6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0Ly8gbmVjZXNzYXJ5IGZvciBtb2JpbGUgd2Via2l0IGRldmljZXMgKG1hbnVhbCBmb2N1cyB0cmlnZ2VyaW5nXHJcblx0XHRcdC8vIGlzIGlnbm9yZWQgdW5sZXNzIGludm9rZWQgd2l0aGluIGEgY2xpY2sgZXZlbnQpXHJcblx0XHRcdGlmICghc2VsZi5pc0ZvY3VzZWQpIHtcclxuXHRcdFx0XHRzZWxmLmZvY3VzKCk7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVHJpZ2dlcmVkIHdoZW4gdGhlIG1haW4gY29udHJvbCBlbGVtZW50XHJcblx0XHQgKiBoYXMgYSBtb3VzZSBkb3duIGV2ZW50LlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlXHJcblx0XHQgKiBAcmV0dXJuIHtib29sZWFufVxyXG5cdFx0ICovXHJcblx0XHRvbk1vdXNlRG93bjogZnVuY3Rpb24oZSkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdHZhciBkZWZhdWx0UHJldmVudGVkID0gZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKTtcclxuXHRcdFx0dmFyICR0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuXHJcblx0XHRcdGlmIChzZWxmLmlzRm9jdXNlZCkge1xyXG5cdFx0XHRcdC8vIHJldGFpbiBmb2N1cyBieSBwcmV2ZW50aW5nIG5hdGl2ZSBoYW5kbGluZy4gaWYgdGhlXHJcblx0XHRcdFx0Ly8gZXZlbnQgdGFyZ2V0IGlzIHRoZSBpbnB1dCBpdCBzaG91bGQgbm90IGJlIG1vZGlmaWVkLlxyXG5cdFx0XHRcdC8vIG90aGVyd2lzZSwgdGV4dCBzZWxlY3Rpb24gd2l0aGluIHRoZSBpbnB1dCB3b24ndCB3b3JrLlxyXG5cdFx0XHRcdGlmIChlLnRhcmdldCAhPT0gc2VsZi4kY29udHJvbF9pbnB1dFswXSkge1xyXG5cdFx0XHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ3NpbmdsZScpIHtcclxuXHRcdFx0XHRcdFx0Ly8gdG9nZ2xlIGRyb3Bkb3duXHJcblx0XHRcdFx0XHRcdHNlbGYuaXNPcGVuID8gc2VsZi5jbG9zZSgpIDogc2VsZi5vcGVuKCk7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCFkZWZhdWx0UHJldmVudGVkKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYuc2V0QWN0aXZlSXRlbShudWxsKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gZ2l2ZSBjb250cm9sIGZvY3VzXHJcblx0XHRcdFx0aWYgKCFkZWZhdWx0UHJldmVudGVkKSB7XHJcblx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5mb2N1cygpO1xyXG5cdFx0XHRcdFx0fSwgMCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVHJpZ2dlcmVkIHdoZW4gdGhlIHZhbHVlIG9mIHRoZSBjb250cm9sIGhhcyBiZWVuIGNoYW5nZWQuXHJcblx0XHQgKiBUaGlzIHNob3VsZCBwcm9wYWdhdGUgdGhlIGV2ZW50IHRvIHRoZSBvcmlnaW5hbCBET01cclxuXHRcdCAqIGlucHV0IC8gc2VsZWN0IGVsZW1lbnQuXHJcblx0XHQgKi9cclxuXHRcdG9uQ2hhbmdlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy4kaW5wdXQudHJpZ2dlcignY2hhbmdlJyk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVHJpZ2dlcmVkIG9uIDxpbnB1dD4gcGFzdGUuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGVcclxuXHRcdCAqIEByZXR1cm5zIHtib29sZWFufVxyXG5cdFx0ICovXHJcblx0XHRvblBhc3RlOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdGlmIChzZWxmLmlzRnVsbCgpIHx8IHNlbGYuaXNJbnB1dEhpZGRlbiB8fCBzZWxmLmlzTG9ja2VkKSB7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gSWYgYSByZWdleCBvciBzdHJpbmcgaXMgaW5jbHVkZWQsIHRoaXMgd2lsbCBzcGxpdCB0aGUgcGFzdGVkXHJcblx0XHRcdC8vIGlucHV0IGFuZCBjcmVhdGUgSXRlbXMgZm9yIGVhY2ggc2VwYXJhdGUgdmFsdWVcclxuXHRcdFx0aWYgKHNlbGYuc2V0dGluZ3Muc3BsaXRPbikge1xyXG5cclxuXHRcdFx0XHQvLyBXYWl0IGZvciBwYXN0ZWQgdGV4dCB0byBiZSByZWNvZ25pemVkIGluIHZhbHVlXHJcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdHZhciBwYXN0ZWRUZXh0ID0gc2VsZi4kY29udHJvbF9pbnB1dC52YWwoKTtcclxuXHRcdFx0XHRcdGlmKCFwYXN0ZWRUZXh0Lm1hdGNoKHNlbGYuc2V0dGluZ3Muc3BsaXRPbikpeyByZXR1cm4gfVxyXG5cclxuXHRcdFx0XHRcdHZhciBzcGxpdElucHV0ID0gJC50cmltKHBhc3RlZFRleHQpLnNwbGl0KHNlbGYuc2V0dGluZ3Muc3BsaXRPbik7XHJcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbiA9IHNwbGl0SW5wdXQubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYuY3JlYXRlSXRlbShzcGxpdElucHV0W2ldKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LCAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRyaWdnZXJlZCBvbiA8aW5wdXQ+IGtleXByZXNzLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlXHJcblx0XHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuXHRcdCAqL1xyXG5cdFx0b25LZXlQcmVzczogZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRpZiAodGhpcy5pc0xvY2tlZCkgcmV0dXJuIGUgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHR2YXIgY2hhcmFjdGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLmtleUNvZGUgfHwgZS53aGljaCk7XHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmNyZWF0ZSAmJiB0aGlzLnNldHRpbmdzLm1vZGUgPT09ICdtdWx0aScgJiYgY2hhcmFjdGVyID09PSB0aGlzLnNldHRpbmdzLmRlbGltaXRlcikge1xyXG5cdFx0XHRcdHRoaXMuY3JlYXRlSXRlbSgpO1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUcmlnZ2VyZWQgb24gPGlucHV0PiBrZXlkb3duLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlXHJcblx0XHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuXHRcdCAqL1xyXG5cdFx0b25LZXlEb3duOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHZhciBpc0lucHV0ID0gZS50YXJnZXQgPT09IHRoaXMuJGNvbnRyb2xfaW5wdXRbMF07XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdGlmIChzZWxmLmlzTG9ja2VkKSB7XHJcblx0XHRcdFx0aWYgKGUua2V5Q29kZSAhPT0gS0VZX1RBQikge1xyXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHN3aXRjaCAoZS5rZXlDb2RlKSB7XHJcblx0XHRcdFx0Y2FzZSBLRVlfQTpcclxuXHRcdFx0XHRcdGlmIChzZWxmLmlzQ21kRG93bikge1xyXG5cdFx0XHRcdFx0XHRzZWxmLnNlbGVjdEFsbCgpO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIEtFWV9FU0M6XHJcblx0XHRcdFx0XHRpZiAoc2VsZi5pc09wZW4pIHtcclxuXHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRzZWxmLmNsb3NlKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0Y2FzZSBLRVlfTjpcclxuXHRcdFx0XHRcdGlmICghZS5jdHJsS2V5IHx8IGUuYWx0S2V5KSBicmVhaztcclxuXHRcdFx0XHRjYXNlIEtFWV9ET1dOOlxyXG5cdFx0XHRcdFx0aWYgKCFzZWxmLmlzT3BlbiAmJiBzZWxmLmhhc09wdGlvbnMpIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5vcGVuKCk7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHNlbGYuJGFjdGl2ZU9wdGlvbikge1xyXG5cdFx0XHRcdFx0XHRzZWxmLmlnbm9yZUhvdmVyID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0dmFyICRuZXh0ID0gc2VsZi5nZXRBZGphY2VudE9wdGlvbihzZWxmLiRhY3RpdmVPcHRpb24sIDEpO1xyXG5cdFx0XHRcdFx0XHRpZiAoJG5leHQubGVuZ3RoKSBzZWxmLnNldEFjdGl2ZU9wdGlvbigkbmV4dCwgdHJ1ZSwgdHJ1ZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0Y2FzZSBLRVlfUDpcclxuXHRcdFx0XHRcdGlmICghZS5jdHJsS2V5IHx8IGUuYWx0S2V5KSBicmVhaztcclxuXHRcdFx0XHRjYXNlIEtFWV9VUDpcclxuXHRcdFx0XHRcdGlmIChzZWxmLiRhY3RpdmVPcHRpb24pIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5pZ25vcmVIb3ZlciA9IHRydWU7XHJcblx0XHRcdFx0XHRcdHZhciAkcHJldiA9IHNlbGYuZ2V0QWRqYWNlbnRPcHRpb24oc2VsZi4kYWN0aXZlT3B0aW9uLCAtMSk7XHJcblx0XHRcdFx0XHRcdGlmICgkcHJldi5sZW5ndGgpIHNlbGYuc2V0QWN0aXZlT3B0aW9uKCRwcmV2LCB0cnVlLCB0cnVlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRjYXNlIEtFWV9SRVRVUk46XHJcblx0XHRcdFx0XHRpZiAoc2VsZi5pc09wZW4gJiYgc2VsZi4kYWN0aXZlT3B0aW9uKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYub25PcHRpb25TZWxlY3Qoe2N1cnJlbnRUYXJnZXQ6IHNlbGYuJGFjdGl2ZU9wdGlvbn0pO1xyXG5cdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0Y2FzZSBLRVlfTEVGVDpcclxuXHRcdFx0XHRcdHNlbGYuYWR2YW5jZVNlbGVjdGlvbigtMSwgZSk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0Y2FzZSBLRVlfUklHSFQ6XHJcblx0XHRcdFx0XHRzZWxmLmFkdmFuY2VTZWxlY3Rpb24oMSwgZSk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0Y2FzZSBLRVlfVEFCOlxyXG5cdFx0XHRcdFx0aWYgKHNlbGYuc2V0dGluZ3Muc2VsZWN0T25UYWIgJiYgc2VsZi5pc09wZW4gJiYgc2VsZi4kYWN0aXZlT3B0aW9uKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYub25PcHRpb25TZWxlY3Qoe2N1cnJlbnRUYXJnZXQ6IHNlbGYuJGFjdGl2ZU9wdGlvbn0pO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gRGVmYXVsdCBiZWhhdmlvdXIgaXMgdG8ganVtcCB0byB0aGUgbmV4dCBmaWVsZCwgd2Ugb25seSB3YW50IHRoaXNcclxuXHRcdFx0XHRcdFx0Ly8gaWYgdGhlIGN1cnJlbnQgZmllbGQgZG9lc24ndCBhY2NlcHQgYW55IG1vcmUgZW50cmllc1xyXG5cdFx0XHRcdFx0XHRpZiAoIXNlbGYuaXNGdWxsKCkpIHtcclxuXHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmIChzZWxmLnNldHRpbmdzLmNyZWF0ZSAmJiBzZWxmLmNyZWF0ZUl0ZW0oKSkge1xyXG5cdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0Y2FzZSBLRVlfQkFDS1NQQUNFOlxyXG5cdFx0XHRcdGNhc2UgS0VZX0RFTEVURTpcclxuXHRcdFx0XHRcdHNlbGYuZGVsZXRlU2VsZWN0aW9uKGUpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoKHNlbGYuaXNGdWxsKCkgfHwgc2VsZi5pc0lucHV0SGlkZGVuKSAmJiAhKElTX01BQyA/IGUubWV0YUtleSA6IGUuY3RybEtleSkpIHtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVHJpZ2dlcmVkIG9uIDxpbnB1dD4ga2V5dXAuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGVcclxuXHRcdCAqIEByZXR1cm5zIHtib29sZWFufVxyXG5cdFx0ICovXHJcblx0XHRvbktleVVwOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdGlmIChzZWxmLmlzTG9ja2VkKSByZXR1cm4gZSAmJiBlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdHZhciB2YWx1ZSA9IHNlbGYuJGNvbnRyb2xfaW5wdXQudmFsKCkgfHwgJyc7XHJcblx0XHRcdGlmIChzZWxmLmxhc3RWYWx1ZSAhPT0gdmFsdWUpIHtcclxuXHRcdFx0XHRzZWxmLmxhc3RWYWx1ZSA9IHZhbHVlO1xyXG5cdFx0XHRcdHNlbGYub25TZWFyY2hDaGFuZ2UodmFsdWUpO1xyXG5cdFx0XHRcdHNlbGYucmVmcmVzaE9wdGlvbnMoKTtcclxuXHRcdFx0XHRzZWxmLnRyaWdnZXIoJ3R5cGUnLCB2YWx1ZSk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbnZva2VzIHRoZSB1c2VyLXByb3ZpZGUgb3B0aW9uIHByb3ZpZGVyIC8gbG9hZGVyLlxyXG5cdFx0ICpcclxuXHRcdCAqIE5vdGU6IHRoaXMgZnVuY3Rpb24gaXMgZGVib3VuY2VkIGluIHRoZSBTZWxlY3RpemVcclxuXHRcdCAqIGNvbnN0cnVjdG9yIChieSBgc2V0dGluZ3MubG9hZFRocm90dGxlYCBtaWxsaXNlY29uZHMpXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXHJcblx0XHQgKi9cclxuXHRcdG9uU2VhcmNoQ2hhbmdlOiBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdHZhciBmbiA9IHNlbGYuc2V0dGluZ3MubG9hZDtcclxuXHRcdFx0aWYgKCFmbikgcmV0dXJuO1xyXG5cdFx0XHRpZiAoc2VsZi5sb2FkZWRTZWFyY2hlcy5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkpIHJldHVybjtcclxuXHRcdFx0c2VsZi5sb2FkZWRTZWFyY2hlc1t2YWx1ZV0gPSB0cnVlO1xyXG5cdFx0XHRzZWxmLmxvYWQoZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuXHRcdFx0XHRmbi5hcHBseShzZWxmLCBbdmFsdWUsIGNhbGxiYWNrXSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRyaWdnZXJlZCBvbiA8aW5wdXQ+IGZvY3VzLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlIChvcHRpb25hbClcclxuXHRcdCAqIEByZXR1cm5zIHtib29sZWFufVxyXG5cdFx0ICovXHJcblx0XHRvbkZvY3VzOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0dmFyIHdhc0ZvY3VzZWQgPSBzZWxmLmlzRm9jdXNlZDtcclxuXHJcblx0XHRcdGlmIChzZWxmLmlzRGlzYWJsZWQpIHtcclxuXHRcdFx0XHRzZWxmLmJsdXIoKTtcclxuXHRcdFx0XHRlICYmIGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChzZWxmLmlnbm9yZUZvY3VzKSByZXR1cm47XHJcblx0XHRcdHNlbGYuaXNGb2N1c2VkID0gdHJ1ZTtcclxuXHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MucHJlbG9hZCA9PT0gJ2ZvY3VzJykgc2VsZi5vblNlYXJjaENoYW5nZSgnJyk7XHJcblxyXG5cdFx0XHRpZiAoIXdhc0ZvY3VzZWQpIHNlbGYudHJpZ2dlcignZm9jdXMnKTtcclxuXHJcblx0XHRcdGlmICghc2VsZi4kYWN0aXZlSXRlbXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0c2VsZi5zaG93SW5wdXQoKTtcclxuXHRcdFx0XHRzZWxmLnNldEFjdGl2ZUl0ZW0obnVsbCk7XHJcblx0XHRcdFx0c2VsZi5yZWZyZXNoT3B0aW9ucyghIXNlbGYuc2V0dGluZ3Mub3Blbk9uRm9jdXMpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRyaWdnZXJlZCBvbiA8aW5wdXQ+IGJsdXIuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGVcclxuXHRcdCAqIEBwYXJhbSB7RWxlbWVudH0gZGVzdFxyXG5cdFx0ICovXHJcblx0XHRvbkJsdXI6IGZ1bmN0aW9uKGUsIGRlc3QpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRpZiAoIXNlbGYuaXNGb2N1c2VkKSByZXR1cm47XHJcblx0XHRcdHNlbGYuaXNGb2N1c2VkID0gZmFsc2U7XHJcblxyXG5cdFx0XHRpZiAoc2VsZi5pZ25vcmVGb2N1cykge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fSBlbHNlIGlmICghc2VsZi5pZ25vcmVCbHVyICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHNlbGYuJGRyb3Bkb3duX2NvbnRlbnRbMF0pIHtcclxuXHRcdFx0XHQvLyBuZWNlc3NhcnkgdG8gcHJldmVudCBJRSBjbG9zaW5nIHRoZSBkcm9wZG93biB3aGVuIHRoZSBzY3JvbGxiYXIgaXMgY2xpY2tlZFxyXG5cdFx0XHRcdHNlbGYuaWdub3JlQmx1ciA9IHRydWU7XHJcblx0XHRcdFx0c2VsZi5vbkZvY3VzKGUpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIGRlYWN0aXZhdGUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRzZWxmLmNsb3NlKCk7XHJcblx0XHRcdFx0c2VsZi5zZXRUZXh0Ym94VmFsdWUoJycpO1xyXG5cdFx0XHRcdHNlbGYuc2V0QWN0aXZlSXRlbShudWxsKTtcclxuXHRcdFx0XHRzZWxmLnNldEFjdGl2ZU9wdGlvbihudWxsKTtcclxuXHRcdFx0XHRzZWxmLnNldENhcmV0KHNlbGYuaXRlbXMubGVuZ3RoKTtcclxuXHRcdFx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xyXG5cclxuXHRcdFx0XHQvLyBJRTExIGJ1ZzogZWxlbWVudCBzdGlsbCBtYXJrZWQgYXMgYWN0aXZlXHJcblx0XHRcdFx0ZGVzdCAmJiBkZXN0LmZvY3VzICYmIGRlc3QuZm9jdXMoKTtcclxuXHJcblx0XHRcdFx0c2VsZi5pZ25vcmVGb2N1cyA9IGZhbHNlO1xyXG5cdFx0XHRcdHNlbGYudHJpZ2dlcignYmx1cicpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0c2VsZi5pZ25vcmVGb2N1cyA9IHRydWU7XHJcblx0XHRcdGlmIChzZWxmLnNldHRpbmdzLmNyZWF0ZSAmJiBzZWxmLnNldHRpbmdzLmNyZWF0ZU9uQmx1cikge1xyXG5cdFx0XHRcdHNlbGYuY3JlYXRlSXRlbShudWxsLCBmYWxzZSwgZGVhY3RpdmF0ZSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0ZGVhY3RpdmF0ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgcm9sbHMgb3ZlclxyXG5cdFx0ICogYW4gb3B0aW9uIGluIHRoZSBhdXRvY29tcGxldGUgZHJvcGRvd24gbWVudS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZVxyXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XHJcblx0XHQgKi9cclxuXHRcdG9uT3B0aW9uSG92ZXI6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0aWYgKHRoaXMuaWdub3JlSG92ZXIpIHJldHVybjtcclxuXHRcdFx0dGhpcy5zZXRBY3RpdmVPcHRpb24oZS5jdXJyZW50VGFyZ2V0LCBmYWxzZSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIG9uIGFuIG9wdGlvblxyXG5cdFx0ICogaW4gdGhlIGF1dG9jb21wbGV0ZSBkcm9wZG93biBtZW51LlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlXHJcblx0XHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuXHRcdCAqL1xyXG5cdFx0b25PcHRpb25TZWxlY3Q6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dmFyIHZhbHVlLCAkdGFyZ2V0LCAkb3B0aW9uLCBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdGlmIChlLnByZXZlbnREZWZhdWx0KSB7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdCR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XHJcblx0XHRcdGlmICgkdGFyZ2V0Lmhhc0NsYXNzKCdjcmVhdGUnKSkge1xyXG5cdFx0XHRcdHNlbGYuY3JlYXRlSXRlbShudWxsLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdGlmIChzZWxmLnNldHRpbmdzLmNsb3NlQWZ0ZXJTZWxlY3QpIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5jbG9zZSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHZhbHVlID0gJHRhcmdldC5hdHRyKCdkYXRhLXZhbHVlJyk7XHJcblx0XHRcdFx0aWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRcdHNlbGYubGFzdFF1ZXJ5ID0gbnVsbDtcclxuXHRcdFx0XHRcdHNlbGYuc2V0VGV4dGJveFZhbHVlKCcnKTtcclxuXHRcdFx0XHRcdHNlbGYuYWRkSXRlbSh2YWx1ZSk7XHJcblx0XHRcdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5jbG9zZUFmdGVyU2VsZWN0KSB7XHJcblx0XHRcdFx0XHRcdHNlbGYuY2xvc2UoKTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIXNlbGYuc2V0dGluZ3MuaGlkZVNlbGVjdGVkICYmIGUudHlwZSAmJiAvbW91c2UvLnRlc3QoZS50eXBlKSkge1xyXG5cdFx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZU9wdGlvbihzZWxmLmdldE9wdGlvbih2YWx1ZSkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRyaWdnZXJlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyBvbiBhbiBpdGVtXHJcblx0XHQgKiB0aGF0IGhhcyBiZWVuIHNlbGVjdGVkLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlXHJcblx0XHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuXHRcdCAqL1xyXG5cdFx0b25JdGVtU2VsZWN0OiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdGlmIChzZWxmLmlzTG9ja2VkKSByZXR1cm47XHJcblx0XHRcdGlmIChzZWxmLnNldHRpbmdzLm1vZGUgPT09ICdtdWx0aScpIHtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0c2VsZi5zZXRBY3RpdmVJdGVtKGUuY3VycmVudFRhcmdldCwgZSk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbnZva2VzIHRoZSBwcm92aWRlZCBtZXRob2QgdGhhdCBwcm92aWRlc1xyXG5cdFx0ICogcmVzdWx0cyB0byBhIGNhbGxiYWNrLS0td2hpY2ggYXJlIHRoZW4gYWRkZWRcclxuXHRcdCAqIGFzIG9wdGlvbnMgdG8gdGhlIGNvbnRyb2wuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cclxuXHRcdCAqL1xyXG5cdFx0bG9hZDogZnVuY3Rpb24oZm4pIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHR2YXIgJHdyYXBwZXIgPSBzZWxmLiR3cmFwcGVyLmFkZENsYXNzKHNlbGYuc2V0dGluZ3MubG9hZGluZ0NsYXNzKTtcclxuXHJcblx0XHRcdHNlbGYubG9hZGluZysrO1xyXG5cdFx0XHRmbi5hcHBseShzZWxmLCBbZnVuY3Rpb24ocmVzdWx0cykge1xyXG5cdFx0XHRcdHNlbGYubG9hZGluZyA9IE1hdGgubWF4KHNlbGYubG9hZGluZyAtIDEsIDApO1xyXG5cdFx0XHRcdGlmIChyZXN1bHRzICYmIHJlc3VsdHMubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRzZWxmLmFkZE9wdGlvbihyZXN1bHRzKTtcclxuXHRcdFx0XHRcdHNlbGYucmVmcmVzaE9wdGlvbnMoc2VsZi5pc0ZvY3VzZWQgJiYgIXNlbGYuaXNJbnB1dEhpZGRlbik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICghc2VsZi5sb2FkaW5nKSB7XHJcblx0XHRcdFx0XHQkd3JhcHBlci5yZW1vdmVDbGFzcyhzZWxmLnNldHRpbmdzLmxvYWRpbmdDbGFzcyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHNlbGYudHJpZ2dlcignbG9hZCcsIHJlc3VsdHMpO1xyXG5cdFx0XHR9XSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2V0cyB0aGUgaW5wdXQgZmllbGQgb2YgdGhlIGNvbnRyb2wgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcclxuXHRcdCAqL1xyXG5cdFx0c2V0VGV4dGJveFZhbHVlOiBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHR2YXIgJGlucHV0ID0gdGhpcy4kY29udHJvbF9pbnB1dDtcclxuXHRcdFx0dmFyIGNoYW5nZWQgPSAkaW5wdXQudmFsKCkgIT09IHZhbHVlO1xyXG5cdFx0XHRpZiAoY2hhbmdlZCkge1xyXG5cdFx0XHRcdCRpbnB1dC52YWwodmFsdWUpLnRyaWdnZXJIYW5kbGVyKCd1cGRhdGUnKTtcclxuXHRcdFx0XHR0aGlzLmxhc3RWYWx1ZSA9IHZhbHVlO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGNvbnRyb2wuIElmIG11bHRpcGxlIGl0ZW1zXHJcblx0XHQgKiBjYW4gYmUgc2VsZWN0ZWQgKGUuZy4gPHNlbGVjdCBtdWx0aXBsZT4pLCB0aGlzIHJldHVybnNcclxuXHRcdCAqIGFuIGFycmF5LiBJZiBvbmx5IG9uZSBpdGVtIGNhbiBiZSBzZWxlY3RlZCwgdGhpc1xyXG5cdFx0ICogcmV0dXJucyBhIHN0cmluZy5cclxuXHRcdCAqXHJcblx0XHQgKiBAcmV0dXJucyB7bWl4ZWR9XHJcblx0XHQgKi9cclxuXHRcdGdldFZhbHVlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKHRoaXMudGFnVHlwZSA9PT0gVEFHX1NFTEVDVCAmJiB0aGlzLiRpbnB1dC5hdHRyKCdtdWx0aXBsZScpKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuaXRlbXM7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuaXRlbXMuam9pbih0aGlzLnNldHRpbmdzLmRlbGltaXRlcik7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXNldHMgdGhlIHNlbGVjdGVkIGl0ZW1zIHRvIHRoZSBnaXZlbiB2YWx1ZS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge21peGVkfSB2YWx1ZVxyXG5cdFx0ICovXHJcblx0XHRzZXRWYWx1ZTogZnVuY3Rpb24odmFsdWUsIHNpbGVudCkge1xyXG5cdFx0XHR2YXIgZXZlbnRzID0gc2lsZW50ID8gW10gOiBbJ2NoYW5nZSddO1xyXG5cclxuXHRcdFx0ZGVib3VuY2VfZXZlbnRzKHRoaXMsIGV2ZW50cywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dGhpcy5jbGVhcihzaWxlbnQpO1xyXG5cdFx0XHRcdHRoaXMuYWRkSXRlbXModmFsdWUsIHNpbGVudCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNldHMgdGhlIHNlbGVjdGVkIGl0ZW0uXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9ICRpdGVtXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZSAob3B0aW9uYWwpXHJcblx0XHQgKi9cclxuXHRcdHNldEFjdGl2ZUl0ZW06IGZ1bmN0aW9uKCRpdGVtLCBlKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0dmFyIGV2ZW50TmFtZTtcclxuXHRcdFx0dmFyIGksIGlkeCwgYmVnaW4sIGVuZCwgaXRlbSwgc3dhcDtcclxuXHRcdFx0dmFyICRsYXN0O1xyXG5cclxuXHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ3NpbmdsZScpIHJldHVybjtcclxuXHRcdFx0JGl0ZW0gPSAkKCRpdGVtKTtcclxuXHJcblx0XHRcdC8vIGNsZWFyIHRoZSBhY3RpdmUgc2VsZWN0aW9uXHJcblx0XHRcdGlmICghJGl0ZW0ubGVuZ3RoKSB7XHJcblx0XHRcdFx0JChzZWxmLiRhY3RpdmVJdGVtcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdHNlbGYuJGFjdGl2ZUl0ZW1zID0gW107XHJcblx0XHRcdFx0aWYgKHNlbGYuaXNGb2N1c2VkKSB7XHJcblx0XHRcdFx0XHRzZWxmLnNob3dJbnB1dCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIG1vZGlmeSBzZWxlY3Rpb25cclxuXHRcdFx0ZXZlbnROYW1lID0gZSAmJiBlLnR5cGUudG9Mb3dlckNhc2UoKTtcclxuXHJcblx0XHRcdGlmIChldmVudE5hbWUgPT09ICdtb3VzZWRvd24nICYmIHNlbGYuaXNTaGlmdERvd24gJiYgc2VsZi4kYWN0aXZlSXRlbXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0JGxhc3QgPSBzZWxmLiRjb250cm9sLmNoaWxkcmVuKCcuYWN0aXZlOmxhc3QnKTtcclxuXHRcdFx0XHRiZWdpbiA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmFwcGx5KHNlbGYuJGNvbnRyb2xbMF0uY2hpbGROb2RlcywgWyRsYXN0WzBdXSk7XHJcblx0XHRcdFx0ZW5kICAgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5hcHBseShzZWxmLiRjb250cm9sWzBdLmNoaWxkTm9kZXMsIFskaXRlbVswXV0pO1xyXG5cdFx0XHRcdGlmIChiZWdpbiA+IGVuZCkge1xyXG5cdFx0XHRcdFx0c3dhcCAgPSBiZWdpbjtcclxuXHRcdFx0XHRcdGJlZ2luID0gZW5kO1xyXG5cdFx0XHRcdFx0ZW5kICAgPSBzd2FwO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRmb3IgKGkgPSBiZWdpbjsgaSA8PSBlbmQ7IGkrKykge1xyXG5cdFx0XHRcdFx0aXRlbSA9IHNlbGYuJGNvbnRyb2xbMF0uY2hpbGROb2Rlc1tpXTtcclxuXHRcdFx0XHRcdGlmIChzZWxmLiRhY3RpdmVJdGVtcy5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xyXG5cdFx0XHRcdFx0XHQkKGl0ZW0pLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0XHRcdFx0c2VsZi4kYWN0aXZlSXRlbXMucHVzaChpdGVtKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKChldmVudE5hbWUgPT09ICdtb3VzZWRvd24nICYmIHNlbGYuaXNDdHJsRG93bikgfHwgKGV2ZW50TmFtZSA9PT0gJ2tleWRvd24nICYmIHRoaXMuaXNTaGlmdERvd24pKSB7XHJcblx0XHRcdFx0aWYgKCRpdGVtLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG5cdFx0XHRcdFx0aWR4ID0gc2VsZi4kYWN0aXZlSXRlbXMuaW5kZXhPZigkaXRlbVswXSk7XHJcblx0XHRcdFx0XHRzZWxmLiRhY3RpdmVJdGVtcy5zcGxpY2UoaWR4LCAxKTtcclxuXHRcdFx0XHRcdCRpdGVtLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0c2VsZi4kYWN0aXZlSXRlbXMucHVzaCgkaXRlbS5hZGRDbGFzcygnYWN0aXZlJylbMF0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkKHNlbGYuJGFjdGl2ZUl0ZW1zKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0c2VsZi4kYWN0aXZlSXRlbXMgPSBbJGl0ZW0uYWRkQ2xhc3MoJ2FjdGl2ZScpWzBdXTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZW5zdXJlIGNvbnRyb2wgaGFzIGZvY3VzXHJcblx0XHRcdHNlbGYuaGlkZUlucHV0KCk7XHJcblx0XHRcdGlmICghdGhpcy5pc0ZvY3VzZWQpIHtcclxuXHRcdFx0XHRzZWxmLmZvY3VzKCk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZXRzIHRoZSBzZWxlY3RlZCBpdGVtIGluIHRoZSBkcm9wZG93biBtZW51XHJcblx0XHQgKiBvZiBhdmFpbGFibGUgb3B0aW9ucy5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gJG9iamVjdFxyXG5cdFx0ICogQHBhcmFtIHtib29sZWFufSBzY3JvbGxcclxuXHRcdCAqIEBwYXJhbSB7Ym9vbGVhbn0gYW5pbWF0ZVxyXG5cdFx0ICovXHJcblx0XHRzZXRBY3RpdmVPcHRpb246IGZ1bmN0aW9uKCRvcHRpb24sIHNjcm9sbCwgYW5pbWF0ZSkge1xyXG5cdFx0XHR2YXIgaGVpZ2h0X21lbnUsIGhlaWdodF9pdGVtLCB5O1xyXG5cdFx0XHR2YXIgc2Nyb2xsX3RvcCwgc2Nyb2xsX2JvdHRvbTtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0aWYgKHNlbGYuJGFjdGl2ZU9wdGlvbikgc2VsZi4kYWN0aXZlT3B0aW9uLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0c2VsZi4kYWN0aXZlT3B0aW9uID0gbnVsbDtcclxuXHJcblx0XHRcdCRvcHRpb24gPSAkKCRvcHRpb24pO1xyXG5cdFx0XHRpZiAoISRvcHRpb24ubGVuZ3RoKSByZXR1cm47XHJcblxyXG5cdFx0XHRzZWxmLiRhY3RpdmVPcHRpb24gPSAkb3B0aW9uLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHJcblx0XHRcdGlmIChzY3JvbGwgfHwgIWlzc2V0KHNjcm9sbCkpIHtcclxuXHJcblx0XHRcdFx0aGVpZ2h0X21lbnUgICA9IHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQuaGVpZ2h0KCk7XHJcblx0XHRcdFx0aGVpZ2h0X2l0ZW0gICA9IHNlbGYuJGFjdGl2ZU9wdGlvbi5vdXRlckhlaWdodCh0cnVlKTtcclxuXHRcdFx0XHRzY3JvbGwgICAgICAgID0gc2VsZi4kZHJvcGRvd25fY29udGVudC5zY3JvbGxUb3AoKSB8fCAwO1xyXG5cdFx0XHRcdHkgICAgICAgICAgICAgPSBzZWxmLiRhY3RpdmVPcHRpb24ub2Zmc2V0KCkudG9wIC0gc2VsZi4kZHJvcGRvd25fY29udGVudC5vZmZzZXQoKS50b3AgKyBzY3JvbGw7XHJcblx0XHRcdFx0c2Nyb2xsX3RvcCAgICA9IHk7XHJcblx0XHRcdFx0c2Nyb2xsX2JvdHRvbSA9IHkgLSBoZWlnaHRfbWVudSArIGhlaWdodF9pdGVtO1xyXG5cclxuXHRcdFx0XHRpZiAoeSArIGhlaWdodF9pdGVtID4gaGVpZ2h0X21lbnUgKyBzY3JvbGwpIHtcclxuXHRcdFx0XHRcdHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQuc3RvcCgpLmFuaW1hdGUoe3Njcm9sbFRvcDogc2Nyb2xsX2JvdHRvbX0sIGFuaW1hdGUgPyBzZWxmLnNldHRpbmdzLnNjcm9sbER1cmF0aW9uIDogMCk7XHJcblx0XHRcdFx0fSBlbHNlIGlmICh5IDwgc2Nyb2xsKSB7XHJcblx0XHRcdFx0XHRzZWxmLiRkcm9wZG93bl9jb250ZW50LnN0b3AoKS5hbmltYXRlKHtzY3JvbGxUb3A6IHNjcm9sbF90b3B9LCBhbmltYXRlID8gc2VsZi5zZXR0aW5ncy5zY3JvbGxEdXJhdGlvbiA6IDApO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTZWxlY3RzIGFsbCBpdGVtcyAoQ1RSTCArIEEpLlxyXG5cdFx0ICovXHJcblx0XHRzZWxlY3RBbGw6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdGlmIChzZWxmLnNldHRpbmdzLm1vZGUgPT09ICdzaW5nbGUnKSByZXR1cm47XHJcblxyXG5cdFx0XHRzZWxmLiRhY3RpdmVJdGVtcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShzZWxmLiRjb250cm9sLmNoaWxkcmVuKCc6bm90KGlucHV0KScpLmFkZENsYXNzKCdhY3RpdmUnKSk7XHJcblx0XHRcdGlmIChzZWxmLiRhY3RpdmVJdGVtcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRzZWxmLmhpZGVJbnB1dCgpO1xyXG5cdFx0XHRcdHNlbGYuY2xvc2UoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzZWxmLmZvY3VzKCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSGlkZXMgdGhlIGlucHV0IGVsZW1lbnQgb3V0IG9mIHZpZXcsIHdoaWxlXHJcblx0XHQgKiByZXRhaW5pbmcgaXRzIGZvY3VzLlxyXG5cdFx0ICovXHJcblx0XHRoaWRlSW5wdXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHRzZWxmLnNldFRleHRib3hWYWx1ZSgnJyk7XHJcblx0XHRcdHNlbGYuJGNvbnRyb2xfaW5wdXQuY3NzKHtvcGFjaXR5OiAwLCBwb3NpdGlvbjogJ2Fic29sdXRlJywgbGVmdDogc2VsZi5ydGwgPyAxMDAwMCA6IC0xMDAwMH0pO1xyXG5cdFx0XHRzZWxmLmlzSW5wdXRIaWRkZW4gPSB0cnVlO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlc3RvcmVzIGlucHV0IHZpc2liaWxpdHkuXHJcblx0XHQgKi9cclxuXHRcdHNob3dJbnB1dDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMuJGNvbnRyb2xfaW5wdXQuY3NzKHtvcGFjaXR5OiAxLCBwb3NpdGlvbjogJ3JlbGF0aXZlJywgbGVmdDogMH0pO1xyXG5cdFx0XHR0aGlzLmlzSW5wdXRIaWRkZW4gPSBmYWxzZTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBHaXZlcyB0aGUgY29udHJvbCBmb2N1cy5cclxuXHRcdCAqL1xyXG5cdFx0Zm9jdXM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdGlmIChzZWxmLmlzRGlzYWJsZWQpIHJldHVybjtcclxuXHJcblx0XHRcdHNlbGYuaWdub3JlRm9jdXMgPSB0cnVlO1xyXG5cdFx0XHRzZWxmLiRjb250cm9sX2lucHV0WzBdLmZvY3VzKCk7XHJcblx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHNlbGYuaWdub3JlRm9jdXMgPSBmYWxzZTtcclxuXHRcdFx0XHRzZWxmLm9uRm9jdXMoKTtcclxuXHRcdFx0fSwgMCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRm9yY2VzIHRoZSBjb250cm9sIG91dCBvZiBmb2N1cy5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge0VsZW1lbnR9IGRlc3RcclxuXHRcdCAqL1xyXG5cdFx0Ymx1cjogZnVuY3Rpb24oZGVzdCkge1xyXG5cdFx0XHR0aGlzLiRjb250cm9sX2lucHV0WzBdLmJsdXIoKTtcclxuXHRcdFx0dGhpcy5vbkJsdXIobnVsbCwgZGVzdCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgc2NvcmVzIGFuIG9iamVjdFxyXG5cdFx0ICogdG8gc2hvdyBob3cgZ29vZCBvZiBhIG1hdGNoIGl0IGlzIHRvIHRoZVxyXG5cdFx0ICogcHJvdmlkZWQgcXVlcnkuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5XHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xyXG5cdFx0ICogQHJldHVybiB7ZnVuY3Rpb259XHJcblx0XHQgKi9cclxuXHRcdGdldFNjb3JlRnVuY3Rpb246IGZ1bmN0aW9uKHF1ZXJ5KSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnNpZnRlci5nZXRTY29yZUZ1bmN0aW9uKHF1ZXJ5LCB0aGlzLmdldFNlYXJjaE9wdGlvbnMoKSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyBzZWFyY2ggb3B0aW9ucyBmb3Igc2lmdGVyICh0aGUgc3lzdGVtXHJcblx0XHQgKiBmb3Igc2NvcmluZyBhbmQgc29ydGluZyByZXN1bHRzKS5cclxuXHRcdCAqXHJcblx0XHQgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9icmlhbnJlYXZpcy9zaWZ0ZXIuanNcclxuXHRcdCAqIEByZXR1cm4ge29iamVjdH1cclxuXHRcdCAqL1xyXG5cdFx0Z2V0U2VhcmNoT3B0aW9uczogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3M7XHJcblx0XHRcdHZhciBzb3J0ID0gc2V0dGluZ3Muc29ydEZpZWxkO1xyXG5cdFx0XHRpZiAodHlwZW9mIHNvcnQgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0c29ydCA9IFt7ZmllbGQ6IHNvcnR9XTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRmaWVsZHMgICAgICA6IHNldHRpbmdzLnNlYXJjaEZpZWxkLFxyXG5cdFx0XHRcdGNvbmp1bmN0aW9uIDogc2V0dGluZ3Muc2VhcmNoQ29uanVuY3Rpb24sXHJcblx0XHRcdFx0c29ydCAgICAgICAgOiBzb3J0XHJcblx0XHRcdH07XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2VhcmNoZXMgdGhyb3VnaCBhdmFpbGFibGUgb3B0aW9ucyBhbmQgcmV0dXJuc1xyXG5cdFx0ICogYSBzb3J0ZWQgYXJyYXkgb2YgbWF0Y2hlcy5cclxuXHRcdCAqXHJcblx0XHQgKiBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nOlxyXG5cdFx0ICpcclxuXHRcdCAqICAgLSBxdWVyeSB7c3RyaW5nfVxyXG5cdFx0ICogICAtIHRva2VucyB7YXJyYXl9XHJcblx0XHQgKiAgIC0gdG90YWwge2ludH1cclxuXHRcdCAqICAgLSBpdGVtcyB7YXJyYXl9XHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5XHJcblx0XHQgKiBAcmV0dXJucyB7b2JqZWN0fVxyXG5cdFx0ICovXHJcblx0XHRzZWFyY2g6IGZ1bmN0aW9uKHF1ZXJ5KSB7XHJcblx0XHRcdHZhciBpLCB2YWx1ZSwgc2NvcmUsIHJlc3VsdCwgY2FsY3VsYXRlU2NvcmU7XHJcblx0XHRcdHZhciBzZWxmICAgICA9IHRoaXM7XHJcblx0XHRcdHZhciBzZXR0aW5ncyA9IHNlbGYuc2V0dGluZ3M7XHJcblx0XHRcdHZhciBvcHRpb25zICA9IHRoaXMuZ2V0U2VhcmNoT3B0aW9ucygpO1xyXG5cclxuXHRcdFx0Ly8gdmFsaWRhdGUgdXNlci1wcm92aWRlZCByZXN1bHQgc2NvcmluZyBmdW5jdGlvblxyXG5cdFx0XHRpZiAoc2V0dGluZ3Muc2NvcmUpIHtcclxuXHRcdFx0XHRjYWxjdWxhdGVTY29yZSA9IHNlbGYuc2V0dGluZ3Muc2NvcmUuYXBwbHkodGhpcywgW3F1ZXJ5XSk7XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBjYWxjdWxhdGVTY29yZSAhPT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdTZWxlY3RpemUgXCJzY29yZVwiIHNldHRpbmcgbXVzdCBiZSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGZ1bmN0aW9uJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBwZXJmb3JtIHNlYXJjaFxyXG5cdFx0XHRpZiAocXVlcnkgIT09IHNlbGYubGFzdFF1ZXJ5KSB7XHJcblx0XHRcdFx0c2VsZi5sYXN0UXVlcnkgPSBxdWVyeTtcclxuXHRcdFx0XHRyZXN1bHQgPSBzZWxmLnNpZnRlci5zZWFyY2gocXVlcnksICQuZXh0ZW5kKG9wdGlvbnMsIHtzY29yZTogY2FsY3VsYXRlU2NvcmV9KSk7XHJcblx0XHRcdFx0c2VsZi5jdXJyZW50UmVzdWx0cyA9IHJlc3VsdDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXN1bHQgPSAkLmV4dGVuZCh0cnVlLCB7fSwgc2VsZi5jdXJyZW50UmVzdWx0cyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGZpbHRlciBvdXQgc2VsZWN0ZWQgaXRlbXNcclxuXHRcdFx0aWYgKHNldHRpbmdzLmhpZGVTZWxlY3RlZCkge1xyXG5cdFx0XHRcdGZvciAoaSA9IHJlc3VsdC5pdGVtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG5cdFx0XHRcdFx0aWYgKHNlbGYuaXRlbXMuaW5kZXhPZihoYXNoX2tleShyZXN1bHQuaXRlbXNbaV0uaWQpKSAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdFx0cmVzdWx0Lml0ZW1zLnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVmcmVzaGVzIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBvcHRpb25zIHNob3duXHJcblx0XHQgKiBpbiB0aGUgYXV0b2NvbXBsZXRlIGRyb3Bkb3duIG1lbnUuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtib29sZWFufSB0cmlnZ2VyRHJvcGRvd25cclxuXHRcdCAqL1xyXG5cdFx0cmVmcmVzaE9wdGlvbnM6IGZ1bmN0aW9uKHRyaWdnZXJEcm9wZG93bikge1xyXG5cdFx0XHR2YXIgaSwgaiwgaywgbiwgZ3JvdXBzLCBncm91cHNfb3JkZXIsIG9wdGlvbiwgb3B0aW9uX2h0bWwsIG9wdGdyb3VwLCBvcHRncm91cHMsIGh0bWwsIGh0bWxfY2hpbGRyZW4sIGhhc19jcmVhdGVfb3B0aW9uO1xyXG5cdFx0XHR2YXIgJGFjdGl2ZSwgJGFjdGl2ZV9iZWZvcmUsICRjcmVhdGU7XHJcblxyXG5cdFx0XHRpZiAodHlwZW9mIHRyaWdnZXJEcm9wZG93biA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHR0cmlnZ2VyRHJvcGRvd24gPSB0cnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgc2VsZiAgICAgICAgICAgICAgPSB0aGlzO1xyXG5cdFx0XHR2YXIgcXVlcnkgICAgICAgICAgICAgPSAkLnRyaW0oc2VsZi4kY29udHJvbF9pbnB1dC52YWwoKSk7XHJcblx0XHRcdHZhciByZXN1bHRzICAgICAgICAgICA9IHNlbGYuc2VhcmNoKHF1ZXJ5KTtcclxuXHRcdFx0dmFyICRkcm9wZG93bl9jb250ZW50ID0gc2VsZi4kZHJvcGRvd25fY29udGVudDtcclxuXHRcdFx0dmFyIGFjdGl2ZV9iZWZvcmUgICAgID0gc2VsZi4kYWN0aXZlT3B0aW9uICYmIGhhc2hfa2V5KHNlbGYuJGFjdGl2ZU9wdGlvbi5hdHRyKCdkYXRhLXZhbHVlJykpO1xyXG5cclxuXHRcdFx0Ly8gYnVpbGQgbWFya3VwXHJcblx0XHRcdG4gPSByZXN1bHRzLml0ZW1zLmxlbmd0aDtcclxuXHRcdFx0aWYgKHR5cGVvZiBzZWxmLnNldHRpbmdzLm1heE9wdGlvbnMgPT09ICdudW1iZXInKSB7XHJcblx0XHRcdFx0biA9IE1hdGgubWluKG4sIHNlbGYuc2V0dGluZ3MubWF4T3B0aW9ucyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHJlbmRlciBhbmQgZ3JvdXAgYXZhaWxhYmxlIG9wdGlvbnMgaW5kaXZpZHVhbGx5XHJcblx0XHRcdGdyb3VwcyA9IHt9O1xyXG5cdFx0XHRncm91cHNfb3JkZXIgPSBbXTtcclxuXHJcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRvcHRpb24gICAgICA9IHNlbGYub3B0aW9uc1tyZXN1bHRzLml0ZW1zW2ldLmlkXTtcclxuXHRcdFx0XHRvcHRpb25faHRtbCA9IHNlbGYucmVuZGVyKCdvcHRpb24nLCBvcHRpb24pO1xyXG5cdFx0XHRcdG9wdGdyb3VwICAgID0gb3B0aW9uW3NlbGYuc2V0dGluZ3Mub3B0Z3JvdXBGaWVsZF0gfHwgJyc7XHJcblx0XHRcdFx0b3B0Z3JvdXBzICAgPSAkLmlzQXJyYXkob3B0Z3JvdXApID8gb3B0Z3JvdXAgOiBbb3B0Z3JvdXBdO1xyXG5cclxuXHRcdFx0XHRmb3IgKGogPSAwLCBrID0gb3B0Z3JvdXBzICYmIG9wdGdyb3Vwcy5sZW5ndGg7IGogPCBrOyBqKyspIHtcclxuXHRcdFx0XHRcdG9wdGdyb3VwID0gb3B0Z3JvdXBzW2pdO1xyXG5cdFx0XHRcdFx0aWYgKCFzZWxmLm9wdGdyb3Vwcy5oYXNPd25Qcm9wZXJ0eShvcHRncm91cCkpIHtcclxuXHRcdFx0XHRcdFx0b3B0Z3JvdXAgPSAnJztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmICghZ3JvdXBzLmhhc093blByb3BlcnR5KG9wdGdyb3VwKSkge1xyXG5cdFx0XHRcdFx0XHRncm91cHNbb3B0Z3JvdXBdID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG5cdFx0XHRcdFx0XHRncm91cHNfb3JkZXIucHVzaChvcHRncm91cCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRncm91cHNbb3B0Z3JvdXBdLmFwcGVuZENoaWxkKG9wdGlvbl9odG1sKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHNvcnQgb3B0Z3JvdXBzXHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmxvY2tPcHRncm91cE9yZGVyKSB7XHJcblx0XHRcdFx0Z3JvdXBzX29yZGVyLnNvcnQoZnVuY3Rpb24oYSwgYikge1xyXG5cdFx0XHRcdFx0dmFyIGFfb3JkZXIgPSBzZWxmLm9wdGdyb3Vwc1thXS4kb3JkZXIgfHwgMDtcclxuXHRcdFx0XHRcdHZhciBiX29yZGVyID0gc2VsZi5vcHRncm91cHNbYl0uJG9yZGVyIHx8IDA7XHJcblx0XHRcdFx0XHRyZXR1cm4gYV9vcmRlciAtIGJfb3JkZXI7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHJlbmRlciBvcHRncm91cCBoZWFkZXJzICYgam9pbiBncm91cHNcclxuXHRcdFx0aHRtbCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuXHRcdFx0Zm9yIChpID0gMCwgbiA9IGdyb3Vwc19vcmRlci5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRvcHRncm91cCA9IGdyb3Vwc19vcmRlcltpXTtcclxuXHRcdFx0XHRpZiAoc2VsZi5vcHRncm91cHMuaGFzT3duUHJvcGVydHkob3B0Z3JvdXApICYmIGdyb3Vwc1tvcHRncm91cF0uY2hpbGROb2Rlcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdC8vIHJlbmRlciB0aGUgb3B0Z3JvdXAgaGVhZGVyIGFuZCBvcHRpb25zIHdpdGhpbiBpdCxcclxuXHRcdFx0XHRcdC8vIHRoZW4gcGFzcyBpdCB0byB0aGUgd3JhcHBlciB0ZW1wbGF0ZVxyXG5cdFx0XHRcdFx0aHRtbF9jaGlsZHJlbiA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuXHRcdFx0XHRcdGh0bWxfY2hpbGRyZW4uYXBwZW5kQ2hpbGQoc2VsZi5yZW5kZXIoJ29wdGdyb3VwX2hlYWRlcicsIHNlbGYub3B0Z3JvdXBzW29wdGdyb3VwXSkpO1xyXG5cdFx0XHRcdFx0aHRtbF9jaGlsZHJlbi5hcHBlbmRDaGlsZChncm91cHNbb3B0Z3JvdXBdKTtcclxuXHJcblx0XHRcdFx0XHRodG1sLmFwcGVuZENoaWxkKHNlbGYucmVuZGVyKCdvcHRncm91cCcsICQuZXh0ZW5kKHt9LCBzZWxmLm9wdGdyb3Vwc1tvcHRncm91cF0sIHtcclxuXHRcdFx0XHRcdFx0aHRtbDogZG9tVG9TdHJpbmcoaHRtbF9jaGlsZHJlbiksXHJcblx0XHRcdFx0XHRcdGRvbTogIGh0bWxfY2hpbGRyZW5cclxuXHRcdFx0XHRcdH0pKSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGh0bWwuYXBwZW5kQ2hpbGQoZ3JvdXBzW29wdGdyb3VwXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQkZHJvcGRvd25fY29udGVudC5odG1sKGh0bWwpO1xyXG5cclxuXHRcdFx0Ly8gaGlnaGxpZ2h0IG1hdGNoaW5nIHRlcm1zIGlubGluZVxyXG5cdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5oaWdobGlnaHQgJiYgcmVzdWx0cy5xdWVyeS5sZW5ndGggJiYgcmVzdWx0cy50b2tlbnMubGVuZ3RoKSB7XHJcblx0XHRcdFx0JGRyb3Bkb3duX2NvbnRlbnQucmVtb3ZlSGlnaGxpZ2h0KCk7XHJcblx0XHRcdFx0Zm9yIChpID0gMCwgbiA9IHJlc3VsdHMudG9rZW5zLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdFx0aGlnaGxpZ2h0KCRkcm9wZG93bl9jb250ZW50LCByZXN1bHRzLnRva2Vuc1tpXS5yZWdleCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBhZGQgXCJzZWxlY3RlZFwiIGNsYXNzIHRvIHNlbGVjdGVkIG9wdGlvbnNcclxuXHRcdFx0aWYgKCFzZWxmLnNldHRpbmdzLmhpZGVTZWxlY3RlZCkge1xyXG5cdFx0XHRcdGZvciAoaSA9IDAsIG4gPSBzZWxmLml0ZW1zLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdFx0c2VsZi5nZXRPcHRpb24oc2VsZi5pdGVtc1tpXSkuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBhZGQgY3JlYXRlIG9wdGlvblxyXG5cdFx0XHRoYXNfY3JlYXRlX29wdGlvbiA9IHNlbGYuY2FuQ3JlYXRlKHF1ZXJ5KTtcclxuXHRcdFx0aWYgKGhhc19jcmVhdGVfb3B0aW9uKSB7XHJcblx0XHRcdFx0JGRyb3Bkb3duX2NvbnRlbnQucHJlcGVuZChzZWxmLnJlbmRlcignb3B0aW9uX2NyZWF0ZScsIHtpbnB1dDogcXVlcnl9KSk7XHJcblx0XHRcdFx0JGNyZWF0ZSA9ICQoJGRyb3Bkb3duX2NvbnRlbnRbMF0uY2hpbGROb2Rlc1swXSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGFjdGl2YXRlXHJcblx0XHRcdHNlbGYuaGFzT3B0aW9ucyA9IHJlc3VsdHMuaXRlbXMubGVuZ3RoID4gMCB8fCBoYXNfY3JlYXRlX29wdGlvbjtcclxuXHRcdFx0aWYgKHNlbGYuaGFzT3B0aW9ucykge1xyXG5cdFx0XHRcdGlmIChyZXN1bHRzLml0ZW1zLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdCRhY3RpdmVfYmVmb3JlID0gYWN0aXZlX2JlZm9yZSAmJiBzZWxmLmdldE9wdGlvbihhY3RpdmVfYmVmb3JlKTtcclxuXHRcdFx0XHRcdGlmICgkYWN0aXZlX2JlZm9yZSAmJiAkYWN0aXZlX2JlZm9yZS5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0JGFjdGl2ZSA9ICRhY3RpdmVfYmVmb3JlO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChzZWxmLnNldHRpbmdzLm1vZGUgPT09ICdzaW5nbGUnICYmIHNlbGYuaXRlbXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdCRhY3RpdmUgPSBzZWxmLmdldE9wdGlvbihzZWxmLml0ZW1zWzBdKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmICghJGFjdGl2ZSB8fCAhJGFjdGl2ZS5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0aWYgKCRjcmVhdGUgJiYgIXNlbGYuc2V0dGluZ3MuYWRkUHJlY2VkZW5jZSkge1xyXG5cdFx0XHRcdFx0XHRcdCRhY3RpdmUgPSBzZWxmLmdldEFkamFjZW50T3B0aW9uKCRjcmVhdGUsIDEpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdCRhY3RpdmUgPSAkZHJvcGRvd25fY29udGVudC5maW5kKCdbZGF0YS1zZWxlY3RhYmxlXTpmaXJzdCcpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdCRhY3RpdmUgPSAkY3JlYXRlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzZWxmLnNldEFjdGl2ZU9wdGlvbigkYWN0aXZlKTtcclxuXHRcdFx0XHRpZiAodHJpZ2dlckRyb3Bkb3duICYmICFzZWxmLmlzT3BlbikgeyBzZWxmLm9wZW4oKTsgfVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHNlbGYuc2V0QWN0aXZlT3B0aW9uKG51bGwpO1xyXG5cdFx0XHRcdGlmICh0cmlnZ2VyRHJvcGRvd24gJiYgc2VsZi5pc09wZW4pIHsgc2VsZi5jbG9zZSgpOyB9XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBZGRzIGFuIGF2YWlsYWJsZSBvcHRpb24uIElmIGl0IGFscmVhZHkgZXhpc3RzLFxyXG5cdFx0ICogbm90aGluZyB3aWxsIGhhcHBlbi4gTm90ZTogdGhpcyBkb2VzIG5vdCByZWZyZXNoXHJcblx0XHQgKiB0aGUgb3B0aW9ucyBsaXN0IGRyb3Bkb3duICh1c2UgYHJlZnJlc2hPcHRpb25zYFxyXG5cdFx0ICogZm9yIHRoYXQpLlxyXG5cdFx0ICpcclxuXHRcdCAqIFVzYWdlOlxyXG5cdFx0ICpcclxuXHRcdCAqICAgdGhpcy5hZGRPcHRpb24oZGF0YSlcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdHxhcnJheX0gZGF0YVxyXG5cdFx0ICovXHJcblx0XHRhZGRPcHRpb246IGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0dmFyIGksIG4sIHZhbHVlLCBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdGlmICgkLmlzQXJyYXkoZGF0YSkpIHtcclxuXHRcdFx0XHRmb3IgKGkgPSAwLCBuID0gZGF0YS5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRcdHNlbGYuYWRkT3B0aW9uKGRhdGFbaV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICh2YWx1ZSA9IHNlbGYucmVnaXN0ZXJPcHRpb24oZGF0YSkpIHtcclxuXHRcdFx0XHRzZWxmLnVzZXJPcHRpb25zW3ZhbHVlXSA9IHRydWU7XHJcblx0XHRcdFx0c2VsZi5sYXN0UXVlcnkgPSBudWxsO1xyXG5cdFx0XHRcdHNlbGYudHJpZ2dlcignb3B0aW9uX2FkZCcsIHZhbHVlLCBkYXRhKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlZ2lzdGVycyBhbiBvcHRpb24gdG8gdGhlIHBvb2wgb2Ygb3B0aW9ucy5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZGF0YVxyXG5cdFx0ICogQHJldHVybiB7Ym9vbGVhbnxzdHJpbmd9XHJcblx0XHQgKi9cclxuXHRcdHJlZ2lzdGVyT3B0aW9uOiBmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdHZhciBrZXkgPSBoYXNoX2tleShkYXRhW3RoaXMuc2V0dGluZ3MudmFsdWVGaWVsZF0pO1xyXG5cdFx0XHRpZiAodHlwZW9mIGtleSA9PT0gJ3VuZGVmaW5lZCcgfHwga2V5ID09PSBudWxsIHx8IHRoaXMub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShrZXkpKSByZXR1cm4gZmFsc2U7XHJcblx0XHRcdGRhdGEuJG9yZGVyID0gZGF0YS4kb3JkZXIgfHwgKyt0aGlzLm9yZGVyO1xyXG5cdFx0XHR0aGlzLm9wdGlvbnNba2V5XSA9IGRhdGE7XHJcblx0XHRcdHJldHVybiBrZXk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVnaXN0ZXJzIGFuIG9wdGlvbiBncm91cCB0byB0aGUgcG9vbCBvZiBvcHRpb24gZ3JvdXBzLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhXHJcblx0XHQgKiBAcmV0dXJuIHtib29sZWFufHN0cmluZ31cclxuXHRcdCAqL1xyXG5cdFx0cmVnaXN0ZXJPcHRpb25Hcm91cDogZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0XHR2YXIga2V5ID0gaGFzaF9rZXkoZGF0YVt0aGlzLnNldHRpbmdzLm9wdGdyb3VwVmFsdWVGaWVsZF0pO1xyXG5cdFx0XHRpZiAoIWtleSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdFx0ZGF0YS4kb3JkZXIgPSBkYXRhLiRvcmRlciB8fCArK3RoaXMub3JkZXI7XHJcblx0XHRcdHRoaXMub3B0Z3JvdXBzW2tleV0gPSBkYXRhO1xyXG5cdFx0XHRyZXR1cm4ga2V5O1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlZ2lzdGVycyBhIG5ldyBvcHRncm91cCBmb3Igb3B0aW9uc1xyXG5cdFx0ICogdG8gYmUgYnVja2V0ZWQgaW50by5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gaWRcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhXHJcblx0XHQgKi9cclxuXHRcdGFkZE9wdGlvbkdyb3VwOiBmdW5jdGlvbihpZCwgZGF0YSkge1xyXG5cdFx0XHRkYXRhW3RoaXMuc2V0dGluZ3Mub3B0Z3JvdXBWYWx1ZUZpZWxkXSA9IGlkO1xyXG5cdFx0XHRpZiAoaWQgPSB0aGlzLnJlZ2lzdGVyT3B0aW9uR3JvdXAoZGF0YSkpIHtcclxuXHRcdFx0XHR0aGlzLnRyaWdnZXIoJ29wdGdyb3VwX2FkZCcsIGlkLCBkYXRhKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZXMgYW4gZXhpc3Rpbmcgb3B0aW9uIGdyb3VwLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBpZFxyXG5cdFx0ICovXHJcblx0XHRyZW1vdmVPcHRpb25Hcm91cDogZnVuY3Rpb24oaWQpIHtcclxuXHRcdFx0aWYgKHRoaXMub3B0Z3JvdXBzLmhhc093blByb3BlcnR5KGlkKSkge1xyXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLm9wdGdyb3Vwc1tpZF07XHJcblx0XHRcdFx0dGhpcy5yZW5kZXJDYWNoZSA9IHt9O1xyXG5cdFx0XHRcdHRoaXMudHJpZ2dlcignb3B0Z3JvdXBfcmVtb3ZlJywgaWQpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2xlYXJzIGFsbCBleGlzdGluZyBvcHRpb24gZ3JvdXBzLlxyXG5cdFx0ICovXHJcblx0XHRjbGVhck9wdGlvbkdyb3VwczogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMub3B0Z3JvdXBzID0ge307XHJcblx0XHRcdHRoaXMucmVuZGVyQ2FjaGUgPSB7fTtcclxuXHRcdFx0dGhpcy50cmlnZ2VyKCdvcHRncm91cF9jbGVhcicpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZXMgYW4gb3B0aW9uIGF2YWlsYWJsZSBmb3Igc2VsZWN0aW9uLiBJZlxyXG5cdFx0ICogaXQgaXMgdmlzaWJsZSBpbiB0aGUgc2VsZWN0ZWQgaXRlbXMgb3Igb3B0aW9uc1xyXG5cdFx0ICogZHJvcGRvd24sIGl0IHdpbGwgYmUgcmUtcmVuZGVyZWQgYXV0b21hdGljYWxseS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhXHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZU9wdGlvbjogZnVuY3Rpb24odmFsdWUsIGRhdGEpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHR2YXIgJGl0ZW0sICRpdGVtX25ldztcclxuXHRcdFx0dmFyIHZhbHVlX25ldywgaW5kZXhfaXRlbSwgY2FjaGVfaXRlbXMsIGNhY2hlX29wdGlvbnMsIG9yZGVyX29sZDtcclxuXHJcblx0XHRcdHZhbHVlICAgICA9IGhhc2hfa2V5KHZhbHVlKTtcclxuXHRcdFx0dmFsdWVfbmV3ID0gaGFzaF9rZXkoZGF0YVtzZWxmLnNldHRpbmdzLnZhbHVlRmllbGRdKTtcclxuXHJcblx0XHRcdC8vIHNhbml0eSBjaGVja3NcclxuXHRcdFx0aWYgKHZhbHVlID09PSBudWxsKSByZXR1cm47XHJcblx0XHRcdGlmICghc2VsZi5vcHRpb25zLmhhc093blByb3BlcnR5KHZhbHVlKSkgcmV0dXJuO1xyXG5cdFx0XHRpZiAodHlwZW9mIHZhbHVlX25ldyAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBFcnJvcignVmFsdWUgbXVzdCBiZSBzZXQgaW4gb3B0aW9uIGRhdGEnKTtcclxuXHJcblx0XHRcdG9yZGVyX29sZCA9IHNlbGYub3B0aW9uc1t2YWx1ZV0uJG9yZGVyO1xyXG5cclxuXHRcdFx0Ly8gdXBkYXRlIHJlZmVyZW5jZXNcclxuXHRcdFx0aWYgKHZhbHVlX25ldyAhPT0gdmFsdWUpIHtcclxuXHRcdFx0XHRkZWxldGUgc2VsZi5vcHRpb25zW3ZhbHVlXTtcclxuXHRcdFx0XHRpbmRleF9pdGVtID0gc2VsZi5pdGVtcy5pbmRleE9mKHZhbHVlKTtcclxuXHRcdFx0XHRpZiAoaW5kZXhfaXRlbSAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdHNlbGYuaXRlbXMuc3BsaWNlKGluZGV4X2l0ZW0sIDEsIHZhbHVlX25ldyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGRhdGEuJG9yZGVyID0gZGF0YS4kb3JkZXIgfHwgb3JkZXJfb2xkO1xyXG5cdFx0XHRzZWxmLm9wdGlvbnNbdmFsdWVfbmV3XSA9IGRhdGE7XHJcblxyXG5cdFx0XHQvLyBpbnZhbGlkYXRlIHJlbmRlciBjYWNoZVxyXG5cdFx0XHRjYWNoZV9pdGVtcyA9IHNlbGYucmVuZGVyQ2FjaGVbJ2l0ZW0nXTtcclxuXHRcdFx0Y2FjaGVfb3B0aW9ucyA9IHNlbGYucmVuZGVyQ2FjaGVbJ29wdGlvbiddO1xyXG5cclxuXHRcdFx0aWYgKGNhY2hlX2l0ZW1zKSB7XHJcblx0XHRcdFx0ZGVsZXRlIGNhY2hlX2l0ZW1zW3ZhbHVlXTtcclxuXHRcdFx0XHRkZWxldGUgY2FjaGVfaXRlbXNbdmFsdWVfbmV3XTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoY2FjaGVfb3B0aW9ucykge1xyXG5cdFx0XHRcdGRlbGV0ZSBjYWNoZV9vcHRpb25zW3ZhbHVlXTtcclxuXHRcdFx0XHRkZWxldGUgY2FjaGVfb3B0aW9uc1t2YWx1ZV9uZXddO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyB1cGRhdGUgdGhlIGl0ZW0gaWYgaXQncyBzZWxlY3RlZFxyXG5cdFx0XHRpZiAoc2VsZi5pdGVtcy5pbmRleE9mKHZhbHVlX25ldykgIT09IC0xKSB7XHJcblx0XHRcdFx0JGl0ZW0gPSBzZWxmLmdldEl0ZW0odmFsdWUpO1xyXG5cdFx0XHRcdCRpdGVtX25ldyA9ICQoc2VsZi5yZW5kZXIoJ2l0ZW0nLCBkYXRhKSk7XHJcblx0XHRcdFx0aWYgKCRpdGVtLmhhc0NsYXNzKCdhY3RpdmUnKSkgJGl0ZW1fbmV3LmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0XHQkaXRlbS5yZXBsYWNlV2l0aCgkaXRlbV9uZXcpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBpbnZhbGlkYXRlIGxhc3QgcXVlcnkgYmVjYXVzZSB3ZSBtaWdodCBoYXZlIHVwZGF0ZWQgdGhlIHNvcnRGaWVsZFxyXG5cdFx0XHRzZWxmLmxhc3RRdWVyeSA9IG51bGw7XHJcblxyXG5cdFx0XHQvLyB1cGRhdGUgZHJvcGRvd24gY29udGVudHNcclxuXHRcdFx0aWYgKHNlbGYuaXNPcGVuKSB7XHJcblx0XHRcdFx0c2VsZi5yZWZyZXNoT3B0aW9ucyhmYWxzZSk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmVzIGEgc2luZ2xlIG9wdGlvbi5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcclxuXHRcdCAqIEBwYXJhbSB7Ym9vbGVhbn0gc2lsZW50XHJcblx0XHQgKi9cclxuXHRcdHJlbW92ZU9wdGlvbjogZnVuY3Rpb24odmFsdWUsIHNpbGVudCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdHZhbHVlID0gaGFzaF9rZXkodmFsdWUpO1xyXG5cclxuXHRcdFx0dmFyIGNhY2hlX2l0ZW1zID0gc2VsZi5yZW5kZXJDYWNoZVsnaXRlbSddO1xyXG5cdFx0XHR2YXIgY2FjaGVfb3B0aW9ucyA9IHNlbGYucmVuZGVyQ2FjaGVbJ29wdGlvbiddO1xyXG5cdFx0XHRpZiAoY2FjaGVfaXRlbXMpIGRlbGV0ZSBjYWNoZV9pdGVtc1t2YWx1ZV07XHJcblx0XHRcdGlmIChjYWNoZV9vcHRpb25zKSBkZWxldGUgY2FjaGVfb3B0aW9uc1t2YWx1ZV07XHJcblxyXG5cdFx0XHRkZWxldGUgc2VsZi51c2VyT3B0aW9uc1t2YWx1ZV07XHJcblx0XHRcdGRlbGV0ZSBzZWxmLm9wdGlvbnNbdmFsdWVdO1xyXG5cdFx0XHRzZWxmLmxhc3RRdWVyeSA9IG51bGw7XHJcblx0XHRcdHNlbGYudHJpZ2dlcignb3B0aW9uX3JlbW92ZScsIHZhbHVlKTtcclxuXHRcdFx0c2VsZi5yZW1vdmVJdGVtKHZhbHVlLCBzaWxlbnQpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENsZWFycyBhbGwgb3B0aW9ucy5cclxuXHRcdCAqL1xyXG5cdFx0Y2xlYXJPcHRpb25zOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdFx0c2VsZi5sb2FkZWRTZWFyY2hlcyA9IHt9O1xyXG5cdFx0XHRzZWxmLnVzZXJPcHRpb25zID0ge307XHJcblx0XHRcdHNlbGYucmVuZGVyQ2FjaGUgPSB7fTtcclxuXHRcdFx0c2VsZi5vcHRpb25zID0gc2VsZi5zaWZ0ZXIuaXRlbXMgPSB7fTtcclxuXHRcdFx0c2VsZi5sYXN0UXVlcnkgPSBudWxsO1xyXG5cdFx0XHRzZWxmLnRyaWdnZXIoJ29wdGlvbl9jbGVhcicpO1xyXG5cdFx0XHRzZWxmLmNsZWFyKCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyB0aGUgalF1ZXJ5IGVsZW1lbnQgb2YgdGhlIG9wdGlvblxyXG5cdFx0ICogbWF0Y2hpbmcgdGhlIGdpdmVuIHZhbHVlLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxyXG5cdFx0ICogQHJldHVybnMge29iamVjdH1cclxuXHRcdCAqL1xyXG5cdFx0Z2V0T3B0aW9uOiBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRFbGVtZW50V2l0aFZhbHVlKHZhbHVlLCB0aGlzLiRkcm9wZG93bl9jb250ZW50LmZpbmQoJ1tkYXRhLXNlbGVjdGFibGVdJykpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgdGhlIGpRdWVyeSBlbGVtZW50IG9mIHRoZSBuZXh0IG9yXHJcblx0XHQgKiBwcmV2aW91cyBzZWxlY3RhYmxlIG9wdGlvbi5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gJG9wdGlvblxyXG5cdFx0ICogQHBhcmFtIHtpbnR9IGRpcmVjdGlvbiAgY2FuIGJlIDEgZm9yIG5leHQgb3IgLTEgZm9yIHByZXZpb3VzXHJcblx0XHQgKiBAcmV0dXJuIHtvYmplY3R9XHJcblx0XHQgKi9cclxuXHRcdGdldEFkamFjZW50T3B0aW9uOiBmdW5jdGlvbigkb3B0aW9uLCBkaXJlY3Rpb24pIHtcclxuXHRcdFx0dmFyICRvcHRpb25zID0gdGhpcy4kZHJvcGRvd24uZmluZCgnW2RhdGEtc2VsZWN0YWJsZV0nKTtcclxuXHRcdFx0dmFyIGluZGV4ICAgID0gJG9wdGlvbnMuaW5kZXgoJG9wdGlvbikgKyBkaXJlY3Rpb247XHJcblxyXG5cdFx0XHRyZXR1cm4gaW5kZXggPj0gMCAmJiBpbmRleCA8ICRvcHRpb25zLmxlbmd0aCA/ICRvcHRpb25zLmVxKGluZGV4KSA6ICQoKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBGaW5kcyB0aGUgZmlyc3QgZWxlbWVudCB3aXRoIGEgXCJkYXRhLXZhbHVlXCIgYXR0cmlidXRlXHJcblx0XHQgKiB0aGF0IG1hdGNoZXMgdGhlIGdpdmVuIHZhbHVlLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7bWl4ZWR9IHZhbHVlXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gJGVsc1xyXG5cdFx0ICogQHJldHVybiB7b2JqZWN0fVxyXG5cdFx0ICovXHJcblx0XHRnZXRFbGVtZW50V2l0aFZhbHVlOiBmdW5jdGlvbih2YWx1ZSwgJGVscykge1xyXG5cdFx0XHR2YWx1ZSA9IGhhc2hfa2V5KHZhbHVlKTtcclxuXHJcblx0XHRcdGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlICE9PSBudWxsKSB7XHJcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIG4gPSAkZWxzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdFx0aWYgKCRlbHNbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJykgPT09IHZhbHVlKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiAkKCRlbHNbaV0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuICQoKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIHRoZSBqUXVlcnkgZWxlbWVudCBvZiB0aGUgaXRlbVxyXG5cdFx0ICogbWF0Y2hpbmcgdGhlIGdpdmVuIHZhbHVlLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxyXG5cdFx0ICogQHJldHVybnMge29iamVjdH1cclxuXHRcdCAqL1xyXG5cdFx0Z2V0SXRlbTogZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0RWxlbWVudFdpdGhWYWx1ZSh2YWx1ZSwgdGhpcy4kY29udHJvbC5jaGlsZHJlbigpKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBcIlNlbGVjdHNcIiBtdWx0aXBsZSBpdGVtcyBhdCBvbmNlLiBBZGRzIHRoZW0gdG8gdGhlIGxpc3RcclxuXHRcdCAqIGF0IHRoZSBjdXJyZW50IGNhcmV0IHBvc2l0aW9uLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxyXG5cdFx0ICogQHBhcmFtIHtib29sZWFufSBzaWxlbnRcclxuXHRcdCAqL1xyXG5cdFx0YWRkSXRlbXM6IGZ1bmN0aW9uKHZhbHVlcywgc2lsZW50KSB7XHJcblx0XHRcdHZhciBpdGVtcyA9ICQuaXNBcnJheSh2YWx1ZXMpID8gdmFsdWVzIDogW3ZhbHVlc107XHJcblx0XHRcdGZvciAodmFyIGkgPSAwLCBuID0gaXRlbXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0dGhpcy5pc1BlbmRpbmcgPSAoaSA8IG4gLSAxKTtcclxuXHRcdFx0XHR0aGlzLmFkZEl0ZW0oaXRlbXNbaV0sIHNpbGVudCk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBcIlNlbGVjdHNcIiBhbiBpdGVtLiBBZGRzIGl0IHRvIHRoZSBsaXN0XHJcblx0XHQgKiBhdCB0aGUgY3VycmVudCBjYXJldCBwb3NpdGlvbi5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcclxuXHRcdCAqIEBwYXJhbSB7Ym9vbGVhbn0gc2lsZW50XHJcblx0XHQgKi9cclxuXHRcdGFkZEl0ZW06IGZ1bmN0aW9uKHZhbHVlLCBzaWxlbnQpIHtcclxuXHRcdFx0dmFyIGV2ZW50cyA9IHNpbGVudCA/IFtdIDogWydjaGFuZ2UnXTtcclxuXHJcblx0XHRcdGRlYm91bmNlX2V2ZW50cyh0aGlzLCBldmVudHMsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHZhciAkaXRlbSwgJG9wdGlvbiwgJG9wdGlvbnM7XHJcblx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRcdHZhciBpbnB1dE1vZGUgPSBzZWxmLnNldHRpbmdzLm1vZGU7XHJcblx0XHRcdFx0dmFyIGksIGFjdGl2ZSwgdmFsdWVfbmV4dCwgd2FzRnVsbDtcclxuXHRcdFx0XHR2YWx1ZSA9IGhhc2hfa2V5KHZhbHVlKTtcclxuXHJcblx0XHRcdFx0aWYgKHNlbGYuaXRlbXMuaW5kZXhPZih2YWx1ZSkgIT09IC0xKSB7XHJcblx0XHRcdFx0XHRpZiAoaW5wdXRNb2RlID09PSAnc2luZ2xlJykgc2VsZi5jbG9zZSgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKCFzZWxmLm9wdGlvbnMuaGFzT3duUHJvcGVydHkodmFsdWUpKSByZXR1cm47XHJcblx0XHRcdFx0aWYgKGlucHV0TW9kZSA9PT0gJ3NpbmdsZScpIHNlbGYuY2xlYXIoc2lsZW50KTtcclxuXHRcdFx0XHRpZiAoaW5wdXRNb2RlID09PSAnbXVsdGknICYmIHNlbGYuaXNGdWxsKCkpIHJldHVybjtcclxuXHJcblx0XHRcdFx0JGl0ZW0gPSAkKHNlbGYucmVuZGVyKCdpdGVtJywgc2VsZi5vcHRpb25zW3ZhbHVlXSkpO1xyXG5cdFx0XHRcdHdhc0Z1bGwgPSBzZWxmLmlzRnVsbCgpO1xyXG5cdFx0XHRcdHNlbGYuaXRlbXMuc3BsaWNlKHNlbGYuY2FyZXRQb3MsIDAsIHZhbHVlKTtcclxuXHRcdFx0XHRzZWxmLmluc2VydEF0Q2FyZXQoJGl0ZW0pO1xyXG5cdFx0XHRcdGlmICghc2VsZi5pc1BlbmRpbmcgfHwgKCF3YXNGdWxsICYmIHNlbGYuaXNGdWxsKCkpKSB7XHJcblx0XHRcdFx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKHNlbGYuaXNTZXR1cCkge1xyXG5cdFx0XHRcdFx0JG9wdGlvbnMgPSBzZWxmLiRkcm9wZG93bl9jb250ZW50LmZpbmQoJ1tkYXRhLXNlbGVjdGFibGVdJyk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gdXBkYXRlIG1lbnUgLyByZW1vdmUgdGhlIG9wdGlvbiAoaWYgdGhpcyBpcyBub3Qgb25lIGl0ZW0gYmVpbmcgYWRkZWQgYXMgcGFydCBvZiBzZXJpZXMpXHJcblx0XHRcdFx0XHRpZiAoIXNlbGYuaXNQZW5kaW5nKSB7XHJcblx0XHRcdFx0XHRcdCRvcHRpb24gPSBzZWxmLmdldE9wdGlvbih2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdHZhbHVlX25leHQgPSBzZWxmLmdldEFkamFjZW50T3B0aW9uKCRvcHRpb24sIDEpLmF0dHIoJ2RhdGEtdmFsdWUnKTtcclxuXHRcdFx0XHRcdFx0c2VsZi5yZWZyZXNoT3B0aW9ucyhzZWxmLmlzRm9jdXNlZCAmJiBpbnB1dE1vZGUgIT09ICdzaW5nbGUnKTtcclxuXHRcdFx0XHRcdFx0aWYgKHZhbHVlX25leHQpIHtcclxuXHRcdFx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZU9wdGlvbihzZWxmLmdldE9wdGlvbih2YWx1ZV9uZXh0KSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBoaWRlIHRoZSBtZW51IGlmIHRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyBoYXZlIGJlZW4gc2VsZWN0ZWQgb3Igbm8gb3B0aW9ucyBhcmUgbGVmdFxyXG5cdFx0XHRcdFx0aWYgKCEkb3B0aW9ucy5sZW5ndGggfHwgc2VsZi5pc0Z1bGwoKSkge1xyXG5cdFx0XHRcdFx0XHRzZWxmLmNsb3NlKCk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRzZWxmLnBvc2l0aW9uRHJvcGRvd24oKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRzZWxmLnVwZGF0ZVBsYWNlaG9sZGVyKCk7XHJcblx0XHRcdFx0XHRzZWxmLnRyaWdnZXIoJ2l0ZW1fYWRkJywgdmFsdWUsICRpdGVtKTtcclxuXHRcdFx0XHRcdHNlbGYudXBkYXRlT3JpZ2luYWxJbnB1dCh7c2lsZW50OiBzaWxlbnR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZXMgdGhlIHNlbGVjdGVkIGl0ZW0gbWF0Y2hpbmdcclxuXHRcdCAqIHRoZSBwcm92aWRlZCB2YWx1ZS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcclxuXHRcdCAqL1xyXG5cdFx0cmVtb3ZlSXRlbTogZnVuY3Rpb24odmFsdWUsIHNpbGVudCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdHZhciAkaXRlbSwgaSwgaWR4O1xyXG5cclxuXHRcdFx0JGl0ZW0gPSAodmFsdWUgaW5zdGFuY2VvZiAkKSA/IHZhbHVlIDogc2VsZi5nZXRJdGVtKHZhbHVlKTtcclxuXHRcdFx0dmFsdWUgPSBoYXNoX2tleSgkaXRlbS5hdHRyKCdkYXRhLXZhbHVlJykpO1xyXG5cdFx0XHRpID0gc2VsZi5pdGVtcy5pbmRleE9mKHZhbHVlKTtcclxuXHJcblx0XHRcdGlmIChpICE9PSAtMSkge1xyXG5cdFx0XHRcdCRpdGVtLnJlbW92ZSgpO1xyXG5cdFx0XHRcdGlmICgkaXRlbS5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuXHRcdFx0XHRcdGlkeCA9IHNlbGYuJGFjdGl2ZUl0ZW1zLmluZGV4T2YoJGl0ZW1bMF0pO1xyXG5cdFx0XHRcdFx0c2VsZi4kYWN0aXZlSXRlbXMuc3BsaWNlKGlkeCwgMSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRzZWxmLml0ZW1zLnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHRzZWxmLmxhc3RRdWVyeSA9IG51bGw7XHJcblx0XHRcdFx0aWYgKCFzZWxmLnNldHRpbmdzLnBlcnNpc3QgJiYgc2VsZi51c2VyT3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkpIHtcclxuXHRcdFx0XHRcdHNlbGYucmVtb3ZlT3B0aW9uKHZhbHVlLCBzaWxlbnQpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKGkgPCBzZWxmLmNhcmV0UG9zKSB7XHJcblx0XHRcdFx0XHRzZWxmLnNldENhcmV0KHNlbGYuY2FyZXRQb3MgLSAxKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHNlbGYucmVmcmVzaFN0YXRlKCk7XHJcblx0XHRcdFx0c2VsZi51cGRhdGVQbGFjZWhvbGRlcigpO1xyXG5cdFx0XHRcdHNlbGYudXBkYXRlT3JpZ2luYWxJbnB1dCh7c2lsZW50OiBzaWxlbnR9KTtcclxuXHRcdFx0XHRzZWxmLnBvc2l0aW9uRHJvcGRvd24oKTtcclxuXHRcdFx0XHRzZWxmLnRyaWdnZXIoJ2l0ZW1fcmVtb3ZlJywgdmFsdWUsICRpdGVtKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEludm9rZXMgdGhlIGBjcmVhdGVgIG1ldGhvZCBwcm92aWRlZCBpbiB0aGVcclxuXHRcdCAqIHNlbGVjdGl6ZSBvcHRpb25zIHRoYXQgc2hvdWxkIHByb3ZpZGUgdGhlIGRhdGFcclxuXHRcdCAqIGZvciB0aGUgbmV3IGl0ZW0sIGdpdmVuIHRoZSB1c2VyIGlucHV0LlxyXG5cdFx0ICpcclxuXHRcdCAqIE9uY2UgdGhpcyBjb21wbGV0ZXMsIGl0IHdpbGwgYmUgYWRkZWRcclxuXHRcdCAqIHRvIHRoZSBpdGVtIGxpc3QuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXHJcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IFt0cmlnZ2VyRHJvcGRvd25dXHJcblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdXHJcblx0XHQgKiBAcmV0dXJuIHtib29sZWFufVxyXG5cdFx0ICovXHJcblx0XHRjcmVhdGVJdGVtOiBmdW5jdGlvbihpbnB1dCwgdHJpZ2dlckRyb3Bkb3duKSB7XHJcblx0XHRcdHZhciBzZWxmICA9IHRoaXM7XHJcblx0XHRcdHZhciBjYXJldCA9IHNlbGYuY2FyZXRQb3M7XHJcblx0XHRcdGlucHV0ID0gaW5wdXQgfHwgJC50cmltKHNlbGYuJGNvbnRyb2xfaW5wdXQudmFsKCkgfHwgJycpO1xyXG5cclxuXHRcdFx0dmFyIGNhbGxiYWNrID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcclxuXHRcdFx0aWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2sgPSBmdW5jdGlvbigpIHt9O1xyXG5cclxuXHRcdFx0aWYgKHR5cGVvZiB0cmlnZ2VyRHJvcGRvd24gIT09ICdib29sZWFuJykge1xyXG5cdFx0XHRcdHRyaWdnZXJEcm9wZG93biA9IHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICghc2VsZi5jYW5DcmVhdGUoaW5wdXQpKSB7XHJcblx0XHRcdFx0Y2FsbGJhY2soKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNlbGYubG9jaygpO1xyXG5cclxuXHRcdFx0dmFyIHNldHVwID0gKHR5cGVvZiBzZWxmLnNldHRpbmdzLmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykgPyB0aGlzLnNldHRpbmdzLmNyZWF0ZSA6IGZ1bmN0aW9uKGlucHV0KSB7XHJcblx0XHRcdFx0dmFyIGRhdGEgPSB7fTtcclxuXHRcdFx0XHRkYXRhW3NlbGYuc2V0dGluZ3MubGFiZWxGaWVsZF0gPSBpbnB1dDtcclxuXHRcdFx0XHRkYXRhW3NlbGYuc2V0dGluZ3MudmFsdWVGaWVsZF0gPSBpbnB1dDtcclxuXHRcdFx0XHRyZXR1cm4gZGF0YTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHZhciBjcmVhdGUgPSBvbmNlKGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0XHRzZWxmLnVubG9jaygpO1xyXG5cclxuXHRcdFx0XHRpZiAoIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09ICdvYmplY3QnKSByZXR1cm4gY2FsbGJhY2soKTtcclxuXHRcdFx0XHR2YXIgdmFsdWUgPSBoYXNoX2tleShkYXRhW3NlbGYuc2V0dGluZ3MudmFsdWVGaWVsZF0pO1xyXG5cdFx0XHRcdGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSByZXR1cm4gY2FsbGJhY2soKTtcclxuXHJcblx0XHRcdFx0c2VsZi5zZXRUZXh0Ym94VmFsdWUoJycpO1xyXG5cdFx0XHRcdHNlbGYuYWRkT3B0aW9uKGRhdGEpO1xyXG5cdFx0XHRcdHNlbGYuc2V0Q2FyZXQoY2FyZXQpO1xyXG5cdFx0XHRcdHNlbGYuYWRkSXRlbSh2YWx1ZSk7XHJcblx0XHRcdFx0c2VsZi5yZWZyZXNoT3B0aW9ucyh0cmlnZ2VyRHJvcGRvd24gJiYgc2VsZi5zZXR0aW5ncy5tb2RlICE9PSAnc2luZ2xlJyk7XHJcblx0XHRcdFx0Y2FsbGJhY2soZGF0YSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0dmFyIG91dHB1dCA9IHNldHVwLmFwcGx5KHRoaXMsIFtpbnB1dCwgY3JlYXRlXSk7XHJcblx0XHRcdGlmICh0eXBlb2Ygb3V0cHV0ICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdGNyZWF0ZShvdXRwdXQpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZS1yZW5kZXJzIHRoZSBzZWxlY3RlZCBpdGVtIGxpc3RzLlxyXG5cdFx0ICovXHJcblx0XHRyZWZyZXNoSXRlbXM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLmxhc3RRdWVyeSA9IG51bGw7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5pc1NldHVwKSB7XHJcblx0XHRcdFx0dGhpcy5hZGRJdGVtKHRoaXMuaXRlbXMpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0aGlzLnJlZnJlc2hTdGF0ZSgpO1xyXG5cdFx0XHR0aGlzLnVwZGF0ZU9yaWdpbmFsSW5wdXQoKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGVzIGFsbCBzdGF0ZS1kZXBlbmRlbnQgYXR0cmlidXRlc1xyXG5cdFx0ICogYW5kIENTUyBjbGFzc2VzLlxyXG5cdFx0ICovXHJcblx0XHRyZWZyZXNoU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLnJlZnJlc2hWYWxpZGl0eVN0YXRlKCk7XHJcblx0XHRcdHRoaXMucmVmcmVzaENsYXNzZXMoKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGUgdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlIG9mIGJvdGggaW5wdXQgYW5kIGNvbnRyb2wgaW5wdXQuXHJcblx0XHQgKlxyXG5cdFx0ICogVGhlIGByZXF1aXJlZGAgcHJvcGVydHkgbmVlZHMgdG8gYmUgYWN0aXZhdGVkIG9uIHRoZSBjb250cm9sIGlucHV0XHJcblx0XHQgKiBmb3IgdGhlIGVycm9yIHRvIGJlIGRpc3BsYXllZCBhdCB0aGUgcmlnaHQgcGxhY2UuIGByZXF1aXJlZGAgYWxzb1xyXG5cdFx0ICogbmVlZHMgdG8gYmUgdGVtcG9yYXJpbHkgZGVhY3RpdmF0ZWQgb24gdGhlIGlucHV0IHNpbmNlIHRoZSBpbnB1dCBpc1xyXG5cdFx0ICogaGlkZGVuIGFuZCBjYW4ndCBzaG93IGVycm9ycy5cclxuXHRcdCAqL1xyXG5cdFx0cmVmcmVzaFZhbGlkaXR5U3RhdGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoIXRoaXMuaXNSZXF1aXJlZCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdFx0dmFyIGludmFsaWQgPSAhdGhpcy5pdGVtcy5sZW5ndGg7XHJcblxyXG5cdFx0XHR0aGlzLmlzSW52YWxpZCA9IGludmFsaWQ7XHJcblx0XHRcdHRoaXMuJGNvbnRyb2xfaW5wdXQucHJvcCgncmVxdWlyZWQnLCBpbnZhbGlkKTtcclxuXHRcdFx0dGhpcy4kaW5wdXQucHJvcCgncmVxdWlyZWQnLCAhaW52YWxpZCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlcyBhbGwgc3RhdGUtZGVwZW5kZW50IENTUyBjbGFzc2VzLlxyXG5cdFx0ICovXHJcblx0XHRyZWZyZXNoQ2xhc3NlczogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmICAgICA9IHRoaXM7XHJcblx0XHRcdHZhciBpc0Z1bGwgICA9IHNlbGYuaXNGdWxsKCk7XHJcblx0XHRcdHZhciBpc0xvY2tlZCA9IHNlbGYuaXNMb2NrZWQ7XHJcblxyXG5cdFx0XHRzZWxmLiR3cmFwcGVyXHJcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCdydGwnLCBzZWxmLnJ0bCk7XHJcblxyXG5cdFx0XHRzZWxmLiRjb250cm9sXHJcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCdmb2N1cycsIHNlbGYuaXNGb2N1c2VkKVxyXG5cdFx0XHRcdC50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCBzZWxmLmlzRGlzYWJsZWQpXHJcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCdyZXF1aXJlZCcsIHNlbGYuaXNSZXF1aXJlZClcclxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoJ2ludmFsaWQnLCBzZWxmLmlzSW52YWxpZClcclxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoJ2xvY2tlZCcsIGlzTG9ja2VkKVxyXG5cdFx0XHRcdC50b2dnbGVDbGFzcygnZnVsbCcsIGlzRnVsbCkudG9nZ2xlQ2xhc3MoJ25vdC1mdWxsJywgIWlzRnVsbClcclxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoJ2lucHV0LWFjdGl2ZScsIHNlbGYuaXNGb2N1c2VkICYmICFzZWxmLmlzSW5wdXRIaWRkZW4pXHJcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCdkcm9wZG93bi1hY3RpdmUnLCBzZWxmLmlzT3BlbilcclxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoJ2hhcy1vcHRpb25zJywgISQuaXNFbXB0eU9iamVjdChzZWxmLm9wdGlvbnMpKVxyXG5cdFx0XHRcdC50b2dnbGVDbGFzcygnaGFzLWl0ZW1zJywgc2VsZi5pdGVtcy5sZW5ndGggPiAwKTtcclxuXHJcblx0XHRcdHNlbGYuJGNvbnRyb2xfaW5wdXQuZGF0YSgnZ3JvdycsICFpc0Z1bGwgJiYgIWlzTG9ja2VkKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IG1vcmUgaXRlbXMgY2FuIGJlIGFkZGVkXHJcblx0XHQgKiB0byB0aGUgY29udHJvbCB3aXRob3V0IGV4Y2VlZGluZyB0aGUgdXNlci1kZWZpbmVkIG1heGltdW0uXHJcblx0XHQgKlxyXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XHJcblx0XHQgKi9cclxuXHRcdGlzRnVsbDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnNldHRpbmdzLm1heEl0ZW1zICE9PSBudWxsICYmIHRoaXMuaXRlbXMubGVuZ3RoID49IHRoaXMuc2V0dGluZ3MubWF4SXRlbXM7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVmcmVzaGVzIHRoZSBvcmlnaW5hbCA8c2VsZWN0PiBvciA8aW5wdXQ+XHJcblx0XHQgKiBlbGVtZW50IHRvIHJlZmxlY3QgdGhlIGN1cnJlbnQgc3RhdGUuXHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZU9yaWdpbmFsSW5wdXQ6IGZ1bmN0aW9uKG9wdHMpIHtcclxuXHRcdFx0dmFyIGksIG4sIG9wdGlvbnMsIGxhYmVsLCBzZWxmID0gdGhpcztcclxuXHRcdFx0b3B0cyA9IG9wdHMgfHwge307XHJcblxyXG5cdFx0XHRpZiAoc2VsZi50YWdUeXBlID09PSBUQUdfU0VMRUNUKSB7XHJcblx0XHRcdFx0b3B0aW9ucyA9IFtdO1xyXG5cdFx0XHRcdGZvciAoaSA9IDAsIG4gPSBzZWxmLml0ZW1zLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdFx0bGFiZWwgPSBzZWxmLm9wdGlvbnNbc2VsZi5pdGVtc1tpXV1bc2VsZi5zZXR0aW5ncy5sYWJlbEZpZWxkXSB8fCAnJztcclxuXHRcdFx0XHRcdG9wdGlvbnMucHVzaCgnPG9wdGlvbiB2YWx1ZT1cIicgKyBlc2NhcGVfaHRtbChzZWxmLml0ZW1zW2ldKSArICdcIiBzZWxlY3RlZD1cInNlbGVjdGVkXCI+JyArIGVzY2FwZV9odG1sKGxhYmVsKSArICc8L29wdGlvbj4nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKCFvcHRpb25zLmxlbmd0aCAmJiAhdGhpcy4kaW5wdXQuYXR0cignbXVsdGlwbGUnKSkge1xyXG5cdFx0XHRcdFx0b3B0aW9ucy5wdXNoKCc8b3B0aW9uIHZhbHVlPVwiXCIgc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiPjwvb3B0aW9uPicpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzZWxmLiRpbnB1dC5odG1sKG9wdGlvbnMuam9pbignJykpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHNlbGYuJGlucHV0LnZhbChzZWxmLmdldFZhbHVlKCkpO1xyXG5cdFx0XHRcdHNlbGYuJGlucHV0LmF0dHIoJ3ZhbHVlJyxzZWxmLiRpbnB1dC52YWwoKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChzZWxmLmlzU2V0dXApIHtcclxuXHRcdFx0XHRpZiAoIW9wdHMuc2lsZW50KSB7XHJcblx0XHRcdFx0XHRzZWxmLnRyaWdnZXIoJ2NoYW5nZScsIHNlbGYuJGlucHV0LnZhbCgpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTaG93cy9oaWRlIHRoZSBpbnB1dCBwbGFjZWhvbGRlciBkZXBlbmRpbmdcclxuXHRcdCAqIG9uIGlmIHRoZXJlIGl0ZW1zIGluIHRoZSBsaXN0IGFscmVhZHkuXHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZVBsYWNlaG9sZGVyOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKCF0aGlzLnNldHRpbmdzLnBsYWNlaG9sZGVyKSByZXR1cm47XHJcblx0XHRcdHZhciAkaW5wdXQgPSB0aGlzLiRjb250cm9sX2lucHV0O1xyXG5cclxuXHRcdFx0aWYgKHRoaXMuaXRlbXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0JGlucHV0LnJlbW92ZUF0dHIoJ3BsYWNlaG9sZGVyJyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JGlucHV0LmF0dHIoJ3BsYWNlaG9sZGVyJywgdGhpcy5zZXR0aW5ncy5wbGFjZWhvbGRlcik7XHJcblx0XHRcdH1cclxuXHRcdFx0JGlucHV0LnRyaWdnZXJIYW5kbGVyKCd1cGRhdGUnLCB7Zm9yY2U6IHRydWV9KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTaG93cyB0aGUgYXV0b2NvbXBsZXRlIGRyb3Bkb3duIGNvbnRhaW5pbmdcclxuXHRcdCAqIHRoZSBhdmFpbGFibGUgb3B0aW9ucy5cclxuXHRcdCAqL1xyXG5cdFx0b3BlbjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdGlmIChzZWxmLmlzTG9ja2VkIHx8IHNlbGYuaXNPcGVuIHx8IChzZWxmLnNldHRpbmdzLm1vZGUgPT09ICdtdWx0aScgJiYgc2VsZi5pc0Z1bGwoKSkpIHJldHVybjtcclxuXHRcdFx0c2VsZi5mb2N1cygpO1xyXG5cdFx0XHRzZWxmLmlzT3BlbiA9IHRydWU7XHJcblx0XHRcdHNlbGYucmVmcmVzaFN0YXRlKCk7XHJcblx0XHRcdHNlbGYuJGRyb3Bkb3duLmNzcyh7dmlzaWJpbGl0eTogJ2hpZGRlbicsIGRpc3BsYXk6ICdibG9jayd9KTtcclxuXHRcdFx0c2VsZi5wb3NpdGlvbkRyb3Bkb3duKCk7XHJcblx0XHRcdHNlbGYuJGRyb3Bkb3duLmNzcyh7dmlzaWJpbGl0eTogJ3Zpc2libGUnfSk7XHJcblx0XHRcdHNlbGYudHJpZ2dlcignZHJvcGRvd25fb3BlbicsIHNlbGYuJGRyb3Bkb3duKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDbG9zZXMgdGhlIGF1dG9jb21wbGV0ZSBkcm9wZG93biBtZW51LlxyXG5cdFx0ICovXHJcblx0XHRjbG9zZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0dmFyIHRyaWdnZXIgPSBzZWxmLmlzT3BlbjtcclxuXHJcblx0XHRcdGlmIChzZWxmLnNldHRpbmdzLm1vZGUgPT09ICdzaW5nbGUnICYmIHNlbGYuaXRlbXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0c2VsZi5oaWRlSW5wdXQoKTtcclxuXHRcdFx0XHRzZWxmLiRjb250cm9sX2lucHV0LmJsdXIoKTsgLy8gY2xvc2Uga2V5Ym9hcmQgb24gaU9TXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNlbGYuaXNPcGVuID0gZmFsc2U7XHJcblx0XHRcdHNlbGYuJGRyb3Bkb3duLmhpZGUoKTtcclxuXHRcdFx0c2VsZi5zZXRBY3RpdmVPcHRpb24obnVsbCk7XHJcblx0XHRcdHNlbGYucmVmcmVzaFN0YXRlKCk7XHJcblxyXG5cdFx0XHRpZiAodHJpZ2dlcikgc2VsZi50cmlnZ2VyKCdkcm9wZG93bl9jbG9zZScsIHNlbGYuJGRyb3Bkb3duKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDYWxjdWxhdGVzIGFuZCBhcHBsaWVzIHRoZSBhcHByb3ByaWF0ZVxyXG5cdFx0ICogcG9zaXRpb24gb2YgdGhlIGRyb3Bkb3duLlxyXG5cdFx0ICovXHJcblx0XHRwb3NpdGlvbkRyb3Bkb3duOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyICRjb250cm9sID0gdGhpcy4kY29udHJvbDtcclxuXHRcdFx0dmFyIG9mZnNldCA9IHRoaXMuc2V0dGluZ3MuZHJvcGRvd25QYXJlbnQgPT09ICdib2R5JyA/ICRjb250cm9sLm9mZnNldCgpIDogJGNvbnRyb2wucG9zaXRpb24oKTtcclxuXHRcdFx0b2Zmc2V0LnRvcCArPSAkY29udHJvbC5vdXRlckhlaWdodCh0cnVlKTtcclxuXHJcblx0XHRcdHRoaXMuJGRyb3Bkb3duLmNzcyh7XHJcblx0XHRcdFx0d2lkdGggOiAkY29udHJvbC5vdXRlcldpZHRoKCksXHJcblx0XHRcdFx0dG9wICAgOiBvZmZzZXQudG9wLFxyXG5cdFx0XHRcdGxlZnQgIDogb2Zmc2V0LmxlZnRcclxuXHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVzZXRzIC8gY2xlYXJzIGFsbCBzZWxlY3RlZCBpdGVtc1xyXG5cdFx0ICogZnJvbSB0aGUgY29udHJvbC5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IHNpbGVudFxyXG5cdFx0ICovXHJcblx0XHRjbGVhcjogZnVuY3Rpb24oc2lsZW50KSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdGlmICghc2VsZi5pdGVtcy5sZW5ndGgpIHJldHVybjtcclxuXHRcdFx0c2VsZi4kY29udHJvbC5jaGlsZHJlbignOm5vdChpbnB1dCknKS5yZW1vdmUoKTtcclxuXHRcdFx0c2VsZi5pdGVtcyA9IFtdO1xyXG5cdFx0XHRzZWxmLmxhc3RRdWVyeSA9IG51bGw7XHJcblx0XHRcdHNlbGYuc2V0Q2FyZXQoMCk7XHJcblx0XHRcdHNlbGYuc2V0QWN0aXZlSXRlbShudWxsKTtcclxuXHRcdFx0c2VsZi51cGRhdGVQbGFjZWhvbGRlcigpO1xyXG5cdFx0XHRzZWxmLnVwZGF0ZU9yaWdpbmFsSW5wdXQoe3NpbGVudDogc2lsZW50fSk7XHJcblx0XHRcdHNlbGYucmVmcmVzaFN0YXRlKCk7XHJcblx0XHRcdHNlbGYuc2hvd0lucHV0KCk7XHJcblx0XHRcdHNlbGYudHJpZ2dlcignY2xlYXInKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBIGhlbHBlciBtZXRob2QgZm9yIGluc2VydGluZyBhbiBlbGVtZW50XHJcblx0XHQgKiBhdCB0aGUgY3VycmVudCBjYXJldCBwb3NpdGlvbi5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gJGVsXHJcblx0XHQgKi9cclxuXHRcdGluc2VydEF0Q2FyZXQ6IGZ1bmN0aW9uKCRlbCkge1xyXG5cdFx0XHR2YXIgY2FyZXQgPSBNYXRoLm1pbih0aGlzLmNhcmV0UG9zLCB0aGlzLml0ZW1zLmxlbmd0aCk7XHJcblx0XHRcdGlmIChjYXJldCA9PT0gMCkge1xyXG5cdFx0XHRcdHRoaXMuJGNvbnRyb2wucHJlcGVuZCgkZWwpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCQodGhpcy4kY29udHJvbFswXS5jaGlsZE5vZGVzW2NhcmV0XSkuYmVmb3JlKCRlbCk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5zZXRDYXJldChjYXJldCArIDEpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZXMgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgaXRlbShzKS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZSAob3B0aW9uYWwpXHJcblx0XHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuXHRcdCAqL1xyXG5cdFx0ZGVsZXRlU2VsZWN0aW9uOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHZhciBpLCBuLCBkaXJlY3Rpb24sIHNlbGVjdGlvbiwgdmFsdWVzLCBjYXJldCwgb3B0aW9uX3NlbGVjdCwgJG9wdGlvbl9zZWxlY3QsICR0YWlsO1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHRkaXJlY3Rpb24gPSAoZSAmJiBlLmtleUNvZGUgPT09IEtFWV9CQUNLU1BBQ0UpID8gLTEgOiAxO1xyXG5cdFx0XHRzZWxlY3Rpb24gPSBnZXRTZWxlY3Rpb24oc2VsZi4kY29udHJvbF9pbnB1dFswXSk7XHJcblxyXG5cdFx0XHRpZiAoc2VsZi4kYWN0aXZlT3B0aW9uICYmICFzZWxmLnNldHRpbmdzLmhpZGVTZWxlY3RlZCkge1xyXG5cdFx0XHRcdG9wdGlvbl9zZWxlY3QgPSBzZWxmLmdldEFkamFjZW50T3B0aW9uKHNlbGYuJGFjdGl2ZU9wdGlvbiwgLTEpLmF0dHIoJ2RhdGEtdmFsdWUnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZGV0ZXJtaW5lIGl0ZW1zIHRoYXQgd2lsbCBiZSByZW1vdmVkXHJcblx0XHRcdHZhbHVlcyA9IFtdO1xyXG5cclxuXHRcdFx0aWYgKHNlbGYuJGFjdGl2ZUl0ZW1zLmxlbmd0aCkge1xyXG5cdFx0XHRcdCR0YWlsID0gc2VsZi4kY29udHJvbC5jaGlsZHJlbignLmFjdGl2ZTonICsgKGRpcmVjdGlvbiA+IDAgPyAnbGFzdCcgOiAnZmlyc3QnKSk7XHJcblx0XHRcdFx0Y2FyZXQgPSBzZWxmLiRjb250cm9sLmNoaWxkcmVuKCc6bm90KGlucHV0KScpLmluZGV4KCR0YWlsKTtcclxuXHRcdFx0XHRpZiAoZGlyZWN0aW9uID4gMCkgeyBjYXJldCsrOyB9XHJcblxyXG5cdFx0XHRcdGZvciAoaSA9IDAsIG4gPSBzZWxmLiRhY3RpdmVJdGVtcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRcdHZhbHVlcy5wdXNoKCQoc2VsZi4kYWN0aXZlSXRlbXNbaV0pLmF0dHIoJ2RhdGEtdmFsdWUnKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChlKSB7XHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmICgoc2VsZi5pc0ZvY3VzZWQgfHwgc2VsZi5zZXR0aW5ncy5tb2RlID09PSAnc2luZ2xlJykgJiYgc2VsZi5pdGVtcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRpZiAoZGlyZWN0aW9uIDwgMCAmJiBzZWxlY3Rpb24uc3RhcnQgPT09IDAgJiYgc2VsZWN0aW9uLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRcdFx0dmFsdWVzLnB1c2goc2VsZi5pdGVtc1tzZWxmLmNhcmV0UG9zIC0gMV0pO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoZGlyZWN0aW9uID4gMCAmJiBzZWxlY3Rpb24uc3RhcnQgPT09IHNlbGYuJGNvbnRyb2xfaW5wdXQudmFsKCkubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHR2YWx1ZXMucHVzaChzZWxmLml0ZW1zW3NlbGYuY2FyZXRQb3NdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGFsbG93IHRoZSBjYWxsYmFjayB0byBhYm9ydFxyXG5cdFx0XHRpZiAoIXZhbHVlcy5sZW5ndGggfHwgKHR5cGVvZiBzZWxmLnNldHRpbmdzLm9uRGVsZXRlID09PSAnZnVuY3Rpb24nICYmIHNlbGYuc2V0dGluZ3Mub25EZWxldGUuYXBwbHkoc2VsZiwgW3ZhbHVlc10pID09PSBmYWxzZSkpIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHBlcmZvcm0gcmVtb3ZhbFxyXG5cdFx0XHRpZiAodHlwZW9mIGNhcmV0ICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdHNlbGYuc2V0Q2FyZXQoY2FyZXQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHdoaWxlICh2YWx1ZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0c2VsZi5yZW1vdmVJdGVtKHZhbHVlcy5wb3AoKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNlbGYuc2hvd0lucHV0KCk7XHJcblx0XHRcdHNlbGYucG9zaXRpb25Ecm9wZG93bigpO1xyXG5cdFx0XHRzZWxmLnJlZnJlc2hPcHRpb25zKHRydWUpO1xyXG5cclxuXHRcdFx0Ly8gc2VsZWN0IHByZXZpb3VzIG9wdGlvblxyXG5cdFx0XHRpZiAob3B0aW9uX3NlbGVjdCkge1xyXG5cdFx0XHRcdCRvcHRpb25fc2VsZWN0ID0gc2VsZi5nZXRPcHRpb24ob3B0aW9uX3NlbGVjdCk7XHJcblx0XHRcdFx0aWYgKCRvcHRpb25fc2VsZWN0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0c2VsZi5zZXRBY3RpdmVPcHRpb24oJG9wdGlvbl9zZWxlY3QpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2VsZWN0cyB0aGUgcHJldmlvdXMgLyBuZXh0IGl0ZW0gKGRlcGVuZGluZ1xyXG5cdFx0ICogb24gdGhlIGBkaXJlY3Rpb25gIGFyZ3VtZW50KS5cclxuXHRcdCAqXHJcblx0XHQgKiA+IDAgLSByaWdodFxyXG5cdFx0ICogPCAwIC0gbGVmdFxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB7aW50fSBkaXJlY3Rpb25cclxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlIChvcHRpb25hbClcclxuXHRcdCAqL1xyXG5cdFx0YWR2YW5jZVNlbGVjdGlvbjogZnVuY3Rpb24oZGlyZWN0aW9uLCBlKSB7XHJcblx0XHRcdHZhciB0YWlsLCBzZWxlY3Rpb24sIGlkeCwgdmFsdWVMZW5ndGgsIGN1cnNvckF0RWRnZSwgJHRhaWw7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdGlmIChkaXJlY3Rpb24gPT09IDApIHJldHVybjtcclxuXHRcdFx0aWYgKHNlbGYucnRsKSBkaXJlY3Rpb24gKj0gLTE7XHJcblxyXG5cdFx0XHR0YWlsID0gZGlyZWN0aW9uID4gMCA/ICdsYXN0JyA6ICdmaXJzdCc7XHJcblx0XHRcdHNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbihzZWxmLiRjb250cm9sX2lucHV0WzBdKTtcclxuXHJcblx0XHRcdGlmIChzZWxmLmlzRm9jdXNlZCAmJiAhc2VsZi5pc0lucHV0SGlkZGVuKSB7XHJcblx0XHRcdFx0dmFsdWVMZW5ndGggPSBzZWxmLiRjb250cm9sX2lucHV0LnZhbCgpLmxlbmd0aDtcclxuXHRcdFx0XHRjdXJzb3JBdEVkZ2UgPSBkaXJlY3Rpb24gPCAwXHJcblx0XHRcdFx0XHQ/IHNlbGVjdGlvbi5zdGFydCA9PT0gMCAmJiBzZWxlY3Rpb24ubGVuZ3RoID09PSAwXHJcblx0XHRcdFx0XHQ6IHNlbGVjdGlvbi5zdGFydCA9PT0gdmFsdWVMZW5ndGg7XHJcblxyXG5cdFx0XHRcdGlmIChjdXJzb3JBdEVkZ2UgJiYgIXZhbHVlTGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRzZWxmLmFkdmFuY2VDYXJldChkaXJlY3Rpb24sIGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkdGFpbCA9IHNlbGYuJGNvbnRyb2wuY2hpbGRyZW4oJy5hY3RpdmU6JyArIHRhaWwpO1xyXG5cdFx0XHRcdGlmICgkdGFpbC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGlkeCA9IHNlbGYuJGNvbnRyb2wuY2hpbGRyZW4oJzpub3QoaW5wdXQpJykuaW5kZXgoJHRhaWwpO1xyXG5cdFx0XHRcdFx0c2VsZi5zZXRBY3RpdmVJdGVtKG51bGwpO1xyXG5cdFx0XHRcdFx0c2VsZi5zZXRDYXJldChkaXJlY3Rpb24gPiAwID8gaWR4ICsgMSA6IGlkeCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogTW92ZXMgdGhlIGNhcmV0IGxlZnQgLyByaWdodC5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge2ludH0gZGlyZWN0aW9uXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZSAob3B0aW9uYWwpXHJcblx0XHQgKi9cclxuXHRcdGFkdmFuY2VDYXJldDogZnVuY3Rpb24oZGlyZWN0aW9uLCBlKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcywgZm4sICRhZGo7XHJcblxyXG5cdFx0XHRpZiAoZGlyZWN0aW9uID09PSAwKSByZXR1cm47XHJcblxyXG5cdFx0XHRmbiA9IGRpcmVjdGlvbiA+IDAgPyAnbmV4dCcgOiAncHJldic7XHJcblx0XHRcdGlmIChzZWxmLmlzU2hpZnREb3duKSB7XHJcblx0XHRcdFx0JGFkaiA9IHNlbGYuJGNvbnRyb2xfaW5wdXRbZm5dKCk7XHJcblx0XHRcdFx0aWYgKCRhZGoubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRzZWxmLmhpZGVJbnB1dCgpO1xyXG5cdFx0XHRcdFx0c2VsZi5zZXRBY3RpdmVJdGVtKCRhZGopO1xyXG5cdFx0XHRcdFx0ZSAmJiBlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHNlbGYuc2V0Q2FyZXQoc2VsZi5jYXJldFBvcyArIGRpcmVjdGlvbik7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBNb3ZlcyB0aGUgY2FyZXQgdG8gdGhlIHNwZWNpZmllZCBpbmRleC5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge2ludH0gaVxyXG5cdFx0ICovXHJcblx0XHRzZXRDYXJldDogZnVuY3Rpb24oaSkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5tb2RlID09PSAnc2luZ2xlJykge1xyXG5cdFx0XHRcdGkgPSBzZWxmLml0ZW1zLmxlbmd0aDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oc2VsZi5pdGVtcy5sZW5ndGgsIGkpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYoIXNlbGYuaXNQZW5kaW5nKSB7XHJcblx0XHRcdFx0Ly8gdGhlIGlucHV0IG11c3QgYmUgbW92ZWQgYnkgbGVhdmluZyBpdCBpbiBwbGFjZSBhbmQgbW92aW5nIHRoZVxyXG5cdFx0XHRcdC8vIHNpYmxpbmdzLCBkdWUgdG8gdGhlIGZhY3QgdGhhdCBmb2N1cyBjYW5ub3QgYmUgcmVzdG9yZWQgb25jZSBsb3N0XHJcblx0XHRcdFx0Ly8gb24gbW9iaWxlIHdlYmtpdCBkZXZpY2VzXHJcblx0XHRcdFx0dmFyIGosIG4sIGZuLCAkY2hpbGRyZW4sICRjaGlsZDtcclxuXHRcdFx0XHQkY2hpbGRyZW4gPSBzZWxmLiRjb250cm9sLmNoaWxkcmVuKCc6bm90KGlucHV0KScpO1xyXG5cdFx0XHRcdGZvciAoaiA9IDAsIG4gPSAkY2hpbGRyZW4ubGVuZ3RoOyBqIDwgbjsgaisrKSB7XHJcblx0XHRcdFx0XHQkY2hpbGQgPSAkKCRjaGlsZHJlbltqXSkuZGV0YWNoKCk7XHJcblx0XHRcdFx0XHRpZiAoaiA8ICBpKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYuJGNvbnRyb2xfaW5wdXQuYmVmb3JlKCRjaGlsZCk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRzZWxmLiRjb250cm9sLmFwcGVuZCgkY2hpbGQpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c2VsZi5jYXJldFBvcyA9IGk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRGlzYWJsZXMgdXNlciBpbnB1dCBvbiB0aGUgY29udHJvbC4gVXNlZCB3aGlsZVxyXG5cdFx0ICogaXRlbXMgYXJlIGJlaW5nIGFzeW5jaHJvbm91c2x5IGNyZWF0ZWQuXHJcblx0XHQgKi9cclxuXHRcdGxvY2s6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLmNsb3NlKCk7XHJcblx0XHRcdHRoaXMuaXNMb2NrZWQgPSB0cnVlO1xyXG5cdFx0XHR0aGlzLnJlZnJlc2hTdGF0ZSgpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlLWVuYWJsZXMgdXNlciBpbnB1dCBvbiB0aGUgY29udHJvbC5cclxuXHRcdCAqL1xyXG5cdFx0dW5sb2NrOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5pc0xvY2tlZCA9IGZhbHNlO1xyXG5cdFx0XHR0aGlzLnJlZnJlc2hTdGF0ZSgpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIERpc2FibGVzIHVzZXIgaW5wdXQgb24gdGhlIGNvbnRyb2wgY29tcGxldGVseS5cclxuXHRcdCAqIFdoaWxlIGRpc2FibGVkLCBpdCBjYW5ub3QgcmVjZWl2ZSBmb2N1cy5cclxuXHRcdCAqL1xyXG5cdFx0ZGlzYWJsZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0c2VsZi4kaW5wdXQucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcclxuXHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dC5wcm9wKCdkaXNhYmxlZCcsIHRydWUpLnByb3AoJ3RhYmluZGV4JywgLTEpO1xyXG5cdFx0XHRzZWxmLmlzRGlzYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHRzZWxmLmxvY2soKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBFbmFibGVzIHRoZSBjb250cm9sIHNvIHRoYXQgaXQgY2FuIHJlc3BvbmRcclxuXHRcdCAqIHRvIGZvY3VzIGFuZCB1c2VyIGlucHV0LlxyXG5cdFx0ICovXHJcblx0XHRlbmFibGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdHNlbGYuJGlucHV0LnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG5cdFx0XHRzZWxmLiRjb250cm9sX2lucHV0LnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpLnByb3AoJ3RhYmluZGV4Jywgc2VsZi50YWJJbmRleCk7XHJcblx0XHRcdHNlbGYuaXNEaXNhYmxlZCA9IGZhbHNlO1xyXG5cdFx0XHRzZWxmLnVubG9jaygpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENvbXBsZXRlbHkgZGVzdHJveXMgdGhlIGNvbnRyb2wgYW5kXHJcblx0XHQgKiB1bmJpbmRzIGFsbCBldmVudCBsaXN0ZW5lcnMgc28gdGhhdCBpdCBjYW5cclxuXHRcdCAqIGJlIGdhcmJhZ2UgY29sbGVjdGVkLlxyXG5cdFx0ICovXHJcblx0XHRkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHR2YXIgZXZlbnROUyA9IHNlbGYuZXZlbnROUztcclxuXHRcdFx0dmFyIHJldmVydFNldHRpbmdzID0gc2VsZi5yZXZlcnRTZXR0aW5ncztcclxuXHJcblx0XHRcdHNlbGYudHJpZ2dlcignZGVzdHJveScpO1xyXG5cdFx0XHRzZWxmLm9mZigpO1xyXG5cdFx0XHRzZWxmLiR3cmFwcGVyLnJlbW92ZSgpO1xyXG5cdFx0XHRzZWxmLiRkcm9wZG93bi5yZW1vdmUoKTtcclxuXHJcblx0XHRcdHNlbGYuJGlucHV0XHJcblx0XHRcdFx0Lmh0bWwoJycpXHJcblx0XHRcdFx0LmFwcGVuZChyZXZlcnRTZXR0aW5ncy4kY2hpbGRyZW4pXHJcblx0XHRcdFx0LnJlbW92ZUF0dHIoJ3RhYmluZGV4JylcclxuXHRcdFx0XHQucmVtb3ZlQ2xhc3MoJ3NlbGVjdGl6ZWQnKVxyXG5cdFx0XHRcdC5hdHRyKHt0YWJpbmRleDogcmV2ZXJ0U2V0dGluZ3MudGFiaW5kZXh9KVxyXG5cdFx0XHRcdC5zaG93KCk7XHJcblxyXG5cdFx0XHRzZWxmLiRjb250cm9sX2lucHV0LnJlbW92ZURhdGEoJ2dyb3cnKTtcclxuXHRcdFx0c2VsZi4kaW5wdXQucmVtb3ZlRGF0YSgnc2VsZWN0aXplJyk7XHJcblxyXG5cdFx0XHQkKHdpbmRvdykub2ZmKGV2ZW50TlMpO1xyXG5cdFx0XHQkKGRvY3VtZW50KS5vZmYoZXZlbnROUyk7XHJcblx0XHRcdCQoZG9jdW1lbnQuYm9keSkub2ZmKGV2ZW50TlMpO1xyXG5cclxuXHRcdFx0ZGVsZXRlIHNlbGYuJGlucHV0WzBdLnNlbGVjdGl6ZTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBIGhlbHBlciBtZXRob2QgZm9yIHJlbmRlcmluZyBcIml0ZW1cIiBhbmRcclxuXHRcdCAqIFwib3B0aW9uXCIgdGVtcGxhdGVzLCBnaXZlbiB0aGUgZGF0YS5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGVOYW1lXHJcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZGF0YVxyXG5cdFx0ICogQHJldHVybnMge3N0cmluZ31cclxuXHRcdCAqL1xyXG5cdFx0cmVuZGVyOiBmdW5jdGlvbih0ZW1wbGF0ZU5hbWUsIGRhdGEpIHtcclxuXHRcdFx0dmFyIHZhbHVlLCBpZCwgbGFiZWw7XHJcblx0XHRcdHZhciBodG1sID0gJyc7XHJcblx0XHRcdHZhciBjYWNoZSA9IGZhbHNlO1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdHZhciByZWdleF90YWcgPSAvXltcXHQgXFxyXFxuXSo8KFthLXpdW2EtejAtOVxcLV9dKig/OlxcOlthLXpdW2EtejAtOVxcLV9dKik/KS9pO1xyXG5cclxuXHRcdFx0aWYgKHRlbXBsYXRlTmFtZSA9PT0gJ29wdGlvbicgfHwgdGVtcGxhdGVOYW1lID09PSAnaXRlbScpIHtcclxuXHRcdFx0XHR2YWx1ZSA9IGhhc2hfa2V5KGRhdGFbc2VsZi5zZXR0aW5ncy52YWx1ZUZpZWxkXSk7XHJcblx0XHRcdFx0Y2FjaGUgPSAhIXZhbHVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBwdWxsIG1hcmt1cCBmcm9tIGNhY2hlIGlmIGl0IGV4aXN0c1xyXG5cdFx0XHRpZiAoY2FjaGUpIHtcclxuXHRcdFx0XHRpZiAoIWlzc2V0KHNlbGYucmVuZGVyQ2FjaGVbdGVtcGxhdGVOYW1lXSkpIHtcclxuXHRcdFx0XHRcdHNlbGYucmVuZGVyQ2FjaGVbdGVtcGxhdGVOYW1lXSA9IHt9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoc2VsZi5yZW5kZXJDYWNoZVt0ZW1wbGF0ZU5hbWVdLmhhc093blByb3BlcnR5KHZhbHVlKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHNlbGYucmVuZGVyQ2FjaGVbdGVtcGxhdGVOYW1lXVt2YWx1ZV07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyByZW5kZXIgbWFya3VwXHJcblx0XHRcdGh0bWwgPSAkKHNlbGYuc2V0dGluZ3MucmVuZGVyW3RlbXBsYXRlTmFtZV0uYXBwbHkodGhpcywgW2RhdGEsIGVzY2FwZV9odG1sXSkpO1xyXG5cclxuXHRcdFx0Ly8gYWRkIG1hbmRhdG9yeSBhdHRyaWJ1dGVzXHJcblx0XHRcdGlmICh0ZW1wbGF0ZU5hbWUgPT09ICdvcHRpb24nIHx8IHRlbXBsYXRlTmFtZSA9PT0gJ29wdGlvbl9jcmVhdGUnKSB7XHJcblx0XHRcdFx0aHRtbC5hdHRyKCdkYXRhLXNlbGVjdGFibGUnLCAnJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZiAodGVtcGxhdGVOYW1lID09PSAnb3B0Z3JvdXAnKSB7XHJcblx0XHRcdFx0aWQgPSBkYXRhW3NlbGYuc2V0dGluZ3Mub3B0Z3JvdXBWYWx1ZUZpZWxkXSB8fCAnJztcclxuXHRcdFx0XHRodG1sLmF0dHIoJ2RhdGEtZ3JvdXAnLCBpZCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRlbXBsYXRlTmFtZSA9PT0gJ29wdGlvbicgfHwgdGVtcGxhdGVOYW1lID09PSAnaXRlbScpIHtcclxuXHRcdFx0XHRodG1sLmF0dHIoJ2RhdGEtdmFsdWUnLCB2YWx1ZSB8fCAnJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHVwZGF0ZSBjYWNoZVxyXG5cdFx0XHRpZiAoY2FjaGUpIHtcclxuXHRcdFx0XHRzZWxmLnJlbmRlckNhY2hlW3RlbXBsYXRlTmFtZV1bdmFsdWVdID0gaHRtbFswXTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIGh0bWxbMF07XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2xlYXJzIHRoZSByZW5kZXIgY2FjaGUgZm9yIGEgdGVtcGxhdGUuIElmXHJcblx0XHQgKiBubyB0ZW1wbGF0ZSBpcyBnaXZlbiwgY2xlYXJzIGFsbCByZW5kZXJcclxuXHRcdCAqIGNhY2hlcy5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGVOYW1lXHJcblx0XHQgKi9cclxuXHRcdGNsZWFyQ2FjaGU6IGZ1bmN0aW9uKHRlbXBsYXRlTmFtZSkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRcdGlmICh0eXBlb2YgdGVtcGxhdGVOYW1lID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdHNlbGYucmVuZGVyQ2FjaGUgPSB7fTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRkZWxldGUgc2VsZi5yZW5kZXJDYWNoZVt0ZW1wbGF0ZU5hbWVdO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCB0byBkaXNwbGF5IHRoZVxyXG5cdFx0ICogY3JlYXRlIGl0ZW0gcHJvbXB0LCBnaXZlbiBhIHVzZXIgaW5wdXQuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGlucHV0XHJcblx0XHQgKiBAcmV0dXJuIHtib29sZWFufVxyXG5cdFx0ICovXHJcblx0XHRjYW5DcmVhdGU6IGZ1bmN0aW9uKGlucHV0KSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0aWYgKCFzZWxmLnNldHRpbmdzLmNyZWF0ZSkgcmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR2YXIgZmlsdGVyID0gc2VsZi5zZXR0aW5ncy5jcmVhdGVGaWx0ZXI7XHJcblx0XHRcdHJldHVybiBpbnB1dC5sZW5ndGhcclxuXHRcdFx0XHQmJiAodHlwZW9mIGZpbHRlciAhPT0gJ2Z1bmN0aW9uJyB8fCBmaWx0ZXIuYXBwbHkoc2VsZiwgW2lucHV0XSkpXHJcblx0XHRcdFx0JiYgKHR5cGVvZiBmaWx0ZXIgIT09ICdzdHJpbmcnIHx8IG5ldyBSZWdFeHAoZmlsdGVyKS50ZXN0KGlucHV0KSlcclxuXHRcdFx0XHQmJiAoIShmaWx0ZXIgaW5zdGFuY2VvZiBSZWdFeHApIHx8IGZpbHRlci50ZXN0KGlucHV0KSk7XHJcblx0XHR9XHJcblxyXG5cdH0pO1xyXG5cclxuXHJcblx0U2VsZWN0aXplLmNvdW50ID0gMDtcclxuXHRTZWxlY3RpemUuZGVmYXVsdHMgPSB7XHJcblx0XHRvcHRpb25zOiBbXSxcclxuXHRcdG9wdGdyb3VwczogW10sXHJcblxyXG5cdFx0cGx1Z2luczogW10sXHJcblx0XHRkZWxpbWl0ZXI6ICcsJyxcclxuXHRcdHNwbGl0T246IG51bGwsIC8vIHJlZ2V4cCBvciBzdHJpbmcgZm9yIHNwbGl0dGluZyB1cCB2YWx1ZXMgZnJvbSBhIHBhc3RlIGNvbW1hbmRcclxuXHRcdHBlcnNpc3Q6IHRydWUsXHJcblx0XHRkaWFjcml0aWNzOiB0cnVlLFxyXG5cdFx0Y3JlYXRlOiBmYWxzZSxcclxuXHRcdGNyZWF0ZU9uQmx1cjogZmFsc2UsXHJcblx0XHRjcmVhdGVGaWx0ZXI6IG51bGwsXHJcblx0XHRoaWdobGlnaHQ6IHRydWUsXHJcblx0XHRvcGVuT25Gb2N1czogdHJ1ZSxcclxuXHRcdG1heE9wdGlvbnM6IDEwMDAsXHJcblx0XHRtYXhJdGVtczogbnVsbCxcclxuXHRcdGhpZGVTZWxlY3RlZDogbnVsbCxcclxuXHRcdGFkZFByZWNlZGVuY2U6IGZhbHNlLFxyXG5cdFx0c2VsZWN0T25UYWI6IGZhbHNlLFxyXG5cdFx0cHJlbG9hZDogZmFsc2UsXHJcblx0XHRhbGxvd0VtcHR5T3B0aW9uOiBmYWxzZSxcclxuXHRcdGNsb3NlQWZ0ZXJTZWxlY3Q6IGZhbHNlLFxyXG5cclxuXHRcdHNjcm9sbER1cmF0aW9uOiA2MCxcclxuXHRcdGxvYWRUaHJvdHRsZTogMzAwLFxyXG5cdFx0bG9hZGluZ0NsYXNzOiAnbG9hZGluZycsXHJcblxyXG5cdFx0ZGF0YUF0dHI6ICdkYXRhLWRhdGEnLFxyXG5cdFx0b3B0Z3JvdXBGaWVsZDogJ29wdGdyb3VwJyxcclxuXHRcdHZhbHVlRmllbGQ6ICd2YWx1ZScsXHJcblx0XHRsYWJlbEZpZWxkOiAndGV4dCcsXHJcblx0XHRvcHRncm91cExhYmVsRmllbGQ6ICdsYWJlbCcsXHJcblx0XHRvcHRncm91cFZhbHVlRmllbGQ6ICd2YWx1ZScsXHJcblx0XHRsb2NrT3B0Z3JvdXBPcmRlcjogZmFsc2UsXHJcblxyXG5cdFx0c29ydEZpZWxkOiAnJG9yZGVyJyxcclxuXHRcdHNlYXJjaEZpZWxkOiBbJ3RleHQnXSxcclxuXHRcdHNlYXJjaENvbmp1bmN0aW9uOiAnYW5kJyxcclxuXHJcblx0XHRtb2RlOiBudWxsLFxyXG5cdFx0d3JhcHBlckNsYXNzOiAnc2VsZWN0aXplLWNvbnRyb2wnLFxyXG5cdFx0aW5wdXRDbGFzczogJ3NlbGVjdGl6ZS1pbnB1dCcsXHJcblx0XHRkcm9wZG93bkNsYXNzOiAnc2VsZWN0aXplLWRyb3Bkb3duJyxcclxuXHRcdGRyb3Bkb3duQ29udGVudENsYXNzOiAnc2VsZWN0aXplLWRyb3Bkb3duLWNvbnRlbnQnLFxyXG5cclxuXHRcdGRyb3Bkb3duUGFyZW50OiBudWxsLFxyXG5cclxuXHRcdGNvcHlDbGFzc2VzVG9Ecm9wZG93bjogdHJ1ZSxcclxuXHJcblx0XHQvKlxyXG5cdFx0bG9hZCAgICAgICAgICAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbihxdWVyeSwgY2FsbGJhY2spIHsgLi4uIH1cclxuXHRcdHNjb3JlICAgICAgICAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24oc2VhcmNoKSB7IC4uLiB9XHJcblx0XHRvbkluaXRpYWxpemUgICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKCkgeyAuLi4gfVxyXG5cdFx0b25DaGFuZ2UgICAgICAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbih2YWx1ZSkgeyAuLi4gfVxyXG5cdFx0b25JdGVtQWRkICAgICAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbih2YWx1ZSwgJGl0ZW0pIHsgLi4uIH1cclxuXHRcdG9uSXRlbVJlbW92ZSAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24odmFsdWUpIHsgLi4uIH1cclxuXHRcdG9uQ2xlYXIgICAgICAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24oKSB7IC4uLiB9XHJcblx0XHRvbk9wdGlvbkFkZCAgICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKHZhbHVlLCBkYXRhKSB7IC4uLiB9XHJcblx0XHRvbk9wdGlvblJlbW92ZSAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKHZhbHVlKSB7IC4uLiB9XHJcblx0XHRvbk9wdGlvbkNsZWFyICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKCkgeyAuLi4gfVxyXG5cdFx0b25PcHRpb25Hcm91cEFkZCAgICAgOiBudWxsLCAvLyBmdW5jdGlvbihpZCwgZGF0YSkgeyAuLi4gfVxyXG5cdFx0b25PcHRpb25Hcm91cFJlbW92ZSAgOiBudWxsLCAvLyBmdW5jdGlvbihpZCkgeyAuLi4gfVxyXG5cdFx0b25PcHRpb25Hcm91cENsZWFyICAgOiBudWxsLCAvLyBmdW5jdGlvbigpIHsgLi4uIH1cclxuXHRcdG9uRHJvcGRvd25PcGVuICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24oJGRyb3Bkb3duKSB7IC4uLiB9XHJcblx0XHRvbkRyb3Bkb3duQ2xvc2UgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKCRkcm9wZG93bikgeyAuLi4gfVxyXG5cdFx0b25UeXBlICAgICAgICAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbihzdHIpIHsgLi4uIH1cclxuXHRcdG9uRGVsZXRlICAgICAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24odmFsdWVzKSB7IC4uLiB9XHJcblx0XHQqL1xyXG5cclxuXHRcdHJlbmRlcjoge1xyXG5cdFx0XHQvKlxyXG5cdFx0XHRpdGVtOiBudWxsLFxyXG5cdFx0XHRvcHRncm91cDogbnVsbCxcclxuXHRcdFx0b3B0Z3JvdXBfaGVhZGVyOiBudWxsLFxyXG5cdFx0XHRvcHRpb246IG51bGwsXHJcblx0XHRcdG9wdGlvbl9jcmVhdGU6IG51bGxcclxuXHRcdFx0Ki9cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHJcblx0JC5mbi5zZWxlY3RpemUgPSBmdW5jdGlvbihzZXR0aW5nc191c2VyKSB7XHJcblx0XHR2YXIgZGVmYXVsdHMgICAgICAgICAgICAgPSAkLmZuLnNlbGVjdGl6ZS5kZWZhdWx0cztcclxuXHRcdHZhciBzZXR0aW5ncyAgICAgICAgICAgICA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgc2V0dGluZ3NfdXNlcik7XHJcblx0XHR2YXIgYXR0cl9kYXRhICAgICAgICAgICAgPSBzZXR0aW5ncy5kYXRhQXR0cjtcclxuXHRcdHZhciBmaWVsZF9sYWJlbCAgICAgICAgICA9IHNldHRpbmdzLmxhYmVsRmllbGQ7XHJcblx0XHR2YXIgZmllbGRfdmFsdWUgICAgICAgICAgPSBzZXR0aW5ncy52YWx1ZUZpZWxkO1xyXG5cdFx0dmFyIGZpZWxkX29wdGdyb3VwICAgICAgID0gc2V0dGluZ3Mub3B0Z3JvdXBGaWVsZDtcclxuXHRcdHZhciBmaWVsZF9vcHRncm91cF9sYWJlbCA9IHNldHRpbmdzLm9wdGdyb3VwTGFiZWxGaWVsZDtcclxuXHRcdHZhciBmaWVsZF9vcHRncm91cF92YWx1ZSA9IHNldHRpbmdzLm9wdGdyb3VwVmFsdWVGaWVsZDtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluaXRpYWxpemVzIHNlbGVjdGl6ZSBmcm9tIGEgPGlucHV0IHR5cGU9XCJ0ZXh0XCI+IGVsZW1lbnQuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9ICRpbnB1dFxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzX2VsZW1lbnRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGluaXRfdGV4dGJveCA9IGZ1bmN0aW9uKCRpbnB1dCwgc2V0dGluZ3NfZWxlbWVudCkge1xyXG5cdFx0XHR2YXIgaSwgbiwgdmFsdWVzLCBvcHRpb247XHJcblxyXG5cdFx0XHR2YXIgZGF0YV9yYXcgPSAkaW5wdXQuYXR0cihhdHRyX2RhdGEpO1xyXG5cclxuXHRcdFx0aWYgKCFkYXRhX3Jhdykge1xyXG5cdFx0XHRcdHZhciB2YWx1ZSA9ICQudHJpbSgkaW5wdXQudmFsKCkgfHwgJycpO1xyXG5cdFx0XHRcdGlmICghc2V0dGluZ3MuYWxsb3dFbXB0eU9wdGlvbiAmJiAhdmFsdWUubGVuZ3RoKSByZXR1cm47XHJcblx0XHRcdFx0dmFsdWVzID0gdmFsdWUuc3BsaXQoc2V0dGluZ3MuZGVsaW1pdGVyKTtcclxuXHRcdFx0XHRmb3IgKGkgPSAwLCBuID0gdmFsdWVzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdFx0b3B0aW9uID0ge307XHJcblx0XHRcdFx0XHRvcHRpb25bZmllbGRfbGFiZWxdID0gdmFsdWVzW2ldO1xyXG5cdFx0XHRcdFx0b3B0aW9uW2ZpZWxkX3ZhbHVlXSA9IHZhbHVlc1tpXTtcclxuXHRcdFx0XHRcdHNldHRpbmdzX2VsZW1lbnQub3B0aW9ucy5wdXNoKG9wdGlvbik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHNldHRpbmdzX2VsZW1lbnQuaXRlbXMgPSB2YWx1ZXM7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c2V0dGluZ3NfZWxlbWVudC5vcHRpb25zID0gSlNPTi5wYXJzZShkYXRhX3Jhdyk7XHJcblx0XHRcdFx0Zm9yIChpID0gMCwgbiA9IHNldHRpbmdzX2VsZW1lbnQub3B0aW9ucy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHRcdHNldHRpbmdzX2VsZW1lbnQuaXRlbXMucHVzaChzZXR0aW5nc19lbGVtZW50Lm9wdGlvbnNbaV1bZmllbGRfdmFsdWVdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbml0aWFsaXplcyBzZWxlY3RpemUgZnJvbSBhIDxzZWxlY3Q+IGVsZW1lbnQuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9ICRpbnB1dFxyXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzX2VsZW1lbnRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGluaXRfc2VsZWN0ID0gZnVuY3Rpb24oJGlucHV0LCBzZXR0aW5nc19lbGVtZW50KSB7XHJcblx0XHRcdHZhciBpLCBuLCB0YWdOYW1lLCAkY2hpbGRyZW4sIG9yZGVyID0gMDtcclxuXHRcdFx0dmFyIG9wdGlvbnMgPSBzZXR0aW5nc19lbGVtZW50Lm9wdGlvbnM7XHJcblx0XHRcdHZhciBvcHRpb25zTWFwID0ge307XHJcblxyXG5cdFx0XHR2YXIgcmVhZERhdGEgPSBmdW5jdGlvbigkZWwpIHtcclxuXHRcdFx0XHR2YXIgZGF0YSA9IGF0dHJfZGF0YSAmJiAkZWwuYXR0cihhdHRyX2RhdGEpO1xyXG5cdFx0XHRcdGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgJiYgZGF0YS5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHZhciBhZGRPcHRpb24gPSBmdW5jdGlvbigkb3B0aW9uLCBncm91cCkge1xyXG5cdFx0XHRcdCRvcHRpb24gPSAkKCRvcHRpb24pO1xyXG5cclxuXHRcdFx0XHR2YXIgdmFsdWUgPSBoYXNoX2tleSgkb3B0aW9uLnZhbCgpKTtcclxuXHRcdFx0XHRpZiAoIXZhbHVlICYmICFzZXR0aW5ncy5hbGxvd0VtcHR5T3B0aW9uKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdC8vIGlmIHRoZSBvcHRpb24gYWxyZWFkeSBleGlzdHMsIGl0J3MgcHJvYmFibHkgYmVlblxyXG5cdFx0XHRcdC8vIGR1cGxpY2F0ZWQgaW4gYW5vdGhlciBvcHRncm91cC4gaW4gdGhpcyBjYXNlLCBwdXNoXHJcblx0XHRcdFx0Ly8gdGhlIGN1cnJlbnQgZ3JvdXAgdG8gdGhlIFwib3B0Z3JvdXBcIiBwcm9wZXJ0eSBvbiB0aGVcclxuXHRcdFx0XHQvLyBleGlzdGluZyBvcHRpb24gc28gdGhhdCBpdCdzIHJlbmRlcmVkIGluIGJvdGggcGxhY2VzLlxyXG5cdFx0XHRcdGlmIChvcHRpb25zTWFwLmhhc093blByb3BlcnR5KHZhbHVlKSkge1xyXG5cdFx0XHRcdFx0aWYgKGdyb3VwKSB7XHJcblx0XHRcdFx0XHRcdHZhciBhcnIgPSBvcHRpb25zTWFwW3ZhbHVlXVtmaWVsZF9vcHRncm91cF07XHJcblx0XHRcdFx0XHRcdGlmICghYXJyKSB7XHJcblx0XHRcdFx0XHRcdFx0b3B0aW9uc01hcFt2YWx1ZV1bZmllbGRfb3B0Z3JvdXBdID0gZ3JvdXA7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoISQuaXNBcnJheShhcnIpKSB7XHJcblx0XHRcdFx0XHRcdFx0b3B0aW9uc01hcFt2YWx1ZV1bZmllbGRfb3B0Z3JvdXBdID0gW2FyciwgZ3JvdXBdO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGFyci5wdXNoKGdyb3VwKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0dmFyIG9wdGlvbiAgICAgICAgICAgICA9IHJlYWREYXRhKCRvcHRpb24pIHx8IHt9O1xyXG5cdFx0XHRcdG9wdGlvbltmaWVsZF9sYWJlbF0gICAgPSBvcHRpb25bZmllbGRfbGFiZWxdIHx8ICRvcHRpb24udGV4dCgpO1xyXG5cdFx0XHRcdG9wdGlvbltmaWVsZF92YWx1ZV0gICAgPSBvcHRpb25bZmllbGRfdmFsdWVdIHx8IHZhbHVlO1xyXG5cdFx0XHRcdG9wdGlvbltmaWVsZF9vcHRncm91cF0gPSBvcHRpb25bZmllbGRfb3B0Z3JvdXBdIHx8IGdyb3VwO1xyXG5cclxuXHRcdFx0XHRvcHRpb25zTWFwW3ZhbHVlXSA9IG9wdGlvbjtcclxuXHRcdFx0XHRvcHRpb25zLnB1c2gob3B0aW9uKTtcclxuXHJcblx0XHRcdFx0aWYgKCRvcHRpb24uaXMoJzpzZWxlY3RlZCcpKSB7XHJcblx0XHRcdFx0XHRzZXR0aW5nc19lbGVtZW50Lml0ZW1zLnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHZhciBhZGRHcm91cCA9IGZ1bmN0aW9uKCRvcHRncm91cCkge1xyXG5cdFx0XHRcdHZhciBpLCBuLCBpZCwgb3B0Z3JvdXAsICRvcHRpb25zO1xyXG5cclxuXHRcdFx0XHQkb3B0Z3JvdXAgPSAkKCRvcHRncm91cCk7XHJcblx0XHRcdFx0aWQgPSAkb3B0Z3JvdXAuYXR0cignbGFiZWwnKTtcclxuXHJcblx0XHRcdFx0aWYgKGlkKSB7XHJcblx0XHRcdFx0XHRvcHRncm91cCA9IHJlYWREYXRhKCRvcHRncm91cCkgfHwge307XHJcblx0XHRcdFx0XHRvcHRncm91cFtmaWVsZF9vcHRncm91cF9sYWJlbF0gPSBpZDtcclxuXHRcdFx0XHRcdG9wdGdyb3VwW2ZpZWxkX29wdGdyb3VwX3ZhbHVlXSA9IGlkO1xyXG5cdFx0XHRcdFx0c2V0dGluZ3NfZWxlbWVudC5vcHRncm91cHMucHVzaChvcHRncm91cCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQkb3B0aW9ucyA9ICQoJ29wdGlvbicsICRvcHRncm91cCk7XHJcblx0XHRcdFx0Zm9yIChpID0gMCwgbiA9ICRvcHRpb25zLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdFx0YWRkT3B0aW9uKCRvcHRpb25zW2ldLCBpZCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0c2V0dGluZ3NfZWxlbWVudC5tYXhJdGVtcyA9ICRpbnB1dC5hdHRyKCdtdWx0aXBsZScpID8gbnVsbCA6IDE7XHJcblxyXG5cdFx0XHQkY2hpbGRyZW4gPSAkaW5wdXQuY2hpbGRyZW4oKTtcclxuXHRcdFx0Zm9yIChpID0gMCwgbiA9ICRjaGlsZHJlbi5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0XHR0YWdOYW1lID0gJGNoaWxkcmVuW2ldLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcclxuXHRcdFx0XHRpZiAodGFnTmFtZSA9PT0gJ29wdGdyb3VwJykge1xyXG5cdFx0XHRcdFx0YWRkR3JvdXAoJGNoaWxkcmVuW2ldKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKHRhZ05hbWUgPT09ICdvcHRpb24nKSB7XHJcblx0XHRcdFx0XHRhZGRPcHRpb24oJGNoaWxkcmVuW2ldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKHRoaXMuc2VsZWN0aXplKSByZXR1cm47XHJcblxyXG5cdFx0XHR2YXIgaW5zdGFuY2U7XHJcblx0XHRcdHZhciAkaW5wdXQgPSAkKHRoaXMpO1xyXG5cdFx0XHR2YXIgdGFnX25hbWUgPSB0aGlzLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcclxuXHRcdFx0dmFyIHBsYWNlaG9sZGVyID0gJGlucHV0LmF0dHIoJ3BsYWNlaG9sZGVyJykgfHwgJGlucHV0LmF0dHIoJ2RhdGEtcGxhY2Vob2xkZXInKTtcclxuXHRcdFx0aWYgKCFwbGFjZWhvbGRlciAmJiAhc2V0dGluZ3MuYWxsb3dFbXB0eU9wdGlvbikge1xyXG5cdFx0XHRcdHBsYWNlaG9sZGVyID0gJGlucHV0LmNoaWxkcmVuKCdvcHRpb25bdmFsdWU9XCJcIl0nKS50ZXh0KCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBzZXR0aW5nc19lbGVtZW50ID0ge1xyXG5cdFx0XHRcdCdwbGFjZWhvbGRlcicgOiBwbGFjZWhvbGRlcixcclxuXHRcdFx0XHQnb3B0aW9ucycgICAgIDogW10sXHJcblx0XHRcdFx0J29wdGdyb3VwcycgICA6IFtdLFxyXG5cdFx0XHRcdCdpdGVtcycgICAgICAgOiBbXVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0aWYgKHRhZ19uYW1lID09PSAnc2VsZWN0Jykge1xyXG5cdFx0XHRcdGluaXRfc2VsZWN0KCRpbnB1dCwgc2V0dGluZ3NfZWxlbWVudCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aW5pdF90ZXh0Ym94KCRpbnB1dCwgc2V0dGluZ3NfZWxlbWVudCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGluc3RhbmNlID0gbmV3IFNlbGVjdGl6ZSgkaW5wdXQsICQuZXh0ZW5kKHRydWUsIHt9LCBkZWZhdWx0cywgc2V0dGluZ3NfZWxlbWVudCwgc2V0dGluZ3NfdXNlcikpO1xyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0JC5mbi5zZWxlY3RpemUuZGVmYXVsdHMgPSBTZWxlY3RpemUuZGVmYXVsdHM7XHJcblx0JC5mbi5zZWxlY3RpemUuc3VwcG9ydCA9IHtcclxuXHRcdHZhbGlkaXR5OiBTVVBQT1JUU19WQUxJRElUWV9BUElcclxuXHR9O1xyXG5cclxuXHJcblx0U2VsZWN0aXplLmRlZmluZSgnZHJhZ19kcm9wJywgZnVuY3Rpb24ob3B0aW9ucykge1xyXG5cdFx0aWYgKCEkLmZuLnNvcnRhYmxlKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBcImRyYWdfZHJvcFwiIHBsdWdpbiByZXF1aXJlcyBqUXVlcnkgVUkgXCJzb3J0YWJsZVwiLicpO1xyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MubW9kZSAhPT0gJ211bHRpJykgcmV0dXJuO1xyXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdHNlbGYubG9jayA9IChmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIG9yaWdpbmFsID0gc2VsZi5sb2NrO1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dmFyIHNvcnRhYmxlID0gc2VsZi4kY29udHJvbC5kYXRhKCdzb3J0YWJsZScpO1xyXG5cdFx0XHRcdGlmIChzb3J0YWJsZSkgc29ydGFibGUuZGlzYWJsZSgpO1xyXG5cdFx0XHRcdHJldHVybiBvcmlnaW5hbC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSkoKTtcclxuXHJcblx0XHRzZWxmLnVubG9jayA9IChmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIG9yaWdpbmFsID0gc2VsZi51bmxvY2s7XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2YXIgc29ydGFibGUgPSBzZWxmLiRjb250cm9sLmRhdGEoJ3NvcnRhYmxlJyk7XHJcblx0XHRcdFx0aWYgKHNvcnRhYmxlKSBzb3J0YWJsZS5lbmFibGUoKTtcclxuXHRcdFx0XHRyZXR1cm4gb3JpZ2luYWwuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcclxuXHRcdFx0fTtcclxuXHRcdH0pKCk7XHJcblxyXG5cdFx0c2VsZi5zZXR1cCA9IChmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIG9yaWdpbmFsID0gc2VsZi5zZXR1cDtcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblxyXG5cdFx0XHRcdHZhciAkY29udHJvbCA9IHNlbGYuJGNvbnRyb2wuc29ydGFibGUoe1xyXG5cdFx0XHRcdFx0aXRlbXM6ICdbZGF0YS12YWx1ZV0nLFxyXG5cdFx0XHRcdFx0Zm9yY2VQbGFjZWhvbGRlclNpemU6IHRydWUsXHJcblx0XHRcdFx0XHRkaXNhYmxlZDogc2VsZi5pc0xvY2tlZCxcclxuXHRcdFx0XHRcdHN0YXJ0OiBmdW5jdGlvbihlLCB1aSkge1xyXG5cdFx0XHRcdFx0XHR1aS5wbGFjZWhvbGRlci5jc3MoJ3dpZHRoJywgdWkuaGVscGVyLmNzcygnd2lkdGgnKSk7XHJcblx0XHRcdFx0XHRcdCRjb250cm9sLmNzcyh7b3ZlcmZsb3c6ICd2aXNpYmxlJ30pO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHN0b3A6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHQkY29udHJvbC5jc3Moe292ZXJmbG93OiAnaGlkZGVuJ30pO1xyXG5cdFx0XHRcdFx0XHR2YXIgYWN0aXZlID0gc2VsZi4kYWN0aXZlSXRlbXMgPyBzZWxmLiRhY3RpdmVJdGVtcy5zbGljZSgpIDogbnVsbDtcclxuXHRcdFx0XHRcdFx0dmFyIHZhbHVlcyA9IFtdO1xyXG5cdFx0XHRcdFx0XHQkY29udHJvbC5jaGlsZHJlbignW2RhdGEtdmFsdWVdJykuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHR2YWx1ZXMucHVzaCgkKHRoaXMpLmF0dHIoJ2RhdGEtdmFsdWUnKSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRzZWxmLnNldFZhbHVlKHZhbHVlcyk7XHJcblx0XHRcdFx0XHRcdHNlbGYuc2V0QWN0aXZlSXRlbShhY3RpdmUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSkoKTtcclxuXHJcblx0fSk7XHJcblxyXG5cdFNlbGVjdGl6ZS5kZWZpbmUoJ2Ryb3Bkb3duX2hlYWRlcicsIGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuXHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRvcHRpb25zID0gJC5leHRlbmQoe1xyXG5cdFx0XHR0aXRsZSAgICAgICAgIDogJ1VudGl0bGVkJyxcclxuXHRcdFx0aGVhZGVyQ2xhc3MgICA6ICdzZWxlY3RpemUtZHJvcGRvd24taGVhZGVyJyxcclxuXHRcdFx0dGl0bGVSb3dDbGFzcyA6ICdzZWxlY3RpemUtZHJvcGRvd24taGVhZGVyLXRpdGxlJyxcclxuXHRcdFx0bGFiZWxDbGFzcyAgICA6ICdzZWxlY3RpemUtZHJvcGRvd24taGVhZGVyLWxhYmVsJyxcclxuXHRcdFx0Y2xvc2VDbGFzcyAgICA6ICdzZWxlY3RpemUtZHJvcGRvd24taGVhZGVyLWNsb3NlJyxcclxuXHJcblx0XHRcdGh0bWw6IGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0XHRyZXR1cm4gKFxyXG5cdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCInICsgZGF0YS5oZWFkZXJDbGFzcyArICdcIj4nICtcclxuXHRcdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCInICsgZGF0YS50aXRsZVJvd0NsYXNzICsgJ1wiPicgK1xyXG5cdFx0XHRcdFx0XHRcdCc8c3BhbiBjbGFzcz1cIicgKyBkYXRhLmxhYmVsQ2xhc3MgKyAnXCI+JyArIGRhdGEudGl0bGUgKyAnPC9zcGFuPicgK1xyXG5cdFx0XHRcdFx0XHRcdCc8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgY2xhc3M9XCInICsgZGF0YS5jbG9zZUNsYXNzICsgJ1wiPiZ0aW1lczs8L2E+JyArXHJcblx0XHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdCc8L2Rpdj4nXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0fSwgb3B0aW9ucyk7XHJcblxyXG5cdFx0c2VsZi5zZXR1cCA9IChmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIG9yaWdpbmFsID0gc2VsZi5zZXR1cDtcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdG9yaWdpbmFsLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XHJcblx0XHRcdFx0c2VsZi4kZHJvcGRvd25faGVhZGVyID0gJChvcHRpb25zLmh0bWwob3B0aW9ucykpO1xyXG5cdFx0XHRcdHNlbGYuJGRyb3Bkb3duLnByZXBlbmQoc2VsZi4kZHJvcGRvd25faGVhZGVyKTtcclxuXHRcdFx0fTtcclxuXHRcdH0pKCk7XHJcblxyXG5cdH0pO1xyXG5cclxuXHRTZWxlY3RpemUuZGVmaW5lKCdvcHRncm91cF9jb2x1bW5zJywgZnVuY3Rpb24ob3B0aW9ucykge1xyXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdG9wdGlvbnMgPSAkLmV4dGVuZCh7XHJcblx0XHRcdGVxdWFsaXplV2lkdGggIDogdHJ1ZSxcclxuXHRcdFx0ZXF1YWxpemVIZWlnaHQgOiB0cnVlXHJcblx0XHR9LCBvcHRpb25zKTtcclxuXHJcblx0XHR0aGlzLmdldEFkamFjZW50T3B0aW9uID0gZnVuY3Rpb24oJG9wdGlvbiwgZGlyZWN0aW9uKSB7XHJcblx0XHRcdHZhciAkb3B0aW9ucyA9ICRvcHRpb24uY2xvc2VzdCgnW2RhdGEtZ3JvdXBdJykuZmluZCgnW2RhdGEtc2VsZWN0YWJsZV0nKTtcclxuXHRcdFx0dmFyIGluZGV4ICAgID0gJG9wdGlvbnMuaW5kZXgoJG9wdGlvbikgKyBkaXJlY3Rpb247XHJcblxyXG5cdFx0XHRyZXR1cm4gaW5kZXggPj0gMCAmJiBpbmRleCA8ICRvcHRpb25zLmxlbmd0aCA/ICRvcHRpb25zLmVxKGluZGV4KSA6ICQoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5vbktleURvd24gPSAoZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBvcmlnaW5hbCA9IHNlbGYub25LZXlEb3duO1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdHZhciBpbmRleCwgJG9wdGlvbiwgJG9wdGlvbnMsICRvcHRncm91cDtcclxuXHJcblx0XHRcdFx0aWYgKHRoaXMuaXNPcGVuICYmIChlLmtleUNvZGUgPT09IEtFWV9MRUZUIHx8IGUua2V5Q29kZSA9PT0gS0VZX1JJR0hUKSkge1xyXG5cdFx0XHRcdFx0c2VsZi5pZ25vcmVIb3ZlciA9IHRydWU7XHJcblx0XHRcdFx0XHQkb3B0Z3JvdXAgPSB0aGlzLiRhY3RpdmVPcHRpb24uY2xvc2VzdCgnW2RhdGEtZ3JvdXBdJyk7XHJcblx0XHRcdFx0XHRpbmRleCA9ICRvcHRncm91cC5maW5kKCdbZGF0YS1zZWxlY3RhYmxlXScpLmluZGV4KHRoaXMuJGFjdGl2ZU9wdGlvbik7XHJcblxyXG5cdFx0XHRcdFx0aWYoZS5rZXlDb2RlID09PSBLRVlfTEVGVCkge1xyXG5cdFx0XHRcdFx0XHQkb3B0Z3JvdXAgPSAkb3B0Z3JvdXAucHJldignW2RhdGEtZ3JvdXBdJyk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHQkb3B0Z3JvdXAgPSAkb3B0Z3JvdXAubmV4dCgnW2RhdGEtZ3JvdXBdJyk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0JG9wdGlvbnMgPSAkb3B0Z3JvdXAuZmluZCgnW2RhdGEtc2VsZWN0YWJsZV0nKTtcclxuXHRcdFx0XHRcdCRvcHRpb24gID0gJG9wdGlvbnMuZXEoTWF0aC5taW4oJG9wdGlvbnMubGVuZ3RoIC0gMSwgaW5kZXgpKTtcclxuXHRcdFx0XHRcdGlmICgkb3B0aW9uLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnNldEFjdGl2ZU9wdGlvbigkb3B0aW9uKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSkoKTtcclxuXHJcblx0XHR2YXIgZ2V0U2Nyb2xsYmFyV2lkdGggPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIGRpdjtcclxuXHRcdFx0dmFyIHdpZHRoID0gZ2V0U2Nyb2xsYmFyV2lkdGgud2lkdGg7XHJcblx0XHRcdHZhciBkb2MgPSBkb2N1bWVudDtcclxuXHJcblx0XHRcdGlmICh0eXBlb2Ygd2lkdGggPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0ZGl2ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSAnPGRpdiBzdHlsZT1cIndpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7cG9zaXRpb246YWJzb2x1dGU7bGVmdDotNTBweDt0b3A6LTUwcHg7b3ZlcmZsb3c6YXV0bztcIj48ZGl2IHN0eWxlPVwid2lkdGg6MXB4O2hlaWdodDoxMDBweDtcIj48L2Rpdj48L2Rpdj4nO1xyXG5cdFx0XHRcdGRpdiA9IGRpdi5maXJzdENoaWxkO1xyXG5cdFx0XHRcdGRvYy5ib2R5LmFwcGVuZENoaWxkKGRpdik7XHJcblx0XHRcdFx0d2lkdGggPSBnZXRTY3JvbGxiYXJXaWR0aC53aWR0aCA9IGRpdi5vZmZzZXRXaWR0aCAtIGRpdi5jbGllbnRXaWR0aDtcclxuXHRcdFx0XHRkb2MuYm9keS5yZW1vdmVDaGlsZChkaXYpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB3aWR0aDtcclxuXHRcdH07XHJcblxyXG5cdFx0dmFyIGVxdWFsaXplU2l6ZXMgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIGksIG4sIGhlaWdodF9tYXgsIHdpZHRoLCB3aWR0aF9sYXN0LCB3aWR0aF9wYXJlbnQsICRvcHRncm91cHM7XHJcblxyXG5cdFx0XHQkb3B0Z3JvdXBzID0gJCgnW2RhdGEtZ3JvdXBdJywgc2VsZi4kZHJvcGRvd25fY29udGVudCk7XHJcblx0XHRcdG4gPSAkb3B0Z3JvdXBzLmxlbmd0aDtcclxuXHRcdFx0aWYgKCFuIHx8ICFzZWxmLiRkcm9wZG93bl9jb250ZW50LndpZHRoKCkpIHJldHVybjtcclxuXHJcblx0XHRcdGlmIChvcHRpb25zLmVxdWFsaXplSGVpZ2h0KSB7XHJcblx0XHRcdFx0aGVpZ2h0X21heCA9IDA7XHJcblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHRcdFx0aGVpZ2h0X21heCA9IE1hdGgubWF4KGhlaWdodF9tYXgsICRvcHRncm91cHMuZXEoaSkuaGVpZ2h0KCkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQkb3B0Z3JvdXBzLmNzcyh7aGVpZ2h0OiBoZWlnaHRfbWF4fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChvcHRpb25zLmVxdWFsaXplV2lkdGgpIHtcclxuXHRcdFx0XHR3aWR0aF9wYXJlbnQgPSBzZWxmLiRkcm9wZG93bl9jb250ZW50LmlubmVyV2lkdGgoKSAtIGdldFNjcm9sbGJhcldpZHRoKCk7XHJcblx0XHRcdFx0d2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoX3BhcmVudCAvIG4pO1xyXG5cdFx0XHRcdCRvcHRncm91cHMuY3NzKHt3aWR0aDogd2lkdGh9KTtcclxuXHRcdFx0XHRpZiAobiA+IDEpIHtcclxuXHRcdFx0XHRcdHdpZHRoX2xhc3QgPSB3aWR0aF9wYXJlbnQgLSB3aWR0aCAqIChuIC0gMSk7XHJcblx0XHRcdFx0XHQkb3B0Z3JvdXBzLmVxKG4gLSAxKS5jc3Moe3dpZHRoOiB3aWR0aF9sYXN0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGlmIChvcHRpb25zLmVxdWFsaXplSGVpZ2h0IHx8IG9wdGlvbnMuZXF1YWxpemVXaWR0aCkge1xyXG5cdFx0XHRob29rLmFmdGVyKHRoaXMsICdwb3NpdGlvbkRyb3Bkb3duJywgZXF1YWxpemVTaXplcyk7XHJcblx0XHRcdGhvb2suYWZ0ZXIodGhpcywgJ3JlZnJlc2hPcHRpb25zJywgZXF1YWxpemVTaXplcyk7XHJcblx0XHR9XHJcblxyXG5cclxuXHR9KTtcclxuXHJcblx0U2VsZWN0aXplLmRlZmluZSgncmVtb3ZlX2J1dHRvbicsIGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuXHRcdG9wdGlvbnMgPSAkLmV4dGVuZCh7XHJcblx0XHRcdFx0bGFiZWwgICAgIDogJyZ0aW1lczsnLFxyXG5cdFx0XHRcdHRpdGxlICAgICA6ICdSZW1vdmUnLFxyXG5cdFx0XHRcdGNsYXNzTmFtZSA6ICdyZW1vdmUnLFxyXG5cdFx0XHRcdGFwcGVuZCAgICA6IHRydWVcclxuXHRcdFx0fSwgb3B0aW9ucyk7XHJcblxyXG5cdFx0XHR2YXIgc2luZ2xlQ2xvc2UgPSBmdW5jdGlvbih0aGlzUmVmLCBvcHRpb25zKSB7XHJcblxyXG5cdFx0XHRcdG9wdGlvbnMuY2xhc3NOYW1lID0gJ3JlbW92ZS1zaW5nbGUnO1xyXG5cclxuXHRcdFx0XHR2YXIgc2VsZiA9IHRoaXNSZWY7XHJcblx0XHRcdFx0dmFyIGh0bWwgPSAnPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGNsYXNzPVwiJyArIG9wdGlvbnMuY2xhc3NOYW1lICsgJ1wiIHRhYmluZGV4PVwiLTFcIiB0aXRsZT1cIicgKyBlc2NhcGVfaHRtbChvcHRpb25zLnRpdGxlKSArICdcIj4nICsgb3B0aW9ucy5sYWJlbCArICc8L2E+JztcclxuXHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogQXBwZW5kcyBhbiBlbGVtZW50IGFzIGEgY2hpbGQgKHdpdGggcmF3IEhUTUwpLlxyXG5cdFx0XHRcdCAqXHJcblx0XHRcdFx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxfY29udGFpbmVyXHJcblx0XHRcdFx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxfZWxlbWVudFxyXG5cdFx0XHRcdCAqIEByZXR1cm4ge3N0cmluZ31cclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHR2YXIgYXBwZW5kID0gZnVuY3Rpb24oaHRtbF9jb250YWluZXIsIGh0bWxfZWxlbWVudCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGh0bWxfY29udGFpbmVyICsgaHRtbF9lbGVtZW50O1xyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdHRoaXNSZWYuc2V0dXAgPSAoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLnNldHVwO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHQvLyBvdmVycmlkZSB0aGUgaXRlbSByZW5kZXJpbmcgbWV0aG9kIHRvIGFkZCB0aGUgYnV0dG9uIHRvIGVhY2hcclxuXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMuYXBwZW5kKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGlkID0gJChzZWxmLiRpbnB1dC5jb250ZXh0KS5hdHRyKCdpZCcpO1xyXG5cdFx0XHRcdFx0XHRcdHZhciBzZWxlY3RpemVyID0gJCgnIycraWQpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHR2YXIgcmVuZGVyX2l0ZW0gPSBzZWxmLnNldHRpbmdzLnJlbmRlci5pdGVtO1xyXG5cdFx0XHRcdFx0XHRcdHNlbGYuc2V0dGluZ3MucmVuZGVyLml0ZW0gPSBmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gYXBwZW5kKHJlbmRlcl9pdGVtLmFwcGx5KHRoaXNSZWYsIGFyZ3VtZW50cyksIGh0bWwpO1xyXG5cdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdG9yaWdpbmFsLmFwcGx5KHRoaXNSZWYsIGFyZ3VtZW50cyk7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBhZGQgZXZlbnQgbGlzdGVuZXJcclxuXHRcdFx0XHRcdFx0dGhpc1JlZi4kY29udHJvbC5vbignY2xpY2snLCAnLicgKyBvcHRpb25zLmNsYXNzTmFtZSwgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoc2VsZi5pc0xvY2tlZCkgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRzZWxmLmNsZWFyKCk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fSkoKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHZhciBtdWx0aUNsb3NlID0gZnVuY3Rpb24odGhpc1JlZiwgb3B0aW9ucykge1xyXG5cclxuXHRcdFx0XHR2YXIgc2VsZiA9IHRoaXNSZWY7XHJcblx0XHRcdFx0dmFyIGh0bWwgPSAnPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGNsYXNzPVwiJyArIG9wdGlvbnMuY2xhc3NOYW1lICsgJ1wiIHRhYmluZGV4PVwiLTFcIiB0aXRsZT1cIicgKyBlc2NhcGVfaHRtbChvcHRpb25zLnRpdGxlKSArICdcIj4nICsgb3B0aW9ucy5sYWJlbCArICc8L2E+JztcclxuXHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogQXBwZW5kcyBhbiBlbGVtZW50IGFzIGEgY2hpbGQgKHdpdGggcmF3IEhUTUwpLlxyXG5cdFx0XHRcdCAqXHJcblx0XHRcdFx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxfY29udGFpbmVyXHJcblx0XHRcdFx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxfZWxlbWVudFxyXG5cdFx0XHRcdCAqIEByZXR1cm4ge3N0cmluZ31cclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHR2YXIgYXBwZW5kID0gZnVuY3Rpb24oaHRtbF9jb250YWluZXIsIGh0bWxfZWxlbWVudCkge1xyXG5cdFx0XHRcdFx0dmFyIHBvcyA9IGh0bWxfY29udGFpbmVyLnNlYXJjaCgvKDxcXC9bXj5dKz5cXHMqKSQvKTtcclxuXHRcdFx0XHRcdHJldHVybiBodG1sX2NvbnRhaW5lci5zdWJzdHJpbmcoMCwgcG9zKSArIGh0bWxfZWxlbWVudCArIGh0bWxfY29udGFpbmVyLnN1YnN0cmluZyhwb3MpO1xyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdHRoaXNSZWYuc2V0dXAgPSAoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLnNldHVwO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHQvLyBvdmVycmlkZSB0aGUgaXRlbSByZW5kZXJpbmcgbWV0aG9kIHRvIGFkZCB0aGUgYnV0dG9uIHRvIGVhY2hcclxuXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMuYXBwZW5kKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIHJlbmRlcl9pdGVtID0gc2VsZi5zZXR0aW5ncy5yZW5kZXIuaXRlbTtcclxuXHRcdFx0XHRcdFx0XHRzZWxmLnNldHRpbmdzLnJlbmRlci5pdGVtID0gZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGFwcGVuZChyZW5kZXJfaXRlbS5hcHBseSh0aGlzUmVmLCBhcmd1bWVudHMpLCBodG1sKTtcclxuXHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRvcmlnaW5hbC5hcHBseSh0aGlzUmVmLCBhcmd1bWVudHMpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gYWRkIGV2ZW50IGxpc3RlbmVyXHJcblx0XHRcdFx0XHRcdHRoaXNSZWYuJGNvbnRyb2wub24oJ2NsaWNrJywgJy4nICsgb3B0aW9ucy5jbGFzc05hbWUsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHNlbGYuaXNMb2NrZWQpIHJldHVybjtcclxuXHJcblx0XHRcdFx0XHRcdFx0dmFyICRpdGVtID0gJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudCgpO1xyXG5cdFx0XHRcdFx0XHRcdHNlbGYuc2V0QWN0aXZlSXRlbSgkaXRlbSk7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHNlbGYuZGVsZXRlU2VsZWN0aW9uKCkpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHNlbGYuc2V0Q2FyZXQoc2VsZi5pdGVtcy5sZW5ndGgpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9KSgpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MubW9kZSA9PT0gJ3NpbmdsZScpIHtcclxuXHRcdFx0XHRzaW5nbGVDbG9zZSh0aGlzLCBvcHRpb25zKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bXVsdGlDbG9zZSh0aGlzLCBvcHRpb25zKTtcclxuXHRcdFx0fVxyXG5cdH0pO1xyXG5cclxuXHJcblx0U2VsZWN0aXplLmRlZmluZSgncmVzdG9yZV9vbl9iYWNrc3BhY2UnLCBmdW5jdGlvbihvcHRpb25zKSB7XHJcblx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0b3B0aW9ucy50ZXh0ID0gb3B0aW9ucy50ZXh0IHx8IGZ1bmN0aW9uKG9wdGlvbikge1xyXG5cdFx0XHRyZXR1cm4gb3B0aW9uW3RoaXMuc2V0dGluZ3MubGFiZWxGaWVsZF07XHJcblx0XHR9O1xyXG5cclxuXHRcdHRoaXMub25LZXlEb3duID0gKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLm9uS2V5RG93bjtcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHR2YXIgaW5kZXgsIG9wdGlvbjtcclxuXHRcdFx0XHRpZiAoZS5rZXlDb2RlID09PSBLRVlfQkFDS1NQQUNFICYmIHRoaXMuJGNvbnRyb2xfaW5wdXQudmFsKCkgPT09ICcnICYmICF0aGlzLiRhY3RpdmVJdGVtcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGluZGV4ID0gdGhpcy5jYXJldFBvcyAtIDE7XHJcblx0XHRcdFx0XHRpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuaXRlbXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdG9wdGlvbiA9IHRoaXMub3B0aW9uc1t0aGlzLml0ZW1zW2luZGV4XV07XHJcblx0XHRcdFx0XHRcdGlmICh0aGlzLmRlbGV0ZVNlbGVjdGlvbihlKSkge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuc2V0VGV4dGJveFZhbHVlKG9wdGlvbnMudGV4dC5hcHBseSh0aGlzLCBbb3B0aW9uXSkpO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaE9wdGlvbnModHJ1ZSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSkoKTtcclxuXHR9KTtcclxuXHJcblxyXG5cdHJldHVybiBTZWxlY3RpemU7XHJcbn0pKTtcclxuIiwiLyohXHJcbiAqIGNsaXBib2FyZC5qcyB2MS41LjEyXHJcbiAqIGh0dHBzOi8vemVub3JvY2hhLmdpdGh1Yi5pby9jbGlwYm9hcmQuanNcclxuICpcclxuICogTGljZW5zZWQgTUlUIMKpIFplbm8gUm9jaGFcclxuICovXHJcbihmdW5jdGlvbihmKXtpZih0eXBlb2YgZXhwb3J0cz09PVwib2JqZWN0XCImJnR5cGVvZiBtb2R1bGUhPT1cInVuZGVmaW5lZFwiKXttb2R1bGUuZXhwb3J0cz1mKCl9ZWxzZSBpZih0eXBlb2YgZGVmaW5lPT09XCJmdW5jdGlvblwiJiZkZWZpbmUuYW1kKXtkZWZpbmUoW10sZil9ZWxzZXt2YXIgZztpZih0eXBlb2Ygd2luZG93IT09XCJ1bmRlZmluZWRcIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09XCJ1bmRlZmluZWRcIil7Zz1nbG9iYWx9ZWxzZSBpZih0eXBlb2Ygc2VsZiE9PVwidW5kZWZpbmVkXCIpe2c9c2VsZn1lbHNle2c9dGhpc31nLkNsaXBib2FyZCA9IGYoKX19KShmdW5jdGlvbigpe3ZhciBkZWZpbmUsbW9kdWxlLGV4cG9ydHM7cmV0dXJuIChmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxudmFyIG1hdGNoZXMgPSByZXF1aXJlKCdtYXRjaGVzLXNlbGVjdG9yJylcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGVsZW1lbnQsIHNlbGVjdG9yLCBjaGVja1lvU2VsZikge1xyXG4gIHZhciBwYXJlbnQgPSBjaGVja1lvU2VsZiA/IGVsZW1lbnQgOiBlbGVtZW50LnBhcmVudE5vZGVcclxuXHJcbiAgd2hpbGUgKHBhcmVudCAmJiBwYXJlbnQgIT09IGRvY3VtZW50KSB7XHJcbiAgICBpZiAobWF0Y2hlcyhwYXJlbnQsIHNlbGVjdG9yKSkgcmV0dXJuIHBhcmVudDtcclxuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlXHJcbiAgfVxyXG59XHJcblxyXG59LHtcIm1hdGNoZXMtc2VsZWN0b3JcIjo1fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XHJcbnZhciBjbG9zZXN0ID0gcmVxdWlyZSgnY2xvc2VzdCcpO1xyXG5cclxuLyoqXHJcbiAqIERlbGVnYXRlcyBldmVudCB0byBhIHNlbGVjdG9yLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcclxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdXNlQ2FwdHVyZVxyXG4gKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAqL1xyXG5mdW5jdGlvbiBkZWxlZ2F0ZShlbGVtZW50LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpIHtcclxuICAgIHZhciBsaXN0ZW5lckZuID0gbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHJcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEZpbmRzIGNsb3Nlc3QgbWF0Y2ggYW5kIGludm9rZXMgY2FsbGJhY2suXHJcbiAqXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICogQHJldHVybiB7RnVuY3Rpb259XHJcbiAqL1xyXG5mdW5jdGlvbiBsaXN0ZW5lcihlbGVtZW50LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZS5kZWxlZ2F0ZVRhcmdldCA9IGNsb3Nlc3QoZS50YXJnZXQsIHNlbGVjdG9yLCB0cnVlKTtcclxuXHJcbiAgICAgICAgaWYgKGUuZGVsZWdhdGVUYXJnZXQpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2suY2FsbChlbGVtZW50LCBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZGVsZWdhdGU7XHJcblxyXG59LHtcImNsb3Nlc3RcIjoxfV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIEhUTUwgZWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqL1xyXG5leHBvcnRzLm5vZGUgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWRcclxuICAgICAgICAmJiB2YWx1ZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50XHJcbiAgICAgICAgJiYgdmFsdWUubm9kZVR5cGUgPT09IDE7XHJcbn07XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBsaXN0IG9mIEhUTUwgZWxlbWVudHMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxyXG4gKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gKi9cclxuZXhwb3J0cy5ub2RlTGlzdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICB2YXIgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XHJcblxyXG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWRcclxuICAgICAgICAmJiAodHlwZSA9PT0gJ1tvYmplY3QgTm9kZUxpc3RdJyB8fCB0eXBlID09PSAnW29iamVjdCBIVE1MQ29sbGVjdGlvbl0nKVxyXG4gICAgICAgICYmICgnbGVuZ3RoJyBpbiB2YWx1ZSlcclxuICAgICAgICAmJiAodmFsdWUubGVuZ3RoID09PSAwIHx8IGV4cG9ydHMubm9kZSh2YWx1ZVswXSkpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgc3RyaW5nLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICovXHJcbmV4cG9ydHMuc3RyaW5nID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnXHJcbiAgICAgICAgfHwgdmFsdWUgaW5zdGFuY2VvZiBTdHJpbmc7XHJcbn07XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBmdW5jdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqL1xyXG5leHBvcnRzLmZuID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHZhciB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcclxuXHJcbiAgICByZXR1cm4gdHlwZSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcclxufTtcclxuXHJcbn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xyXG52YXIgaXMgPSByZXF1aXJlKCcuL2lzJyk7XHJcbnZhciBkZWxlZ2F0ZSA9IHJlcXVpcmUoJ2RlbGVnYXRlJyk7XHJcblxyXG4vKipcclxuICogVmFsaWRhdGVzIGFsbCBwYXJhbXMgYW5kIGNhbGxzIHRoZSByaWdodFxyXG4gKiBsaXN0ZW5lciBmdW5jdGlvbiBiYXNlZCBvbiBpdHMgdGFyZ2V0IHR5cGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfEhUTUxFbGVtZW50fEhUTUxDb2xsZWN0aW9ufE5vZGVMaXN0fSB0YXJnZXRcclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICogQHJldHVybiB7T2JqZWN0fVxyXG4gKi9cclxuZnVuY3Rpb24gbGlzdGVuKHRhcmdldCwgdHlwZSwgY2FsbGJhY2spIHtcclxuICAgIGlmICghdGFyZ2V0ICYmICF0eXBlICYmICFjYWxsYmFjaykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCBhcmd1bWVudHMnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzLnN0cmluZyh0eXBlKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpcy5mbihjYWxsYmFjaykpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGlyZCBhcmd1bWVudCBtdXN0IGJlIGEgRnVuY3Rpb24nKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXMubm9kZSh0YXJnZXQpKSB7XHJcbiAgICAgICAgcmV0dXJuIGxpc3Rlbk5vZGUodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpcy5ub2RlTGlzdCh0YXJnZXQpKSB7XHJcbiAgICAgICAgcmV0dXJuIGxpc3Rlbk5vZGVMaXN0KHRhcmdldCwgdHlwZSwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXMuc3RyaW5nKHRhcmdldCkpIHtcclxuICAgICAgICByZXR1cm4gbGlzdGVuU2VsZWN0b3IodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nLCBIVE1MRWxlbWVudCwgSFRNTENvbGxlY3Rpb24sIG9yIE5vZGVMaXN0Jyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBZGRzIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGEgSFRNTCBlbGVtZW50XHJcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICovXHJcbmZ1bmN0aW9uIGxpc3Rlbk5vZGUobm9kZSwgdHlwZSwgY2FsbGJhY2spIHtcclxuICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYSBsaXN0IG9mIEhUTUwgZWxlbWVudHNcclxuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7Tm9kZUxpc3R8SFRNTENvbGxlY3Rpb259IG5vZGVMaXN0XHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICovXHJcbmZ1bmN0aW9uIGxpc3Rlbk5vZGVMaXN0KG5vZGVMaXN0LCB0eXBlLCBjYWxsYmFjaykge1xyXG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChub2RlTGlzdCwgZnVuY3Rpb24obm9kZSkge1xyXG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVMaXN0LCBmdW5jdGlvbihub2RlKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYSBzZWxlY3RvclxyXG4gKiBhbmQgcmV0dXJucyBhIHJlbW92ZSBsaXN0ZW5lciBmdW5jdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICovXHJcbmZ1bmN0aW9uIGxpc3RlblNlbGVjdG9yKHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIGRlbGVnYXRlKGRvY3VtZW50LmJvZHksIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjayk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbGlzdGVuO1xyXG5cclxufSx7XCIuL2lzXCI6MyxcImRlbGVnYXRlXCI6Mn1dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xyXG5cclxuLyoqXHJcbiAqIEVsZW1lbnQgcHJvdG90eXBlLlxyXG4gKi9cclxuXHJcbnZhciBwcm90byA9IEVsZW1lbnQucHJvdG90eXBlO1xyXG5cclxuLyoqXHJcbiAqIFZlbmRvciBmdW5jdGlvbi5cclxuICovXHJcblxyXG52YXIgdmVuZG9yID0gcHJvdG8ubWF0Y2hlc1NlbGVjdG9yXHJcbiAgfHwgcHJvdG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yXHJcbiAgfHwgcHJvdG8ubW96TWF0Y2hlc1NlbGVjdG9yXHJcbiAgfHwgcHJvdG8ubXNNYXRjaGVzU2VsZWN0b3JcclxuICB8fCBwcm90by5vTWF0Y2hlc1NlbGVjdG9yO1xyXG5cclxuLyoqXHJcbiAqIEV4cG9zZSBgbWF0Y2goKWAuXHJcbiAqL1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBtYXRjaDtcclxuXHJcbi8qKlxyXG4gKiBNYXRjaCBgZWxgIHRvIGBzZWxlY3RvcmAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcclxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gbWF0Y2goZWwsIHNlbGVjdG9yKSB7XHJcbiAgaWYgKHZlbmRvcikgcmV0dXJuIHZlbmRvci5jYWxsKGVsLCBzZWxlY3Rvcik7XHJcbiAgdmFyIG5vZGVzID0gZWwucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgKytpKSB7XHJcbiAgICBpZiAobm9kZXNbaV0gPT0gZWwpIHJldHVybiB0cnVlO1xyXG4gIH1cclxuICByZXR1cm4gZmFsc2U7XHJcbn1cclxufSx7fV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XHJcbmZ1bmN0aW9uIHNlbGVjdChlbGVtZW50KSB7XHJcbiAgICB2YXIgc2VsZWN0ZWRUZXh0O1xyXG5cclxuICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSU5QVVQnIHx8IGVsZW1lbnQubm9kZU5hbWUgPT09ICdURVhUQVJFQScpIHtcclxuICAgICAgICBlbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgZWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSgwLCBlbGVtZW50LnZhbHVlLmxlbmd0aCk7XHJcblxyXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IGVsZW1lbnQudmFsdWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcclxuXHJcbiAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGVsZW1lbnQpO1xyXG4gICAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcclxuICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xyXG5cclxuICAgICAgICBzZWxlY3RlZFRleHQgPSBzZWxlY3Rpb24udG9TdHJpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2VsZWN0ZWRUZXh0O1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHNlbGVjdDtcclxuXHJcbn0se31dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xyXG5mdW5jdGlvbiBFICgpIHtcclxuXHQvLyBLZWVwIHRoaXMgZW1wdHkgc28gaXQncyBlYXNpZXIgdG8gaW5oZXJpdCBmcm9tXHJcbiAgLy8gKHZpYSBodHRwczovL2dpdGh1Yi5jb20vbGlwc21hY2sgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRjb3JnYW4vdGlueS1lbWl0dGVyL2lzc3Vlcy8zKVxyXG59XHJcblxyXG5FLnByb3RvdHlwZSA9IHtcclxuXHRvbjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcclxuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XHJcblxyXG4gICAgKGVbbmFtZV0gfHwgKGVbbmFtZV0gPSBbXSkpLnB1c2goe1xyXG4gICAgICBmbjogY2FsbGJhY2ssXHJcbiAgICAgIGN0eDogY3R4XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG5cclxuICBvbmNlOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgZnVuY3Rpb24gbGlzdGVuZXIgKCkge1xyXG4gICAgICBzZWxmLm9mZihuYW1lLCBsaXN0ZW5lcik7XHJcbiAgICAgIGNhbGxiYWNrLmFwcGx5KGN0eCwgYXJndW1lbnRzKTtcclxuICAgIH07XHJcblxyXG4gICAgbGlzdGVuZXIuXyA9IGNhbGxiYWNrXHJcbiAgICByZXR1cm4gdGhpcy5vbihuYW1lLCBsaXN0ZW5lciwgY3R4KTtcclxuICB9LFxyXG5cclxuICBlbWl0OiBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgdmFyIGRhdGEgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcbiAgICB2YXIgZXZ0QXJyID0gKCh0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KSlbbmFtZV0gfHwgW10pLnNsaWNlKCk7XHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICB2YXIgbGVuID0gZXZ0QXJyLmxlbmd0aDtcclxuXHJcbiAgICBmb3IgKGk7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICBldnRBcnJbaV0uZm4uYXBwbHkoZXZ0QXJyW2ldLmN0eCwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSxcclxuXHJcbiAgb2ZmOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHtcclxuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XHJcbiAgICB2YXIgZXZ0cyA9IGVbbmFtZV07XHJcbiAgICB2YXIgbGl2ZUV2ZW50cyA9IFtdO1xyXG5cclxuICAgIGlmIChldnRzICYmIGNhbGxiYWNrKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBldnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGV2dHNbaV0uZm4gIT09IGNhbGxiYWNrICYmIGV2dHNbaV0uZm4uXyAhPT0gY2FsbGJhY2spXHJcbiAgICAgICAgICBsaXZlRXZlbnRzLnB1c2goZXZ0c1tpXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZW1vdmUgZXZlbnQgZnJvbSBxdWV1ZSB0byBwcmV2ZW50IG1lbW9yeSBsZWFrXHJcbiAgICAvLyBTdWdnZXN0ZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2xhemRcclxuICAgIC8vIFJlZjogaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0Y29yZ2FuL3RpbnktZW1pdHRlci9jb21taXQvYzZlYmZhYTliYzk3M2IzM2QxMTBhODRhMzA3NzQyYjdjZjk0Yzk1MyNjb21taXRjb21tZW50LTUwMjQ5MTBcclxuXHJcbiAgICAobGl2ZUV2ZW50cy5sZW5ndGgpXHJcbiAgICAgID8gZVtuYW1lXSA9IGxpdmVFdmVudHNcclxuICAgICAgOiBkZWxldGUgZVtuYW1lXTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEU7XHJcblxyXG59LHt9XSw4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcclxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgICAgIGRlZmluZShbJ21vZHVsZScsICdzZWxlY3QnXSwgZmFjdG9yeSk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgZmFjdG9yeShtb2R1bGUsIHJlcXVpcmUoJ3NlbGVjdCcpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIG1vZCA9IHtcclxuICAgICAgICAgICAgZXhwb3J0czoge31cclxuICAgICAgICB9O1xyXG4gICAgICAgIGZhY3RvcnkobW9kLCBnbG9iYWwuc2VsZWN0KTtcclxuICAgICAgICBnbG9iYWwuY2xpcGJvYXJkQWN0aW9uID0gbW9kLmV4cG9ydHM7XHJcbiAgICB9XHJcbn0pKHRoaXMsIGZ1bmN0aW9uIChtb2R1bGUsIF9zZWxlY3QpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgX3NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3QpO1xyXG5cclxuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogb2JqXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xyXG4gICAgfSA6IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XHJcbiAgICAgICAgICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XHJcbiAgICAgICAgICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xyXG4gICAgICAgICAgICByZXR1cm4gQ29uc3RydWN0b3I7XHJcbiAgICAgICAgfTtcclxuICAgIH0oKTtcclxuXHJcbiAgICB2YXIgQ2xpcGJvYXJkQWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICAgICAgICovXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIENsaXBib2FyZEFjdGlvbihvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGlwYm9hcmRBY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlT3B0aW9ucyhvcHRpb25zKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBEZWZpbmVzIGJhc2UgcHJvcGVydGllcyBwYXNzZWQgZnJvbSBjb25zdHJ1Y3Rvci5cclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xyXG4gICAgICAgICAqL1xyXG5cclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5yZXNvbHZlT3B0aW9ucyA9IGZ1bmN0aW9uIHJlc29sdmVPcHRpb25zKCkge1xyXG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSBvcHRpb25zLmFjdGlvbjtcclxuICAgICAgICAgICAgdGhpcy5lbWl0dGVyID0gb3B0aW9ucy5lbWl0dGVyO1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IG9wdGlvbnMudGFyZ2V0O1xyXG4gICAgICAgICAgICB0aGlzLnRleHQgPSBvcHRpb25zLnRleHQ7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlciA9IG9wdGlvbnMudHJpZ2dlcjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gJyc7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5pbml0U2VsZWN0aW9uID0gZnVuY3Rpb24gaW5pdFNlbGVjdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RGYWtlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy50YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0VGFyZ2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLnNlbGVjdEZha2UgPSBmdW5jdGlvbiBzZWxlY3RGYWtlKCkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgdmFyIGlzUlRMID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGlyJykgPT0gJ3J0bCc7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZha2UoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5yZW1vdmVGYWtlKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXIgPSBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrKSB8fCB0cnVlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XHJcbiAgICAgICAgICAgIC8vIFByZXZlbnQgem9vbWluZyBvbiBpT1NcclxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5mb250U2l6ZSA9ICcxMnB0JztcclxuICAgICAgICAgICAgLy8gUmVzZXQgYm94IG1vZGVsXHJcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUuYm9yZGVyID0gJzAnO1xyXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnBhZGRpbmcgPSAnMCc7XHJcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUubWFyZ2luID0gJzAnO1xyXG4gICAgICAgICAgICAvLyBNb3ZlIGVsZW1lbnQgb3V0IG9mIHNjcmVlbiBob3Jpem9udGFsbHlcclxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGVbaXNSVEwgPyAncmlnaHQnIDogJ2xlZnQnXSA9ICctOTk5OXB4JztcclxuICAgICAgICAgICAgLy8gTW92ZSBlbGVtZW50IHRvIHRoZSBzYW1lIHBvc2l0aW9uIHZlcnRpY2FsbHlcclxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS50b3AgPSAod2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApICsgJ3B4JztcclxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJycpO1xyXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnZhbHVlID0gdGhpcy50ZXh0O1xyXG5cclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmZha2VFbGVtKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gKDAsIF9zZWxlY3QyLmRlZmF1bHQpKHRoaXMuZmFrZUVsZW0pO1xyXG4gICAgICAgICAgICB0aGlzLmNvcHlUZXh0KCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5yZW1vdmVGYWtlID0gZnVuY3Rpb24gcmVtb3ZlRmFrZSgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZmFrZUhhbmRsZXIpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2sgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5mYWtlRWxlbSkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmZha2VFbGVtKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5zZWxlY3RUYXJnZXQgPSBmdW5jdGlvbiBzZWxlY3RUYXJnZXQoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gKDAsIF9zZWxlY3QyLmRlZmF1bHQpKHRoaXMudGFyZ2V0KTtcclxuICAgICAgICAgICAgdGhpcy5jb3B5VGV4dCgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUuY29weVRleHQgPSBmdW5jdGlvbiBjb3B5VGV4dCgpIHtcclxuICAgICAgICAgICAgdmFyIHN1Y2NlZWRlZCA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZWVkZWQgPSBkb2N1bWVudC5leGVjQ29tbWFuZCh0aGlzLmFjdGlvbik7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VlZGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVzdWx0KHN1Y2NlZWRlZCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5oYW5kbGVSZXN1bHQgPSBmdW5jdGlvbiBoYW5kbGVSZXN1bHQoc3VjY2VlZGVkKSB7XHJcbiAgICAgICAgICAgIGlmIChzdWNjZWVkZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdHRlci5lbWl0KCdzdWNjZXNzJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGhpcy5zZWxlY3RlZFRleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogdGhpcy50cmlnZ2VyLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyU2VsZWN0aW9uOiB0aGlzLmNsZWFyU2VsZWN0aW9uLmJpbmQodGhpcylcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0dGVyLmVtaXQoJ2Vycm9yJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogdGhpcy50cmlnZ2VyLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyU2VsZWN0aW9uOiB0aGlzLmNsZWFyU2VsZWN0aW9uLmJpbmQodGhpcylcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5jbGVhclNlbGVjdGlvbiA9IGZ1bmN0aW9uIGNsZWFyU2VsZWN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LmJsdXIoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRmFrZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF9jcmVhdGVDbGFzcyhDbGlwYm9hcmRBY3Rpb24sIFt7XHJcbiAgICAgICAgICAgIGtleTogJ2FjdGlvbicsXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/ICdjb3B5JyA6IGFyZ3VtZW50c1swXTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hY3Rpb24gPSBhY3Rpb247XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGlvbiAhPT0gJ2NvcHknICYmIHRoaXMuX2FjdGlvbiAhPT0gJ2N1dCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJhY3Rpb25cIiB2YWx1ZSwgdXNlIGVpdGhlciBcImNvcHlcIiBvciBcImN1dFwiJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAga2V5OiAndGFyZ2V0JyxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICYmICh0eXBlb2YgdGFyZ2V0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih0YXJnZXQpKSA9PT0gJ29iamVjdCcgJiYgdGFyZ2V0Lm5vZGVUeXBlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGlvbiA9PT0gJ2NvcHknICYmIHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcInRhcmdldFwiIGF0dHJpYnV0ZS4gUGxlYXNlIHVzZSBcInJlYWRvbmx5XCIgaW5zdGVhZCBvZiBcImRpc2FibGVkXCIgYXR0cmlidXRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGlvbiA9PT0gJ2N1dCcgJiYgKHRhcmdldC5oYXNBdHRyaWJ1dGUoJ3JlYWRvbmx5JykgfHwgdGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcInRhcmdldFwiIGF0dHJpYnV0ZS4gWW91IGNhblxcJ3QgY3V0IHRleHQgZnJvbSBlbGVtZW50cyB3aXRoIFwicmVhZG9ubHlcIiBvciBcImRpc2FibGVkXCIgYXR0cmlidXRlcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgdmFsdWUsIHVzZSBhIHZhbGlkIEVsZW1lbnQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIENsaXBib2FyZEFjdGlvbjtcclxuICAgIH0oKTtcclxuXHJcbiAgICBtb2R1bGUuZXhwb3J0cyA9IENsaXBib2FyZEFjdGlvbjtcclxufSk7XHJcblxyXG59LHtcInNlbGVjdFwiOjZ9XSw5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcclxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgICAgIGRlZmluZShbJ21vZHVsZScsICcuL2NsaXBib2FyZC1hY3Rpb24nLCAndGlueS1lbWl0dGVyJywgJ2dvb2QtbGlzdGVuZXInXSwgZmFjdG9yeSk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgZmFjdG9yeShtb2R1bGUsIHJlcXVpcmUoJy4vY2xpcGJvYXJkLWFjdGlvbicpLCByZXF1aXJlKCd0aW55LWVtaXR0ZXInKSwgcmVxdWlyZSgnZ29vZC1saXN0ZW5lcicpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIG1vZCA9IHtcclxuICAgICAgICAgICAgZXhwb3J0czoge31cclxuICAgICAgICB9O1xyXG4gICAgICAgIGZhY3RvcnkobW9kLCBnbG9iYWwuY2xpcGJvYXJkQWN0aW9uLCBnbG9iYWwudGlueUVtaXR0ZXIsIGdsb2JhbC5nb29kTGlzdGVuZXIpO1xyXG4gICAgICAgIGdsb2JhbC5jbGlwYm9hcmQgPSBtb2QuZXhwb3J0cztcclxuICAgIH1cclxufSkodGhpcywgZnVuY3Rpb24gKG1vZHVsZSwgX2NsaXBib2FyZEFjdGlvbiwgX3RpbnlFbWl0dGVyLCBfZ29vZExpc3RlbmVyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIF9jbGlwYm9hcmRBY3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xpcGJvYXJkQWN0aW9uKTtcclxuXHJcbiAgICB2YXIgX3RpbnlFbWl0dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RpbnlFbWl0dGVyKTtcclxuXHJcbiAgICB2YXIgX2dvb2RMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nb29kTGlzdGVuZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogb2JqXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xyXG4gICAgICAgIGlmICghc2VsZikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XHJcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yOiB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIENsaXBib2FyZCA9IGZ1bmN0aW9uIChfRW1pdHRlcikge1xyXG4gICAgICAgIF9pbmhlcml0cyhDbGlwYm9hcmQsIF9FbWl0dGVyKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8SFRNTENvbGxlY3Rpb258Tm9kZUxpc3R9IHRyaWdnZXJcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xyXG4gICAgICAgICAqL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBDbGlwYm9hcmQodHJpZ2dlciwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xpcGJvYXJkKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FbWl0dGVyLmNhbGwodGhpcykpO1xyXG5cclxuICAgICAgICAgICAgX3RoaXMucmVzb2x2ZU9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICAgICAgICAgIF90aGlzLmxpc3RlbkNsaWNrKHRyaWdnZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBEZWZpbmVzIGlmIGF0dHJpYnV0ZXMgd291bGQgYmUgcmVzb2x2ZWQgdXNpbmcgaW50ZXJuYWwgc2V0dGVyIGZ1bmN0aW9uc1xyXG4gICAgICAgICAqIG9yIGN1c3RvbSBmdW5jdGlvbnMgdGhhdCB3ZXJlIHBhc3NlZCBpbiB0aGUgY29uc3RydWN0b3IuXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcclxuICAgICAgICAgKi9cclxuXHJcblxyXG4gICAgICAgIENsaXBib2FyZC5wcm90b3R5cGUucmVzb2x2ZU9wdGlvbnMgPSBmdW5jdGlvbiByZXNvbHZlT3B0aW9ucygpIHtcclxuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gdHlwZW9mIG9wdGlvbnMuYWN0aW9uID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy5hY3Rpb24gOiB0aGlzLmRlZmF1bHRBY3Rpb247XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdHlwZW9mIG9wdGlvbnMudGFyZ2V0ID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy50YXJnZXQgOiB0aGlzLmRlZmF1bHRUYXJnZXQ7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dCA9IHR5cGVvZiBvcHRpb25zLnRleHQgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLnRleHQgOiB0aGlzLmRlZmF1bHRUZXh0O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENsaXBib2FyZC5wcm90b3R5cGUubGlzdGVuQ2xpY2sgPSBmdW5jdGlvbiBsaXN0ZW5DbGljayh0cmlnZ2VyKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lciA9ICgwLCBfZ29vZExpc3RlbmVyMi5kZWZhdWx0KSh0cmlnZ2VyLCAnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkNsaWNrKGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmQucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcclxuICAgICAgICAgICAgdmFyIHRyaWdnZXIgPSBlLmRlbGVnYXRlVGFyZ2V0IHx8IGUuY3VycmVudFRhcmdldDtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNsaXBib2FyZEFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG5ldyBfY2xpcGJvYXJkQWN0aW9uMi5kZWZhdWx0KHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24odHJpZ2dlciksXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMudGFyZ2V0KHRyaWdnZXIpLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogdGhpcy50ZXh0KHRyaWdnZXIpLFxyXG4gICAgICAgICAgICAgICAgdHJpZ2dlcjogdHJpZ2dlcixcclxuICAgICAgICAgICAgICAgIGVtaXR0ZXI6IHRoaXNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5kZWZhdWx0QWN0aW9uID0gZnVuY3Rpb24gZGVmYXVsdEFjdGlvbih0cmlnZ2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnZXRBdHRyaWJ1dGVWYWx1ZSgnYWN0aW9uJywgdHJpZ2dlcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5kZWZhdWx0VGFyZ2V0ID0gZnVuY3Rpb24gZGVmYXVsdFRhcmdldCh0cmlnZ2VyKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IGdldEF0dHJpYnV0ZVZhbHVlKCd0YXJnZXQnLCB0cmlnZ2VyKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZWxlY3Rvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5kZWZhdWx0VGV4dCA9IGZ1bmN0aW9uIGRlZmF1bHRUZXh0KHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdldEF0dHJpYnV0ZVZhbHVlKCd0ZXh0JywgdHJpZ2dlcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5kZXN0cm95KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5jbGlwYm9hcmRBY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBDbGlwYm9hcmQ7XHJcbiAgICB9KF90aW55RW1pdHRlcjIuZGVmYXVsdCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gcmV0cmlldmUgYXR0cmlidXRlIHZhbHVlLlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN1ZmZpeFxyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldEF0dHJpYnV0ZVZhbHVlKHN1ZmZpeCwgZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBhdHRyaWJ1dGUgPSAnZGF0YS1jbGlwYm9hcmQtJyArIHN1ZmZpeDtcclxuXHJcbiAgICAgICAgaWYgKCFlbGVtZW50Lmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZS5leHBvcnRzID0gQ2xpcGJvYXJkO1xyXG59KTtcclxuXHJcbn0se1wiLi9jbGlwYm9hcmQtYWN0aW9uXCI6OCxcImdvb2QtbGlzdGVuZXJcIjo0LFwidGlueS1lbWl0dGVyXCI6N31dfSx7fSxbOV0pKDkpXHJcbn0pOyIsIiggZnVuY3Rpb24oIHdpbmRvdywgdW5kZWZpbmVkICkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0ICogSGFuZGxlcyBtYW5hZ2luZyBhbGwgZXZlbnRzIGZvciB3aGF0ZXZlciB5b3UgcGx1ZyBpdCBpbnRvLiBQcmlvcml0aWVzIGZvciBob29rcyBhcmUgYmFzZWQgb24gbG93ZXN0IHRvIGhpZ2hlc3QgaW5cclxuXHQgKiB0aGF0LCBsb3dlc3QgcHJpb3JpdHkgaG9va3MgYXJlIGZpcmVkIGZpcnN0LlxyXG5cdCAqL1xyXG5cdHZhciBFdmVudE1hbmFnZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBNYWludGFpbiBhIHJlZmVyZW5jZSB0byB0aGUgb2JqZWN0IHNjb3BlIHNvIG91ciBwdWJsaWMgbWV0aG9kcyBuZXZlciBnZXQgY29uZnVzaW5nLlxyXG5cdFx0ICovXHJcblx0XHR2YXIgTWV0aG9kc0F2YWlsYWJsZSA9IHtcclxuXHRcdFx0cmVtb3ZlRmlsdGVyIDogcmVtb3ZlRmlsdGVyLFxyXG5cdFx0XHRhcHBseUZpbHRlcnMgOiBhcHBseUZpbHRlcnMsXHJcblx0XHRcdGFkZEZpbHRlciA6IGFkZEZpbHRlcixcclxuXHRcdFx0cmVtb3ZlQWN0aW9uIDogcmVtb3ZlQWN0aW9uLFxyXG5cdFx0XHRkb0FjdGlvbiA6IGRvQWN0aW9uLFxyXG5cdFx0XHRhZGRBY3Rpb24gOiBhZGRBY3Rpb25cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDb250YWlucyB0aGUgaG9va3MgdGhhdCBnZXQgcmVnaXN0ZXJlZCB3aXRoIHRoaXMgRXZlbnRNYW5hZ2VyLiBUaGUgYXJyYXkgZm9yIHN0b3JhZ2UgdXRpbGl6ZXMgYSBcImZsYXRcIlxyXG5cdFx0ICogb2JqZWN0IGxpdGVyYWwgc3VjaCB0aGF0IGxvb2tpbmcgdXAgdGhlIGhvb2sgdXRpbGl6ZXMgdGhlIG5hdGl2ZSBvYmplY3QgbGl0ZXJhbCBoYXNoLlxyXG5cdFx0ICovXHJcblx0XHR2YXIgU1RPUkFHRSA9IHtcclxuXHRcdFx0YWN0aW9ucyA6IHt9LFxyXG5cdFx0XHRmaWx0ZXJzIDoge31cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBZGRzIGFuIGFjdGlvbiB0byB0aGUgZXZlbnQgbWFuYWdlci5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gYWN0aW9uIE11c3QgY29udGFpbiBuYW1lc3BhY2UuaWRlbnRpZmllclxyXG5cdFx0ICogQHBhcmFtIGNhbGxiYWNrIE11c3QgYmUgYSB2YWxpZCBjYWxsYmFjayBmdW5jdGlvbiBiZWZvcmUgdGhpcyBhY3Rpb24gaXMgYWRkZWRcclxuXHRcdCAqIEBwYXJhbSBbcHJpb3JpdHk9MTBdIFVzZWQgdG8gY29udHJvbCB3aGVuIHRoZSBmdW5jdGlvbiBpcyBleGVjdXRlZCBpbiByZWxhdGlvbiB0byBvdGhlciBjYWxsYmFja3MgYm91bmQgdG8gdGhlIHNhbWUgaG9va1xyXG5cdFx0ICogQHBhcmFtIFtjb250ZXh0XSBTdXBwbHkgYSB2YWx1ZSB0byBiZSB1c2VkIGZvciB0aGlzXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIGFkZEFjdGlvbiggYWN0aW9uLCBjYWxsYmFjaywgcHJpb3JpdHksIGNvbnRleHQgKSB7XHJcblx0XHRcdGlmKCB0eXBlb2YgYWN0aW9uID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicgKSB7XHJcblx0XHRcdFx0cHJpb3JpdHkgPSBwYXJzZUludCggKCBwcmlvcml0eSB8fCAxMCApLCAxMCApO1xyXG5cdFx0XHRcdF9hZGRIb29rKCAnYWN0aW9ucycsIGFjdGlvbiwgY2FsbGJhY2ssIHByaW9yaXR5LCBjb250ZXh0ICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBNZXRob2RzQXZhaWxhYmxlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUGVyZm9ybXMgYW4gYWN0aW9uIGlmIGl0IGV4aXN0cy4gWW91IGNhbiBwYXNzIGFzIG1hbnkgYXJndW1lbnRzIGFzIHlvdSB3YW50IHRvIHRoaXMgZnVuY3Rpb247IHRoZSBvbmx5IHJ1bGUgaXNcclxuXHRcdCAqIHRoYXQgdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYWx3YXlzIGJlIHRoZSBhY3Rpb24uXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIGRvQWN0aW9uKCAvKiBhY3Rpb24sIGFyZzEsIGFyZzIsIC4uLiAqLyApIHtcclxuXHRcdFx0dmFyIGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKTtcclxuXHRcdFx0dmFyIGFjdGlvbiA9IGFyZ3Muc2hpZnQoKTtcclxuXHJcblx0XHRcdGlmKCB0eXBlb2YgYWN0aW9uID09PSAnc3RyaW5nJyApIHtcclxuXHRcdFx0XHRfcnVuSG9vayggJ2FjdGlvbnMnLCBhY3Rpb24sIGFyZ3MgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgYWN0aW9uIGlmIGl0IGNvbnRhaW5zIGEgbmFtZXNwYWNlLmlkZW50aWZpZXIgJiBleGlzdHMuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIGFjdGlvbiBUaGUgYWN0aW9uIHRvIHJlbW92ZVxyXG5cdFx0ICogQHBhcmFtIFtjYWxsYmFja10gQ2FsbGJhY2sgZnVuY3Rpb24gdG8gcmVtb3ZlXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIHJlbW92ZUFjdGlvbiggYWN0aW9uLCBjYWxsYmFjayApIHtcclxuXHRcdFx0aWYoIHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnICkge1xyXG5cdFx0XHRcdF9yZW1vdmVIb29rKCAnYWN0aW9ucycsIGFjdGlvbiwgY2FsbGJhY2sgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBZGRzIGEgZmlsdGVyIHRvIHRoZSBldmVudCBtYW5hZ2VyLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBmaWx0ZXIgTXVzdCBjb250YWluIG5hbWVzcGFjZS5pZGVudGlmaWVyXHJcblx0XHQgKiBAcGFyYW0gY2FsbGJhY2sgTXVzdCBiZSBhIHZhbGlkIGNhbGxiYWNrIGZ1bmN0aW9uIGJlZm9yZSB0aGlzIGFjdGlvbiBpcyBhZGRlZFxyXG5cdFx0ICogQHBhcmFtIFtwcmlvcml0eT0xMF0gVXNlZCB0byBjb250cm9sIHdoZW4gdGhlIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIGluIHJlbGF0aW9uIHRvIG90aGVyIGNhbGxiYWNrcyBib3VuZCB0byB0aGUgc2FtZSBob29rXHJcblx0XHQgKiBAcGFyYW0gW2NvbnRleHRdIFN1cHBseSBhIHZhbHVlIHRvIGJlIHVzZWQgZm9yIHRoaXNcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gYWRkRmlsdGVyKCBmaWx0ZXIsIGNhbGxiYWNrLCBwcmlvcml0eSwgY29udGV4dCApIHtcclxuXHRcdFx0aWYoIHR5cGVvZiBmaWx0ZXIgPT09ICdzdHJpbmcnICYmIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyApIHtcclxuXHRcdFx0XHRwcmlvcml0eSA9IHBhcnNlSW50KCAoIHByaW9yaXR5IHx8IDEwICksIDEwICk7XHJcblx0XHRcdFx0X2FkZEhvb2soICdmaWx0ZXJzJywgZmlsdGVyLCBjYWxsYmFjaywgcHJpb3JpdHksIGNvbnRleHQgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBQZXJmb3JtcyBhIGZpbHRlciBpZiBpdCBleGlzdHMuIFlvdSBzaG91bGQgb25seSBldmVyIHBhc3MgMSBhcmd1bWVudCB0byBiZSBmaWx0ZXJlZC4gVGhlIG9ubHkgcnVsZSBpcyB0aGF0XHJcblx0XHQgKiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBhbHdheXMgYmUgdGhlIGZpbHRlci5cclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gYXBwbHlGaWx0ZXJzKCAvKiBmaWx0ZXIsIGZpbHRlcmVkIGFyZywgYXJnMiwgLi4uICovICkge1xyXG5cdFx0XHR2YXIgYXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApO1xyXG5cdFx0XHR2YXIgZmlsdGVyID0gYXJncy5zaGlmdCgpO1xyXG5cclxuXHRcdFx0aWYoIHR5cGVvZiBmaWx0ZXIgPT09ICdzdHJpbmcnICkge1xyXG5cdFx0XHRcdHJldHVybiBfcnVuSG9vayggJ2ZpbHRlcnMnLCBmaWx0ZXIsIGFyZ3MgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgZmlsdGVyIGlmIGl0IGNvbnRhaW5zIGEgbmFtZXNwYWNlLmlkZW50aWZpZXIgJiBleGlzdHMuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIGZpbHRlciBUaGUgYWN0aW9uIHRvIHJlbW92ZVxyXG5cdFx0ICogQHBhcmFtIFtjYWxsYmFja10gQ2FsbGJhY2sgZnVuY3Rpb24gdG8gcmVtb3ZlXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIHJlbW92ZUZpbHRlciggZmlsdGVyLCBjYWxsYmFjayApIHtcclxuXHRcdFx0aWYoIHR5cGVvZiBmaWx0ZXIgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0X3JlbW92ZUhvb2soICdmaWx0ZXJzJywgZmlsdGVyLCBjYWxsYmFjayApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBob29rIGJ5IHJlc2V0dGluZyB0aGUgdmFsdWUgb2YgaXQuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHR5cGUgVHlwZSBvZiBob29rLCBlaXRoZXIgJ2FjdGlvbnMnIG9yICdmaWx0ZXJzJ1xyXG5cdFx0ICogQHBhcmFtIGhvb2sgVGhlIGhvb2sgKG5hbWVzcGFjZS5pZGVudGlmaWVyKSB0byByZW1vdmVcclxuXHRcdCAqIEBwcml2YXRlXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIF9yZW1vdmVIb29rKCB0eXBlLCBob29rLCBjYWxsYmFjaywgY29udGV4dCApIHtcclxuXHRcdFx0dmFyIGhhbmRsZXJzLCBoYW5kbGVyLCBpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKCAhU1RPUkFHRVsgdHlwZSBdWyBob29rIF0gKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggIWNhbGxiYWNrICkge1xyXG5cdFx0XHRcdFNUT1JBR0VbIHR5cGUgXVsgaG9vayBdID0gW107XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aGFuZGxlcnMgPSBTVE9SQUdFWyB0eXBlIF1bIGhvb2sgXTtcclxuXHRcdFx0XHRpZiAoICFjb250ZXh0ICkge1xyXG5cdFx0XHRcdFx0Zm9yICggaSA9IGhhbmRsZXJzLmxlbmd0aDsgaS0tOyApIHtcclxuXHRcdFx0XHRcdFx0aWYgKCBoYW5kbGVyc1tpXS5jYWxsYmFjayA9PT0gY2FsbGJhY2sgKSB7XHJcblx0XHRcdFx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBpLCAxICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRmb3IgKCBpID0gaGFuZGxlcnMubGVuZ3RoOyBpLS07ICkge1xyXG5cdFx0XHRcdFx0XHRoYW5kbGVyID0gaGFuZGxlcnNbaV07XHJcblx0XHRcdFx0XHRcdGlmICggaGFuZGxlci5jYWxsYmFjayA9PT0gY2FsbGJhY2sgJiYgaGFuZGxlci5jb250ZXh0ID09PSBjb250ZXh0KSB7XHJcblx0XHRcdFx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBpLCAxICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFkZHMgdGhlIGhvb2sgdG8gdGhlIGFwcHJvcHJpYXRlIHN0b3JhZ2UgY29udGFpbmVyXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHR5cGUgJ2FjdGlvbnMnIG9yICdmaWx0ZXJzJ1xyXG5cdFx0ICogQHBhcmFtIGhvb2sgVGhlIGhvb2sgKG5hbWVzcGFjZS5pZGVudGlmaWVyKSB0byBhZGQgdG8gb3VyIGV2ZW50IG1hbmFnZXJcclxuXHRcdCAqIEBwYXJhbSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBob29rIGlzIGV4ZWN1dGVkLlxyXG5cdFx0ICogQHBhcmFtIHByaW9yaXR5IFRoZSBwcmlvcml0eSBvZiB0aGlzIGhvb2suIE11c3QgYmUgYW4gaW50ZWdlci5cclxuXHRcdCAqIEBwYXJhbSBbY29udGV4dF0gQSB2YWx1ZSB0byBiZSB1c2VkIGZvciB0aGlzXHJcblx0XHQgKiBAcHJpdmF0ZVxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBfYWRkSG9vayggdHlwZSwgaG9vaywgY2FsbGJhY2ssIHByaW9yaXR5LCBjb250ZXh0ICkge1xyXG5cdFx0XHR2YXIgaG9va09iamVjdCA9IHtcclxuXHRcdFx0XHRjYWxsYmFjayA6IGNhbGxiYWNrLFxyXG5cdFx0XHRcdHByaW9yaXR5IDogcHJpb3JpdHksXHJcblx0XHRcdFx0Y29udGV4dCA6IGNvbnRleHRcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIFV0aWxpemUgJ3Byb3AgaXRzZWxmJyA6IGh0dHA6Ly9qc3BlcmYuY29tL2hhc293bnByb3BlcnR5LXZzLWluLXZzLXVuZGVmaW5lZC8xOVxyXG5cdFx0XHR2YXIgaG9va3MgPSBTVE9SQUdFWyB0eXBlIF1bIGhvb2sgXTtcclxuXHRcdFx0aWYoIGhvb2tzICkge1xyXG5cdFx0XHRcdGhvb2tzLnB1c2goIGhvb2tPYmplY3QgKTtcclxuXHRcdFx0XHRob29rcyA9IF9ob29rSW5zZXJ0U29ydCggaG9va3MgKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRob29rcyA9IFsgaG9va09iamVjdCBdO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRTVE9SQUdFWyB0eXBlIF1bIGhvb2sgXSA9IGhvb2tzO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVXNlIGFuIGluc2VydCBzb3J0IGZvciBrZWVwaW5nIG91ciBob29rcyBvcmdhbml6ZWQgYmFzZWQgb24gcHJpb3JpdHkuIFRoaXMgZnVuY3Rpb24gaXMgcmlkaWN1bG91c2x5IGZhc3RlclxyXG5cdFx0ICogdGhhbiBidWJibGUgc29ydCwgZXRjOiBodHRwOi8vanNwZXJmLmNvbS9qYXZhc2NyaXB0LXNvcnRcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gaG9va3MgVGhlIGN1c3RvbSBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGUgYXBwcm9wcmlhdGUgaG9va3MgdG8gcGVyZm9ybSBhbiBpbnNlcnQgc29ydCBvbi5cclxuXHRcdCAqIEBwcml2YXRlXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIF9ob29rSW5zZXJ0U29ydCggaG9va3MgKSB7XHJcblx0XHRcdHZhciB0bXBIb29rLCBqLCBwcmV2SG9vaztcclxuXHRcdFx0Zm9yKCB2YXIgaSA9IDEsIGxlbiA9IGhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrICkge1xyXG5cdFx0XHRcdHRtcEhvb2sgPSBob29rc1sgaSBdO1xyXG5cdFx0XHRcdGogPSBpO1xyXG5cdFx0XHRcdHdoaWxlKCAoIHByZXZIb29rID0gaG9va3NbIGogLSAxIF0gKSAmJiAgcHJldkhvb2sucHJpb3JpdHkgPiB0bXBIb29rLnByaW9yaXR5ICkge1xyXG5cdFx0XHRcdFx0aG9va3NbIGogXSA9IGhvb2tzWyBqIC0gMSBdO1xyXG5cdFx0XHRcdFx0LS1qO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRob29rc1sgaiBdID0gdG1wSG9vaztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIGhvb2tzO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUnVucyB0aGUgc3BlY2lmaWVkIGhvb2suIElmIGl0IGlzIGFuIGFjdGlvbiwgdGhlIHZhbHVlIGlzIG5vdCBtb2RpZmllZCBidXQgaWYgaXQgaXMgYSBmaWx0ZXIsIGl0IGlzLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSB0eXBlICdhY3Rpb25zJyBvciAnZmlsdGVycydcclxuXHRcdCAqIEBwYXJhbSBob29rIFRoZSBob29rICggbmFtZXNwYWNlLmlkZW50aWZpZXIgKSB0byBiZSByYW4uXHJcblx0XHQgKiBAcGFyYW0gYXJncyBBcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgYWN0aW9uL2ZpbHRlci4gSWYgaXQncyBhIGZpbHRlciwgYXJncyBpcyBhY3R1YWxseSBhIHNpbmdsZSBwYXJhbWV0ZXIuXHJcblx0XHQgKiBAcHJpdmF0ZVxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBfcnVuSG9vayggdHlwZSwgaG9vaywgYXJncyApIHtcclxuXHRcdFx0dmFyIGhhbmRsZXJzID0gU1RPUkFHRVsgdHlwZSBdWyBob29rIF0sIGksIGxlbjtcclxuXHRcdFx0XHJcblx0XHRcdGlmICggIWhhbmRsZXJzICkge1xyXG5cdFx0XHRcdHJldHVybiAodHlwZSA9PT0gJ2ZpbHRlcnMnKSA/IGFyZ3NbMF0gOiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGVuID0gaGFuZGxlcnMubGVuZ3RoO1xyXG5cdFx0XHRpZiAoIHR5cGUgPT09ICdmaWx0ZXJzJyApIHtcclxuXHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xyXG5cdFx0XHRcdFx0YXJnc1sgMCBdID0gaGFuZGxlcnNbIGkgXS5jYWxsYmFjay5hcHBseSggaGFuZGxlcnNbIGkgXS5jb250ZXh0LCBhcmdzICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XHJcblx0XHRcdFx0XHRoYW5kbGVyc1sgaSBdLmNhbGxiYWNrLmFwcGx5KCBoYW5kbGVyc1sgaSBdLmNvbnRleHQsIGFyZ3MgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiAoIHR5cGUgPT09ICdmaWx0ZXJzJyApID8gYXJnc1sgMCBdIDogdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyByZXR1cm4gYWxsIG9mIHRoZSBwdWJsaWNseSBhdmFpbGFibGUgbWV0aG9kc1xyXG5cdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XHJcblxyXG5cdH07XHJcblx0XHJcblx0d2luZG93LndwID0gd2luZG93LndwIHx8IHt9O1xyXG5cdHdpbmRvdy53cC5ob29rcyA9IG5ldyBFdmVudE1hbmFnZXIoKTtcclxuXHJcbn0gKSggd2luZG93ICk7XHJcbiIsIihmdW5jdGlvbigkKSB7XG5cblx0JCggZG9jdW1lbnQgKS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cblx0XHQkKCAnLnByZXR0eS1zZWxlY3QnICkuc2VsZWN0aXplKCk7XG5cblx0XHQvLyBDb3B5IG1lcmdlIHRhZ1xuXG5cdFx0dmFyIG1lcmdlX3RhZ19jbGlwYm9hcmQgPSBuZXcgQ2xpcGJvYXJkKCcjbm90aWZpY2F0aW9uX21lcmdlX3RhZ3MgLmluc2lkZSB1bCBsaSBjb2RlJyk7XG5cblx0XHRtZXJnZV90YWdfY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24oZSkge1xuXG5cdFx0ICAgIHZhciAkY29kZSA9ICQoZS50cmlnZ2VyKSxcblx0XHRcdCAgICB0YWcgICA9ICRjb2RlLnRleHQoKTtcblxuXHRcdFx0JGNvZGUudGV4dCggbm90aWZpY2F0aW9uLmNvcGllZCApO1xuXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQkY29kZS50ZXh0KCB0YWcgKTtcblx0XHRcdH0sIDgwMCk7XG5cblx0XHR9KTtcblxuXHRcdC8vIEdldCBmcmVzaCBtZXJnZSB0YWdzIGZvciBzZWxlY3RlZCB0cmlnZ2VyXG5cblx0XHQkKCcjbm90aWZpY2F0aW9uX3RyaWdnZXJfc2VsZWN0Jykuc2VsZWN0aXplKCkuY2hhbmdlKGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgJHNlbGVjdCAgICA9ICQodGhpcyksXG5cdFx0XHRcdCRjb250YWluZXIgPSAkKCcjbm90aWZpY2F0aW9uX21lcmdlX3RhZ3MgLmluc2lkZScpLFxuXHRcdFx0XHQkbWV0YWJveCAgID0gJCgnI25vdGlmaWNhdGlvbl9tZXJnZV90YWdzJyk7XG5cblx0XHRcdCRtZXRhYm94LmZhZGVUbygyMDAsIDAuNSk7XG5cblx0XHRcdHZhciBkYXRhID0ge1xuXHRcdFx0XHQnYWN0aW9uJzogJ25vdGlmaWNhdGlvbl9nZXRfbWVyZ2VfdGFncycsXG5cdFx0XHRcdCd0cmlnZ2VyJzogJHNlbGVjdC52YWwoKVxuXHRcdFx0fTtcblxuXHRcdCAgICAkLnBvc3QoYWpheHVybCwgZGF0YSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdCAgICBcdGlmICggcmVzcG9uc2Uuc3VjY2VzcyA9PSBmYWxzZSApIHtcblx0XHQgICAgXHRcdCRjb250YWluZXIuaHRtbCggJzxwPicgKyByZXNwb25zZS5kYXRhICsgJzwvcD4nICk7XG5cdFx0ICAgIFx0XHR2YXIgdGFncyA9IHt9O1xuXHRcdCAgICBcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHR1bCA9ICQoXCI8dWw+XCIpO1xuXG5cdFx0XHRcdFx0dmFyIHRhZ3MgPSByZXNwb25zZS5kYXRhO1xuXG5cdFx0XHRcdFx0JC5lYWNoKHRhZ3MsIGZ1bmN0aW9uKCBuLCB0YWcgKSB7XG5cdFx0XHRcdFx0XHR1bC5hcHBlbmQoJzxsaT48Y29kZSBkYXRhLWNsaXBib2FyZC10ZXh0PVwieycgKyB0YWcgKyAnfVwiPnsnICsgdGFnICsgJ308L2NvZGU+PC9saT4nKTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdCRjb250YWluZXIuaHRtbCh1bCk7XG5cblx0XHQgICAgXHR9XG5cblx0XHQgICAgXHR3cC5ob29rcy5kb0FjdGlvbiggJ25vdGlmaWNhdGlvbi5jaGFuZ2VkX3RyaWdnZXInLCAkc2VsZWN0LnZhbCgpLCB0YWdzICk7XG5cblx0XHQgICAgXHQkbWV0YWJveC5mYWRlVG8oMjAwLCAxKTtcblxuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHRcdC8vIFVwZGF0ZSByZWNpcGllbnQgcm93czogbnVtYmVyIGFuZCByZW1vdmUgYnV0dG9uXG5cblx0XHR2YXIgdXBkYXRlX3JlY2lwaWVudHMgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIGkgPSAwO1xuXG5cdFx0XHRpZiAoICQoJyNub3RpZmljYXRpb25fcmVjaXBpZW50cyAucmVjaXBpZW50JykubGVuZ3RoID09IDEgKSB7XG5cdFx0XHRcdHZhciBkaXNhYmxlID0gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciBkaXNhYmxlID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdCQoJyNub3RpZmljYXRpb25fcmVjaXBpZW50cyAucmVjaXBpZW50JykuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyICRyb3cgICAgICAgICAgID0gJCh0aGlzKSxcblx0XHRcdFx0XHQkcmVtb3ZlX2J1dHRvbiA9ICRyb3cuZmluZCgnLmFjdGlvbnMgLmRhc2hpY29ucy10cmFzaCcpLFxuXHRcdFx0XHRcdCRpbnB1dHMgICAgICAgID0gJHJvdy5maW5kKCdpbnB1dCwgc2VsZWN0Jyk7XG5cblx0XHRcdFx0aWYgKCBkaXNhYmxlICkge1xuXHRcdFx0XHRcdCRyZW1vdmVfYnV0dG9uLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCRyZW1vdmVfYnV0dG9uLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0JGlucHV0cy5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdHZhciAkaW5wdXQgICAgPSAkKHRoaXMpLFxuXHRcdFx0XHRcdFx0cGFydF9uYW1lID0gJGlucHV0LmF0dHIoJ25hbWUnKTtcblxuXHRcdFx0XHRcdCRpbnB1dC5hdHRyKCAnbmFtZScsIHBhcnRfbmFtZS5yZXBsYWNlKCAvbm90aWZpY2F0aW9uX3JlY2lwaWVudFxcW1swLTldK1xcXS8sICdub3RpZmljYXRpb25fcmVjaXBpZW50WycraSsnXScgKSApO1xuXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0XHRpKys7XG5cblx0XHRcdH0gKTtcblxuXHRcdH1cblxuXHRcdC8vIEFkZCByZWNpcGllbnRcblxuXHRcdHZhciBhZGRfcmVjaXBpZW50ID0gZnVuY3Rpb24oIHR5cGUsIHZhbHVlICkge1xuXG5cdFx0XHR0eXBlICA9IHR5cGVvZiB0eXBlICE9PSAndW5kZWZpbmVkJyA/IHR5cGUgOiAnJztcblx0XHRcdHZhbHVlID0gdHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJyA/IHZhbHVlIDogJyc7XG5cblx0XHRcdHZhciAkY29udGFpbmVyID0gJCgnI25vdGlmaWNhdGlvbl9yZWNpcGllbnRzIC5yZWNpcGllbnRzJyk7XG5cblx0XHRcdCRjb250YWluZXIuZmFkZVRvKDIwMCwgMC41KTtcblxuXHRcdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHRcdCdhY3Rpb24nOiAnbm90aWZpY2F0aW9uX2FkZF9yZWNpcGllbnQnLFxuXHRcdFx0XHQndHlwZSc6ICAgdHlwZSxcblx0XHRcdFx0J3ZhbHVlJzogIHZhbHVlXG5cdFx0XHR9O1xuXG5cdFx0ICAgICQucG9zdChhamF4dXJsLCBkYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0ICAgIFx0aWYgKCByZXNwb25zZS5zdWNjZXNzID09IGZhbHNlICkge1xuXHRcdCAgICBcdFx0YWxlcnQoIHJlc3BvbnNlLmRhdGEgKTtcblx0XHQgICAgXHR9IGVsc2Uge1xuXG5cdFx0ICAgIFx0XHR2YXIgJHJvdyA9ICQocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFx0JGNvbnRhaW5lci5hcHBlbmQoJHJvdyk7XG5cblx0XHRcdFx0XHQvLyB1cGRhdGUgaW5wdXRzIGRhdGEgd2hlbiB2YWx1ZXMgYXJlIGR5bmFtaWNcblx0XHRcdFx0XHQkcm93LmZpbmQoJ2lucHV0LCBzZWxlY3QnKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHdwLmhvb2tzLmRvQWN0aW9uKCAnbm90aWZpY2F0aW9uLnVwZGF0ZV9pbnB1dCcsICQodGhpcyksICQodGhpcykuZGF0YSgndmFsdWUnKSwgJCh0aGlzKS5kYXRhKCd1cGRhdGUnKSApO1xuXHRcdFx0XHRcdH0gKTtcblxuXHRcdCAgICBcdH1cblxuXHRcdCAgICBcdCRjb250YWluZXIuZmFkZVRvKDIwMCwgMSk7XG5cblx0XHQgICAgXHR1cGRhdGVfcmVjaXBpZW50cygpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH07XG5cblx0XHQkKCcjbm90aWZpY2F0aW9uX3JlY2lwaWVudHMnKS5vbiggJ2NsaWNrJywgJyNub3RpZmljYXRpb25fYWRkX3JlY2lwaWVudCcsIGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0YWRkX3JlY2lwaWVudCgpO1xuXG5cdFx0fSk7XG5cblx0XHQvLyBSZW1vdmUgcmVjaXBpZW50XG5cblx0XHQkKCcjbm90aWZpY2F0aW9uX3JlY2lwaWVudHMnKS5vbiggJ2NsaWNrJywgJy5yZWNpcGllbnQgLmFjdGlvbnMgLmRhc2hpY29ucy10cmFzaCcsIGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0dmFyICRidXR0b24gICAgPSAkKHRoaXMpLFxuXHRcdFx0XHQkY29udGFpbmVyID0gJGJ1dHRvbi5wYXJlbnRzKCcucmVjaXBpZW50JykuZmlyc3QoKTtcblxuXHRcdFx0aWYgKCAkYnV0dG9uLmhhc0NsYXNzKCdkaXNhYmxlZCcpICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdCRjb250YWluZXIuYW5pbWF0ZSh7bGVmdDogJzUwcHgnLCBvcGFjaXR5OiAwfSwgNDAwLCAnbGluZWFyJywgZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XG5cdCAgICAgICAgICAgIHVwZGF0ZV9yZWNpcGllbnRzKCk7XG5cdCAgICAgICAgfSApO1xuXG5cdFx0fSk7XG5cblx0XHQvLyBHZXQgaW5wdXQgZmllbGQgZm9yIHJlY2lwaWVudFxuXG5cdFx0JCgnI25vdGlmaWNhdGlvbl9yZWNpcGllbnRzJykub24oICdjaGFuZ2UnLCAnLnJlY2lwaWVudCAuZ3JvdXAgc2VsZWN0JywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciAkc2VsZWN0ICAgID0gJCh0aGlzKSxcblx0XHRcdFx0JGlucHV0ICAgICA9ICRzZWxlY3QucGFyZW50KCkubmV4dCgnLnZhbHVlJykuZmluZCgnaW5wdXQsIHNlbGVjdCcpLmZpcnN0KCksXG5cdFx0XHRcdCRjb250YWluZXIgPSAkaW5wdXQucGFyZW50KCk7XG5cblx0XHRcdCRjb250YWluZXIuZmFkZVRvKDIwMCwgMC41KTtcblxuXHRcdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHRcdCdhY3Rpb24nOiAnbm90aWZpY2F0aW9uX2dldF9yZWNpcGllbnRfaW5wdXQnLFxuXHRcdFx0XHQncmVjaXBpZW50X25hbWUnOiAkc2VsZWN0LnZhbCgpXG5cdFx0XHR9O1xuXG5cdFx0ICAgICQucG9zdChhamF4dXJsLCBkYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0ICAgIFx0aWYgKCByZXNwb25zZS5zdWNjZXNzID09IGZhbHNlICkge1xuXHRcdCAgICBcdFx0YWxlcnQoIHJlc3BvbnNlLmRhdGEgKTtcblx0XHQgICAgXHR9IGVsc2Uge1xuXG5cdFx0ICAgIFx0XHR2YXIgJGlucHV0ID0gJChyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XHQkY29udGFpbmVyLmh0bWwoJGlucHV0KTtcblxuXHRcdFx0XHRcdGlmICggdHlwZW9mICRpbnB1dC5kYXRhKCd1cGRhdGUnKSAhPT0gJ3VuZGVmaW5lZCcgKSB7XG5cdFx0XHRcdFx0XHR3cC5ob29rcy5kb0FjdGlvbiggJ25vdGlmaWNhdGlvbi51cGRhdGVfaW5wdXQnLCAkaW5wdXQsICRpbnB1dC5kYXRhKCd2YWx1ZScpLCAkaW5wdXQuZGF0YSgndXBkYXRlJykgKTtcblx0XHRcdFx0XHR9XG5cblx0XHQgICAgXHR9XG5cblx0XHQgICAgXHQkY29udGFpbmVyLmZhZGVUbygyMDAsIDEpO1xuXG5cdFx0ICAgIFx0dXBkYXRlX3JlY2lwaWVudHMoKTtcblxuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHRcdC8vIFByb2Nlc3MgYWxsIHJlY2lwaWVudCBmaWVsZHMgd2hpY2ggbmVlZHMgbGl2ZSB1cGRhdGVcblxuXHRcdHZhciB1cGRhdGVfYWxsX2lucHV0cyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQkKCcjbm90aWZpY2F0aW9uX3JlY2lwaWVudHMgLnJlY2lwaWVudCcpLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHZhciAkaW5wdXQgPSAkKHRoaXMpLmZpbmQoJy5maWVsZC52YWx1ZSBzZWxlY3QsIC5maWVsZC52YWx1ZSBpbnB1dCcpO1xuXG5cdFx0XHRcdGlmICggdHlwZW9mICRpbnB1dC5kYXRhKCd1cGRhdGUnKSAhPT0gJ3VuZGVmaW5lZCcgKSB7XG5cdFx0XHRcdFx0d3AuaG9va3MuZG9BY3Rpb24oICdub3RpZmljYXRpb24udXBkYXRlX2lucHV0JywgJGlucHV0LCAkaW5wdXQuZGF0YSgndmFsdWUnKSwgJGlucHV0LmRhdGEoJ3VwZGF0ZScpICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdCQoZG9jdW1lbnQpLnJlYWR5KCB1cGRhdGVfYWxsX2lucHV0cyApO1xuXHRcdHdwLmhvb2tzLmFkZEFjdGlvbiggJ25vdGlmaWNhdGlvbi5jaGFuZ2VkX3RyaWdnZXInLCB1cGRhdGVfYWxsX2lucHV0cyApO1xuXG5cdFx0Ly8gVXBkYXRlIG1lcmdlIHRhZ3MgaW5wdXRcblxuXHRcdHdwLmhvb2tzLmFkZEFjdGlvbiggJ25vdGlmaWNhdGlvbi51cGRhdGVfaW5wdXQnLCBmdW5jdGlvbiggJGlucHV0LCB2YWx1ZSwgdXBkYXRlX3R5cGUgKSB7XG5cblx0XHRcdGlmICggdXBkYXRlX3R5cGUgPT0gJ2VtYWlsX21lcmdlX3RhZ3MnICkge1xuXG5cdFx0XHRcdHZhciB0cmlnZ2VyICAgID0gJCgnI25vdGlmaWNhdGlvbl90cmlnZ2VyX3NlbGVjdCcpLnZhbCgpLFxuXHRcdFx0XHRcdCRjb250YWluZXIgPSAkaW5wdXQucGFyZW50KCk7XG5cblx0XHRcdFx0JGNvbnRhaW5lci5mYWRlVG8oMjAwLCAwLjUpO1xuXG5cdFx0XHRcdHZhciBkYXRhID0ge1xuXHRcdFx0XHRcdCdhY3Rpb24nOiAgJ25vdGlmaWNhdGlvbl9nZXRfZW1haWxfbWVyZ2VfdGFncycsXG5cdFx0XHRcdFx0J3RyaWdnZXInOiB0cmlnZ2VyXG5cdFx0XHRcdH07XG5cblx0XHRcdCAgICAkLnBvc3QoYWpheHVybCwgZGF0YSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0ICAgIFx0aWYgKCByZXNwb25zZS5zdWNjZXNzID09IGZhbHNlICkge1xuXHRcdFx0ICAgIFx0XHRhbGVydCggcmVzcG9uc2UuZGF0YSApO1xuXHRcdFx0ICAgIFx0fSBlbHNlIHtcblxuXHRcdFx0ICAgIFx0XHQvLyBjbGVhciBvcHRpb25zIGZpcnN0XG5cdFx0XHQgICAgXHRcdCRpbnB1dC5maW5kKCdvcHRpb24nKS5yZW1vdmUoKTtcblxuXHRcdFx0ICAgIFx0XHQvLyBhZGQgZW1wdHkgb3B0aW9uIGZvciBjbGFyaXR5XG5cdFx0XHQgICAgXHRcdCRpbnB1dC5hcHBlbmQoICQoJzxvcHRpb24+JykgKTtcblxuXHRcdFx0ICAgIFx0XHQkLmVhY2gocmVzcG9uc2UuZGF0YSwgZnVuY3Rpb24odGFnX3ZhbHVlLCB0YWdfbmFtZSkge1xuXG5cdFx0XHQgICAgXHRcdFx0dmFyIGF0dHMgPSB7XG5cdFx0XHRcdFx0XHQgICAgICAgIHZhbHVlOiB0YWdfdmFsdWUsXG5cdFx0XHRcdFx0XHQgICAgICAgIHRleHQgOiB0YWdfbmFtZVxuXHRcdFx0XHRcdFx0ICAgIH07XG5cblx0XHRcdFx0XHRcdCAgICBpZiAoIHRhZ192YWx1ZSA9PSB2YWx1ZSApIHtcblx0XHRcdFx0XHRcdCAgICBcdGF0dHMuc2VsZWN0ZWQgPSAnc2VsZWN0ZWQnO1xuXHRcdFx0XHRcdFx0ICAgIH1cblxuXHRcdFx0XHRcdFx0ICAgICRpbnB1dC5hcHBlbmQoICQoJzxvcHRpb24+JywgYXR0cykgKTtcblxuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdCAgICBcdH1cblxuXHRcdFx0ICAgIFx0JGNvbnRhaW5lci5mYWRlVG8oMjAwLCAxKTtcblxuXHRcdFx0XHR9KTtcblxuXHRcdFx0fVxuXG5cdFx0fSApO1xuXG5cdFx0Ly8gVXBkYXRlIG5vdGlmaWNhdGlvbiBkZWZhdWx0czogdGl0bGUsIHRlbXBsYXRlIGFuZCByZWNpcGllbnRzXG5cblx0XHR3cC5ob29rcy5hZGRBY3Rpb24oICdub3RpZmljYXRpb24uY2hhbmdlZF90cmlnZ2VyJywgZnVuY3Rpb24oIHRyaWdnZXJfc2x1ZywgdGFncyApIHtcblxuXHRcdFx0aWYgKCB0eXBlb2YgdGlueW1jZS5lZGl0b3JzLmNvbnRlbnQgPT0gJ3VuZGVmaW5lZCcgKSB7XG5cdFx0XHRcdHZhciBlZGl0b3JfY29udGVudCA9ICQoJyNjb250ZW50JykudmFsKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgZWRpdG9yX2NvbnRlbnQgPSB0aW55bWNlLmFjdGl2ZUVkaXRvci5nZXRDb250ZW50KCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggZWRpdG9yX2NvbnRlbnQgPT0gJycgKSB7XG5cblx0XHRcdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHRcdFx0J2FjdGlvbic6ICAnbm90aWZpY2F0aW9uX2dldF9kZWZhdWx0cycsXG5cdFx0XHRcdFx0J3RyaWdnZXInOiB0cmlnZ2VyX3NsdWdcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQkLnBvc3QoYWpheHVybCwgZGF0YSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0ICAgIFx0aWYgKCByZXNwb25zZS5zdWNjZXNzID09IGZhbHNlICkge1xuXHRcdFx0ICAgIFx0XHRhbGVydCggcmVzcG9uc2UuZGF0YSApO1xuXHRcdFx0ICAgIFx0fSBlbHNlIHtcblxuXHRcdFx0ICAgIFx0XHR2YXIgZGVmYXVsdHMgPSByZXNwb25zZS5kYXRhO1xuXG5cdFx0XHQgICAgXHRcdGlmICggZGVmYXVsdHMudGl0bGUgKSB7XG5cdFx0XHQgICAgXHRcdFx0JCggJyN0aXRsZScgKS52YWwoIGRlZmF1bHRzLnRpdGxlICkuZm9jdXMoKTtcblx0XHRcdCAgICBcdFx0fVxuXG5cdFx0XHQgICAgXHRcdGlmICggZGVmYXVsdHMudGVtcGxhdGUgKSB7XG5cblx0XHRcdCAgICBcdFx0XHRpZiAoIHR5cGVvZiB0aW55bWNlLmVkaXRvcnMuY29udGVudCA9PSAndW5kZWZpbmVkJyApIHtcblx0XHRcdFx0XHRcdFx0XHQkKCcjY29udGVudCcpLnZhbCggZGVmYXVsdHMudGVtcGxhdGUgKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aW55bWNlLmVkaXRvcnMuY29udGVudC5zZXRDb250ZW50KCBkZWZhdWx0cy50ZW1wbGF0ZSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdCAgICBcdFx0fVxuXG5cdFx0XHQgICAgXHRcdGlmICggZGVmYXVsdHMucmVjaXBpZW50cyApIHtcblxuXHRcdFx0ICAgIFx0XHRcdCQoJyNub3RpZmljYXRpb25fcmVjaXBpZW50cyAucmVjaXBpZW50cyAucmVjaXBpZW50JykuZmlyc3QoKS5yZW1vdmUoKTtcblxuXHRcdFx0ICAgIFx0XHRcdCQuZWFjaCggZGVmYXVsdHMucmVjaXBpZW50cywgZnVuY3Rpb24oIHR5cGUsIHZhbHVlICkge1xuXHRcdFx0XHRcdFx0XHRcdGFkZF9yZWNpcGllbnQoIHR5cGUsIHZhbHVlICk7XG5cdFx0XHRcdFx0XHRcdH0gKTtcblxuXHRcdFx0ICAgIFx0XHR9XG5cblx0XHRcdCAgICBcdH1cblxuXHRcdFx0XHR9KTtcblxuXHRcdFx0fVxuXG5cdFx0fSApO1xuXG5cdFx0Ly8gRGlzbWlzcyBiZWcgbWVzc2FnZVxuXG5cdFx0JCggJy5ub3RpZmljYXRpb24tbm90aWNlJyApLm9uKCAnY2xpY2snLCAnLmRpc21pc3MtYmVnLW1lc3NhZ2UnLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdHZhciAkYnV0dG9uID0gJCggdGhpcyApO1xuXG5cdFx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdFx0J2FjdGlvbic6ICAnbm90aWZpY2F0aW9uX2Rpc21pc3NfYmVnX21lc3NhZ2UnLFxuXHRcdFx0XHQnbm9uY2UnOiAkYnV0dG9uLmRhdGEoICdub25jZScgKVxuXHRcdFx0fTtcblxuXHRcdFx0JC5wb3N0KCBhamF4dXJsLCBkYXRhLCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cdFx0ICAgIFx0JGJ1dHRvbi5wYXJlbnRzKCAnLm5vdGlmaWNhdGlvbi1ub3RpY2UnICkuc2xpZGVVcCgpO1xuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHRcdC8vIERpc21pc3MgYmVnIGVtYWlsIG1lc3NhZ2VcblxuXHRcdCQoICcubm90aWZpY2F0aW9uLW5vdGljZScgKS5vbiggJ2NsaWNrJywgJy5kaXNtaXNzLWJlZy1lbWFpbC1tZXNzYWdlJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHR2YXIgJGJ1dHRvbiA9ICQoIHRoaXMgKTtcblxuXHRcdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHRcdCdhY3Rpb24nOiAgJ25vdGlmaWNhdGlvbl9kaXNtaXNzX2JlZ19lbWFpbF9tZXNzYWdlJyxcblx0XHRcdFx0J25vbmNlJzogJGJ1dHRvbi5kYXRhKCAnbm9uY2UnIClcblx0XHRcdH07XG5cblx0XHRcdCQucG9zdCggYWpheHVybCwgZGF0YSwgZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXHRcdCAgICBcdCRidXR0b24ucGFyZW50cyggJy5ub3RpZmljYXRpb24tbm90aWNlJyApLnNsaWRlVXAoKTtcblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0XHQvLyBQbHVnaW4gcmVtb3ZhbFxuXG5cdFx0JCggJyN0aGUtbGlzdCB0cltkYXRhLXNsdWc9XCJub3RpZmljYXRpb25cIl0gLmRlYWN0aXZhdGUgYScgKS5jbGljayggZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR9ICk7XG5cblx0XHQkKCAnYm9keScgKS5vbiggJ3N1Ym1pdCcsICcjbm90aWZpY2F0aW9uLXBsdWdpbi1mZWVkYmFjay1mb3JtJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHR2YXIgJGZvcm0gPSAkKHRoaXMpO1xuXG5cdFx0XHQkZm9ybS5maW5kKCAnLnNwaW5uZXInICkuYWRkQ2xhc3MoICdpcy1hY3RpdmUnICk7XG5cblx0XHRcdHZhciBkYXRhID0ge1xuXHRcdFx0XHQnYWN0aW9uJzogJ25vdGlmaWNhdGlvbl9zZW5kX2ZlZWRiYWNrJyxcblx0XHRcdFx0J2Zvcm0nICA6ICRmb3JtLnNlcmlhbGl6ZUFycmF5KClcblx0XHRcdH07XG5cblx0XHRcdCQucG9zdCggYWpheHVybCwgZGF0YSwgZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXHRcdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9ICQoICcjdGhlLWxpc3QgdHJbZGF0YS1zbHVnPVwibm90aWZpY2F0aW9uXCJdIC5kZWFjdGl2YXRlIGEnICkuZGF0YSggJ2RlYWN0aXZhdGUnICk7XG5cdFx0XHR9KTtcblxuXHRcdH0gKTtcblxuXHR9ICk7XG5cbn0pKGpRdWVyeSk7XG4iXX0=
