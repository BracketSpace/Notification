!function(t,e){"function"==typeof define&&define.amd?define("sifter",e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(t=o(String(t||"").toLowerCase()),!t||!t.length)return[];var e,n,i,s,l=[],c=t.split(/ +/);for(e=0,n=c.length;e<n;e++){if(i=r(c[e]),this.settings.diacritics)for(s in a)a.hasOwnProperty(s)&&(i=i.replace(new RegExp(s,"g"),a[s]));l.push({string:c[e],regex:new RegExp(i,"i")})}return l},t.prototype.iterator=function(t,e){var n;n=s(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)},n.apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var n,o,r,s,a;n=this,t=n.prepareSearch(t,e),r=t.tokens,o=t.options.fields,s=r.length,a=t.options.nesting;var l=function(t,e){var n,i;return t?(t=String(t||""),i=t.search(e.regex),i===-1?0:(n=e.string.length/t.length,0===i&&(n+=.5),n)):0},c=function(){var t=o.length;return t?1===t?function(t,e){return l(i(e,o[0],a),t)}:function(e,n){for(var r=0,s=0;r<t;r++)s+=l(i(n,o[r],a),e);return s/t}:function(){return 0}}();return s?1===s?function(t){return c(r[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,i=0;n<s;n++){if(e=c(r[n],t),e<=0)return 0;i+=e}return i/s}:function(t){for(var e=0,n=0;e<s;e++)n+=c(r[e],t);return n/s}:function(){return 0}},t.prototype.getSortFunction=function(t,n){var o,r,s,a,l,c,u,p,d,f,h;if(s=this,t=s.prepareSearch(t,n),h=!t.query&&n.sort_empty||n.sort,d=function(t,e){return"$score"===t?e.score:i(s.items[e.id],t,n.nesting)},l=[],h)for(o=0,r=h.length;o<r;o++)(t.query||"$score"!==h[o].field)&&l.push(h[o]);if(t.query){for(f=!0,o=0,r=l.length;o<r;o++)if("$score"===l[o].field){f=!1;break}f&&l.unshift({field:"$score",direction:"desc"})}else for(o=0,r=l.length;o<r;o++)if("$score"===l[o].field){l.splice(o,1);break}for(p=[],o=0,r=l.length;o<r;o++)p.push("desc"===l[o].direction?-1:1);return c=l.length,c?1===c?(a=l[0].field,u=p[0],function(t,n){return u*e(d(a,t),d(a,n))}):function(t,n){var i,o,r;for(i=0;i<c;i++)if(r=l[i].field,o=p[i]*e(d(r,t),d(r,n)))return o;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;e=n({},e);var i=e.fields,o=e.sort,r=e.sort_empty;return i&&!s(i)&&(e.fields=[i]),o&&!s(o)&&(e.sort=[o]),r&&!s(r)&&(e.sort_empty=[r]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var n,i,o,r,s=this;return i=this.prepareSearch(t,e),e=i.options,t=i.query,r=e.score||s.getScoreFunction(i),t.length?s.iterator(s.items,function(t,o){n=r(t),(e.filter===!1||n>0)&&i.items.push({score:n,id:o})}):s.iterator(s.items,function(t,e){i.items.push({score:1,id:e})}),o=s.getSortFunction(i,e),o&&i.items.sort(o),i.total=i.items.length,"number"==typeof e.limit&&(i.items=i.items.slice(0,e.limit)),i};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=l(String(t||"")),e=l(String(e||"")),t>e?1:e>t?-1:0)},n=function(t,e){var n,i,o,r;for(n=1,i=arguments.length;n<i;n++)if(r=arguments[n])for(o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);return t},i=function(t,e,n){if(t&&e){if(!n)return t[e];for(var i=e.split(".");i.length&&(t=t[i.shift()]););return t}},o=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},r=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},l=function(){var t,e,n,i,o="",r={};for(n in a)if(a.hasOwnProperty(n))for(i=a[n].substring(2,a[n].length-1),o+=i,t=0,e=i.length;t<e;t++)r[i.charAt(t)]=n;var s=new RegExp("["+o+"]","g");return function(t){return t.replace(s,function(t){return r[t]}).toLowerCase()}}();return t}),function(t,e){"function"==typeof define&&define.amd?define("microplugin",e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,function(){var t={};t.mixin=function(t){t.plugins={},t.prototype.initializePlugins=function(t){var n,i,o,r=this,s=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(n=0,i=t.length;n<i;n++)"string"==typeof t[n]?s.push(t[n]):(r.plugins.settings[t[n].name]=t[n].options,s.push(t[n].name));else if(t)for(o in t)t.hasOwnProperty(o)&&(r.plugins.settings[o]=t[o],s.push(o));for(;s.length;)r.require(s.shift())},t.prototype.loadPlugin=function(e){var n=this,i=n.plugins,o=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');i.requested[e]=!0,i.loaded[e]=o.fn.apply(n,[n.plugins.settings[e]||{}]),i.names.push(e)},t.prototype.require=function(t){var e=this,n=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(n.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return n.loaded[t]},t.define=function(e,n){t.plugins[e]={name:e,fn:n}}};var e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),function(t,e){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,function(t,e,n){"use strict";var i=function(t,e){if("string"!=typeof e||e.length){var n="string"==typeof e?new RegExp(e,"i"):e,i=function(t){var e=0;if(3===t.nodeType){var o=t.data.search(n);if(o>=0&&t.data.length>0){var r=t.data.match(n),s=document.createElement("span");s.className="highlight";var a=t.splitText(o),l=(a.splitText(r[0].length),a.cloneNode(!0));s.appendChild(l),a.parentNode.replaceChild(s,a),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var c=0;c<t.childNodes.length;++c)c+=i(t.childNodes[c]);return e};return t.each(function(){i(this)})}};t.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()};var o=function(){};o.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},o.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=o.prototype[e[n]]};var r=/Mac/.test(navigator.userAgent),s=65,a=13,l=27,c=37,u=38,p=80,d=39,f=40,h=78,g=8,v=46,m=16,y=r?91:17,w=r?18:17,b=9,O=1,C=2,x=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,$=function(t){return"undefined"!=typeof t},_=function(t){return"undefined"==typeof t||null===t?null:"boolean"==typeof t?t?"1":"0":t+""},S=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},k={};k.before=function(t,e,n){var i=t[e];t[e]=function(){return n.apply(t,arguments),i.apply(t,arguments)}},k.after=function(t,e,n){var i=t[e];t[e]=function(){var e=i.apply(t,arguments);return n.apply(t,arguments),e}};var I=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},A=function(t,e){var n;return function(){var i=this,o=arguments;window.clearTimeout(n),n=window.setTimeout(function(){t.apply(i,o)},e)}},F=function(t,e,n){var i,o=t.trigger,r={};t.trigger=function(){var n=arguments[0];return e.indexOf(n)===-1?o.apply(t,arguments):void(r[n]=arguments)},n.apply(t,[]),t.trigger=o;for(i in r)r.hasOwnProperty(i)&&o.apply(t,r[i])},T=function(t,e,n,i){t.on(e,n,function(e){for(var n=e.target;n&&n.parentNode!==t[0];)n=n.parentNode;return e.currentTarget=n,i.apply(this,[e])})},D=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-t.value.length),e.start=n.text.length-i,e.length=i}return e},E=function(t,e,n){var i,o,r={};if(n)for(i=0,o=n.length;i<o;i++)r[n[i]]=t.css(n[i]);else r=t.css();e.css(r)},P=function(e,n){if(!e)return 0;var i=t("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");E(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=i.width();return i.remove(),o},z=function(t){var e=null,n=function(n,i){var o,r,s,a,l,c,u,p;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||t.data("grow")!==!1)&&(o=t.val(),n.type&&"keydown"===n.type.toLowerCase()&&(r=n.keyCode,s=r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||32===r,r===v||r===g?(p=D(t[0]),p.length?o=o.substring(0,p.start)+o.substring(p.start+p.length):r===g&&p.start?o=o.substring(0,p.start-1)+o.substring(p.start+1):r===v&&"undefined"!=typeof p.start&&(o=o.substring(0,p.start)+o.substring(p.start+1))):s&&(c=n.shiftKey,u=String.fromCharCode(n.keyCode),u=c?u.toUpperCase():u.toLowerCase(),o+=u)),a=t.attr("placeholder"),!o&&a&&(o=a),l=P(o,t)+4,l!==e&&(e=l,t.width(l),t.triggerHandler("resize")))};t.on("keydown keyup update blur",n),n()},j=function(t){var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML},q=function(t,e){e||(e={});var n="Selectize";console.error(n+": "+t),e.explanation&&(console.group&&console.group(),console.error(e.explanation),console.group&&console.groupEnd())},L=function(n,i){var o,r,s,a,l=this;a=n[0],a.selectize=l;var c=window.getComputedStyle&&window.getComputedStyle(a,null);if(s=c?c.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction,s=s||n.parents("[dir]:first").attr("dir")||"",t.extend(l,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?O:C,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++L.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?l.onSearchChange:A(l.onSearchChange,i.loadThrottle)}),l.sifter=new e(this.options,{diacritics:i.diacritics}),l.settings.options){for(o=0,r=l.settings.options.length;o<r;o++)l.registerOption(l.settings.options[o]);delete l.settings.options}if(l.settings.optgroups){for(o=0,r=l.settings.optgroups.length;o<r;o++)l.registerOptionGroup(l.settings.optgroups[o]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return o.mixin(L),"undefined"!=typeof n?n.mixin(L):q("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),t.extend(L.prototype,{setup:function(){var e,n,i,o,s,a,l,c,u,p,d=this,f=d.settings,h=d.eventNS,g=t(window),v=t(document),b=d.$input;if(l=d.settings.mode,c=b.attr("class")||"",e=t("<div>").addClass(f.wrapperClass).addClass(c).addClass(l),n=t("<div>").addClass(f.inputClass).addClass("items").appendTo(e),i=t('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",b.is(":disabled")?"-1":d.tabIndex),a=t(f.dropdownParent||e),o=t("<div>").addClass(f.dropdownClass).addClass(l).hide().appendTo(a),s=t("<div>").addClass(f.dropdownContentClass).appendTo(o),(p=b.attr("id"))&&(i.attr("id",p+"-selectized"),t("label[for='"+p+"']").attr("for",p+"-selectized")),d.settings.copyClassesToDropdown&&o.addClass(c),e.css({width:b[0].style.width}),d.plugins.names.length&&(u="plugin-"+d.plugins.names.join(" plugin-"),e.addClass(u),o.addClass(u)),(null===f.maxItems||f.maxItems>1)&&d.tagType===O&&b.attr("multiple","multiple"),d.settings.placeholder&&i.attr("placeholder",f.placeholder),!d.settings.splitOn&&d.settings.delimiter){var C=d.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");d.settings.splitOn=new RegExp("\\s*"+C+"+\\s*")}b.attr("autocorrect")&&i.attr("autocorrect",b.attr("autocorrect")),b.attr("autocapitalize")&&i.attr("autocapitalize",b.attr("autocapitalize")),d.$wrapper=e,d.$control=n,d.$control_input=i,d.$dropdown=o,d.$dropdown_content=s,o.on("mouseenter","[data-selectable]",function(){return d.onOptionHover.apply(d,arguments)}),o.on("mousedown click","[data-selectable]",function(){return d.onOptionSelect.apply(d,arguments)}),T(n,"mousedown","*:not(input)",function(){return d.onItemSelect.apply(d,arguments)}),z(i),n.on({mousedown:function(){return d.onMouseDown.apply(d,arguments)},click:function(){return d.onClick.apply(d,arguments)}}),i.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return d.onKeyDown.apply(d,arguments)},keyup:function(){return d.onKeyUp.apply(d,arguments)},keypress:function(){return d.onKeyPress.apply(d,arguments)},resize:function(){d.positionDropdown.apply(d,[])},blur:function(){return d.onBlur.apply(d,arguments)},focus:function(){return d.ignoreBlur=!1,d.onFocus.apply(d,arguments)},paste:function(){return d.onPaste.apply(d,arguments)}}),v.on("keydown"+h,function(t){d.isCmdDown=t[r?"metaKey":"ctrlKey"],d.isCtrlDown=t[r?"altKey":"ctrlKey"],d.isShiftDown=t.shiftKey}),v.on("keyup"+h,function(t){t.keyCode===w&&(d.isCtrlDown=!1),t.keyCode===m&&(d.isShiftDown=!1),t.keyCode===y&&(d.isCmdDown=!1)}),v.on("mousedown"+h,function(t){if(d.isFocused){if(t.target===d.$dropdown[0]||t.target.parentNode===d.$dropdown[0])return!1;d.$control.has(t.target).length||t.target===d.$control[0]||d.blur(t.target)}}),g.on(["scroll"+h,"resize"+h].join(" "),function(){d.isOpen&&d.positionDropdown.apply(d,arguments)}),g.on("mousemove"+h,function(){d.ignoreHover=!1}),this.revertSettings={$children:b.children().detach(),tabindex:b.attr("tabindex")},b.attr("tabindex",-1).hide().after(d.$wrapper),t.isArray(f.items)&&(d.setValue(f.items),delete f.items),x&&b.on("invalid"+h,function(t){t.preventDefault(),d.isInvalid=!0,d.refreshState()}),d.updateOriginalInput(),d.refreshItems(),d.refreshState(),d.updatePlaceholder(),d.isSetup=!0,b.is(":disabled")&&d.disable(),d.on("change",this.onChange),b.data("selectize",d),b.addClass("selectized"),d.trigger("initialize"),f.preload===!0&&d.onSearchChange("")},setupTemplates:function(){var e=this,n=e.settings.labelField,i=e.settings.optgroupLabelField,o={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[i])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[n])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[n])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};e.settings.render=t.extend({},o,e.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]],e&&this.on(t,e))},onClick:function(t){var e=this;e.isFocused||(e.focus(),t.preventDefault())},onMouseDown:function(e){var n=this,i=e.isDefaultPrevented();t(e.target);if(n.isFocused){if(e.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var n=this;return n.isFull()||n.isInputHidden||n.isLocked?void e.preventDefault():void(n.settings.splitOn&&setTimeout(function(){var e=n.$control_input.val();if(e.match(n.settings.splitOn))for(var i=t.trim(e).split(n.settings.splitOn),o=0,r=i.length;o<r;o++)n.createItem(i[o])},0))},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){var e=(t.target===this.$control_input[0],this);if(e.isLocked)return void(t.keyCode!==b&&t.preventDefault());switch(t.keyCode){case s:if(e.isCmdDown)return void e.selectAll();break;case l:return void(e.isOpen&&(t.preventDefault(),t.stopPropagation(),e.close()));case h:if(!t.ctrlKey||t.altKey)break;case f:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case p:if(!t.ctrlKey||t.altKey)break;case u:if(e.$activeOption){e.ignoreHover=!0;var i=e.getAdjacentOption(e.$activeOption,-1);i.length&&e.setActiveOption(i,!0,!0)}return void t.preventDefault();case a:return void(e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),t.preventDefault()));case c:return void e.advanceSelection(-1,t);case d:return void e.advanceSelection(1,t);case b:return e.settings.selectOnTab&&e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),e.isFull()||t.preventDefault()),void(e.settings.create&&e.createItem()&&t.preventDefault());case g:case v:return void e.deleteSelection(t)}return!e.isFull()&&!e.isInputHidden||(r?t.metaKey:t.ctrlKey)?void 0:void t.preventDefault()},onKeyUp:function(t){var e=this;if(e.isLocked)return t&&t.preventDefault();var n=e.$control_input.val()||"";e.lastValue!==n&&(e.lastValue=n,e.onSearchChange(n),e.refreshOptions(),e.trigger("type",n))},onSearchChange:function(t){var e=this,n=e.settings.load;n&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(i){n.apply(e,[t,i])})))},onFocus:function(t){var e=this,n=e.isFocused;return e.isDisabled?(e.blur(),t&&t.preventDefault(),!1):void(e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),n||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState()))},onBlur:function(t,e){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(t);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),e&&e.focus&&e.focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var n,i,o=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),i=t(e.currentTarget),i.hasClass("create")?o.createItem(null,function(){o.settings.closeAfterSelect&&o.close()}):(n=i.attr("data-value"),"undefined"!=typeof n&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(n),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&o.setActiveOption(o.getOption(n))))},onItemSelect:function(t){var e=this;e.isLocked||"multi"===e.settings.mode&&(t.preventDefault(),e.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input,n=e.val()!==t;n&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return this.tagType===O&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){var n=e?[]:["change"];F(this,n,function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(e,n){var i,o,r,s,a,l,c,u,p=this;if("single"!==p.settings.mode){if(e=t(e),!e.length)return t(p.$activeItems).removeClass("active"),p.$activeItems=[],void(p.isFocused&&p.showInput());if(i=n&&n.type.toLowerCase(),"mousedown"===i&&p.isShiftDown&&p.$activeItems.length){for(u=p.$control.children(".active:last"),s=Array.prototype.indexOf.apply(p.$control[0].childNodes,[u[0]]),a=Array.prototype.indexOf.apply(p.$control[0].childNodes,[e[0]]),s>a&&(c=s,s=a,a=c),o=s;o<=a;o++)l=p.$control[0].childNodes[o],p.$activeItems.indexOf(l)===-1&&(t(l).addClass("active"),p.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&p.isCtrlDown||"keydown"===i&&this.isShiftDown?e.hasClass("active")?(r=p.$activeItems.indexOf(e[0]),p.$activeItems.splice(r,1),e.removeClass("active")):p.$activeItems.push(e.addClass("active")[0]):(t(p.$activeItems).removeClass("active"),p.$activeItems=[e.addClass("active")[0]]);p.hideInput(),this.isFocused||p.focus()}},setActiveOption:function(e,n,i){var o,r,s,a,l,c=this;c.$activeOption&&c.$activeOption.removeClass("active"),c.$activeOption=null,e=t(e),e.length&&(c.$activeOption=e.addClass("active"),!n&&$(n)||(o=c.$dropdown_content.height(),r=c.$activeOption.outerHeight(!0),n=c.$dropdown_content.scrollTop()||0,s=c.$activeOption.offset().top-c.$dropdown_content.offset().top+n,a=s,l=s-o+r,s+r>o+n?c.$dropdown_content.stop().animate({scrollTop:l},i?c.settings.scrollDuration:0):s<n&&c.$dropdown_content.stop().animate({scrollTop:a},i?c.settings.scrollDuration:0)))},selectAll:function(){var t=this;"single"!==t.settings.mode&&(t.$activeItems=Array.prototype.slice.apply(t.$control.children(":not(input)").addClass("active")),t.$activeItems.length&&(t.hideInput(),t.close()),t.focus())},hideInput:function(){var t=this;t.setTextboxValue(""),t.$control_input.css({opacity:0,position:"absolute",left:t.rtl?1e4:-1e4}),t.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(e){var n,i,o,r=this,s=r.settings,a=this.getSearchOptions();if(s.score&&(o=r.settings.score.apply(this,[e]),"function"!=typeof o))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==r.lastQuery?(r.lastQuery=e,i=r.sifter.search(e,t.extend(a,{score:o})),r.currentResults=i):i=t.extend(!0,{},r.currentResults),s.hideSelected)for(n=i.items.length-1;n>=0;n--)r.items.indexOf(_(i.items[n].id))!==-1&&i.items.splice(n,1);return i},refreshOptions:function(e){var n,o,r,s,a,l,c,u,p,d,f,h,g,v,m,y;"undefined"==typeof e&&(e=!0);var w=this,b=t.trim(w.$control_input.val()),O=w.search(b),C=w.$dropdown_content,x=w.$activeOption&&_(w.$activeOption.attr("data-value"));for(s=O.items.length,"number"==typeof w.settings.maxOptions&&(s=Math.min(s,w.settings.maxOptions)),a={},l=[],n=0;n<s;n++)for(c=w.options[O.items[n].id],u=w.render("option",c),p=c[w.settings.optgroupField]||"",d=t.isArray(p)?p:[p],o=0,r=d&&d.length;o<r;o++)p=d[o],w.optgroups.hasOwnProperty(p)||(p=""),a.hasOwnProperty(p)||(a[p]=document.createDocumentFragment(),l.push(p)),a[p].appendChild(u);for(this.settings.lockOptgroupOrder&&l.sort(function(t,e){var n=w.optgroups[t].$order||0,i=w.optgroups[e].$order||0;return n-i}),f=document.createDocumentFragment(),n=0,s=l.length;n<s;n++)p=l[n],w.optgroups.hasOwnProperty(p)&&a[p].childNodes.length?(h=document.createDocumentFragment(),h.appendChild(w.render("optgroup_header",w.optgroups[p])),h.appendChild(a[p]),f.appendChild(w.render("optgroup",t.extend({},w.optgroups[p],{html:j(h),dom:h})))):f.appendChild(a[p]);if(C.html(f),w.settings.highlight&&O.query.length&&O.tokens.length)for(C.removeHighlight(),n=0,s=O.tokens.length;n<s;n++)i(C,O.tokens[n].regex);if(!w.settings.hideSelected)for(n=0,s=w.items.length;n<s;n++)w.getOption(w.items[n]).addClass("selected");g=w.canCreate(b),g&&(C.prepend(w.render("option_create",{input:b})),y=t(C[0].childNodes[0])),w.hasOptions=O.items.length>0||g,w.hasOptions?(O.items.length>0?(m=x&&w.getOption(x),m&&m.length?v=m:"single"===w.settings.mode&&w.items.length&&(v=w.getOption(w.items[0])),v&&v.length||(v=y&&!w.settings.addPrecedence?w.getAdjacentOption(y,1):C.find("[data-selectable]:first"))):v=y,w.setActiveOption(v),e&&!w.isOpen&&w.open()):(w.setActiveOption(null),e&&w.isOpen&&w.close())},addOption:function(e){var n,i,o,r=this;if(t.isArray(e))for(n=0,i=e.length;n<i;n++)r.addOption(e[n]);else(o=r.registerOption(e))&&(r.userOptions[o]=!0,r.lastQuery=null,r.trigger("option_add",o,e))},registerOption:function(t){var e=_(t[this.settings.valueField]);return"undefined"!=typeof e&&null!==e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=_(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,n){var i,o,r,s,a,l,c,u=this;if(e=_(e),r=_(n[u.settings.valueField]),null!==e&&u.options.hasOwnProperty(e)){if("string"!=typeof r)throw new Error("Value must be set in option data");c=u.options[e].$order,r!==e&&(delete u.options[e],s=u.items.indexOf(e),s!==-1&&u.items.splice(s,1,r)),n.$order=n.$order||c,u.options[r]=n,a=u.renderCache.item,l=u.renderCache.option,a&&(delete a[e],delete a[r]),l&&(delete l[e],delete l[r]),u.items.indexOf(r)!==-1&&(i=u.getItem(e),o=t(u.render("item",n)),i.hasClass("active")&&o.addClass("active"),i.replaceWith(o)),u.lastQuery=null,u.isOpen&&u.refreshOptions(!1)}},removeOption:function(t,e){var n=this;t=_(t);var i=n.renderCache.item,o=n.renderCache.option;i&&delete i[t],o&&delete o[t],delete n.userOptions[t],delete n.options[t],n.lastQuery=null,n.trigger("option_remove",t),n.removeItem(t,e)},clearOptions:function(){var t=this;t.loadedSearches={},t.userOptions={},t.renderCache={},t.options=t.sifter.items={},t.lastQuery=null,t.trigger("option_clear"),t.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,n){var i=this.$dropdown.find("[data-selectable]"),o=i.index(e)+n;return o>=0&&o<i.length?i.eq(o):t()},getElementWithValue:function(e,n){if(e=_(e),"undefined"!=typeof e&&null!==e)for(var i=0,o=n.length;i<o;i++)if(n[i].getAttribute("data-value")===e)return t(n[i]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,n){for(var i=t.isArray(e)?e:[e],o=0,r=i.length;o<r;o++)this.isPending=o<r-1,this.addItem(i[o],n)},addItem:function(e,n){var i=n?[]:["change"];F(this,i,function(){var i,o,r,s,a,l=this,c=l.settings.mode;return e=_(e),l.items.indexOf(e)!==-1?void("single"===c&&l.close()):void(l.options.hasOwnProperty(e)&&("single"===c&&l.clear(n),"multi"===c&&l.isFull()||(i=t(l.render("item",l.options[e])),a=l.isFull(),l.items.splice(l.caretPos,0,e),l.insertAtCaret(i),(!l.isPending||!a&&l.isFull())&&l.refreshState(),l.isSetup&&(r=l.$dropdown_content.find("[data-selectable]"),l.isPending||(o=l.getOption(e),s=l.getAdjacentOption(o,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==c),s&&l.setActiveOption(l.getOption(s))),!r.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",e,i),l.updateOriginalInput({silent:n})))))})},removeItem:function(e,n){var i,o,r,s=this;i=e instanceof t?e:s.getItem(e),e=_(i.attr("data-value")),o=s.items.indexOf(e),o!==-1&&(i.remove(),i.hasClass("active")&&(r=s.$activeItems.indexOf(i[0]),s.$activeItems.splice(r,1)),s.items.splice(o,1),s.lastQuery=null,!s.settings.persist&&s.userOptions.hasOwnProperty(e)&&s.removeOption(e,n),o<s.caretPos&&s.setCaret(s.caretPos-1),s.refreshState(),s.updatePlaceholder(),s.updateOriginalInput({silent:n}),s.positionDropdown(),s.trigger("item_remove",e,i))},createItem:function(e,n){var i=this,o=i.caretPos;e=e||t.trim(i.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(e))return r(),!1;i.lock();var s="function"==typeof i.settings.create?this.settings.create:function(t){var e={};return e[i.settings.labelField]=t,e[i.settings.valueField]=t,e},a=I(function(t){if(i.unlock(),!t||"object"!=typeof t)return r();var e=_(t[i.settings.valueField]);return"string"!=typeof e?r():(i.setTextboxValue(""),i.addOption(t),i.setCaret(o),i.addItem(e),i.refreshOptions(n&&"single"!==i.settings.mode),void r(t))}),l=s.apply(this,[e,a]);return"undefined"!=typeof l&&a(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var e=this,n=e.isFull(),i=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!t.isEmptyObject(e.options)).toggleClass("has-items",e.items.length>0),e.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,i,o,r=this;if(t=t||{},r.tagType===O){for(i=[],e=0,n=r.items.length;e<n;e++)o=r.options[r.items[e]][r.settings.labelField]||"",i.push('<option value="'+S(r.items[e])+'" selected="selected">'+S(o)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),
r.$input.html(i.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(t.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&(t.hideInput(),t.$control_input.blur()),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(e){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(e):t(this.$control[0].childNodes[n]).before(e),this.setCaret(n+1)},deleteSelection:function(e){var n,i,o,r,s,a,l,c,u,p=this;if(o=e&&e.keyCode===g?-1:1,r=D(p.$control_input[0]),p.$activeOption&&!p.settings.hideSelected&&(l=p.getAdjacentOption(p.$activeOption,-1).attr("data-value")),s=[],p.$activeItems.length){for(u=p.$control.children(".active:"+(o>0?"last":"first")),a=p.$control.children(":not(input)").index(u),o>0&&a++,n=0,i=p.$activeItems.length;n<i;n++)s.push(t(p.$activeItems[n]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(p.isFocused||"single"===p.settings.mode)&&p.items.length&&(o<0&&0===r.start&&0===r.length?s.push(p.items[p.caretPos-1]):o>0&&r.start===p.$control_input.val().length&&s.push(p.items[p.caretPos]));if(!s.length||"function"==typeof p.settings.onDelete&&p.settings.onDelete.apply(p,[s])===!1)return!1;for("undefined"!=typeof a&&p.setCaret(a);s.length;)p.removeItem(s.pop());return p.showInput(),p.positionDropdown(),p.refreshOptions(!0),l&&(c=p.getOption(l),c.length&&p.setActiveOption(c)),!0},advanceSelection:function(t,e){var n,i,o,r,s,a,l=this;0!==t&&(l.rtl&&(t*=-1),n=t>0?"last":"first",i=D(l.$control_input[0]),l.isFocused&&!l.isInputHidden?(r=l.$control_input.val().length,s=t<0?0===i.start&&0===i.length:i.start===r,s&&!r&&l.advanceCaret(t,e)):(a=l.$control.children(".active:"+n),a.length&&(o=l.$control.children(":not(input)").index(a),l.setActiveItem(null),l.setCaret(t>0?o+1:o))))},advanceCaret:function(t,e){var n,i,o=this;0!==t&&(n=t>0?"next":"prev",o.isShiftDown?(i=o.$control_input[n](),i.length&&(o.hideInput(),o.setActiveItem(i),e&&e.preventDefault())):o.setCaret(o.caretPos+t))},setCaret:function(e){var n=this;if(e="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,e)),!n.isPending){var i,o,r,s;for(r=n.$control.children(":not(input)"),i=0,o=r.length;i<o;i++)s=t(r[i]).detach(),i<e?n.$control_input.before(s):n.$control.append(s)}n.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var t=this;t.$input.prop("disabled",!0),t.$control_input.prop("disabled",!0).prop("tabindex",-1),t.isDisabled=!0,t.lock()},enable:function(){var t=this;t.$input.prop("disabled",!1),t.$control_input.prop("disabled",!1).prop("tabindex",t.tabIndex),t.isDisabled=!1,t.unlock()},destroy:function(){var e=this,n=e.eventNS,i=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),t(window).off(n),t(document).off(n),t(document.body).off(n),delete e.$input[0].selectize},render:function(e,n){var i,o,r="",s=!1,a=this;return"option"!==e&&"item"!==e||(i=_(n[a.settings.valueField]),s=!!i),s&&($(a.renderCache[e])||(a.renderCache[e]={}),a.renderCache[e].hasOwnProperty(i))?a.renderCache[e][i]:(r=t(a.settings.render[e].apply(this,[n,S])),"option"===e||"option_create"===e?r.attr("data-selectable",""):"optgroup"===e&&(o=n[a.settings.optgroupValueField]||"",r.attr("data-group",o)),"option"!==e&&"item"!==e||r.attr("data-value",i||""),s&&(a.renderCache[e][i]=r[0]),r[0])},clearCache:function(t){var e=this;"undefined"==typeof t?e.renderCache={}:delete e.renderCache[t]},canCreate:function(t){var e=this;if(!e.settings.create)return!1;var n=e.settings.createFilter;return t.length&&("function"!=typeof n||n.apply(e,[t]))&&("string"!=typeof n||new RegExp(n).test(t))&&(!(n instanceof RegExp)||n.test(t))}}),L.count=0,L.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var n=t.fn.selectize.defaults,i=t.extend({},n,e),o=i.dataAttr,r=i.labelField,s=i.valueField,a=i.optgroupField,l=i.optgroupLabelField,c=i.optgroupValueField,u=function(e,n){var a,l,c,u,p=e.attr(o);if(p)for(n.options=JSON.parse(p),a=0,l=n.options.length;a<l;a++)n.items.push(n.options[a][s]);else{var d=t.trim(e.val()||"");if(!i.allowEmptyOption&&!d.length)return;for(c=d.split(i.delimiter),a=0,l=c.length;a<l;a++)u={},u[r]=c[a],u[s]=c[a],n.options.push(u);n.items=c}},p=function(e,n){var u,p,d,f,h=n.options,g={},v=function(t){var e=o&&t.attr(o);return"string"==typeof e&&e.length?JSON.parse(e):null},m=function(e,o){e=t(e);var l=_(e.val());if(l||i.allowEmptyOption)if(g.hasOwnProperty(l)){if(o){var c=g[l][a];c?t.isArray(c)?c.push(o):g[l][a]=[c,o]:g[l][a]=o}}else{var u=v(e)||{};u[r]=u[r]||e.text(),u[s]=u[s]||l,u[a]=u[a]||o,g[l]=u,h.push(u),e.is(":selected")&&n.items.push(l)}},y=function(e){var i,o,r,s,a;for(e=t(e),r=e.attr("label"),r&&(s=v(e)||{},s[l]=r,s[c]=r,n.optgroups.push(s)),a=t("option",e),i=0,o=a.length;i<o;i++)m(a[i],r)};for(n.maxItems=e.attr("multiple")?null:1,f=e.children(),u=0,p=f.length;u<p;u++)d=f[u].tagName.toLowerCase(),"optgroup"===d?y(f[u]):"option"===d&&m(f[u])};return this.each(function(){if(!this.selectize){var o,r=t(this),s=this.tagName.toLowerCase(),a=r.attr("placeholder")||r.attr("data-placeholder");a||i.allowEmptyOption||(a=r.children('option[value=""]').text());var l={placeholder:a,options:[],optgroups:[],items:[]};"select"===s?p(r,l):u(r,l),o=new L(r,t.extend(!0,{},n,l,e))}})},t.fn.selectize.defaults=L.defaults,t.fn.selectize.support={validity:x},L.define("drag_drop",function(e){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n=this;n.lock=function(){var t=n.lock;return function(){var e=n.$control.data("sortable");return e&&e.disable(),t.apply(n,arguments)}}(),n.unlock=function(){var t=n.unlock;return function(){var e=n.$control.data("sortable");return e&&e.enable(),t.apply(n,arguments)}}(),n.setup=function(){var e=n.setup;return function(){e.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var e=n.$activeItems?n.$activeItems.slice():null,o=[];i.children("[data-value]").each(function(){o.push(t(this).attr("data-value"))}),n.setValue(o),n.setActiveItem(e)}})}}()}}),L.define("dropdown_header",function(e){var n=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=t(e.html(e)),n.$dropdown.prepend(n.$dropdown_header)}}()}),L.define("optgroup_columns",function(e){var n=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,n){var i=e.closest("[data-group]").find("[data-selectable]"),o=i.index(e)+n;return o>=0&&o<i.length?i.eq(o):t()},this.onKeyDown=function(){var t=n.onKeyDown;return function(e){var i,o,r,s;return!this.isOpen||e.keyCode!==c&&e.keyCode!==d?t.apply(this,arguments):(n.ignoreHover=!0,s=this.$activeOption.closest("[data-group]"),i=s.find("[data-selectable]").index(this.$activeOption),s=e.keyCode===c?s.prev("[data-group]"):s.next("[data-group]"),r=s.find("[data-selectable]"),o=r.eq(Math.min(r.length-1,i)),void(o.length&&this.setActiveOption(o)))}}();var i=function(){var t,e=i.width,n=document;return"undefined"==typeof e&&(t=n.createElement("div"),t.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,n.body.appendChild(t),e=i.width=t.offsetWidth-t.clientWidth,n.body.removeChild(t)),e},o=function(){var o,r,s,a,l,c,u;if(u=t("[data-group]",n.$dropdown_content),r=u.length,r&&n.$dropdown_content.width()){if(e.equalizeHeight){for(s=0,o=0;o<r;o++)s=Math.max(s,u.eq(o).height());u.css({height:s})}e.equalizeWidth&&(c=n.$dropdown_content.innerWidth()-i(),a=Math.round(c/r),u.css({width:a}),r>1&&(l=c-a*(r-1),u.eq(r-1).css({width:l})))}};(e.equalizeHeight||e.equalizeWidth)&&(k.after(this,"positionDropdown",o),k.after(this,"refreshOptions",o))}),L.define("remove_button",function(e){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);var n=function(e,n){n.className="remove-single";var i=e,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+S(n.title)+'">'+n.label+"</a>",r=function(t,e){return t+e};e.setup=function(){var s=i.setup;return function(){if(n.append){var a=t(i.$input.context).attr("id"),l=(t("#"+a),i.settings.render.item);i.settings.render.item=function(t){return r(l.apply(e,arguments),o)}}s.apply(e,arguments),e.$control.on("click","."+n.className,function(t){t.preventDefault(),i.isLocked||i.clear()})}}()},i=function(e,n){var i=e,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+S(n.title)+'">'+n.label+"</a>",r=function(t,e){var n=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,n)+e+t.substring(n)};e.setup=function(){var s=i.setup;return function(){if(n.append){var a=i.settings.render.item;i.settings.render.item=function(t){return r(a.apply(e,arguments),o)}}s.apply(e,arguments),e.$control.on("click","."+n.className,function(e){if(e.preventDefault(),!i.isLocked){var n=t(e.currentTarget).parent();i.setActiveItem(n),i.deleteSelection()&&i.setCaret(i.items.length)}})}}()};return"single"===this.settings.mode?void n(this,e):void i(this,e)}),L.define("restore_on_backspace",function(t){var e=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=function(){var n=e.onKeyDown;return function(e){var i,o;return e.keyCode===g&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1,i>=0&&i<this.items.length)?(o=this.options[this.items[i]],this.deleteSelection(e)&&(this.setTextboxValue(t.text.apply(this,[o])),this.refreshOptions(!0)),void e.preventDefault()):n.apply(this,arguments)}}()}),L}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t;return function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return o(n?n:t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){var i=t("matches-selector");e.exports=function(t,e,n){for(var o=n?t:t.parentNode;o&&o!==document;){if(i(o,e))return o;o=o.parentNode}}},{"matches-selector":5}],2:[function(t,e,n){function i(t,e,n,i,r){var s=o.apply(this,arguments);return t.addEventListener(n,s,r),{destroy:function(){t.removeEventListener(n,s,r)}}}function o(t,e,n,i){return function(n){n.delegateTarget=r(n.target,e,!0),n.delegateTarget&&i.call(t,n)}}var r=t("closest");e.exports=i},{closest:1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},{}],4:[function(t,e,n){function i(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(t))return o(t,e,n);if(a.nodeList(t))return r(t,e,n);if(a.string(t))return s(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function s(t,e,n){return l(document.body,t,e,n)}var a=t("./is"),l=t("delegate");e.exports=i},{"./is":3,delegate:2}],5:[function(t,e,n){function i(t,e){if(r)return r.call(t,e);for(var n=t.parentNode.querySelectorAll(e),i=0;i<n.length;++i)if(n[i]==t)return!0;return!1}var o=Element.prototype,r=o.matchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector;e.exports=i},{}],6:[function(t,e,n){function i(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(t),n.removeAllRanges(),n.addRange(i),e=n.toString()}return e}e.exports=i},{}],7:[function(t,e,n){function i(){}i.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){o.off(t,i),e.apply(n,arguments)}var o=this;return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,o=n.length;for(i;i<o;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],o=[];if(i&&e)for(var r=0,s=i.length;r<s;r++)i[r].fn!==e&&i[r].fn._!==e&&o.push(i[r]);return o.length?n[t]=o:delete n[t],this}},e.exports=i},{}],8:[function(e,n,i){!function(o,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if("undefined"!=typeof i)r(n,e("select"));else{var s={exports:{}};r(s,o.select),o.clipboardAction=s.exports}}(this,function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(e){i(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,o.default)(this.fakeElem),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){this.selectedText=(0,o.default)(this.target),this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},s(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=a})},{select:6}],9:[function(e,n,i){!function(o,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if("undefined"!=typeof i)r(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var s={exports:{}};r(s,o.clipboardAction,o.tinyEmitter,o.goodListener),o.clipboard=s.exports}}(this,function(t,e,n,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var c=o(e),u=o(n),p=o(i),d=function(t){function e(n,i){r(this,e);var o=s(this,t.call(this));return o.resolveOptions(i),o.listenClick(n),o}return a(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.listenClick=function(t){var e=this;this.listener=(0,p.default)(t,"click",function(t){return e.onClick(t)})},e.prototype.onClick=function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},e.prototype.defaultAction=function(t){return l("action",t)},e.prototype.defaultTarget=function(t){var e=l("target",t);if(e)return document.querySelector(e)},e.prototype.defaultText=function(t){return l("text",t)},e.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(u.default);t.exports=d})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)}),function(t,e){"use strict";var n=function(){function t(t,e,n,i){return"string"==typeof t&&"function"==typeof e&&(n=parseInt(n||10,10),a("actions",t,e,n,i)),p}function e(){var t=u.call(arguments),e=t.shift();return"string"==typeof e&&c("actions",e,t),p}function n(t,e){return"string"==typeof t&&s("actions",t,e),p}function i(t,e,n,i){return"string"==typeof t&&"function"==typeof e&&(n=parseInt(n||10,10),a("filters",t,e,n,i)),p}function o(){var t=u.call(arguments),e=t.shift();return"string"==typeof e?c("filters",e,t):p}function r(t,e){return"string"==typeof t&&s("filters",t,e),p}function s(t,e,n,i){var o,r,s;if(d[t][e])if(n)if(o=d[t][e],i)for(s=o.length;s--;)r=o[s],r.callback===n&&r.context===i&&o.splice(s,1);else for(s=o.length;s--;)o[s].callback===n&&o.splice(s,1);else d[t][e]=[]}function a(t,e,n,i,o){var r={callback:n,priority:i,context:o},s=d[t][e];s?(s.push(r),s=l(s)):s=[r],d[t][e]=s}function l(t){for(var e,n,i,o=1,r=t.length;o<r;o++){for(e=t[o],n=o;(i=t[n-1])&&i.priority>e.priority;)t[n]=t[n-1],--n;t[n]=e}return t}function c(t,e,n){var i,o,r=d[t][e];if(!r)return"filters"===t&&n[0];if(o=r.length,"filters"===t)for(i=0;i<o;i++)n[0]=r[i].callback.apply(r[i].context,n);else for(i=0;i<o;i++)r[i].callback.apply(r[i].context,n);return"filters"!==t||n[0]}var u=Array.prototype.slice,p={removeFilter:r,applyFilters:o,addFilter:i,removeAction:n,doAction:e,addAction:t},d={actions:{},filters:{}};return p};t.wp=t.wp||{},t.wp.hooks=new n}(window),function(t){t(document).ready(function(){t(".pretty-select").selectize();var e=new Clipboard("#notification_merge_tags .inside ul li code");e.on("success",function(e){var n=t(e.trigger),i=n.text();n.text(notification.copied),setTimeout(function(){n.text(i)},800)}),t("#notification_trigger_select").selectize().change(function(){var e=t(this),n=t("#notification_merge_tags .inside"),i=t("#notification_merge_tags");i.fadeTo(200,.5);var o={action:"notification_get_merge_tags",trigger:e.val()};t.post(ajaxurl,o,function(o){if(0==o.success){n.html("<p>"+o.data+"</p>");var r={}}else{ul=t("<ul>");var r=o.data;t.each(r,function(t,e){ul.append('<li><code data-clipboard-text="{'+e+'}">{'+e+"}</code></li>")}),n.html(ul)}wp.hooks.doAction("notification.changed_trigger",e.val(),r),i.fadeTo(200,1)})});var n=function(){var e=0;if(1==t("#notification_recipients .recipient").length)var n=!0;else var n=!1;t("#notification_recipients .recipient").each(function(){var i=t(this),o=i.find(".actions .dashicons-trash"),r=i.find("input, select");n?o.addClass("disabled"):o.removeClass("disabled"),r.each(function(){var n=t(this),i=n.attr("name");n.attr("name",i.replace(/notification_recipient\[[0-9]+\]/,"notification_recipient["+e+"]"))}),e++})},i=function(e,i){e="undefined"!=typeof e?e:"",i="undefined"!=typeof i?i:"";var o=t("#notification_recipients .recipients");o.fadeTo(200,.5);var r={action:"notification_add_recipient",type:e,value:i};t.post(ajaxurl,r,function(e){if(0==e.success)alert(e.data);else{var i=t(e.data);o.append(i)}o.fadeTo(200,1),n()})};t("#notification_recipients").on("click","#notification_add_recipient",function(t){t.preventDefault(),i()}),t("#notification_recipients").on("click",".recipient .actions .dashicons-trash",function(e){e.preventDefault();var i=t(this),o=i.parents(".recipient").first();return!i.hasClass("disabled")&&void o.animate({left:"50px",opacity:0},400,"linear",function(){t(this).remove(),n()})}),t("#notification_recipients").on("change",".recipient .group select",function(){var e=t(this),i=e.parent().next(".value").find("input, select").first(),o=i.parent();o.fadeTo(200,.5);var r={action:"notification_get_recipient_input",recipient_name:e.val()};t.post(ajaxurl,r,function(e){if(0==e.success)alert(e.data);else{var i=t(e.data);o.html(i),"undefined"!=typeof i.data("update")&&wp.hooks.doAction("notification.update_input",i,i.data("value"),i.data("update"))}o.fadeTo(200,1),n()})});var o=function(){t("#notification_recipients .recipient").each(function(){var e=t(this).find(".field.value select, .field.value input");"undefined"!=typeof e.data("update")&&wp.hooks.doAction("notification.update_input",e,e.data("value"),e.data("update"))})};t(document).ready(o),wp.hooks.addAction("notification.changed_trigger",o),wp.hooks.addAction("notification.update_input",function(e,n,i){if("email_merge_tags"==i){var o=t("#notification_trigger_select").val(),r=e.parent();r.fadeTo(200,.5);var s={action:"notification_get_email_merge_tags",trigger:o};t.post(ajaxurl,s,function(i){0==i.success?alert(i.data):(e.find("option").remove(),e.append(t("<option>")),t.each(i.data,function(i,o){var r={value:i,text:o};i==n&&(r.selected="selected"),e.append(t("<option>",r))})),r.fadeTo(200,1)})}}),wp.hooks.addAction("notification.changed_trigger",function(e,n){if(""==tinymce.activeEditor.getContent()){var o={action:"notification_get_defaults",trigger:e};t.post(ajaxurl,o,function(e){if(0==e.success)alert(e.data);else{var n=e.data;n.title&&t("#title").val(n.title).focus(),n.template&&tinymce.activeEditor.setContent(n.template),n.recipients&&(t("#notification_recipients .recipients .recipient").first().remove(),t.each(n.recipients,function(t,e){i(t,e)}))}})}}),t(".notification-notice").on("click",".dismiss-beg-message",function(e){e.preventDefault();var n=t(this),i={action:"notification_dismiss_beg_message",nonce:n.data("nonce")};t.post(ajaxurl,i,function(t){n.parents(".notification-notice").slideUp()})}),t('#the-list tr[data-slug="notification"] .deactivate a').click(function(t){t.preventDefault()}),t("body").on("submit","#notification-plugin-feedback-form",function(e){e.preventDefault();var n=t(this);n.find(".spinner").addClass("is-active");var i={action:"notification_send_feedback",form:n.serializeArray()};t.post(ajaxurl,i,function(e){window.location.href=t('#the-list tr[data-slug="notification"] .deactivate a').data("deactivate")})})})}(jQuery);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlbmRvci9zZWxlY3RpemUuanMiLCJ2ZW5kb3IvY2xpcGJvYXJkLmpzIiwidmVuZG9yL2V2ZW50LW1hbmFnZXIuanMiLCJhZG1pbi5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJTaWZ0ZXIiLCJ0aGlzIiwiaXRlbXMiLCJzZXR0aW5ncyIsImRpYWNyaXRpY3MiLCJwcm90b3R5cGUiLCJ0b2tlbml6ZSIsInF1ZXJ5IiwidHJpbSIsIlN0cmluZyIsInRvTG93ZXJDYXNlIiwibGVuZ3RoIiwiaSIsIm4iLCJyZWdleCIsImxldHRlciIsInRva2VucyIsIndvcmRzIiwic3BsaXQiLCJlc2NhcGVfcmVnZXgiLCJESUFDUklUSUNTIiwiaGFzT3duUHJvcGVydHkiLCJyZXBsYWNlIiwiUmVnRXhwIiwicHVzaCIsInN0cmluZyIsIml0ZXJhdG9yIiwib2JqZWN0IiwiY2FsbGJhY2siLCJpc19hcnJheSIsIkFycmF5IiwiZm9yRWFjaCIsImtleSIsImFwcGx5IiwiZ2V0U2NvcmVGdW5jdGlvbiIsInNlYXJjaCIsIm9wdGlvbnMiLCJzZWxmIiwiZmllbGRzIiwidG9rZW5fY291bnQiLCJuZXN0aW5nIiwicHJlcGFyZVNlYXJjaCIsInNjb3JlVmFsdWUiLCJ2YWx1ZSIsInRva2VuIiwic2NvcmUiLCJwb3MiLCJzY29yZU9iamVjdCIsImZpZWxkX2NvdW50IiwiZGF0YSIsImdldGF0dHIiLCJzdW0iLCJjb25qdW5jdGlvbiIsImdldFNvcnRGdW5jdGlvbiIsImZpZWxkIiwiZmllbGRzX2NvdW50IiwibXVsdGlwbGllciIsIm11bHRpcGxpZXJzIiwiZ2V0X2ZpZWxkIiwiaW1wbGljaXRfc2NvcmUiLCJzb3J0Iiwic29ydF9lbXB0eSIsIm5hbWUiLCJyZXN1bHQiLCJpZCIsInVuc2hpZnQiLCJkaXJlY3Rpb24iLCJzcGxpY2UiLCJhIiwiYiIsImNtcCIsImV4dGVuZCIsIm9wdGlvbl9maWVsZHMiLCJvcHRpb25fc29ydCIsIm9wdGlvbl9zb3J0X2VtcHR5IiwidG90YWwiLCJmbl9zb3J0IiwiZm5fc2NvcmUiLCJpdGVtIiwiZmlsdGVyIiwibGltaXQiLCJzbGljZSIsImFzY2lpZm9sZCIsImsiLCJhcmd1bWVudHMiLCJvYmoiLCJuYW1lcyIsInNoaWZ0Iiwic3RyIiwiaXNBcnJheSIsIiQiLCJPYmplY3QiLCJ0b1N0cmluZyIsImNhbGwiLCJjIiwiZCIsImUiLCJmIiwiZyIsImgiLCJqIiwibCIsIm8iLCJwIiwicSIsInIiLCJzIiwidCIsInUiLCJ2IiwidyIsIngiLCJ5IiwieiIsImNodW5rIiwiZm9yZWlnbmxldHRlcnMiLCJsb29rdXAiLCJzdWJzdHJpbmciLCJjaGFyQXQiLCJyZWdleHAiLCJmb3JlaWdubGV0dGVyIiwiTWljcm9QbHVnaW4iLCJtaXhpbiIsIkludGVyZmFjZSIsInBsdWdpbnMiLCJpbml0aWFsaXplUGx1Z2lucyIsInF1ZXVlIiwicmVxdWVzdGVkIiwibG9hZGVkIiwidXRpbHMiLCJyZXF1aXJlIiwibG9hZFBsdWdpbiIsInBsdWdpbiIsIkVycm9yIiwiZm4iLCJ2QXJnIiwiU2VsZWN0aXplIiwialF1ZXJ5IiwiaGlnaGxpZ2h0IiwiJGVsZW1lbnQiLCJwYXR0ZXJuIiwibm9kZSIsInNraXAiLCJub2RlVHlwZSIsIm1hdGNoIiwic3Bhbm5vZGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJtaWRkbGViaXQiLCJzcGxpdFRleHQiLCJtaWRkbGVjbG9uZSIsImNsb25lTm9kZSIsImFwcGVuZENoaWxkIiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsImNoaWxkTm9kZXMiLCJ0ZXN0IiwidGFnTmFtZSIsImVhY2giLCJyZW1vdmVIaWdobGlnaHQiLCJmaW5kIiwiZmlyc3RDaGlsZCIsIm5vZGVOYW1lIiwicGFyZW50Iiwibm9ybWFsaXplIiwiZW5kIiwiTWljcm9FdmVudCIsIm9uIiwiZXZlbnQiLCJmY3QiLCJfZXZlbnRzIiwib2ZmIiwiaW5kZXhPZiIsInRyaWdnZXIiLCJkZXN0T2JqZWN0IiwicHJvcHMiLCJJU19NQUMiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJLRVlfQSIsIktFWV9SRVRVUk4iLCJLRVlfRVNDIiwiS0VZX0xFRlQiLCJLRVlfVVAiLCJLRVlfUCIsIktFWV9SSUdIVCIsIktFWV9ET1dOIiwiS0VZX04iLCJLRVlfQkFDS1NQQUNFIiwiS0VZX0RFTEVURSIsIktFWV9TSElGVCIsIktFWV9DTUQiLCJLRVlfQ1RSTCIsIktFWV9UQUIiLCJUQUdfU0VMRUNUIiwiVEFHX0lOUFVUIiwiU1VQUE9SVFNfVkFMSURJVFlfQVBJIiwid2luZG93IiwidmFsaWRpdHkiLCJpc3NldCIsImhhc2hfa2V5IiwiZXNjYXBlX2h0bWwiLCJob29rIiwiYmVmb3JlIiwibWV0aG9kIiwib3JpZ2luYWwiLCJhZnRlciIsIm9uY2UiLCJjYWxsZWQiLCJkZWJvdW5jZSIsImRlbGF5IiwidGltZW91dCIsImFyZ3MiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZGVib3VuY2VfZXZlbnRzIiwidHlwZXMiLCJ0eXBlIiwiZXZlbnRfYXJncyIsIndhdGNoQ2hpbGRFdmVudCIsIiRwYXJlbnQiLCJzZWxlY3RvciIsImNoaWxkIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsImdldFNlbGVjdGlvbiIsImlucHV0Iiwic3RhcnQiLCJzZWxlY3Rpb25TdGFydCIsInNlbGVjdGlvbkVuZCIsInNlbGVjdGlvbiIsImZvY3VzIiwic2VsIiwiY3JlYXRlUmFuZ2UiLCJzZWxMZW4iLCJ0ZXh0IiwibW92ZVN0YXJ0IiwidHJhbnNmZXJTdHlsZXMiLCIkZnJvbSIsIiR0byIsInByb3BlcnRpZXMiLCJzdHlsZXMiLCJjc3MiLCJtZWFzdXJlU3RyaW5nIiwiJHRlc3QiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJ3aWR0aCIsInBhZGRpbmciLCJ3aGl0ZVNwYWNlIiwiYXBwZW5kVG8iLCJyZW1vdmUiLCJhdXRvR3JvdyIsIiRpbnB1dCIsImN1cnJlbnRXaWR0aCIsInVwZGF0ZSIsImtleUNvZGUiLCJwcmludGFibGUiLCJwbGFjZWhvbGRlciIsImNoYXJhY3RlciIsIm1ldGFLZXkiLCJhbHRLZXkiLCJmb3JjZSIsInZhbCIsInNoaWZ0S2V5IiwiZnJvbUNoYXJDb2RlIiwidG9VcHBlckNhc2UiLCJhdHRyIiwidHJpZ2dlckhhbmRsZXIiLCJkb21Ub1N0cmluZyIsInRtcCIsImlubmVySFRNTCIsImxvZ0Vycm9yIiwibWVzc2FnZSIsImNvbXBvbmVudCIsImNvbnNvbGUiLCJlcnJvciIsImV4cGxhbmF0aW9uIiwiZ3JvdXAiLCJncm91cEVuZCIsImRpciIsInNlbGVjdGl6ZSIsImNvbXB1dGVkU3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImN1cnJlbnRTdHlsZSIsInBhcmVudHMiLCJvcmRlciIsInRhYkluZGV4IiwidGFnVHlwZSIsInJ0bCIsImV2ZW50TlMiLCJjb3VudCIsImhpZ2hsaWdodGVkVmFsdWUiLCJpc09wZW4iLCJpc0Rpc2FibGVkIiwiaXNSZXF1aXJlZCIsImlzIiwiaXNJbnZhbGlkIiwiaXNMb2NrZWQiLCJpc0ZvY3VzZWQiLCJpc0lucHV0SGlkZGVuIiwiaXNTZXR1cCIsImlzU2hpZnREb3duIiwiaXNDbWREb3duIiwiaXNDdHJsRG93biIsImlnbm9yZUZvY3VzIiwiaWdub3JlQmx1ciIsImlnbm9yZUhvdmVyIiwiaGFzT3B0aW9ucyIsImN1cnJlbnRSZXN1bHRzIiwibGFzdFZhbHVlIiwiY2FyZXRQb3MiLCJsb2FkaW5nIiwibG9hZGVkU2VhcmNoZXMiLCIkYWN0aXZlT3B0aW9uIiwiJGFjdGl2ZUl0ZW1zIiwib3B0Z3JvdXBzIiwidXNlck9wdGlvbnMiLCJyZW5kZXJDYWNoZSIsIm9uU2VhcmNoQ2hhbmdlIiwibG9hZFRocm90dGxlIiwic2lmdGVyIiwicmVnaXN0ZXJPcHRpb24iLCJyZWdpc3Rlck9wdGlvbkdyb3VwIiwibW9kZSIsIm1heEl0ZW1zIiwiaGlkZVNlbGVjdGVkIiwic2V0dXBDYWxsYmFja3MiLCJzZXR1cFRlbXBsYXRlcyIsInNldHVwIiwiJHdyYXBwZXIiLCIkY29udHJvbCIsIiRjb250cm9sX2lucHV0IiwiJGRyb3Bkb3duIiwiJGRyb3Bkb3duX2NvbnRlbnQiLCIkZHJvcGRvd25fcGFyZW50IiwiaW5wdXRNb2RlIiwiY2xhc3NlcyIsImNsYXNzZXNfcGx1Z2lucyIsImlucHV0SWQiLCIkd2luZG93IiwiJGRvY3VtZW50IiwiYWRkQ2xhc3MiLCJ3cmFwcGVyQ2xhc3MiLCJpbnB1dENsYXNzIiwiZHJvcGRvd25QYXJlbnQiLCJkcm9wZG93bkNsYXNzIiwiaGlkZSIsImRyb3Bkb3duQ29udGVudENsYXNzIiwiY29weUNsYXNzZXNUb0Ryb3Bkb3duIiwic3R5bGUiLCJqb2luIiwic3BsaXRPbiIsImRlbGltaXRlciIsImRlbGltaXRlckVzY2FwZWQiLCJvbk9wdGlvbkhvdmVyIiwib25PcHRpb25TZWxlY3QiLCJvbkl0ZW1TZWxlY3QiLCJtb3VzZWRvd24iLCJvbk1vdXNlRG93biIsImNsaWNrIiwib25DbGljayIsInN0b3BQcm9wYWdhdGlvbiIsImtleWRvd24iLCJvbktleURvd24iLCJrZXl1cCIsIm9uS2V5VXAiLCJrZXlwcmVzcyIsIm9uS2V5UHJlc3MiLCJyZXNpemUiLCJwb3NpdGlvbkRyb3Bkb3duIiwiYmx1ciIsIm9uQmx1ciIsIm9uRm9jdXMiLCJwYXN0ZSIsIm9uUGFzdGUiLCJoYXMiLCJyZXZlcnRTZXR0aW5ncyIsIiRjaGlsZHJlbiIsImNoaWxkcmVuIiwiZGV0YWNoIiwidGFiaW5kZXgiLCJzZXRWYWx1ZSIsInByZXZlbnREZWZhdWx0IiwicmVmcmVzaFN0YXRlIiwidXBkYXRlT3JpZ2luYWxJbnB1dCIsInJlZnJlc2hJdGVtcyIsInVwZGF0ZVBsYWNlaG9sZGVyIiwiZGlzYWJsZSIsIm9uQ2hhbmdlIiwicHJlbG9hZCIsImZpZWxkX2xhYmVsIiwibGFiZWxGaWVsZCIsImZpZWxkX29wdGdyb3VwIiwib3B0Z3JvdXBMYWJlbEZpZWxkIiwidGVtcGxhdGVzIiwib3B0Z3JvdXAiLCJodG1sIiwib3B0Z3JvdXBfaGVhZGVyIiwiZXNjYXBlIiwib3B0aW9uIiwib3B0aW9uX2NyZWF0ZSIsInJlbmRlciIsImNhbGxiYWNrcyIsImluaXRpYWxpemUiLCJjaGFuZ2UiLCJpdGVtX2FkZCIsIml0ZW1fcmVtb3ZlIiwiY2xlYXIiLCJvcHRpb25fYWRkIiwib3B0aW9uX3JlbW92ZSIsIm9wdGlvbl9jbGVhciIsIm9wdGdyb3VwX2FkZCIsIm9wdGdyb3VwX3JlbW92ZSIsIm9wdGdyb3VwX2NsZWFyIiwiZHJvcGRvd25fb3BlbiIsImRyb3Bkb3duX2Nsb3NlIiwibG9hZCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJjbG9zZSIsIm9wZW4iLCJzZXRBY3RpdmVJdGVtIiwiaXNGdWxsIiwicGFzdGVkVGV4dCIsInNwbGl0SW5wdXQiLCJjcmVhdGVJdGVtIiwid2hpY2giLCJjcmVhdGUiLCJzZWxlY3RBbGwiLCJjdHJsS2V5IiwiJG5leHQiLCJnZXRBZGphY2VudE9wdGlvbiIsInNldEFjdGl2ZU9wdGlvbiIsIiRwcmV2IiwiYWR2YW5jZVNlbGVjdGlvbiIsInNlbGVjdE9uVGFiIiwiZGVsZXRlU2VsZWN0aW9uIiwicmVmcmVzaE9wdGlvbnMiLCJ3YXNGb2N1c2VkIiwic2hvd0lucHV0Iiwib3Blbk9uRm9jdXMiLCJkZXN0IiwiYWN0aXZlRWxlbWVudCIsImRlYWN0aXZhdGUiLCJzZXRUZXh0Ym94VmFsdWUiLCJzZXRDYXJldCIsImNyZWF0ZU9uQmx1ciIsIiR0YXJnZXQiLCJoYXNDbGFzcyIsImNsb3NlQWZ0ZXJTZWxlY3QiLCJsYXN0UXVlcnkiLCJhZGRJdGVtIiwiZ2V0T3B0aW9uIiwibG9hZGluZ0NsYXNzIiwicmVzdWx0cyIsIk1hdGgiLCJtYXgiLCJhZGRPcHRpb24iLCJyZW1vdmVDbGFzcyIsImNoYW5nZWQiLCJnZXRWYWx1ZSIsInNpbGVudCIsImV2ZW50cyIsImFkZEl0ZW1zIiwiJGl0ZW0iLCJldmVudE5hbWUiLCJpZHgiLCJiZWdpbiIsInN3YXAiLCIkbGFzdCIsImhpZGVJbnB1dCIsIiRvcHRpb24iLCJzY3JvbGwiLCJhbmltYXRlIiwiaGVpZ2h0X21lbnUiLCJoZWlnaHRfaXRlbSIsInNjcm9sbF90b3AiLCJzY3JvbGxfYm90dG9tIiwiaGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJzdG9wIiwic2Nyb2xsRHVyYXRpb24iLCJvcGFjaXR5IiwiZ2V0U2VhcmNoT3B0aW9ucyIsInNvcnRGaWVsZCIsInNlYXJjaEZpZWxkIiwic2VhcmNoQ29uanVuY3Rpb24iLCJjYWxjdWxhdGVTY29yZSIsInRyaWdnZXJEcm9wZG93biIsImdyb3VwcyIsImdyb3Vwc19vcmRlciIsIm9wdGlvbl9odG1sIiwiaHRtbF9jaGlsZHJlbiIsImhhc19jcmVhdGVfb3B0aW9uIiwiJGFjdGl2ZSIsIiRhY3RpdmVfYmVmb3JlIiwiJGNyZWF0ZSIsImFjdGl2ZV9iZWZvcmUiLCJtYXhPcHRpb25zIiwibWluIiwib3B0Z3JvdXBGaWVsZCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJsb2NrT3B0Z3JvdXBPcmRlciIsImFfb3JkZXIiLCIkb3JkZXIiLCJiX29yZGVyIiwiZG9tIiwiY2FuQ3JlYXRlIiwicHJlcGVuZCIsImFkZFByZWNlZGVuY2UiLCJ2YWx1ZUZpZWxkIiwib3B0Z3JvdXBWYWx1ZUZpZWxkIiwiYWRkT3B0aW9uR3JvdXAiLCJyZW1vdmVPcHRpb25Hcm91cCIsImNsZWFyT3B0aW9uR3JvdXBzIiwidXBkYXRlT3B0aW9uIiwiJGl0ZW1fbmV3IiwidmFsdWVfbmV3IiwiaW5kZXhfaXRlbSIsImNhY2hlX2l0ZW1zIiwiY2FjaGVfb3B0aW9ucyIsIm9yZGVyX29sZCIsImdldEl0ZW0iLCJyZXBsYWNlV2l0aCIsInJlbW92ZU9wdGlvbiIsInJlbW92ZUl0ZW0iLCJjbGVhck9wdGlvbnMiLCJnZXRFbGVtZW50V2l0aFZhbHVlIiwiJG9wdGlvbnMiLCJpbmRleCIsImVxIiwiJGVscyIsImdldEF0dHJpYnV0ZSIsInZhbHVlcyIsImlzUGVuZGluZyIsInZhbHVlX25leHQiLCJ3YXNGdWxsIiwiaW5zZXJ0QXRDYXJldCIsInBlcnNpc3QiLCJjYXJldCIsImxvY2siLCJ1bmxvY2siLCJvdXRwdXQiLCJyZWZyZXNoVmFsaWRpdHlTdGF0ZSIsInJlZnJlc2hDbGFzc2VzIiwiaW52YWxpZCIsInByb3AiLCJ0b2dnbGVDbGFzcyIsImlzRW1wdHlPYmplY3QiLCJvcHRzIiwibGFiZWwiLCJyZW1vdmVBdHRyIiwidmlzaWJpbGl0eSIsImRpc3BsYXkiLCJvdXRlcldpZHRoIiwiJGVsIiwib3B0aW9uX3NlbGVjdCIsIiRvcHRpb25fc2VsZWN0IiwiJHRhaWwiLCJvbkRlbGV0ZSIsInBvcCIsInRhaWwiLCJ2YWx1ZUxlbmd0aCIsImN1cnNvckF0RWRnZSIsImFkdmFuY2VDYXJldCIsIiRhZGoiLCIkY2hpbGQiLCJhcHBlbmQiLCJlbmFibGUiLCJkZXN0cm95Iiwic2hvdyIsInJlbW92ZURhdGEiLCJib2R5IiwidGVtcGxhdGVOYW1lIiwiY2FjaGUiLCJjbGVhckNhY2hlIiwiY3JlYXRlRmlsdGVyIiwiZGVmYXVsdHMiLCJhbGxvd0VtcHR5T3B0aW9uIiwiZGF0YUF0dHIiLCJzZXR0aW5nc191c2VyIiwiYXR0cl9kYXRhIiwiZmllbGRfdmFsdWUiLCJmaWVsZF9vcHRncm91cF9sYWJlbCIsImZpZWxkX29wdGdyb3VwX3ZhbHVlIiwiaW5pdF90ZXh0Ym94Iiwic2V0dGluZ3NfZWxlbWVudCIsImRhdGFfcmF3IiwiSlNPTiIsInBhcnNlIiwiaW5pdF9zZWxlY3QiLCJvcHRpb25zTWFwIiwicmVhZERhdGEiLCJhcnIiLCJhZGRHcm91cCIsIiRvcHRncm91cCIsImluc3RhbmNlIiwidGFnX25hbWUiLCJzdXBwb3J0Iiwic29ydGFibGUiLCJmb3JjZVBsYWNlaG9sZGVyU2l6ZSIsImRpc2FibGVkIiwidWkiLCJoZWxwZXIiLCJvdmVyZmxvdyIsImFjdGl2ZSIsInRpdGxlIiwiaGVhZGVyQ2xhc3MiLCJ0aXRsZVJvd0NsYXNzIiwibGFiZWxDbGFzcyIsImNsb3NlQ2xhc3MiLCIkZHJvcGRvd25faGVhZGVyIiwiZXF1YWxpemVXaWR0aCIsImVxdWFsaXplSGVpZ2h0IiwiY2xvc2VzdCIsInByZXYiLCJuZXh0IiwiZ2V0U2Nyb2xsYmFyV2lkdGgiLCJkaXYiLCJkb2MiLCJvZmZzZXRXaWR0aCIsImNsaWVudFdpZHRoIiwicmVtb3ZlQ2hpbGQiLCJlcXVhbGl6ZVNpemVzIiwiaGVpZ2h0X21heCIsIndpZHRoX2xhc3QiLCJ3aWR0aF9wYXJlbnQiLCIkb3B0Z3JvdXBzIiwiaW5uZXJXaWR0aCIsInJvdW5kIiwic2luZ2xlQ2xvc2UiLCJ0aGlzUmVmIiwiaHRtbF9jb250YWluZXIiLCJodG1sX2VsZW1lbnQiLCJjb250ZXh0IiwicmVuZGVyX2l0ZW0iLCJtdWx0aUNsb3NlIiwiZ2xvYmFsIiwiQ2xpcGJvYXJkIiwiY29kZSIsIjEiLCJtYXRjaGVzIiwiZWxlbWVudCIsImNoZWNrWW9TZWxmIiwibWF0Y2hlcy1zZWxlY3RvciIsIjIiLCJkZWxlZ2F0ZSIsInVzZUNhcHR1cmUiLCJsaXN0ZW5lckZuIiwibGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRlbGVnYXRlVGFyZ2V0IiwiMyIsInVuZGVmaW5lZCIsIkhUTUxFbGVtZW50Iiwibm9kZUxpc3QiLCI0IiwibGlzdGVuIiwiVHlwZUVycm9yIiwibGlzdGVuTm9kZSIsImxpc3Rlbk5vZGVMaXN0IiwibGlzdGVuU2VsZWN0b3IiLCIuL2lzIiwiNSIsImVsIiwidmVuZG9yIiwibm9kZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwicHJvdG8iLCJFbGVtZW50IiwibWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJvTWF0Y2hlc1NlbGVjdG9yIiwiNiIsInNlbGVjdCIsInNlbGVjdGVkVGV4dCIsInNldFNlbGVjdGlvblJhbmdlIiwiaGFzQXR0cmlidXRlIiwicmFuZ2UiLCJzZWxlY3ROb2RlQ29udGVudHMiLCJyZW1vdmVBbGxSYW5nZXMiLCJhZGRSYW5nZSIsIjciLCJFIiwiY3R4IiwiXyIsImVtaXQiLCJldnRBcnIiLCJsZW4iLCJldnRzIiwibGl2ZUV2ZW50cyIsIjgiLCJtb2QiLCJjbGlwYm9hcmRBY3Rpb24iLCJfc2VsZWN0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2NsYXNzQ2FsbENoZWNrIiwiQ29uc3RydWN0b3IiLCJfc2VsZWN0MiIsIl90eXBlb2YiLCJTeW1ib2wiLCJjb25zdHJ1Y3RvciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZGVmaW5lUHJvcGVydHkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJDbGlwYm9hcmRBY3Rpb24iLCJyZXNvbHZlT3B0aW9ucyIsImluaXRTZWxlY3Rpb24iLCJhY3Rpb24iLCJlbWl0dGVyIiwic2VsZWN0RmFrZSIsInNlbGVjdFRhcmdldCIsIl90aGlzIiwiaXNSVEwiLCJkb2N1bWVudEVsZW1lbnQiLCJyZW1vdmVGYWtlIiwiZmFrZUhhbmRsZXJDYWxsYmFjayIsImZha2VIYW5kbGVyIiwiZmFrZUVsZW0iLCJmb250U2l6ZSIsImJvcmRlciIsIm1hcmdpbiIsInBhZ2VZT2Zmc2V0Iiwic2V0QXR0cmlidXRlIiwiY29weVRleHQiLCJzdWNjZWVkZWQiLCJleGVjQ29tbWFuZCIsImVyciIsImhhbmRsZVJlc3VsdCIsImNsZWFyU2VsZWN0aW9uIiwiYmluZCIsInNldCIsIl9hY3Rpb24iLCJnZXQiLCJfdGFyZ2V0IiwiOSIsInRpbnlFbWl0dGVyIiwiZ29vZExpc3RlbmVyIiwiY2xpcGJvYXJkIiwiX2NsaXBib2FyZEFjdGlvbiIsIl90aW55RW1pdHRlciIsIl9nb29kTGlzdGVuZXIiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJnZXRBdHRyaWJ1dGVWYWx1ZSIsInN1ZmZpeCIsImF0dHJpYnV0ZSIsIl9jbGlwYm9hcmRBY3Rpb24yIiwiX3RpbnlFbWl0dGVyMiIsIl9nb29kTGlzdGVuZXIyIiwiX0VtaXR0ZXIiLCJsaXN0ZW5DbGljayIsImRlZmF1bHRBY3Rpb24iLCJkZWZhdWx0VGFyZ2V0IiwiZGVmYXVsdFRleHQiLCJfdGhpczIiLCJxdWVyeVNlbGVjdG9yIiwiLi9jbGlwYm9hcmQtYWN0aW9uIiwiZ29vZC1saXN0ZW5lciIsInRpbnktZW1pdHRlciIsIkV2ZW50TWFuYWdlciIsImFkZEFjdGlvbiIsInByaW9yaXR5IiwicGFyc2VJbnQiLCJfYWRkSG9vayIsIk1ldGhvZHNBdmFpbGFibGUiLCJkb0FjdGlvbiIsIl9ydW5Ib29rIiwicmVtb3ZlQWN0aW9uIiwiX3JlbW92ZUhvb2siLCJhZGRGaWx0ZXIiLCJhcHBseUZpbHRlcnMiLCJyZW1vdmVGaWx0ZXIiLCJoYW5kbGVycyIsImhhbmRsZXIiLCJTVE9SQUdFIiwiaG9va09iamVjdCIsImhvb2tzIiwiX2hvb2tJbnNlcnRTb3J0IiwidG1wSG9vayIsInByZXZIb29rIiwiYWN0aW9ucyIsImZpbHRlcnMiLCJ3cCIsInJlYWR5IiwibWVyZ2VfdGFnX2NsaXBib2FyZCIsIiRjb2RlIiwidGFnIiwibm90aWZpY2F0aW9uIiwiY29waWVkIiwiJHNlbGVjdCIsIiRjb250YWluZXIiLCIkbWV0YWJveCIsImZhZGVUbyIsInBvc3QiLCJhamF4dXJsIiwicmVzcG9uc2UiLCJzdWNjZXNzIiwidGFncyIsInVsIiwidXBkYXRlX3JlY2lwaWVudHMiLCIkcm93IiwiJHJlbW92ZV9idXR0b24iLCIkaW5wdXRzIiwicGFydF9uYW1lIiwiYWRkX3JlY2lwaWVudCIsImFsZXJ0IiwiJGJ1dHRvbiIsImZpcnN0IiwicmVjaXBpZW50X25hbWUiLCJ1cGRhdGVfYWxsX2lucHV0cyIsInVwZGF0ZV90eXBlIiwidGFnX3ZhbHVlIiwiYXR0cyIsInNlbGVjdGVkIiwidHJpZ2dlcl9zbHVnIiwidGlueW1jZSIsImFjdGl2ZUVkaXRvciIsImdldENvbnRlbnQiLCJ0ZW1wbGF0ZSIsInNldENvbnRlbnQiLCJyZWNpcGllbnRzIiwibm9uY2UiLCJzbGlkZVVwIiwiJGZvcm0iLCJmb3JtIiwic2VyaWFsaXplQXJyYXkiLCJsb2NhdGlvbiIsImhyZWYiXSwibWFwcGluZ3MiOiJDQWdCQSxTQUFBQSxFQUFBQyxHQUNBLGtCQUFBQyxTQUFBQSxPQUFBQyxJQUNBRCxPQUFBLFNBQUFELEdBQ0EsZ0JBQUFHLFNBQ0FDLE9BQUFELFFBQUFILElBRUFELEVBQUFNLE9BQUFMLEtBRUFNLEtBQUEsV0FXQSxHQUFBRCxHQUFBLFNBQUFFLEVBQUFDLEdBQ0FGLEtBQUFDLE1BQUFBLEVBQ0FELEtBQUFFLFNBQUFBLElBQUFDLFlBQUEsR0FVQUosR0FBQUssVUFBQUMsU0FBQSxTQUFBQyxHQUVBLEdBREFBLEVBQUFDLEVBQUFDLE9BQUFGLEdBQUEsSUFBQUcsZ0JBQ0FILElBQUFBLEVBQUFJLE9BQUEsUUFFQSxJQUFBQyxHQUFBQyxFQUFBQyxFQUFBQyxFQUNBQyxLQUNBQyxFQUFBVixFQUFBVyxNQUFBLEtBRUEsS0FBQU4sRUFBQSxFQUFBQyxFQUFBSSxFQUFBTixPQUFBQyxFQUFBQyxFQUFBRCxJQUFBLENBRUEsR0FEQUUsRUFBQUssRUFBQUYsRUFBQUwsSUFDQVgsS0FBQUUsU0FBQUMsV0FDQSxJQUFBVyxJQUFBSyxHQUNBQSxFQUFBQyxlQUFBTixLQUNBRCxFQUFBQSxFQUFBUSxRQUFBLEdBQUFDLFFBQUFSLEVBQUEsS0FBQUssRUFBQUwsSUFJQUMsR0FBQVEsTUFDQUMsT0FBQVIsRUFBQUwsR0FDQUUsTUFBQSxHQUFBUyxRQUFBVCxFQUFBLE9BSUEsTUFBQUUsSUFjQWhCLEVBQUFLLFVBQUFxQixTQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQUYsRUFFQUEsR0FEQUcsRUFBQUYsR0FDQUcsTUFBQXpCLFVBQUEwQixT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QSxHQUFBc2hCLEdBQUEyTyxFQUFBandCLElBRUFzaEIsR0FBQTZCLE9BQ0ExZ0IsRUFBQSxVQUFBK0ssSUFBQThULEVBQUE2QixPQUFBNVgsUUFHQStWLEVBQUFrUSxVQUNBSCxRQUFBQyxhQUFBRyxXQUFBblEsRUFBQWtRLFVBR0FsUSxFQUFBb1EsYUFFQWp2QixFQUFBLG1EQUFBb3VCLFFBQUFqa0IsU0FFQW5LLEVBQUFxRSxLQUFBd2EsRUFBQW9RLFdBQUEsU0FBQWpuQixFQUFBL0ssR0FDQWd4QixFQUFBam1CLEVBQUEvSyxZQWVBK0MsRUFBQSx3QkFBQThFLEdBQUEsUUFBQSx1QkFBQSxTQUFBQyxHQUVBQSxFQUFBeU4sZ0JBRUEsSUFBQTJiLEdBQUFudUIsRUFBQXpGLE1BRUFnRCxHQUNBb3FCLE9BQUEsbUNBQ0F1SCxNQUFBZixFQUFBNXdCLEtBQUEsU0FHQXlDLEdBQUFzdEIsS0FBQUMsUUFBQWh3QixFQUFBLFNBQUFpd0IsR0FDQVcsRUFBQTdoQixRQUFBLHdCQUFBNmlCLGNBT0FudkIsRUFBQSx3REFBQWlSLE1BQUEsU0FBQWxNLEdBQ0FBLEVBQUF5TixtQkFHQXhTLEVBQUEsUUFBQThFLEdBQUEsU0FBQSxxQ0FBQSxTQUFBQyxHQUVBQSxFQUFBeU4sZ0JBRUEsSUFBQTRjLEdBQUFwdkIsRUFBQXpGLEtBRUE2MEIsR0FBQTdxQixLQUFBLFlBQUF3TCxTQUFBLFlBRUEsSUFBQXhTLElBQ0FvcUIsT0FBQSw2QkFDQTBILEtBQUFELEVBQUFFLGlCQUdBdHZCLEdBQUFzdEIsS0FBQUMsUUFBQWh3QixFQUFBLFNBQUFpd0IsR0FDQTVtQixPQUFBMm9CLFNBQUFDLEtBQUF4dkIsRUFBQSx3REFBQXpDLEtBQUEscUJBT0F3RiIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogc2lmdGVyLmpzXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMgQnJpYW4gUmVhdmlzICYgY29udHJpYnV0b3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXNcbiAqIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlclxuICogdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRlxuICogQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlXG4gKiBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIEBhdXRob3IgQnJpYW4gUmVhdmlzIDxicmlhbkB0aGlyZHJvdXRlLmNvbT5cbiAqL1xuXG4oZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKCdzaWZ0ZXInLCBmYWN0b3J5KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0fSBlbHNlIHtcblx0XHRyb290LlNpZnRlciA9IGZhY3RvcnkoKTtcblx0fVxufSh0aGlzLCBmdW5jdGlvbigpIHtcblxuXHQvKipcblx0ICogVGV4dHVhbGx5IHNlYXJjaGVzIGFycmF5cyBhbmQgaGFzaGVzIG9mIG9iamVjdHNcblx0ICogYnkgcHJvcGVydHkgKG9yIG11bHRpcGxlIHByb3BlcnRpZXMpLiBEZXNpZ25lZFxuXHQgKiBzcGVjaWZpY2FsbHkgZm9yIGF1dG9jb21wbGV0ZS5cblx0ICpcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7YXJyYXl8b2JqZWN0fSBpdGVtc1xuXHQgKiBAcGFyYW0ge29iamVjdH0gaXRlbXNcblx0ICovXG5cdHZhciBTaWZ0ZXIgPSBmdW5jdGlvbihpdGVtcywgc2V0dGluZ3MpIHtcblx0XHR0aGlzLml0ZW1zID0gaXRlbXM7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzIHx8IHtkaWFjcml0aWNzOiB0cnVlfTtcblx0fTtcblxuXHQvKipcblx0ICogU3BsaXRzIGEgc2VhcmNoIHN0cmluZyBpbnRvIGFuIGFycmF5IG9mIGluZGl2aWR1YWxcblx0ICogcmVnZXhwcyB0byBiZSB1c2VkIHRvIG1hdGNoIHJlc3VsdHMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeVxuXHQgKiBAcmV0dXJucyB7YXJyYXl9XG5cdCAqL1xuXHRTaWZ0ZXIucHJvdG90eXBlLnRva2VuaXplID0gZnVuY3Rpb24ocXVlcnkpIHtcblx0XHRxdWVyeSA9IHRyaW0oU3RyaW5nKHF1ZXJ5IHx8ICcnKS50b0xvd2VyQ2FzZSgpKTtcblx0XHRpZiAoIXF1ZXJ5IHx8ICFxdWVyeS5sZW5ndGgpIHJldHVybiBbXTtcblxuXHRcdHZhciBpLCBuLCByZWdleCwgbGV0dGVyO1xuXHRcdHZhciB0b2tlbnMgPSBbXTtcblx0XHR2YXIgd29yZHMgPSBxdWVyeS5zcGxpdCgvICsvKTtcblxuXHRcdGZvciAoaSA9IDAsIG4gPSB3b3Jkcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdHJlZ2V4ID0gZXNjYXBlX3JlZ2V4KHdvcmRzW2ldKTtcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmRpYWNyaXRpY3MpIHtcblx0XHRcdFx0Zm9yIChsZXR0ZXIgaW4gRElBQ1JJVElDUykge1xuXHRcdFx0XHRcdGlmIChESUFDUklUSUNTLmhhc093blByb3BlcnR5KGxldHRlcikpIHtcblx0XHRcdFx0XHRcdHJlZ2V4ID0gcmVnZXgucmVwbGFjZShuZXcgUmVnRXhwKGxldHRlciwgJ2cnKSwgRElBQ1JJVElDU1tsZXR0ZXJdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRva2Vucy5wdXNoKHtcblx0XHRcdFx0c3RyaW5nIDogd29yZHNbaV0sXG5cdFx0XHRcdHJlZ2V4ICA6IG5ldyBSZWdFeHAocmVnZXgsICdpJylcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiB0b2tlbnM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEl0ZXJhdGVzIG92ZXIgYXJyYXlzIGFuZCBoYXNoZXMuXG5cdCAqXG5cdCAqIGBgYFxuXHQgKiB0aGlzLml0ZXJhdG9yKHRoaXMuaXRlbXMsIGZ1bmN0aW9uKGl0ZW0sIGlkKSB7XG5cdCAqICAgIC8vIGludm9rZWQgZm9yIGVhY2ggaXRlbVxuXHQgKiB9KTtcblx0ICogYGBgXG5cdCAqXG5cdCAqIEBwYXJhbSB7YXJyYXl8b2JqZWN0fSBvYmplY3Rcblx0ICovXG5cdFNpZnRlci5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XG5cdFx0dmFyIGl0ZXJhdG9yO1xuXHRcdGlmIChpc19hcnJheShvYmplY3QpKSB7XG5cdFx0XHRpdGVyYXRvciA9IEFycmF5LnByb3RvdHlwZS5mb3JFYWNoIHx8IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwLCBuID0gdGhpcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0XHRjYWxsYmFjayh0aGlzW2ldLCBpLCB0aGlzKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aXRlcmF0b3IgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gdGhpcykge1xuXHRcdFx0XHRcdGlmICh0aGlzLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrKHRoaXNba2V5XSwga2V5LCB0aGlzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aXRlcmF0b3IuYXBwbHkob2JqZWN0LCBbY2FsbGJhY2tdKTtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIGJlIHVzZWQgdG8gc2NvcmUgaW5kaXZpZHVhbCByZXN1bHRzLlxuXHQgKlxuXHQgKiBHb29kIG1hdGNoZXMgd2lsbCBoYXZlIGEgaGlnaGVyIHNjb3JlIHRoYW4gcG9vciBtYXRjaGVzLlxuXHQgKiBJZiBhbiBpdGVtIGlzIG5vdCBhIG1hdGNoLCAwIHdpbGwgYmUgcmV0dXJuZWQgYnkgdGhlIGZ1bmN0aW9uLlxuXHQgKlxuXHQgKiBAcGFyYW0ge29iamVjdHxzdHJpbmd9IHNlYXJjaFxuXHQgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAob3B0aW9uYWwpXG5cdCAqIEByZXR1cm5zIHtmdW5jdGlvbn1cblx0ICovXG5cdFNpZnRlci5wcm90b3R5cGUuZ2V0U2NvcmVGdW5jdGlvbiA9IGZ1bmN0aW9uKHNlYXJjaCwgb3B0aW9ucykge1xuXHRcdHZhciBzZWxmLCBmaWVsZHMsIHRva2VucywgdG9rZW5fY291bnQsIG5lc3Rpbmc7XG5cblx0XHRzZWxmICAgICAgICA9IHRoaXM7XG5cdFx0c2VhcmNoICAgICAgPSBzZWxmLnByZXBhcmVTZWFyY2goc2VhcmNoLCBvcHRpb25zKTtcblx0XHR0b2tlbnMgICAgICA9IHNlYXJjaC50b2tlbnM7XG5cdFx0ZmllbGRzICAgICAgPSBzZWFyY2gub3B0aW9ucy5maWVsZHM7XG5cdFx0dG9rZW5fY291bnQgPSB0b2tlbnMubGVuZ3RoO1xuXHRcdG5lc3RpbmcgICAgID0gc2VhcmNoLm9wdGlvbnMubmVzdGluZztcblxuXHRcdC8qKlxuXHRcdCAqIENhbGN1bGF0ZXMgaG93IGNsb3NlIG9mIGEgbWF0Y2ggdGhlXG5cdFx0ICogZ2l2ZW4gdmFsdWUgaXMgYWdhaW5zdCBhIHNlYXJjaCB0b2tlbi5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7bWl4ZWR9IHZhbHVlXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IHRva2VuXG5cdFx0ICogQHJldHVybiB7bnVtYmVyfVxuXHRcdCAqL1xuXHRcdHZhciBzY29yZVZhbHVlID0gZnVuY3Rpb24odmFsdWUsIHRva2VuKSB7XG5cdFx0XHR2YXIgc2NvcmUsIHBvcztcblxuXHRcdFx0aWYgKCF2YWx1ZSkgcmV0dXJuIDA7XG5cdFx0XHR2YWx1ZSA9IFN0cmluZyh2YWx1ZSB8fCAnJyk7XG5cdFx0XHRwb3MgPSB2YWx1ZS5zZWFyY2godG9rZW4ucmVnZXgpO1xuXHRcdFx0aWYgKHBvcyA9PT0gLTEpIHJldHVybiAwO1xuXHRcdFx0c2NvcmUgPSB0b2tlbi5zdHJpbmcubGVuZ3RoIC8gdmFsdWUubGVuZ3RoO1xuXHRcdFx0aWYgKHBvcyA9PT0gMCkgc2NvcmUgKz0gMC41O1xuXHRcdFx0cmV0dXJuIHNjb3JlO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBDYWxjdWxhdGVzIHRoZSBzY29yZSBvZiBhbiBvYmplY3Rcblx0XHQgKiBhZ2FpbnN0IHRoZSBzZWFyY2ggcXVlcnkuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gdG9rZW5cblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZGF0YVxuXHRcdCAqIEByZXR1cm4ge251bWJlcn1cblx0XHQgKi9cblx0XHR2YXIgc2NvcmVPYmplY3QgPSAoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZmllbGRfY291bnQgPSBmaWVsZHMubGVuZ3RoO1xuXHRcdFx0aWYgKCFmaWVsZF9jb3VudCkge1xuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXHRcdFx0fVxuXHRcdFx0aWYgKGZpZWxkX2NvdW50ID09PSAxKSB7XG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbih0b2tlbiwgZGF0YSkge1xuXHRcdFx0XHRcdHJldHVybiBzY29yZVZhbHVlKGdldGF0dHIoZGF0YSwgZmllbGRzWzBdLCBuZXN0aW5nKSwgdG9rZW4pO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKHRva2VuLCBkYXRhKSB7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwLCBzdW0gPSAwOyBpIDwgZmllbGRfY291bnQ7IGkrKykge1xuXHRcdFx0XHRcdHN1bSArPSBzY29yZVZhbHVlKGdldGF0dHIoZGF0YSwgZmllbGRzW2ldLCBuZXN0aW5nKSwgdG9rZW4pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBzdW0gLyBmaWVsZF9jb3VudDtcblx0XHRcdH07XG5cdFx0fSkoKTtcblxuXHRcdGlmICghdG9rZW5fY291bnQpIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cdFx0fVxuXHRcdGlmICh0b2tlbl9jb3VudCA9PT0gMSkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0cmV0dXJuIHNjb3JlT2JqZWN0KHRva2Vuc1swXSwgZGF0YSk7XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmIChzZWFyY2gub3B0aW9ucy5jb25qdW5jdGlvbiA9PT0gJ2FuZCcpIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcdHZhciBzY29yZTtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIHN1bSA9IDA7IGkgPCB0b2tlbl9jb3VudDsgaSsrKSB7XG5cdFx0XHRcdFx0c2NvcmUgPSBzY29yZU9iamVjdCh0b2tlbnNbaV0sIGRhdGEpO1xuXHRcdFx0XHRcdGlmIChzY29yZSA8PSAwKSByZXR1cm4gMDtcblx0XHRcdFx0XHRzdW0gKz0gc2NvcmU7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHN1bSAvIHRva2VuX2NvdW50O1xuXHRcdFx0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIHN1bSA9IDA7IGkgPCB0b2tlbl9jb3VudDsgaSsrKSB7XG5cdFx0XHRcdFx0c3VtICs9IHNjb3JlT2JqZWN0KHRva2Vuc1tpXSwgZGF0YSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHN1bSAvIHRva2VuX2NvdW50O1xuXHRcdFx0fTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGNvbXBhcmUgdHdvXG5cdCAqIHJlc3VsdHMsIGZvciBzb3J0aW5nIHB1cnBvc2VzLiBJZiBubyBzb3J0aW5nIHNob3VsZFxuXHQgKiBiZSBwZXJmb3JtZWQsIGBudWxsYCB3aWxsIGJlIHJldHVybmVkLlxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHNlYXJjaFxuXHQgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuXHQgKiBAcmV0dXJuIGZ1bmN0aW9uKGEsYilcblx0ICovXG5cdFNpZnRlci5wcm90b3R5cGUuZ2V0U29ydEZ1bmN0aW9uID0gZnVuY3Rpb24oc2VhcmNoLCBvcHRpb25zKSB7XG5cdFx0dmFyIGksIG4sIHNlbGYsIGZpZWxkLCBmaWVsZHMsIGZpZWxkc19jb3VudCwgbXVsdGlwbGllciwgbXVsdGlwbGllcnMsIGdldF9maWVsZCwgaW1wbGljaXRfc2NvcmUsIHNvcnQ7XG5cblx0XHRzZWxmICAgPSB0aGlzO1xuXHRcdHNlYXJjaCA9IHNlbGYucHJlcGFyZVNlYXJjaChzZWFyY2gsIG9wdGlvbnMpO1xuXHRcdHNvcnQgICA9ICghc2VhcmNoLnF1ZXJ5ICYmIG9wdGlvbnMuc29ydF9lbXB0eSkgfHwgb3B0aW9ucy5zb3J0O1xuXG5cdFx0LyoqXG5cdFx0ICogRmV0Y2hlcyB0aGUgc3BlY2lmaWVkIHNvcnQgZmllbGQgdmFsdWVcblx0XHQgKiBmcm9tIGEgc2VhcmNoIHJlc3VsdCBpdGVtLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtICB7c3RyaW5nfSBuYW1lXG5cdFx0ICogQHBhcmFtICB7b2JqZWN0fSByZXN1bHRcblx0XHQgKiBAcmV0dXJuIHttaXhlZH1cblx0XHQgKi9cblx0XHRnZXRfZmllbGQgPSBmdW5jdGlvbihuYW1lLCByZXN1bHQpIHtcblx0XHRcdGlmIChuYW1lID09PSAnJHNjb3JlJykgcmV0dXJuIHJlc3VsdC5zY29yZTtcblx0XHRcdHJldHVybiBnZXRhdHRyKHNlbGYuaXRlbXNbcmVzdWx0LmlkXSwgbmFtZSwgb3B0aW9ucy5uZXN0aW5nKTtcblx0XHR9O1xuXG5cdFx0Ly8gcGFyc2Ugb3B0aW9uc1xuXHRcdGZpZWxkcyA9IFtdO1xuXHRcdGlmIChzb3J0KSB7XG5cdFx0XHRmb3IgKGkgPSAwLCBuID0gc29ydC5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0aWYgKHNlYXJjaC5xdWVyeSB8fCBzb3J0W2ldLmZpZWxkICE9PSAnJHNjb3JlJykge1xuXHRcdFx0XHRcdGZpZWxkcy5wdXNoKHNvcnRbaV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gdGhlIFwiJHNjb3JlXCIgZmllbGQgaXMgaW1wbGllZCB0byBiZSB0aGUgcHJpbWFyeVxuXHRcdC8vIHNvcnQgZmllbGQsIHVubGVzcyBpdCdzIG1hbnVhbGx5IHNwZWNpZmllZFxuXHRcdGlmIChzZWFyY2gucXVlcnkpIHtcblx0XHRcdGltcGxpY2l0X3Njb3JlID0gdHJ1ZTtcblx0XHRcdGZvciAoaSA9IDAsIG4gPSBmaWVsZHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdGlmIChmaWVsZHNbaV0uZmllbGQgPT09ICckc2NvcmUnKSB7XG5cdFx0XHRcdFx0aW1wbGljaXRfc2NvcmUgPSBmYWxzZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGltcGxpY2l0X3Njb3JlKSB7XG5cdFx0XHRcdGZpZWxkcy51bnNoaWZ0KHtmaWVsZDogJyRzY29yZScsIGRpcmVjdGlvbjogJ2Rlc2MnfSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoaSA9IDAsIG4gPSBmaWVsZHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdGlmIChmaWVsZHNbaV0uZmllbGQgPT09ICckc2NvcmUnKSB7XG5cdFx0XHRcdFx0ZmllbGRzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdG11bHRpcGxpZXJzID0gW107XG5cdFx0Zm9yIChpID0gMCwgbiA9IGZpZWxkcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdG11bHRpcGxpZXJzLnB1c2goZmllbGRzW2ldLmRpcmVjdGlvbiA9PT0gJ2Rlc2MnID8gLTEgOiAxKTtcblx0XHR9XG5cblx0XHQvLyBidWlsZCBmdW5jdGlvblxuXHRcdGZpZWxkc19jb3VudCA9IGZpZWxkcy5sZW5ndGg7XG5cdFx0aWYgKCFmaWVsZHNfY291bnQpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH0gZWxzZSBpZiAoZmllbGRzX2NvdW50ID09PSAxKSB7XG5cdFx0XHRmaWVsZCA9IGZpZWxkc1swXS5maWVsZDtcblx0XHRcdG11bHRpcGxpZXIgPSBtdWx0aXBsaWVyc1swXTtcblx0XHRcdHJldHVybiBmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHRcdHJldHVybiBtdWx0aXBsaWVyICogY21wKFxuXHRcdFx0XHRcdGdldF9maWVsZChmaWVsZCwgYSksXG5cdFx0XHRcdFx0Z2V0X2ZpZWxkKGZpZWxkLCBiKVxuXHRcdFx0XHQpO1xuXHRcdFx0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdFx0dmFyIGksIHJlc3VsdCwgYV92YWx1ZSwgYl92YWx1ZSwgZmllbGQ7XG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBmaWVsZHNfY291bnQ7IGkrKykge1xuXHRcdFx0XHRcdGZpZWxkID0gZmllbGRzW2ldLmZpZWxkO1xuXHRcdFx0XHRcdHJlc3VsdCA9IG11bHRpcGxpZXJzW2ldICogY21wKFxuXHRcdFx0XHRcdFx0Z2V0X2ZpZWxkKGZpZWxkLCBhKSxcblx0XHRcdFx0XHRcdGdldF9maWVsZChmaWVsZCwgYilcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGlmIChyZXN1bHQpIHJldHVybiByZXN1bHQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHR9O1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogUGFyc2VzIGEgc2VhcmNoIHF1ZXJ5IGFuZCByZXR1cm5zIGFuIG9iamVjdFxuXHQgKiB3aXRoIHRva2VucyBhbmQgZmllbGRzIHJlYWR5IHRvIGJlIHBvcHVsYXRlZFxuXHQgKiB3aXRoIHJlc3VsdHMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeVxuXHQgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuXHQgKiBAcmV0dXJucyB7b2JqZWN0fVxuXHQgKi9cblx0U2lmdGVyLnByb3RvdHlwZS5wcmVwYXJlU2VhcmNoID0gZnVuY3Rpb24ocXVlcnksIG9wdGlvbnMpIHtcblx0XHRpZiAodHlwZW9mIHF1ZXJ5ID09PSAnb2JqZWN0JykgcmV0dXJuIHF1ZXJ5O1xuXG5cdFx0b3B0aW9ucyA9IGV4dGVuZCh7fSwgb3B0aW9ucyk7XG5cblx0XHR2YXIgb3B0aW9uX2ZpZWxkcyAgICAgPSBvcHRpb25zLmZpZWxkcztcblx0XHR2YXIgb3B0aW9uX3NvcnQgICAgICAgPSBvcHRpb25zLnNvcnQ7XG5cdFx0dmFyIG9wdGlvbl9zb3J0X2VtcHR5ID0gb3B0aW9ucy5zb3J0X2VtcHR5O1xuXG5cdFx0aWYgKG9wdGlvbl9maWVsZHMgJiYgIWlzX2FycmF5KG9wdGlvbl9maWVsZHMpKSBvcHRpb25zLmZpZWxkcyA9IFtvcHRpb25fZmllbGRzXTtcblx0XHRpZiAob3B0aW9uX3NvcnQgJiYgIWlzX2FycmF5KG9wdGlvbl9zb3J0KSkgb3B0aW9ucy5zb3J0ID0gW29wdGlvbl9zb3J0XTtcblx0XHRpZiAob3B0aW9uX3NvcnRfZW1wdHkgJiYgIWlzX2FycmF5KG9wdGlvbl9zb3J0X2VtcHR5KSkgb3B0aW9ucy5zb3J0X2VtcHR5ID0gW29wdGlvbl9zb3J0X2VtcHR5XTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRvcHRpb25zIDogb3B0aW9ucyxcblx0XHRcdHF1ZXJ5ICAgOiBTdHJpbmcocXVlcnkgfHwgJycpLnRvTG93ZXJDYXNlKCksXG5cdFx0XHR0b2tlbnMgIDogdGhpcy50b2tlbml6ZShxdWVyeSksXG5cdFx0XHR0b3RhbCAgIDogMCxcblx0XHRcdGl0ZW1zICAgOiBbXVxuXHRcdH07XG5cdH07XG5cblx0LyoqXG5cdCAqIFNlYXJjaGVzIHRocm91Z2ggYWxsIGl0ZW1zIGFuZCByZXR1cm5zIGEgc29ydGVkIGFycmF5IG9mIG1hdGNoZXMuXG5cdCAqXG5cdCAqIFRoZSBgb3B0aW9uc2AgcGFyYW1ldGVyIGNhbiBjb250YWluOlxuXHQgKlxuXHQgKiAgIC0gZmllbGRzIHtzdHJpbmd8YXJyYXl9XG5cdCAqICAgLSBzb3J0IHthcnJheX1cblx0ICogICAtIHNjb3JlIHtmdW5jdGlvbn1cblx0ICogICAtIGZpbHRlciB7Ym9vbH1cblx0ICogICAtIGxpbWl0IHtpbnRlZ2VyfVxuXHQgKlxuXHQgKiBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nOlxuXHQgKlxuXHQgKiAgIC0gb3B0aW9ucyB7b2JqZWN0fVxuXHQgKiAgIC0gcXVlcnkge3N0cmluZ31cblx0ICogICAtIHRva2VucyB7YXJyYXl9XG5cdCAqICAgLSB0b3RhbCB7aW50fVxuXHQgKiAgIC0gaXRlbXMge2FycmF5fVxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlcblx0ICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcblx0ICogQHJldHVybnMge29iamVjdH1cblx0ICovXG5cdFNpZnRlci5wcm90b3R5cGUuc2VhcmNoID0gZnVuY3Rpb24ocXVlcnksIG9wdGlvbnMpIHtcblx0XHR2YXIgc2VsZiA9IHRoaXMsIHZhbHVlLCBzY29yZSwgc2VhcmNoLCBjYWxjdWxhdGVTY29yZTtcblx0XHR2YXIgZm5fc29ydDtcblx0XHR2YXIgZm5fc2NvcmU7XG5cblx0XHRzZWFyY2ggID0gdGhpcy5wcmVwYXJlU2VhcmNoKHF1ZXJ5LCBvcHRpb25zKTtcblx0XHRvcHRpb25zID0gc2VhcmNoLm9wdGlvbnM7XG5cdFx0cXVlcnkgICA9IHNlYXJjaC5xdWVyeTtcblxuXHRcdC8vIGdlbmVyYXRlIHJlc3VsdCBzY29yaW5nIGZ1bmN0aW9uXG5cdFx0Zm5fc2NvcmUgPSBvcHRpb25zLnNjb3JlIHx8IHNlbGYuZ2V0U2NvcmVGdW5jdGlvbihzZWFyY2gpO1xuXG5cdFx0Ly8gcGVyZm9ybSBzZWFyY2ggYW5kIHNvcnRcblx0XHRpZiAocXVlcnkubGVuZ3RoKSB7XG5cdFx0XHRzZWxmLml0ZXJhdG9yKHNlbGYuaXRlbXMsIGZ1bmN0aW9uKGl0ZW0sIGlkKSB7XG5cdFx0XHRcdHNjb3JlID0gZm5fc2NvcmUoaXRlbSk7XG5cdFx0XHRcdGlmIChvcHRpb25zLmZpbHRlciA9PT0gZmFsc2UgfHwgc2NvcmUgPiAwKSB7XG5cdFx0XHRcdFx0c2VhcmNoLml0ZW1zLnB1c2goeydzY29yZSc6IHNjb3JlLCAnaWQnOiBpZH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2VsZi5pdGVyYXRvcihzZWxmLml0ZW1zLCBmdW5jdGlvbihpdGVtLCBpZCkge1xuXHRcdFx0XHRzZWFyY2guaXRlbXMucHVzaCh7J3Njb3JlJzogMSwgJ2lkJzogaWR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGZuX3NvcnQgPSBzZWxmLmdldFNvcnRGdW5jdGlvbihzZWFyY2gsIG9wdGlvbnMpO1xuXHRcdGlmIChmbl9zb3J0KSBzZWFyY2guaXRlbXMuc29ydChmbl9zb3J0KTtcblxuXHRcdC8vIGFwcGx5IGxpbWl0c1xuXHRcdHNlYXJjaC50b3RhbCA9IHNlYXJjaC5pdGVtcy5sZW5ndGg7XG5cdFx0aWYgKHR5cGVvZiBvcHRpb25zLmxpbWl0ID09PSAnbnVtYmVyJykge1xuXHRcdFx0c2VhcmNoLml0ZW1zID0gc2VhcmNoLml0ZW1zLnNsaWNlKDAsIG9wdGlvbnMubGltaXQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBzZWFyY2g7XG5cdH07XG5cblx0Ly8gdXRpbGl0aWVzXG5cdC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC1cblxuXHR2YXIgY21wID0gZnVuY3Rpb24oYSwgYikge1xuXHRcdGlmICh0eXBlb2YgYSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGIgPT09ICdudW1iZXInKSB7XG5cdFx0XHRyZXR1cm4gYSA+IGIgPyAxIDogKGEgPCBiID8gLTEgOiAwKTtcblx0XHR9XG5cdFx0YSA9IGFzY2lpZm9sZChTdHJpbmcoYSB8fCAnJykpO1xuXHRcdGIgPSBhc2NpaWZvbGQoU3RyaW5nKGIgfHwgJycpKTtcblx0XHRpZiAoYSA+IGIpIHJldHVybiAxO1xuXHRcdGlmIChiID4gYSkgcmV0dXJuIC0xO1xuXHRcdHJldHVybiAwO1xuXHR9O1xuXG5cdHZhciBleHRlbmQgPSBmdW5jdGlvbihhLCBiKSB7XG5cdFx0dmFyIGksIG4sIGssIG9iamVjdDtcblx0XHRmb3IgKGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHRcdFx0b2JqZWN0ID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFvYmplY3QpIGNvbnRpbnVlO1xuXHRcdFx0Zm9yIChrIGluIG9iamVjdCkge1xuXHRcdFx0XHRpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KGspKSB7XG5cdFx0XHRcdFx0YVtrXSA9IG9iamVjdFtrXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gYTtcblx0fTtcblxuXHQvKipcblx0ICogQSBwcm9wZXJ0eSBnZXR0ZXIgcmVzb2x2aW5nIGRvdC1ub3RhdGlvblxuXHQgKiBAcGFyYW0gIHtPYmplY3R9ICBvYmogICAgIFRoZSByb290IG9iamVjdCB0byBmZXRjaCBwcm9wZXJ0eSBvblxuXHQgKiBAcGFyYW0gIHtTdHJpbmd9ICBuYW1lICAgIFRoZSBvcHRpb25hbGx5IGRvdHRlZCBwcm9wZXJ0eSBuYW1lIHRvIGZldGNoXG5cdCAqIEBwYXJhbSAge0Jvb2xlYW59IG5lc3RpbmcgSGFuZGxlIG5lc3Rpbmcgb3Igbm90XG5cdCAqIEByZXR1cm4ge09iamVjdH0gICAgICAgICAgVGhlIHJlc29sdmVkIHByb3BlcnR5IHZhbHVlXG5cdCAqL1xuXHR2YXIgZ2V0YXR0ciA9IGZ1bmN0aW9uKG9iaiwgbmFtZSwgbmVzdGluZykge1xuXHQgICAgaWYgKCFvYmogfHwgIW5hbWUpIHJldHVybjtcblx0ICAgIGlmICghbmVzdGluZykgcmV0dXJuIG9ialtuYW1lXTtcblx0ICAgIHZhciBuYW1lcyA9IG5hbWUuc3BsaXQoXCIuXCIpO1xuXHQgICAgd2hpbGUobmFtZXMubGVuZ3RoICYmIChvYmogPSBvYmpbbmFtZXMuc2hpZnQoKV0pKTtcblx0ICAgIHJldHVybiBvYmo7XG5cdH07XG5cblx0dmFyIHRyaW0gPSBmdW5jdGlvbihzdHIpIHtcblx0XHRyZXR1cm4gKHN0ciArICcnKS5yZXBsYWNlKC9eXFxzK3xcXHMrJHwvZywgJycpO1xuXHR9O1xuXG5cdHZhciBlc2NhcGVfcmVnZXggPSBmdW5jdGlvbihzdHIpIHtcblx0XHRyZXR1cm4gKHN0ciArICcnKS5yZXBsYWNlKC8oWy4/KiteJFtcXF1cXFxcKCl7fXwtXSkvZywgJ1xcXFwkMScpO1xuXHR9O1xuXG5cdHZhciBpc19hcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgKHR5cGVvZiAkICE9PSAndW5kZWZpbmVkJyAmJiAkLmlzQXJyYXkpIHx8IGZ1bmN0aW9uKG9iamVjdCkge1xuXHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqZWN0KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcblx0fTtcblxuXHR2YXIgRElBQ1JJVElDUyA9IHtcblx0XHQnYSc6ICdbYeG4gOG4gcSCxIPDgsOix43Hjsi64rGlyKbIp+G6oOG6ocOEw6TDgMOgw4HDocSAxIHDg8Ojw4XDpcSFxITDg8SFxIRdJyxcblx0XHQnYic6ICdbYuKQos6yzpJC4Li/8JCMgeGbkl0nLFxuXHRcdCdjJzogJ1tjxIbEh8SIxInEjMSNxIrEi0PMhGPMhMOHw6fhuIjhuInIu8i8xofGiMmV4bSE77yj772DXScsXG5cdFx0J2QnOiAnW2TEjsSP4biK4biL4biQ4biR4biM4biN4biS4biT4biO4biPxJDEkUTMpmTMpsaJyZbGismXxovGjOG1reG2geG2kcih4bSF77yk772Ew7BdJyxcblx0XHQnZSc6ICdbZcOJw6nDiMOow4rDquG4mOG4mcSaxJvElMSV4bq84bq94bia4bib4bq64bq7xJbEl8OLw6vEksSTyKjIqcSYxJnhtpLJhsmHyITIheG6vuG6v+G7gOG7geG7hOG7heG7guG7g+G4nOG4neG4luG4l+G4lOG4lciGyIfhurjhurnhu4bhu4fisbjhtIfvvKXvvYXJmMedxo/GkM61XScsXG5cdFx0J2YnOiAnW2bGkcaS4bie4bifXScsXG5cdFx0J2cnOiAnW2fJouKCssekx6XEnMSdxJ7En8SixKPGk8mgxKDEoV0nLFxuXHRcdCdoJzogJ1toxKTEpcSmxKfhuKjhuKnhupbhupbhuKThuKXhuKLhuKPJpsqwx7bGlV0nLFxuXHRcdCdpJzogJ1tpw43DrcOMw6zErMStw47DrsePx5DDj8Ov4biu4bivxKjEqcSuxK/EqsSr4buI4buJyIjIiciKyIvhu4rhu4vhuKzhuK3Gl8moyajMhuG1u+G2lsSwaUnEscmq77yp772JXScsXG5cdFx0J2onOiAnW2rIt8S0xLXJiMmJyp3Jn8qyXScsXG5cdFx0J2snOiAnW2vGmMaZ6p2A6p2B4biw4bixx6jHqeG4suG4s+G4tOG4tc66z7Digq1dJyxcblx0XHQnbCc6ICdbbMWBxYLEvcS+xLvEvMS5xLrhuLbhuLfhuLjhuLnhuLzhuL3huLrhuLvEv8WAyL3GmuKxoOKxoeKxosmryazhtoXJrci0yp/vvKzvvYxdJyxcblx0XHQnbic6ICdbbsWDxYTHuMe5xYfFiMORw7HhuYThuYXFhcWG4bmG4bmH4bmK4bmL4bmI4bmJTsyIbsyIxp3Jssigxp7htbDhtofJs8i1ybTvvK7vvY7FisWLXScsXG5cdFx0J28nOiAnW2/DmMO4w5bDtsOTw7PDksOyw5TDtMeRx5LFkMWRxY7Fj8iuyK/hu4zhu43Gn8m1xqDGoeG7juG7j8WMxY3DlcO1x6rHq8iMyI3VldaFXScsXG5cdFx0J3AnOiAnW3DhuZThuZXhuZbhuZfisaPhtb3GpMal4bWxXScsXG5cdFx0J3EnOiAnW3HqnZbqnZfKoMmKyYvqnZjqnZlxzINdJyxcblx0XHQncic6ICdbcsWUxZXJjMmNxZjFmcWWxZfhuZjhuZnIkMiRyJLIk+G5muG5m+KxpMm9XScsXG5cdFx0J3MnOiAnW3PFmsWb4bmg4bmh4bmi4bmj6p6o6p6pxZzFncWgxaHFnsWfyJjImVPMiHPMiF0nLFxuXHRcdCd0JzogJ1t0xaTFpeG5quG5q8WixaPhuazhua3GrsqIyJrIm+G5sOG5seG5ruG5r8asxq1dJyxcblx0XHQndSc6ICdbdcWsxa3JhMqJ4buk4bulw5zDvMOaw7rDmcO5w5vDu8eTx5TFsMWxxazFrcavxrDhu6bhu6fFqsWrxajFqcWyxbPIlMiV4oiqXScsXG5cdFx0J3YnOiAnW3bhubzhub3hub7hub/GssqL6p2e6p2f4rGxyotdJyxcblx0XHQndyc6ICdbd+G6guG6g+G6gOG6gcW0xbXhuoThuoXhuobhuofhuojhuoldJyxcblx0XHQneCc6ICdbeOG6jOG6jeG6iuG6i8+HXScsXG5cdFx0J3knOiAnW3nDncO94buy4buzxbbFt8W4w7/hu7jhu7nhuo7huo/hu7Thu7XJjsmPxrPGtF0nLFxuXHRcdCd6JzogJ1t6xbnFuuG6kOG6kcW9xb7Fu8W84bqS4bqT4bqU4bqVxrXGtl0nXG5cdH07XG5cblx0dmFyIGFzY2lpZm9sZCA9IChmdW5jdGlvbigpIHtcblx0XHR2YXIgaSwgbiwgaywgY2h1bms7XG5cdFx0dmFyIGZvcmVpZ25sZXR0ZXJzID0gJyc7XG5cdFx0dmFyIGxvb2t1cCA9IHt9O1xuXHRcdGZvciAoayBpbiBESUFDUklUSUNTKSB7XG5cdFx0XHRpZiAoRElBQ1JJVElDUy5oYXNPd25Qcm9wZXJ0eShrKSkge1xuXHRcdFx0XHRjaHVuayA9IERJQUNSSVRJQ1Nba10uc3Vic3RyaW5nKDIsIERJQUNSSVRJQ1Nba10ubGVuZ3RoIC0gMSk7XG5cdFx0XHRcdGZvcmVpZ25sZXR0ZXJzICs9IGNodW5rO1xuXHRcdFx0XHRmb3IgKGkgPSAwLCBuID0gY2h1bmsubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdFx0bG9va3VwW2NodW5rLmNoYXJBdChpKV0gPSBrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHZhciByZWdleHAgPSBuZXcgUmVnRXhwKCdbJyArICBmb3JlaWdubGV0dGVycyArICddJywgJ2cnKTtcblx0XHRyZXR1cm4gZnVuY3Rpb24oc3RyKSB7XG5cdFx0XHRyZXR1cm4gc3RyLnJlcGxhY2UocmVnZXhwLCBmdW5jdGlvbihmb3JlaWdubGV0dGVyKSB7XG5cdFx0XHRcdHJldHVybiBsb29rdXBbZm9yZWlnbmxldHRlcl07XG5cdFx0XHR9KS50b0xvd2VyQ2FzZSgpO1xuXHRcdH07XG5cdH0pKCk7XG5cblxuXHQvLyBleHBvcnRcblx0Ly8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxuXG5cdHJldHVybiBTaWZ0ZXI7XG59KSk7XG5cblxuXG4vKipcbiAqIG1pY3JvcGx1Z2luLmpzXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMgQnJpYW4gUmVhdmlzICYgY29udHJpYnV0b3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXNcbiAqIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlclxuICogdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRlxuICogQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlXG4gKiBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIEBhdXRob3IgQnJpYW4gUmVhdmlzIDxicmlhbkB0aGlyZHJvdXRlLmNvbT5cbiAqL1xuXG4oZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKCdtaWNyb3BsdWdpbicsIGZhY3RvcnkpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHR9IGVsc2Uge1xuXHRcdHJvb3QuTWljcm9QbHVnaW4gPSBmYWN0b3J5KCk7XG5cdH1cbn0odGhpcywgZnVuY3Rpb24oKSB7XG5cdHZhciBNaWNyb1BsdWdpbiA9IHt9O1xuXG5cdE1pY3JvUGx1Z2luLm1peGluID0gZnVuY3Rpb24oSW50ZXJmYWNlKSB7XG5cdFx0SW50ZXJmYWNlLnBsdWdpbnMgPSB7fTtcblxuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemVzIHRoZSBsaXN0ZWQgcGx1Z2lucyAod2l0aCBvcHRpb25zKS5cblx0XHQgKiBBY2NlcHRhYmxlIGZvcm1hdHM6XG5cdFx0ICpcblx0XHQgKiBMaXN0ICh3aXRob3V0IG9wdGlvbnMpOlxuXHRcdCAqICAgWydhJywgJ2InLCAnYyddXG5cdFx0ICpcblx0XHQgKiBMaXN0ICh3aXRoIG9wdGlvbnMpOlxuXHRcdCAqICAgW3snbmFtZSc6ICdhJywgb3B0aW9uczoge319LCB7J25hbWUnOiAnYicsIG9wdGlvbnM6IHt9fV1cblx0XHQgKlxuXHRcdCAqIEhhc2ggKHdpdGggb3B0aW9ucyk6XG5cdFx0ICogICB7J2EnOiB7IC4uLiB9LCAnYic6IHsgLi4uIH0sICdjJzogeyAuLi4gfX1cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7bWl4ZWR9IHBsdWdpbnNcblx0XHQgKi9cblx0XHRJbnRlcmZhY2UucHJvdG90eXBlLmluaXRpYWxpemVQbHVnaW5zID0gZnVuY3Rpb24ocGx1Z2lucykge1xuXHRcdFx0dmFyIGksIG4sIGtleTtcblx0XHRcdHZhciBzZWxmICA9IHRoaXM7XG5cdFx0XHR2YXIgcXVldWUgPSBbXTtcblxuXHRcdFx0c2VsZi5wbHVnaW5zID0ge1xuXHRcdFx0XHRuYW1lcyAgICAgOiBbXSxcblx0XHRcdFx0c2V0dGluZ3MgIDoge30sXG5cdFx0XHRcdHJlcXVlc3RlZCA6IHt9LFxuXHRcdFx0XHRsb2FkZWQgICAgOiB7fVxuXHRcdFx0fTtcblxuXHRcdFx0aWYgKHV0aWxzLmlzQXJyYXkocGx1Z2lucykpIHtcblx0XHRcdFx0Zm9yIChpID0gMCwgbiA9IHBsdWdpbnMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBwbHVnaW5zW2ldID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRcdFx0cXVldWUucHVzaChwbHVnaW5zW2ldKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VsZi5wbHVnaW5zLnNldHRpbmdzW3BsdWdpbnNbaV0ubmFtZV0gPSBwbHVnaW5zW2ldLm9wdGlvbnM7XG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHBsdWdpbnNbaV0ubmFtZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKHBsdWdpbnMpIHtcblx0XHRcdFx0Zm9yIChrZXkgaW4gcGx1Z2lucykge1xuXHRcdFx0XHRcdGlmIChwbHVnaW5zLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0XHRcdHNlbGYucGx1Z2lucy5zZXR0aW5nc1trZXldID0gcGx1Z2luc1trZXldO1xuXHRcdFx0XHRcdFx0cXVldWUucHVzaChrZXkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHR3aGlsZSAocXVldWUubGVuZ3RoKSB7XG5cdFx0XHRcdHNlbGYucmVxdWlyZShxdWV1ZS5zaGlmdCgpKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0SW50ZXJmYWNlLnByb3RvdHlwZS5sb2FkUGx1Z2luID0gZnVuY3Rpb24obmFtZSkge1xuXHRcdFx0dmFyIHNlbGYgICAgPSB0aGlzO1xuXHRcdFx0dmFyIHBsdWdpbnMgPSBzZWxmLnBsdWdpbnM7XG5cdFx0XHR2YXIgcGx1Z2luICA9IEludGVyZmFjZS5wbHVnaW5zW25hbWVdO1xuXG5cdFx0XHRpZiAoIUludGVyZmFjZS5wbHVnaW5zLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGZpbmQgXCInICsgIG5hbWUgKyAnXCIgcGx1Z2luJyk7XG5cdFx0XHR9XG5cblx0XHRcdHBsdWdpbnMucmVxdWVzdGVkW25hbWVdID0gdHJ1ZTtcblx0XHRcdHBsdWdpbnMubG9hZGVkW25hbWVdID0gcGx1Z2luLmZuLmFwcGx5KHNlbGYsIFtzZWxmLnBsdWdpbnMuc2V0dGluZ3NbbmFtZV0gfHwge31dKTtcblx0XHRcdHBsdWdpbnMubmFtZXMucHVzaChuYW1lKTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZXMgYSBwbHVnaW4uXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuXHRcdCAqL1xuXHRcdEludGVyZmFjZS5wcm90b3R5cGUucmVxdWlyZSA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHZhciBwbHVnaW5zID0gc2VsZi5wbHVnaW5zO1xuXG5cdFx0XHRpZiAoIXNlbGYucGx1Z2lucy5sb2FkZWQuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcblx0XHRcdFx0aWYgKHBsdWdpbnMucmVxdWVzdGVkW25hbWVdKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdQbHVnaW4gaGFzIGNpcmN1bGFyIGRlcGVuZGVuY3kgKFwiJyArIG5hbWUgKyAnXCIpJyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2VsZi5sb2FkUGx1Z2luKG5hbWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcGx1Z2lucy5sb2FkZWRbbmFtZV07XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIFJlZ2lzdGVycyBhIHBsdWdpbi5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cblx0XHQgKi9cblx0XHRJbnRlcmZhY2UuZGVmaW5lID0gZnVuY3Rpb24obmFtZSwgZm4pIHtcblx0XHRcdEludGVyZmFjZS5wbHVnaW5zW25hbWVdID0ge1xuXHRcdFx0XHQnbmFtZScgOiBuYW1lLFxuXHRcdFx0XHQnZm4nICAgOiBmblxuXHRcdFx0fTtcblx0XHR9O1xuXHR9O1xuXG5cdHZhciB1dGlscyA9IHtcblx0XHRpc0FycmF5OiBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uKHZBcmcpIHtcblx0XHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodkFyZykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiBNaWNyb1BsdWdpbjtcbn0pKTtcblxuLyoqXG4gKiBzZWxlY3RpemUuanMgKHYwLjEyLjQpXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTPigJMyMDE1IEJyaWFuIFJlYXZpcyAmIGNvbnRyaWJ1dG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzXG4gKiBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXJcbiAqIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0ZcbiAqIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZVxuICogZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKiBAYXV0aG9yIEJyaWFuIFJlYXZpcyA8YnJpYW5AdGhpcmRyb3V0ZS5jb20+XG4gKi9cblxuLypqc2hpbnQgY3VybHk6ZmFsc2UgKi9cbi8qanNoaW50IGJyb3dzZXI6dHJ1ZSAqL1xuXG4oZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKCdzZWxlY3RpemUnLCBbJ2pxdWVyeScsJ3NpZnRlcicsJ21pY3JvcGx1Z2luJ10sIGZhY3RvcnkpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdqcXVlcnknKSwgcmVxdWlyZSgnc2lmdGVyJyksIHJlcXVpcmUoJ21pY3JvcGx1Z2luJykpO1xuXHR9IGVsc2Uge1xuXHRcdHJvb3QuU2VsZWN0aXplID0gZmFjdG9yeShyb290LmpRdWVyeSwgcm9vdC5TaWZ0ZXIsIHJvb3QuTWljcm9QbHVnaW4pO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uKCQsIFNpZnRlciwgTWljcm9QbHVnaW4pIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoaWdobGlnaHQgPSBmdW5jdGlvbigkZWxlbWVudCwgcGF0dGVybikge1xuXHRcdGlmICh0eXBlb2YgcGF0dGVybiA9PT0gJ3N0cmluZycgJiYgIXBhdHRlcm4ubGVuZ3RoKSByZXR1cm47XG5cdFx0dmFyIHJlZ2V4ID0gKHR5cGVvZiBwYXR0ZXJuID09PSAnc3RyaW5nJykgPyBuZXcgUmVnRXhwKHBhdHRlcm4sICdpJykgOiBwYXR0ZXJuO1xuXHRcblx0XHR2YXIgaGlnaGxpZ2h0ID0gZnVuY3Rpb24obm9kZSkge1xuXHRcdFx0dmFyIHNraXAgPSAwO1xuXHRcdFx0aWYgKG5vZGUubm9kZVR5cGUgPT09IDMpIHtcblx0XHRcdFx0dmFyIHBvcyA9IG5vZGUuZGF0YS5zZWFyY2gocmVnZXgpO1xuXHRcdFx0XHRpZiAocG9zID49IDAgJiYgbm9kZS5kYXRhLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHR2YXIgbWF0Y2ggPSBub2RlLmRhdGEubWF0Y2gocmVnZXgpO1xuXHRcdFx0XHRcdHZhciBzcGFubm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblx0XHRcdFx0XHRzcGFubm9kZS5jbGFzc05hbWUgPSAnaGlnaGxpZ2h0Jztcblx0XHRcdFx0XHR2YXIgbWlkZGxlYml0ID0gbm9kZS5zcGxpdFRleHQocG9zKTtcblx0XHRcdFx0XHR2YXIgZW5kYml0ID0gbWlkZGxlYml0LnNwbGl0VGV4dChtYXRjaFswXS5sZW5ndGgpO1xuXHRcdFx0XHRcdHZhciBtaWRkbGVjbG9uZSA9IG1pZGRsZWJpdC5jbG9uZU5vZGUodHJ1ZSk7XG5cdFx0XHRcdFx0c3Bhbm5vZGUuYXBwZW5kQ2hpbGQobWlkZGxlY2xvbmUpO1xuXHRcdFx0XHRcdG1pZGRsZWJpdC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChzcGFubm9kZSwgbWlkZGxlYml0KTtcblx0XHRcdFx0XHRza2lwID0gMTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09PSAxICYmIG5vZGUuY2hpbGROb2RlcyAmJiAhLyhzY3JpcHR8c3R5bGUpL2kudGVzdChub2RlLnRhZ05hbWUpKSB7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDsgKytpKSB7XG5cdFx0XHRcdFx0aSArPSBoaWdobGlnaHQobm9kZS5jaGlsZE5vZGVzW2ldKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHNraXA7XG5cdFx0fTtcblx0XG5cdFx0cmV0dXJuICRlbGVtZW50LmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRoaWdobGlnaHQodGhpcyk7XG5cdFx0fSk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogcmVtb3ZlSGlnaGxpZ2h0IGZuIGNvcGllZCBmcm9tIGhpZ2hsaWdodCB2NSBhbmRcblx0ICogZWRpdGVkIHRvIHJlbW92ZSB3aXRoKCkgYW5kIHBhc3MganMgc3RyaWN0IG1vZGVcblx0ICovXG5cdCQuZm4ucmVtb3ZlSGlnaGxpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZmluZChcInNwYW4uaGlnaGxpZ2h0XCIpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnBhcmVudE5vZGUuZmlyc3RDaGlsZC5ub2RlTmFtZTtcblx0XHRcdHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG5cdFx0XHRwYXJlbnQucmVwbGFjZUNoaWxkKHRoaXMuZmlyc3RDaGlsZCwgdGhpcyk7XG5cdFx0XHRwYXJlbnQubm9ybWFsaXplKCk7XG5cdFx0fSkuZW5kKCk7XG5cdH07XG5cdFxuXHRcblx0dmFyIE1pY3JvRXZlbnQgPSBmdW5jdGlvbigpIHt9O1xuXHRNaWNyb0V2ZW50LnByb3RvdHlwZSA9IHtcblx0XHRvbjogZnVuY3Rpb24oZXZlbnQsIGZjdCl7XG5cdFx0XHR0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG5cdFx0XHR0aGlzLl9ldmVudHNbZXZlbnRdID0gdGhpcy5fZXZlbnRzW2V2ZW50XSB8fCBbXTtcblx0XHRcdHRoaXMuX2V2ZW50c1tldmVudF0ucHVzaChmY3QpO1xuXHRcdH0sXG5cdFx0b2ZmOiBmdW5jdGlvbihldmVudCwgZmN0KXtcblx0XHRcdHZhciBuID0gYXJndW1lbnRzLmxlbmd0aDtcblx0XHRcdGlmIChuID09PSAwKSByZXR1cm4gZGVsZXRlIHRoaXMuX2V2ZW50cztcblx0XHRcdGlmIChuID09PSAxKSByZXR1cm4gZGVsZXRlIHRoaXMuX2V2ZW50c1tldmVudF07XG5cdFxuXHRcdFx0dGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuXHRcdFx0aWYgKGV2ZW50IGluIHRoaXMuX2V2ZW50cyA9PT0gZmFsc2UpIHJldHVybjtcblx0XHRcdHRoaXMuX2V2ZW50c1tldmVudF0uc3BsaWNlKHRoaXMuX2V2ZW50c1tldmVudF0uaW5kZXhPZihmY3QpLCAxKTtcblx0XHR9LFxuXHRcdHRyaWdnZXI6IGZ1bmN0aW9uKGV2ZW50IC8qICwgYXJncy4uLiAqLyl7XG5cdFx0XHR0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG5cdFx0XHRpZiAoZXZlbnQgaW4gdGhpcy5fZXZlbnRzID09PSBmYWxzZSkgcmV0dXJuO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9ldmVudHNbZXZlbnRdLmxlbmd0aDsgaSsrKXtcblx0XHRcdFx0dGhpcy5fZXZlbnRzW2V2ZW50XVtpXS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdFxuXHQvKipcblx0ICogTWl4aW4gd2lsbCBkZWxlZ2F0ZSBhbGwgTWljcm9FdmVudC5qcyBmdW5jdGlvbiBpbiB0aGUgZGVzdGluYXRpb24gb2JqZWN0LlxuXHQgKlxuXHQgKiAtIE1pY3JvRXZlbnQubWl4aW4oRm9vYmFyKSB3aWxsIG1ha2UgRm9vYmFyIGFibGUgdG8gdXNlIE1pY3JvRXZlbnRcblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IHRoZSBvYmplY3Qgd2hpY2ggd2lsbCBzdXBwb3J0IE1pY3JvRXZlbnRcblx0ICovXG5cdE1pY3JvRXZlbnQubWl4aW4gPSBmdW5jdGlvbihkZXN0T2JqZWN0KXtcblx0XHR2YXIgcHJvcHMgPSBbJ29uJywgJ29mZicsICd0cmlnZ2VyJ107XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKyl7XG5cdFx0XHRkZXN0T2JqZWN0LnByb3RvdHlwZVtwcm9wc1tpXV0gPSBNaWNyb0V2ZW50LnByb3RvdHlwZVtwcm9wc1tpXV07XG5cdFx0fVxuXHR9O1xuXHRcblx0dmFyIElTX01BQyAgICAgICAgPSAvTWFjLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXHRcblx0dmFyIEtFWV9BICAgICAgICAgPSA2NTtcblx0dmFyIEtFWV9DT01NQSAgICAgPSAxODg7XG5cdHZhciBLRVlfUkVUVVJOICAgID0gMTM7XG5cdHZhciBLRVlfRVNDICAgICAgID0gMjc7XG5cdHZhciBLRVlfTEVGVCAgICAgID0gMzc7XG5cdHZhciBLRVlfVVAgICAgICAgID0gMzg7XG5cdHZhciBLRVlfUCAgICAgICAgID0gODA7XG5cdHZhciBLRVlfUklHSFQgICAgID0gMzk7XG5cdHZhciBLRVlfRE9XTiAgICAgID0gNDA7XG5cdHZhciBLRVlfTiAgICAgICAgID0gNzg7XG5cdHZhciBLRVlfQkFDS1NQQUNFID0gODtcblx0dmFyIEtFWV9ERUxFVEUgICAgPSA0Njtcblx0dmFyIEtFWV9TSElGVCAgICAgPSAxNjtcblx0dmFyIEtFWV9DTUQgICAgICAgPSBJU19NQUMgPyA5MSA6IDE3O1xuXHR2YXIgS0VZX0NUUkwgICAgICA9IElTX01BQyA/IDE4IDogMTc7XG5cdHZhciBLRVlfVEFCICAgICAgID0gOTtcblx0XG5cdHZhciBUQUdfU0VMRUNUICAgID0gMTtcblx0dmFyIFRBR19JTlBVVCAgICAgPSAyO1xuXHRcblx0Ly8gZm9yIG5vdywgYW5kcm9pZCBzdXBwb3J0IGluIGdlbmVyYWwgaXMgdG9vIHNwb3R0eSB0byBzdXBwb3J0IHZhbGlkaXR5XG5cdHZhciBTVVBQT1JUU19WQUxJRElUWV9BUEkgPSAhL2FuZHJvaWQvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JykudmFsaWRpdHk7XG5cdFxuXHRcblx0dmFyIGlzc2V0ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG5cdFx0cmV0dXJuIHR5cGVvZiBvYmplY3QgIT09ICd1bmRlZmluZWQnO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgc2NhbGFyIHRvIGl0cyBiZXN0IHN0cmluZyByZXByZXNlbnRhdGlvblxuXHQgKiBmb3IgaGFzaCBrZXlzIGFuZCBIVE1MIGF0dHJpYnV0ZSB2YWx1ZXMuXG5cdCAqXG5cdCAqIFRyYW5zZm9ybWF0aW9uczpcblx0ICogICAnc3RyJyAgICAgLT4gJ3N0cidcblx0ICogICBudWxsICAgICAgLT4gJydcblx0ICogICB1bmRlZmluZWQgLT4gJydcblx0ICogICB0cnVlICAgICAgLT4gJzEnXG5cdCAqICAgZmFsc2UgICAgIC0+ICcwJ1xuXHQgKiAgIDAgICAgICAgICAtPiAnMCdcblx0ICogICAxICAgICAgICAgLT4gJzEnXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9XG5cdCAqL1xuXHR2YXIgaGFzaF9rZXkgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHZhbHVlID09PSBudWxsKSByZXR1cm4gbnVsbDtcblx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHJldHVybiB2YWx1ZSA/ICcxJyA6ICcwJztcblx0XHRyZXR1cm4gdmFsdWUgKyAnJztcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBFc2NhcGVzIGEgc3RyaW5nIGZvciB1c2Ugd2l0aGluIEhUTUwuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcblx0ICogQHJldHVybnMge3N0cmluZ31cblx0ICovXG5cdHZhciBlc2NhcGVfaHRtbCA9IGZ1bmN0aW9uKHN0cikge1xuXHRcdHJldHVybiAoc3RyICsgJycpXG5cdFx0XHQucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuXHRcdFx0LnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuXHRcdFx0LnJlcGxhY2UoLz4vZywgJyZndDsnKVxuXHRcdFx0LnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBFc2NhcGVzIFwiJFwiIGNoYXJhY3RlcnMgaW4gcmVwbGFjZW1lbnQgc3RyaW5ncy5cblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHN0clxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfVxuXHQgKi9cblx0dmFyIGVzY2FwZV9yZXBsYWNlID0gZnVuY3Rpb24oc3RyKSB7XG5cdFx0cmV0dXJuIChzdHIgKyAnJykucmVwbGFjZSgvXFwkL2csICckJCQkJyk7XG5cdH07XG5cdFxuXHR2YXIgaG9vayA9IHt9O1xuXHRcblx0LyoqXG5cdCAqIFdyYXBzIGBtZXRob2RgIG9uIGBzZWxmYCBzbyB0aGF0IGBmbmBcblx0ICogaXMgaW52b2tlZCBiZWZvcmUgdGhlIG9yaWdpbmFsIG1ldGhvZC5cblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IHNlbGZcblx0ICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxuXHQgKi9cblx0aG9vay5iZWZvcmUgPSBmdW5jdGlvbihzZWxmLCBtZXRob2QsIGZuKSB7XG5cdFx0dmFyIG9yaWdpbmFsID0gc2VsZlttZXRob2RdO1xuXHRcdHNlbGZbbWV0aG9kXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Zm4uYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcblx0XHRcdHJldHVybiBvcmlnaW5hbC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuXHRcdH07XG5cdH07XG5cdFxuXHQvKipcblx0ICogV3JhcHMgYG1ldGhvZGAgb24gYHNlbGZgIHNvIHRoYXQgYGZuYFxuXHQgKiBpcyBpbnZva2VkIGFmdGVyIHRoZSBvcmlnaW5hbCBtZXRob2QuXG5cdCAqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBzZWxmXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2Rcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cblx0ICovXG5cdGhvb2suYWZ0ZXIgPSBmdW5jdGlvbihzZWxmLCBtZXRob2QsIGZuKSB7XG5cdFx0dmFyIG9yaWdpbmFsID0gc2VsZlttZXRob2RdO1xuXHRcdHNlbGZbbWV0aG9kXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHJlc3VsdCA9IG9yaWdpbmFsLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG5cdFx0XHRmbi5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9O1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFdyYXBzIGBmbmAgc28gdGhhdCBpdCBjYW4gb25seSBiZSBpbnZva2VkIG9uY2UuXG5cdCAqXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXG5cdCAqIEByZXR1cm5zIHtmdW5jdGlvbn1cblx0ICovXG5cdHZhciBvbmNlID0gZnVuY3Rpb24oZm4pIHtcblx0XHR2YXIgY2FsbGVkID0gZmFsc2U7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKGNhbGxlZCkgcmV0dXJuO1xuXHRcdFx0Y2FsbGVkID0gdHJ1ZTtcblx0XHRcdGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0fTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBXcmFwcyBgZm5gIHNvIHRoYXQgaXQgY2FuIG9ubHkgYmUgY2FsbGVkIG9uY2Vcblx0ICogZXZlcnkgYGRlbGF5YCBtaWxsaXNlY29uZHMgKGludm9rZWQgb24gdGhlIGZhbGxpbmcgZWRnZSkuXG5cdCAqXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXG5cdCAqIEBwYXJhbSB7aW50fSBkZWxheVxuXHQgKiBAcmV0dXJucyB7ZnVuY3Rpb259XG5cdCAqL1xuXHR2YXIgZGVib3VuY2UgPSBmdW5jdGlvbihmbiwgZGVsYXkpIHtcblx0XHR2YXIgdGltZW91dDtcblx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR2YXIgYXJncyA9IGFyZ3VtZW50cztcblx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dCk7XG5cdFx0XHR0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXHRcdFx0fSwgZGVsYXkpO1xuXHRcdH07XG5cdH07XG5cdFxuXHQvKipcblx0ICogRGVib3VuY2UgYWxsIGZpcmVkIGV2ZW50cyB0eXBlcyBsaXN0ZWQgaW4gYHR5cGVzYFxuXHQgKiB3aGlsZSBleGVjdXRpbmcgdGhlIHByb3ZpZGVkIGBmbmAuXG5cdCAqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBzZWxmXG5cdCAqIEBwYXJhbSB7YXJyYXl9IHR5cGVzXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuXG5cdCAqL1xuXHR2YXIgZGVib3VuY2VfZXZlbnRzID0gZnVuY3Rpb24oc2VsZiwgdHlwZXMsIGZuKSB7XG5cdFx0dmFyIHR5cGU7XG5cdFx0dmFyIHRyaWdnZXIgPSBzZWxmLnRyaWdnZXI7XG5cdFx0dmFyIGV2ZW50X2FyZ3MgPSB7fTtcblx0XG5cdFx0Ly8gb3ZlcnJpZGUgdHJpZ2dlciBtZXRob2Rcblx0XHRzZWxmLnRyaWdnZXIgPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciB0eXBlID0gYXJndW1lbnRzWzBdO1xuXHRcdFx0aWYgKHR5cGVzLmluZGV4T2YodHlwZSkgIT09IC0xKSB7XG5cdFx0XHRcdGV2ZW50X2FyZ3NbdHlwZV0gPSBhcmd1bWVudHM7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gdHJpZ2dlci5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuXHRcdFx0fVxuXHRcdH07XG5cdFxuXHRcdC8vIGludm9rZSBwcm92aWRlZCBmdW5jdGlvblxuXHRcdGZuLmFwcGx5KHNlbGYsIFtdKTtcblx0XHRzZWxmLnRyaWdnZXIgPSB0cmlnZ2VyO1xuXHRcblx0XHQvLyB0cmlnZ2VyIHF1ZXVlZCBldmVudHNcblx0XHRmb3IgKHR5cGUgaW4gZXZlbnRfYXJncykge1xuXHRcdFx0aWYgKGV2ZW50X2FyZ3MuaGFzT3duUHJvcGVydHkodHlwZSkpIHtcblx0XHRcdFx0dHJpZ2dlci5hcHBseShzZWxmLCBldmVudF9hcmdzW3R5cGVdKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdFxuXHQvKipcblx0ICogQSB3b3JrYXJvdW5kIGZvciBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC82Njk2XG5cdCAqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSAkcGFyZW50IC0gUGFyZW50IGVsZW1lbnQgdG8gbGlzdGVuIG9uLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgLSBFdmVudCBuYW1lLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgLSBEZXNjZW5kYW50IHNlbGVjdG9yIHRvIGZpbHRlciBieS5cblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBFdmVudCBoYW5kbGVyLlxuXHQgKi9cblx0dmFyIHdhdGNoQ2hpbGRFdmVudCA9IGZ1bmN0aW9uKCRwYXJlbnQsIGV2ZW50LCBzZWxlY3RvciwgZm4pIHtcblx0XHQkcGFyZW50Lm9uKGV2ZW50LCBzZWxlY3RvciwgZnVuY3Rpb24oZSkge1xuXHRcdFx0dmFyIGNoaWxkID0gZS50YXJnZXQ7XG5cdFx0XHR3aGlsZSAoY2hpbGQgJiYgY2hpbGQucGFyZW50Tm9kZSAhPT0gJHBhcmVudFswXSkge1xuXHRcdFx0XHRjaGlsZCA9IGNoaWxkLnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cdFx0XHRlLmN1cnJlbnRUYXJnZXQgPSBjaGlsZDtcblx0XHRcdHJldHVybiBmbi5hcHBseSh0aGlzLCBbZV0pO1xuXHRcdH0pO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIERldGVybWluZXMgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIHdpdGhpbiBhIHRleHQgaW5wdXQgY29udHJvbC5cblx0ICogUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZzpcblx0ICogICAtIHN0YXJ0XG5cdCAqICAgLSBsZW5ndGhcblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IGlucHV0XG5cdCAqIEByZXR1cm5zIHtvYmplY3R9XG5cdCAqL1xuXHR2YXIgZ2V0U2VsZWN0aW9uID0gZnVuY3Rpb24oaW5wdXQpIHtcblx0XHR2YXIgcmVzdWx0ID0ge307XG5cdFx0aWYgKCdzZWxlY3Rpb25TdGFydCcgaW4gaW5wdXQpIHtcblx0XHRcdHJlc3VsdC5zdGFydCA9IGlucHV0LnNlbGVjdGlvblN0YXJ0O1xuXHRcdFx0cmVzdWx0Lmxlbmd0aCA9IGlucHV0LnNlbGVjdGlvbkVuZCAtIHJlc3VsdC5zdGFydDtcblx0XHR9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikge1xuXHRcdFx0aW5wdXQuZm9jdXMoKTtcblx0XHRcdHZhciBzZWwgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcblx0XHRcdHZhciBzZWxMZW4gPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKS50ZXh0Lmxlbmd0aDtcblx0XHRcdHNlbC5tb3ZlU3RhcnQoJ2NoYXJhY3RlcicsIC1pbnB1dC52YWx1ZS5sZW5ndGgpO1xuXHRcdFx0cmVzdWx0LnN0YXJ0ID0gc2VsLnRleHQubGVuZ3RoIC0gc2VsTGVuO1xuXHRcdFx0cmVzdWx0Lmxlbmd0aCA9IHNlbExlbjtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDb3BpZXMgQ1NTIHByb3BlcnRpZXMgZnJvbSBvbmUgZWxlbWVudCB0byBhbm90aGVyLlxuXHQgKlxuXHQgKiBAcGFyYW0ge29iamVjdH0gJGZyb21cblx0ICogQHBhcmFtIHtvYmplY3R9ICR0b1xuXHQgKiBAcGFyYW0ge2FycmF5fSBwcm9wZXJ0aWVzXG5cdCAqL1xuXHR2YXIgdHJhbnNmZXJTdHlsZXMgPSBmdW5jdGlvbigkZnJvbSwgJHRvLCBwcm9wZXJ0aWVzKSB7XG5cdFx0dmFyIGksIG4sIHN0eWxlcyA9IHt9O1xuXHRcdGlmIChwcm9wZXJ0aWVzKSB7XG5cdFx0XHRmb3IgKGkgPSAwLCBuID0gcHJvcGVydGllcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0c3R5bGVzW3Byb3BlcnRpZXNbaV1dID0gJGZyb20uY3NzKHByb3BlcnRpZXNbaV0pO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZXMgPSAkZnJvbS5jc3MoKTtcblx0XHR9XG5cdFx0JHRvLmNzcyhzdHlsZXMpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIE1lYXN1cmVzIHRoZSB3aWR0aCBvZiBhIHN0cmluZyB3aXRoaW4gYVxuXHQgKiBwYXJlbnQgZWxlbWVudCAoaW4gcGl4ZWxzKS5cblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHN0clxuXHQgKiBAcGFyYW0ge29iamVjdH0gJHBhcmVudFxuXHQgKiBAcmV0dXJucyB7aW50fVxuXHQgKi9cblx0dmFyIG1lYXN1cmVTdHJpbmcgPSBmdW5jdGlvbihzdHIsICRwYXJlbnQpIHtcblx0XHRpZiAoIXN0cikge1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXHRcblx0XHR2YXIgJHRlc3QgPSAkKCc8dGVzdD4nKS5jc3Moe1xuXHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHR0b3A6IC05OTk5OSxcblx0XHRcdGxlZnQ6IC05OTk5OSxcblx0XHRcdHdpZHRoOiAnYXV0bycsXG5cdFx0XHRwYWRkaW5nOiAwLFxuXHRcdFx0d2hpdGVTcGFjZTogJ3ByZSdcblx0XHR9KS50ZXh0KHN0cikuYXBwZW5kVG8oJ2JvZHknKTtcblx0XG5cdFx0dHJhbnNmZXJTdHlsZXMoJHBhcmVudCwgJHRlc3QsIFtcblx0XHRcdCdsZXR0ZXJTcGFjaW5nJyxcblx0XHRcdCdmb250U2l6ZScsXG5cdFx0XHQnZm9udEZhbWlseScsXG5cdFx0XHQnZm9udFdlaWdodCcsXG5cdFx0XHQndGV4dFRyYW5zZm9ybSdcblx0XHRdKTtcblx0XG5cdFx0dmFyIHdpZHRoID0gJHRlc3Qud2lkdGgoKTtcblx0XHQkdGVzdC5yZW1vdmUoKTtcblx0XG5cdFx0cmV0dXJuIHdpZHRoO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNldHMgdXAgYW4gaW5wdXQgdG8gZ3JvdyBob3Jpem9udGFsbHkgYXMgdGhlIHVzZXJcblx0ICogdHlwZXMuIElmIHRoZSB2YWx1ZSBpcyBjaGFuZ2VkIG1hbnVhbGx5LCB5b3UgY2FuXG5cdCAqIHRyaWdnZXIgdGhlIFwidXBkYXRlXCIgaGFuZGxlciB0byByZXNpemU6XG5cdCAqXG5cdCAqICRpbnB1dC50cmlnZ2VyKCd1cGRhdGUnKTtcblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9ICRpbnB1dFxuXHQgKi9cblx0dmFyIGF1dG9Hcm93ID0gZnVuY3Rpb24oJGlucHV0KSB7XG5cdFx0dmFyIGN1cnJlbnRXaWR0aCA9IG51bGw7XG5cdFxuXHRcdHZhciB1cGRhdGUgPSBmdW5jdGlvbihlLCBvcHRpb25zKSB7XG5cdFx0XHR2YXIgdmFsdWUsIGtleUNvZGUsIHByaW50YWJsZSwgcGxhY2Vob2xkZXIsIHdpZHRoO1xuXHRcdFx0dmFyIHNoaWZ0LCBjaGFyYWN0ZXIsIHNlbGVjdGlvbjtcblx0XHRcdGUgPSBlIHx8IHdpbmRvdy5ldmVudCB8fCB7fTtcblx0XHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcblx0XHRcdGlmIChlLm1ldGFLZXkgfHwgZS5hbHRLZXkpIHJldHVybjtcblx0XHRcdGlmICghb3B0aW9ucy5mb3JjZSAmJiAkaW5wdXQuZGF0YSgnZ3JvdycpID09PSBmYWxzZSkgcmV0dXJuO1xuXHRcblx0XHRcdHZhbHVlID0gJGlucHV0LnZhbCgpO1xuXHRcdFx0aWYgKGUudHlwZSAmJiBlLnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2tleWRvd24nKSB7XG5cdFx0XHRcdGtleUNvZGUgPSBlLmtleUNvZGU7XG5cdFx0XHRcdHByaW50YWJsZSA9IChcblx0XHRcdFx0XHQoa2V5Q29kZSA+PSA5NyAmJiBrZXlDb2RlIDw9IDEyMikgfHwgLy8gYS16XG5cdFx0XHRcdFx0KGtleUNvZGUgPj0gNjUgJiYga2V5Q29kZSA8PSA5MCkgIHx8IC8vIEEtWlxuXHRcdFx0XHRcdChrZXlDb2RlID49IDQ4ICYmIGtleUNvZGUgPD0gNTcpICB8fCAvLyAwLTlcblx0XHRcdFx0XHRrZXlDb2RlID09PSAzMiAvLyBzcGFjZVxuXHRcdFx0XHQpO1xuXHRcblx0XHRcdFx0aWYgKGtleUNvZGUgPT09IEtFWV9ERUxFVEUgfHwga2V5Q29kZSA9PT0gS0VZX0JBQ0tTUEFDRSkge1xuXHRcdFx0XHRcdHNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbigkaW5wdXRbMF0pO1xuXHRcdFx0XHRcdGlmIChzZWxlY3Rpb24ubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygwLCBzZWxlY3Rpb24uc3RhcnQpICsgdmFsdWUuc3Vic3RyaW5nKHNlbGVjdGlvbi5zdGFydCArIHNlbGVjdGlvbi5sZW5ndGgpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoa2V5Q29kZSA9PT0gS0VZX0JBQ0tTUEFDRSAmJiBzZWxlY3Rpb24uc3RhcnQpIHtcblx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDAsIHNlbGVjdGlvbi5zdGFydCAtIDEpICsgdmFsdWUuc3Vic3RyaW5nKHNlbGVjdGlvbi5zdGFydCArIDEpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoa2V5Q29kZSA9PT0gS0VZX0RFTEVURSAmJiB0eXBlb2Ygc2VsZWN0aW9uLnN0YXJ0ICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMCwgc2VsZWN0aW9uLnN0YXJ0KSArIHZhbHVlLnN1YnN0cmluZyhzZWxlY3Rpb24uc3RhcnQgKyAxKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAocHJpbnRhYmxlKSB7XG5cdFx0XHRcdFx0c2hpZnQgPSBlLnNoaWZ0S2V5O1xuXHRcdFx0XHRcdGNoYXJhY3RlciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS5rZXlDb2RlKTtcblx0XHRcdFx0XHRpZiAoc2hpZnQpIGNoYXJhY3RlciA9IGNoYXJhY3Rlci50b1VwcGVyQ2FzZSgpO1xuXHRcdFx0XHRcdGVsc2UgY2hhcmFjdGVyID0gY2hhcmFjdGVyLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0dmFsdWUgKz0gY2hhcmFjdGVyO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cGxhY2Vob2xkZXIgPSAkaW5wdXQuYXR0cigncGxhY2Vob2xkZXInKTtcblx0XHRcdGlmICghdmFsdWUgJiYgcGxhY2Vob2xkZXIpIHtcblx0XHRcdFx0dmFsdWUgPSBwbGFjZWhvbGRlcjtcblx0XHRcdH1cblx0XG5cdFx0XHR3aWR0aCA9IG1lYXN1cmVTdHJpbmcodmFsdWUsICRpbnB1dCkgKyA0O1xuXHRcdFx0aWYgKHdpZHRoICE9PSBjdXJyZW50V2lkdGgpIHtcblx0XHRcdFx0Y3VycmVudFdpZHRoID0gd2lkdGg7XG5cdFx0XHRcdCRpbnB1dC53aWR0aCh3aWR0aCk7XG5cdFx0XHRcdCRpbnB1dC50cmlnZ2VySGFuZGxlcigncmVzaXplJyk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XG5cdFx0JGlucHV0Lm9uKCdrZXlkb3duIGtleXVwIHVwZGF0ZSBibHVyJywgdXBkYXRlKTtcblx0XHR1cGRhdGUoKTtcblx0fTtcblx0XG5cdHZhciBkb21Ub1N0cmluZyA9IGZ1bmN0aW9uKGQpIHtcblx0XHR2YXIgdG1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFxuXHRcdHRtcC5hcHBlbmRDaGlsZChkLmNsb25lTm9kZSh0cnVlKSk7XG5cdFxuXHRcdHJldHVybiB0bXAuaW5uZXJIVE1MO1xuXHR9O1xuXHRcblx0dmFyIGxvZ0Vycm9yID0gZnVuY3Rpb24obWVzc2FnZSwgb3B0aW9ucyl7XG5cdFx0aWYoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcblx0XHR2YXIgY29tcG9uZW50ID0gXCJTZWxlY3RpemVcIjtcblx0XG5cdFx0Y29uc29sZS5lcnJvcihjb21wb25lbnQgKyBcIjogXCIgKyBtZXNzYWdlKVxuXHRcblx0XHRpZihvcHRpb25zLmV4cGxhbmF0aW9uKXtcblx0XHRcdC8vIGNvbnNvbGUuZ3JvdXAgaXMgdW5kZWZpbmVkIGluIDxJRTExXG5cdFx0XHRpZihjb25zb2xlLmdyb3VwKSBjb25zb2xlLmdyb3VwKCk7XG5cdFx0XHRjb25zb2xlLmVycm9yKG9wdGlvbnMuZXhwbGFuYXRpb24pO1xuXHRcdFx0aWYoY29uc29sZS5ncm91cCkgY29uc29sZS5ncm91cEVuZCgpO1xuXHRcdH1cblx0fVxuXHRcblx0XG5cdHZhciBTZWxlY3RpemUgPSBmdW5jdGlvbigkaW5wdXQsIHNldHRpbmdzKSB7XG5cdFx0dmFyIGtleSwgaSwgbiwgZGlyLCBpbnB1dCwgc2VsZiA9IHRoaXM7XG5cdFx0aW5wdXQgPSAkaW5wdXRbMF07XG5cdFx0aW5wdXQuc2VsZWN0aXplID0gc2VsZjtcblx0XG5cdFx0Ly8gZGV0ZWN0IHJ0bCBlbnZpcm9ubWVudFxuXHRcdHZhciBjb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUgJiYgd2luZG93LmdldENvbXB1dGVkU3R5bGUoaW5wdXQsIG51bGwpO1xuXHRcdGRpciA9IGNvbXB1dGVkU3R5bGUgPyBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2RpcmVjdGlvbicpIDogaW5wdXQuY3VycmVudFN0eWxlICYmIGlucHV0LmN1cnJlbnRTdHlsZS5kaXJlY3Rpb247XG5cdFx0ZGlyID0gZGlyIHx8ICRpbnB1dC5wYXJlbnRzKCdbZGlyXTpmaXJzdCcpLmF0dHIoJ2RpcicpIHx8ICcnO1xuXHRcblx0XHQvLyBzZXR1cCBkZWZhdWx0IHN0YXRlXG5cdFx0JC5leHRlbmQoc2VsZiwge1xuXHRcdFx0b3JkZXIgICAgICAgICAgICA6IDAsXG5cdFx0XHRzZXR0aW5ncyAgICAgICAgIDogc2V0dGluZ3MsXG5cdFx0XHQkaW5wdXQgICAgICAgICAgIDogJGlucHV0LFxuXHRcdFx0dGFiSW5kZXggICAgICAgICA6ICRpbnB1dC5hdHRyKCd0YWJpbmRleCcpIHx8ICcnLFxuXHRcdFx0dGFnVHlwZSAgICAgICAgICA6IGlucHV0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3NlbGVjdCcgPyBUQUdfU0VMRUNUIDogVEFHX0lOUFVULFxuXHRcdFx0cnRsICAgICAgICAgICAgICA6IC9ydGwvaS50ZXN0KGRpciksXG5cdFxuXHRcdFx0ZXZlbnROUyAgICAgICAgICA6ICcuc2VsZWN0aXplJyArICgrK1NlbGVjdGl6ZS5jb3VudCksXG5cdFx0XHRoaWdobGlnaHRlZFZhbHVlIDogbnVsbCxcblx0XHRcdGlzT3BlbiAgICAgICAgICAgOiBmYWxzZSxcblx0XHRcdGlzRGlzYWJsZWQgICAgICAgOiBmYWxzZSxcblx0XHRcdGlzUmVxdWlyZWQgICAgICAgOiAkaW5wdXQuaXMoJ1tyZXF1aXJlZF0nKSxcblx0XHRcdGlzSW52YWxpZCAgICAgICAgOiBmYWxzZSxcblx0XHRcdGlzTG9ja2VkICAgICAgICAgOiBmYWxzZSxcblx0XHRcdGlzRm9jdXNlZCAgICAgICAgOiBmYWxzZSxcblx0XHRcdGlzSW5wdXRIaWRkZW4gICAgOiBmYWxzZSxcblx0XHRcdGlzU2V0dXAgICAgICAgICAgOiBmYWxzZSxcblx0XHRcdGlzU2hpZnREb3duICAgICAgOiBmYWxzZSxcblx0XHRcdGlzQ21kRG93biAgICAgICAgOiBmYWxzZSxcblx0XHRcdGlzQ3RybERvd24gICAgICAgOiBmYWxzZSxcblx0XHRcdGlnbm9yZUZvY3VzICAgICAgOiBmYWxzZSxcblx0XHRcdGlnbm9yZUJsdXIgICAgICAgOiBmYWxzZSxcblx0XHRcdGlnbm9yZUhvdmVyICAgICAgOiBmYWxzZSxcblx0XHRcdGhhc09wdGlvbnMgICAgICAgOiBmYWxzZSxcblx0XHRcdGN1cnJlbnRSZXN1bHRzICAgOiBudWxsLFxuXHRcdFx0bGFzdFZhbHVlICAgICAgICA6ICcnLFxuXHRcdFx0Y2FyZXRQb3MgICAgICAgICA6IDAsXG5cdFx0XHRsb2FkaW5nICAgICAgICAgIDogMCxcblx0XHRcdGxvYWRlZFNlYXJjaGVzICAgOiB7fSxcblx0XG5cdFx0XHQkYWN0aXZlT3B0aW9uICAgIDogbnVsbCxcblx0XHRcdCRhY3RpdmVJdGVtcyAgICAgOiBbXSxcblx0XG5cdFx0XHRvcHRncm91cHMgICAgICAgIDoge30sXG5cdFx0XHRvcHRpb25zICAgICAgICAgIDoge30sXG5cdFx0XHR1c2VyT3B0aW9ucyAgICAgIDoge30sXG5cdFx0XHRpdGVtcyAgICAgICAgICAgIDogW10sXG5cdFx0XHRyZW5kZXJDYWNoZSAgICAgIDoge30sXG5cdFx0XHRvblNlYXJjaENoYW5nZSAgIDogc2V0dGluZ3MubG9hZFRocm90dGxlID09PSBudWxsID8gc2VsZi5vblNlYXJjaENoYW5nZSA6IGRlYm91bmNlKHNlbGYub25TZWFyY2hDaGFuZ2UsIHNldHRpbmdzLmxvYWRUaHJvdHRsZSlcblx0XHR9KTtcblx0XG5cdFx0Ly8gc2VhcmNoIHN5c3RlbVxuXHRcdHNlbGYuc2lmdGVyID0gbmV3IFNpZnRlcih0aGlzLm9wdGlvbnMsIHtkaWFjcml0aWNzOiBzZXR0aW5ncy5kaWFjcml0aWNzfSk7XG5cdFxuXHRcdC8vIGJ1aWxkIG9wdGlvbnMgdGFibGVcblx0XHRpZiAoc2VsZi5zZXR0aW5ncy5vcHRpb25zKSB7XG5cdFx0XHRmb3IgKGkgPSAwLCBuID0gc2VsZi5zZXR0aW5ncy5vcHRpb25zLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRzZWxmLnJlZ2lzdGVyT3B0aW9uKHNlbGYuc2V0dGluZ3Mub3B0aW9uc1tpXSk7XG5cdFx0XHR9XG5cdFx0XHRkZWxldGUgc2VsZi5zZXR0aW5ncy5vcHRpb25zO1xuXHRcdH1cblx0XG5cdFx0Ly8gYnVpbGQgb3B0Z3JvdXAgdGFibGVcblx0XHRpZiAoc2VsZi5zZXR0aW5ncy5vcHRncm91cHMpIHtcblx0XHRcdGZvciAoaSA9IDAsIG4gPSBzZWxmLnNldHRpbmdzLm9wdGdyb3Vwcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0c2VsZi5yZWdpc3Rlck9wdGlvbkdyb3VwKHNlbGYuc2V0dGluZ3Mub3B0Z3JvdXBzW2ldKTtcblx0XHRcdH1cblx0XHRcdGRlbGV0ZSBzZWxmLnNldHRpbmdzLm9wdGdyb3Vwcztcblx0XHR9XG5cdFxuXHRcdC8vIG9wdGlvbi1kZXBlbmRlbnQgZGVmYXVsdHNcblx0XHRzZWxmLnNldHRpbmdzLm1vZGUgPSBzZWxmLnNldHRpbmdzLm1vZGUgfHwgKHNlbGYuc2V0dGluZ3MubWF4SXRlbXMgPT09IDEgPyAnc2luZ2xlJyA6ICdtdWx0aScpO1xuXHRcdGlmICh0eXBlb2Ygc2VsZi5zZXR0aW5ncy5oaWRlU2VsZWN0ZWQgIT09ICdib29sZWFuJykge1xuXHRcdFx0c2VsZi5zZXR0aW5ncy5oaWRlU2VsZWN0ZWQgPSBzZWxmLnNldHRpbmdzLm1vZGUgPT09ICdtdWx0aSc7XG5cdFx0fVxuXHRcblx0XHRzZWxmLmluaXRpYWxpemVQbHVnaW5zKHNlbGYuc2V0dGluZ3MucGx1Z2lucyk7XG5cdFx0c2VsZi5zZXR1cENhbGxiYWNrcygpO1xuXHRcdHNlbGYuc2V0dXBUZW1wbGF0ZXMoKTtcblx0XHRzZWxmLnNldHVwKCk7XG5cdH07XG5cdFxuXHQvLyBtaXhpbnNcblx0Ly8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC1cblx0XG5cdE1pY3JvRXZlbnQubWl4aW4oU2VsZWN0aXplKTtcblx0XG5cdGlmKHR5cGVvZiBNaWNyb1BsdWdpbiAhPT0gXCJ1bmRlZmluZWRcIil7XG5cdFx0TWljcm9QbHVnaW4ubWl4aW4oU2VsZWN0aXplKTtcblx0fWVsc2V7XG5cdFx0bG9nRXJyb3IoXCJEZXBlbmRlbmN5IE1pY3JvUGx1Z2luIGlzIG1pc3NpbmdcIixcblx0XHRcdHtleHBsYW5hdGlvbjpcblx0XHRcdFx0XCJNYWtlIHN1cmUgeW91IGVpdGhlcjogKDEpIGFyZSB1c2luZyB0aGUgXFxcInN0YW5kYWxvbmVcXFwiIFwiK1xuXHRcdFx0XHRcInZlcnNpb24gb2YgU2VsZWN0aXplLCBvciAoMikgcmVxdWlyZSBNaWNyb1BsdWdpbiBiZWZvcmUgeW91IFwiK1xuXHRcdFx0XHRcImxvYWQgU2VsZWN0aXplLlwifVxuXHRcdCk7XG5cdH1cblx0XG5cdFxuXHQvLyBtZXRob2RzXG5cdC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtXG5cdFxuXHQkLmV4dGVuZChTZWxlY3RpemUucHJvdG90eXBlLCB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIENyZWF0ZXMgYWxsIGVsZW1lbnRzIGFuZCBzZXRzIHVwIGV2ZW50IGJpbmRpbmdzLlxuXHRcdCAqL1xuXHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmICAgICAgPSB0aGlzO1xuXHRcdFx0dmFyIHNldHRpbmdzICA9IHNlbGYuc2V0dGluZ3M7XG5cdFx0XHR2YXIgZXZlbnROUyAgID0gc2VsZi5ldmVudE5TO1xuXHRcdFx0dmFyICR3aW5kb3cgICA9ICQod2luZG93KTtcblx0XHRcdHZhciAkZG9jdW1lbnQgPSAkKGRvY3VtZW50KTtcblx0XHRcdHZhciAkaW5wdXQgICAgPSBzZWxmLiRpbnB1dDtcblx0XG5cdFx0XHR2YXIgJHdyYXBwZXI7XG5cdFx0XHR2YXIgJGNvbnRyb2w7XG5cdFx0XHR2YXIgJGNvbnRyb2xfaW5wdXQ7XG5cdFx0XHR2YXIgJGRyb3Bkb3duO1xuXHRcdFx0dmFyICRkcm9wZG93bl9jb250ZW50O1xuXHRcdFx0dmFyICRkcm9wZG93bl9wYXJlbnQ7XG5cdFx0XHR2YXIgaW5wdXRNb2RlO1xuXHRcdFx0dmFyIHRpbWVvdXRfYmx1cjtcblx0XHRcdHZhciB0aW1lb3V0X2ZvY3VzO1xuXHRcdFx0dmFyIGNsYXNzZXM7XG5cdFx0XHR2YXIgY2xhc3Nlc19wbHVnaW5zO1xuXHRcdFx0dmFyIGlucHV0SWQ7XG5cdFxuXHRcdFx0aW5wdXRNb2RlICAgICAgICAgPSBzZWxmLnNldHRpbmdzLm1vZGU7XG5cdFx0XHRjbGFzc2VzICAgICAgICAgICA9ICRpbnB1dC5hdHRyKCdjbGFzcycpIHx8ICcnO1xuXHRcblx0XHRcdCR3cmFwcGVyICAgICAgICAgID0gJCgnPGRpdj4nKS5hZGRDbGFzcyhzZXR0aW5ncy53cmFwcGVyQ2xhc3MpLmFkZENsYXNzKGNsYXNzZXMpLmFkZENsYXNzKGlucHV0TW9kZSk7XG5cdFx0XHQkY29udHJvbCAgICAgICAgICA9ICQoJzxkaXY+JykuYWRkQ2xhc3Moc2V0dGluZ3MuaW5wdXRDbGFzcykuYWRkQ2xhc3MoJ2l0ZW1zJykuYXBwZW5kVG8oJHdyYXBwZXIpO1xuXHRcdFx0JGNvbnRyb2xfaW5wdXQgICAgPSAkKCc8aW5wdXQgdHlwZT1cInRleHRcIiBhdXRvY29tcGxldGU9XCJvZmZcIiAvPicpLmFwcGVuZFRvKCRjb250cm9sKS5hdHRyKCd0YWJpbmRleCcsICRpbnB1dC5pcygnOmRpc2FibGVkJykgPyAnLTEnIDogc2VsZi50YWJJbmRleCk7XG5cdFx0XHQkZHJvcGRvd25fcGFyZW50ICA9ICQoc2V0dGluZ3MuZHJvcGRvd25QYXJlbnQgfHwgJHdyYXBwZXIpO1xuXHRcdFx0JGRyb3Bkb3duICAgICAgICAgPSAkKCc8ZGl2PicpLmFkZENsYXNzKHNldHRpbmdzLmRyb3Bkb3duQ2xhc3MpLmFkZENsYXNzKGlucHV0TW9kZSkuaGlkZSgpLmFwcGVuZFRvKCRkcm9wZG93bl9wYXJlbnQpO1xuXHRcdFx0JGRyb3Bkb3duX2NvbnRlbnQgPSAkKCc8ZGl2PicpLmFkZENsYXNzKHNldHRpbmdzLmRyb3Bkb3duQ29udGVudENsYXNzKS5hcHBlbmRUbygkZHJvcGRvd24pO1xuXHRcblx0XHRcdGlmKGlucHV0SWQgPSAkaW5wdXQuYXR0cignaWQnKSkge1xuXHRcdFx0XHQkY29udHJvbF9pbnB1dC5hdHRyKCdpZCcsIGlucHV0SWQgKyAnLXNlbGVjdGl6ZWQnKTtcblx0XHRcdFx0JChcImxhYmVsW2Zvcj0nXCIraW5wdXRJZCtcIiddXCIpLmF0dHIoJ2ZvcicsIGlucHV0SWQgKyAnLXNlbGVjdGl6ZWQnKTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZihzZWxmLnNldHRpbmdzLmNvcHlDbGFzc2VzVG9Ecm9wZG93bikge1xuXHRcdFx0XHQkZHJvcGRvd24uYWRkQ2xhc3MoY2xhc3Nlcyk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0JHdyYXBwZXIuY3NzKHtcblx0XHRcdFx0d2lkdGg6ICRpbnB1dFswXS5zdHlsZS53aWR0aFxuXHRcdFx0fSk7XG5cdFxuXHRcdFx0aWYgKHNlbGYucGx1Z2lucy5uYW1lcy5sZW5ndGgpIHtcblx0XHRcdFx0Y2xhc3Nlc19wbHVnaW5zID0gJ3BsdWdpbi0nICsgc2VsZi5wbHVnaW5zLm5hbWVzLmpvaW4oJyBwbHVnaW4tJyk7XG5cdFx0XHRcdCR3cmFwcGVyLmFkZENsYXNzKGNsYXNzZXNfcGx1Z2lucyk7XG5cdFx0XHRcdCRkcm9wZG93bi5hZGRDbGFzcyhjbGFzc2VzX3BsdWdpbnMpO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICgoc2V0dGluZ3MubWF4SXRlbXMgPT09IG51bGwgfHwgc2V0dGluZ3MubWF4SXRlbXMgPiAxKSAmJiBzZWxmLnRhZ1R5cGUgPT09IFRBR19TRUxFQ1QpIHtcblx0XHRcdFx0JGlucHV0LmF0dHIoJ211bHRpcGxlJywgJ211bHRpcGxlJyk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MucGxhY2Vob2xkZXIpIHtcblx0XHRcdFx0JGNvbnRyb2xfaW5wdXQuYXR0cigncGxhY2Vob2xkZXInLCBzZXR0aW5ncy5wbGFjZWhvbGRlcik7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gaWYgc3BsaXRPbiB3YXMgbm90IHBhc3NlZCBpbiwgY29uc3RydWN0IGl0IGZyb20gdGhlIGRlbGltaXRlciB0byBhbGxvdyBwYXN0aW5nIHVuaXZlcnNhbGx5XG5cdFx0XHRpZiAoIXNlbGYuc2V0dGluZ3Muc3BsaXRPbiAmJiBzZWxmLnNldHRpbmdzLmRlbGltaXRlcikge1xuXHRcdFx0XHR2YXIgZGVsaW1pdGVyRXNjYXBlZCA9IHNlbGYuc2V0dGluZ3MuZGVsaW1pdGVyLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpO1xuXHRcdFx0XHRzZWxmLnNldHRpbmdzLnNwbGl0T24gPSBuZXcgUmVnRXhwKCdcXFxccyonICsgZGVsaW1pdGVyRXNjYXBlZCArICcrXFxcXHMqJyk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCRpbnB1dC5hdHRyKCdhdXRvY29ycmVjdCcpKSB7XG5cdFx0XHRcdCRjb250cm9sX2lucHV0LmF0dHIoJ2F1dG9jb3JyZWN0JywgJGlucHV0LmF0dHIoJ2F1dG9jb3JyZWN0JykpO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICgkaW5wdXQuYXR0cignYXV0b2NhcGl0YWxpemUnKSkge1xuXHRcdFx0XHQkY29udHJvbF9pbnB1dC5hdHRyKCdhdXRvY2FwaXRhbGl6ZScsICRpbnB1dC5hdHRyKCdhdXRvY2FwaXRhbGl6ZScpKTtcblx0XHRcdH1cblx0XG5cdFx0XHRzZWxmLiR3cmFwcGVyICAgICAgICAgID0gJHdyYXBwZXI7XG5cdFx0XHRzZWxmLiRjb250cm9sICAgICAgICAgID0gJGNvbnRyb2w7XG5cdFx0XHRzZWxmLiRjb250cm9sX2lucHV0ICAgID0gJGNvbnRyb2xfaW5wdXQ7XG5cdFx0XHRzZWxmLiRkcm9wZG93biAgICAgICAgID0gJGRyb3Bkb3duO1xuXHRcdFx0c2VsZi4kZHJvcGRvd25fY29udGVudCA9ICRkcm9wZG93bl9jb250ZW50O1xuXHRcblx0XHRcdCRkcm9wZG93bi5vbignbW91c2VlbnRlcicsICdbZGF0YS1zZWxlY3RhYmxlXScsIGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vbk9wdGlvbkhvdmVyLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7IH0pO1xuXHRcdFx0JGRyb3Bkb3duLm9uKCdtb3VzZWRvd24gY2xpY2snLCAnW2RhdGEtc2VsZWN0YWJsZV0nLCBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYub25PcHRpb25TZWxlY3QuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSk7XG5cdFx0XHR3YXRjaENoaWxkRXZlbnQoJGNvbnRyb2wsICdtb3VzZWRvd24nLCAnKjpub3QoaW5wdXQpJywgZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uSXRlbVNlbGVjdC5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9KTtcblx0XHRcdGF1dG9Hcm93KCRjb250cm9sX2lucHV0KTtcblx0XG5cdFx0XHQkY29udHJvbC5vbih7XG5cdFx0XHRcdG1vdXNlZG93biA6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vbk1vdXNlRG93bi5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9LFxuXHRcdFx0XHRjbGljayAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYub25DbGljay5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9XG5cdFx0XHR9KTtcblx0XG5cdFx0XHQkY29udHJvbF9pbnB1dC5vbih7XG5cdFx0XHRcdG1vdXNlZG93biA6IGZ1bmN0aW9uKGUpIHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgfSxcblx0XHRcdFx0a2V5ZG93biAgIDogZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uS2V5RG93bi5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9LFxuXHRcdFx0XHRrZXl1cCAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYub25LZXlVcC5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9LFxuXHRcdFx0XHRrZXlwcmVzcyAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYub25LZXlQcmVzcy5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9LFxuXHRcdFx0XHRyZXNpemUgICAgOiBmdW5jdGlvbigpIHsgc2VsZi5wb3NpdGlvbkRyb3Bkb3duLmFwcGx5KHNlbGYsIFtdKTsgfSxcblx0XHRcdFx0Ymx1ciAgICAgIDogZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uQmx1ci5hcHBseShzZWxmLCBhcmd1bWVudHMpOyB9LFxuXHRcdFx0XHRmb2N1cyAgICAgOiBmdW5jdGlvbigpIHsgc2VsZi5pZ25vcmVCbHVyID0gZmFsc2U7IHJldHVybiBzZWxmLm9uRm9jdXMuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfSxcblx0XHRcdFx0cGFzdGUgICAgIDogZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLm9uUGFzdGUuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTsgfVxuXHRcdFx0fSk7XG5cdFxuXHRcdFx0JGRvY3VtZW50Lm9uKCdrZXlkb3duJyArIGV2ZW50TlMsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0c2VsZi5pc0NtZERvd24gPSBlW0lTX01BQyA/ICdtZXRhS2V5JyA6ICdjdHJsS2V5J107XG5cdFx0XHRcdHNlbGYuaXNDdHJsRG93biA9IGVbSVNfTUFDID8gJ2FsdEtleScgOiAnY3RybEtleSddO1xuXHRcdFx0XHRzZWxmLmlzU2hpZnREb3duID0gZS5zaGlmdEtleTtcblx0XHRcdH0pO1xuXHRcblx0XHRcdCRkb2N1bWVudC5vbigna2V5dXAnICsgZXZlbnROUywgZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRpZiAoZS5rZXlDb2RlID09PSBLRVlfQ1RSTCkgc2VsZi5pc0N0cmxEb3duID0gZmFsc2U7XG5cdFx0XHRcdGlmIChlLmtleUNvZGUgPT09IEtFWV9TSElGVCkgc2VsZi5pc1NoaWZ0RG93biA9IGZhbHNlO1xuXHRcdFx0XHRpZiAoZS5rZXlDb2RlID09PSBLRVlfQ01EKSBzZWxmLmlzQ21kRG93biA9IGZhbHNlO1xuXHRcdFx0fSk7XG5cdFxuXHRcdFx0JGRvY3VtZW50Lm9uKCdtb3VzZWRvd24nICsgZXZlbnROUywgZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRpZiAoc2VsZi5pc0ZvY3VzZWQpIHtcblx0XHRcdFx0XHQvLyBwcmV2ZW50IGV2ZW50cyBvbiB0aGUgZHJvcGRvd24gc2Nyb2xsYmFyIGZyb20gY2F1c2luZyB0aGUgY29udHJvbCB0byBibHVyXG5cdFx0XHRcdFx0aWYgKGUudGFyZ2V0ID09PSBzZWxmLiRkcm9wZG93blswXSB8fCBlLnRhcmdldC5wYXJlbnROb2RlID09PSBzZWxmLiRkcm9wZG93blswXSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBibHVyIG9uIGNsaWNrIG91dHNpZGVcblx0XHRcdFx0XHRpZiAoIXNlbGYuJGNvbnRyb2wuaGFzKGUudGFyZ2V0KS5sZW5ndGggJiYgZS50YXJnZXQgIT09IHNlbGYuJGNvbnRyb2xbMF0pIHtcblx0XHRcdFx0XHRcdHNlbGYuYmx1cihlLnRhcmdldCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XG5cdFx0XHQkd2luZG93Lm9uKFsnc2Nyb2xsJyArIGV2ZW50TlMsICdyZXNpemUnICsgZXZlbnROU10uam9pbignICcpLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKHNlbGYuaXNPcGVuKSB7XG5cdFx0XHRcdFx0c2VsZi5wb3NpdGlvbkRyb3Bkb3duLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0JHdpbmRvdy5vbignbW91c2Vtb3ZlJyArIGV2ZW50TlMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmlnbm9yZUhvdmVyID0gZmFsc2U7XG5cdFx0XHR9KTtcblx0XG5cdFx0XHQvLyBzdG9yZSBvcmlnaW5hbCBjaGlsZHJlbiBhbmQgdGFiIGluZGV4IHNvIHRoYXQgdGhleSBjYW4gYmVcblx0XHRcdC8vIHJlc3RvcmVkIHdoZW4gdGhlIGRlc3Ryb3koKSBtZXRob2QgaXMgY2FsbGVkLlxuXHRcdFx0dGhpcy5yZXZlcnRTZXR0aW5ncyA9IHtcblx0XHRcdFx0JGNoaWxkcmVuIDogJGlucHV0LmNoaWxkcmVuKCkuZGV0YWNoKCksXG5cdFx0XHRcdHRhYmluZGV4ICA6ICRpbnB1dC5hdHRyKCd0YWJpbmRleCcpXG5cdFx0XHR9O1xuXHRcblx0XHRcdCRpbnB1dC5hdHRyKCd0YWJpbmRleCcsIC0xKS5oaWRlKCkuYWZ0ZXIoc2VsZi4kd3JhcHBlcik7XG5cdFxuXHRcdFx0aWYgKCQuaXNBcnJheShzZXR0aW5ncy5pdGVtcykpIHtcblx0XHRcdFx0c2VsZi5zZXRWYWx1ZShzZXR0aW5ncy5pdGVtcyk7XG5cdFx0XHRcdGRlbGV0ZSBzZXR0aW5ncy5pdGVtcztcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBmZWF0dXJlIGRldGVjdCBmb3IgdGhlIHZhbGlkYXRpb24gQVBJXG5cdFx0XHRpZiAoU1VQUE9SVFNfVkFMSURJVFlfQVBJKSB7XG5cdFx0XHRcdCRpbnB1dC5vbignaW52YWxpZCcgKyBldmVudE5TLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdHNlbGYuaXNJbnZhbGlkID0gdHJ1ZTtcblx0XHRcdFx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XG5cdFx0XHRzZWxmLnVwZGF0ZU9yaWdpbmFsSW5wdXQoKTtcblx0XHRcdHNlbGYucmVmcmVzaEl0ZW1zKCk7XG5cdFx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xuXHRcdFx0c2VsZi51cGRhdGVQbGFjZWhvbGRlcigpO1xuXHRcdFx0c2VsZi5pc1NldHVwID0gdHJ1ZTtcblx0XG5cdFx0XHRpZiAoJGlucHV0LmlzKCc6ZGlzYWJsZWQnKSkge1xuXHRcdFx0XHRzZWxmLmRpc2FibGUoKTtcblx0XHRcdH1cblx0XG5cdFx0XHRzZWxmLm9uKCdjaGFuZ2UnLCB0aGlzLm9uQ2hhbmdlKTtcblx0XG5cdFx0XHQkaW5wdXQuZGF0YSgnc2VsZWN0aXplJywgc2VsZik7XG5cdFx0XHQkaW5wdXQuYWRkQ2xhc3MoJ3NlbGVjdGl6ZWQnKTtcblx0XHRcdHNlbGYudHJpZ2dlcignaW5pdGlhbGl6ZScpO1xuXHRcblx0XHRcdC8vIHByZWxvYWQgb3B0aW9uc1xuXHRcdFx0aWYgKHNldHRpbmdzLnByZWxvYWQgPT09IHRydWUpIHtcblx0XHRcdFx0c2VsZi5vblNlYXJjaENoYW5nZSgnJyk7XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFNldHMgdXAgZGVmYXVsdCByZW5kZXJpbmcgZnVuY3Rpb25zLlxuXHRcdCAqL1xuXHRcdHNldHVwVGVtcGxhdGVzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHZhciBmaWVsZF9sYWJlbCA9IHNlbGYuc2V0dGluZ3MubGFiZWxGaWVsZDtcblx0XHRcdHZhciBmaWVsZF9vcHRncm91cCA9IHNlbGYuc2V0dGluZ3Mub3B0Z3JvdXBMYWJlbEZpZWxkO1xuXHRcblx0XHRcdHZhciB0ZW1wbGF0ZXMgPSB7XG5cdFx0XHRcdCdvcHRncm91cCc6IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0XHRyZXR1cm4gJzxkaXYgY2xhc3M9XCJvcHRncm91cFwiPicgKyBkYXRhLmh0bWwgKyAnPC9kaXY+Jztcblx0XHRcdFx0fSxcblx0XHRcdFx0J29wdGdyb3VwX2hlYWRlcic6IGZ1bmN0aW9uKGRhdGEsIGVzY2FwZSkge1xuXHRcdFx0XHRcdHJldHVybiAnPGRpdiBjbGFzcz1cIm9wdGdyb3VwLWhlYWRlclwiPicgKyBlc2NhcGUoZGF0YVtmaWVsZF9vcHRncm91cF0pICsgJzwvZGl2Pic7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCdvcHRpb24nOiBmdW5jdGlvbihkYXRhLCBlc2NhcGUpIHtcblx0XHRcdFx0XHRyZXR1cm4gJzxkaXYgY2xhc3M9XCJvcHRpb25cIj4nICsgZXNjYXBlKGRhdGFbZmllbGRfbGFiZWxdKSArICc8L2Rpdj4nO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQnaXRlbSc6IGZ1bmN0aW9uKGRhdGEsIGVzY2FwZSkge1xuXHRcdFx0XHRcdHJldHVybiAnPGRpdiBjbGFzcz1cIml0ZW1cIj4nICsgZXNjYXBlKGRhdGFbZmllbGRfbGFiZWxdKSArICc8L2Rpdj4nO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQnb3B0aW9uX2NyZWF0ZSc6IGZ1bmN0aW9uKGRhdGEsIGVzY2FwZSkge1xuXHRcdFx0XHRcdHJldHVybiAnPGRpdiBjbGFzcz1cImNyZWF0ZVwiPkFkZCA8c3Ryb25nPicgKyBlc2NhcGUoZGF0YS5pbnB1dCkgKyAnPC9zdHJvbmc+JmhlbGxpcDs8L2Rpdj4nO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcblx0XHRcdHNlbGYuc2V0dGluZ3MucmVuZGVyID0gJC5leHRlbmQoe30sIHRlbXBsYXRlcywgc2VsZi5zZXR0aW5ncy5yZW5kZXIpO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIE1hcHMgZmlyZWQgZXZlbnRzIHRvIGNhbGxiYWNrcyBwcm92aWRlZFxuXHRcdCAqIGluIHRoZSBzZXR0aW5ncyB1c2VkIHdoZW4gY3JlYXRpbmcgdGhlIGNvbnRyb2wuXG5cdFx0ICovXG5cdFx0c2V0dXBDYWxsYmFja3M6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGtleSwgZm4sIGNhbGxiYWNrcyA9IHtcblx0XHRcdFx0J2luaXRpYWxpemUnICAgICAgOiAnb25Jbml0aWFsaXplJyxcblx0XHRcdFx0J2NoYW5nZScgICAgICAgICAgOiAnb25DaGFuZ2UnLFxuXHRcdFx0XHQnaXRlbV9hZGQnICAgICAgICA6ICdvbkl0ZW1BZGQnLFxuXHRcdFx0XHQnaXRlbV9yZW1vdmUnICAgICA6ICdvbkl0ZW1SZW1vdmUnLFxuXHRcdFx0XHQnY2xlYXInICAgICAgICAgICA6ICdvbkNsZWFyJyxcblx0XHRcdFx0J29wdGlvbl9hZGQnICAgICAgOiAnb25PcHRpb25BZGQnLFxuXHRcdFx0XHQnb3B0aW9uX3JlbW92ZScgICA6ICdvbk9wdGlvblJlbW92ZScsXG5cdFx0XHRcdCdvcHRpb25fY2xlYXInICAgIDogJ29uT3B0aW9uQ2xlYXInLFxuXHRcdFx0XHQnb3B0Z3JvdXBfYWRkJyAgICA6ICdvbk9wdGlvbkdyb3VwQWRkJyxcblx0XHRcdFx0J29wdGdyb3VwX3JlbW92ZScgOiAnb25PcHRpb25Hcm91cFJlbW92ZScsXG5cdFx0XHRcdCdvcHRncm91cF9jbGVhcicgIDogJ29uT3B0aW9uR3JvdXBDbGVhcicsXG5cdFx0XHRcdCdkcm9wZG93bl9vcGVuJyAgIDogJ29uRHJvcGRvd25PcGVuJyxcblx0XHRcdFx0J2Ryb3Bkb3duX2Nsb3NlJyAgOiAnb25Ecm9wZG93bkNsb3NlJyxcblx0XHRcdFx0J3R5cGUnICAgICAgICAgICAgOiAnb25UeXBlJyxcblx0XHRcdFx0J2xvYWQnICAgICAgICAgICAgOiAnb25Mb2FkJyxcblx0XHRcdFx0J2ZvY3VzJyAgICAgICAgICAgOiAnb25Gb2N1cycsXG5cdFx0XHRcdCdibHVyJyAgICAgICAgICAgIDogJ29uQmx1cidcblx0XHRcdH07XG5cdFxuXHRcdFx0Zm9yIChrZXkgaW4gY2FsbGJhY2tzKSB7XG5cdFx0XHRcdGlmIChjYWxsYmFja3MuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRcdGZuID0gdGhpcy5zZXR0aW5nc1tjYWxsYmFja3Nba2V5XV07XG5cdFx0XHRcdFx0aWYgKGZuKSB0aGlzLm9uKGtleSwgZm4pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogVHJpZ2dlcmVkIHdoZW4gdGhlIG1haW4gY29udHJvbCBlbGVtZW50XG5cdFx0ICogaGFzIGEgY2xpY2sgZXZlbnQuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZVxuXHRcdCAqIEByZXR1cm4ge2Jvb2xlYW59XG5cdFx0ICovXG5cdFx0b25DbGljazogZnVuY3Rpb24oZSkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdC8vIG5lY2Vzc2FyeSBmb3IgbW9iaWxlIHdlYmtpdCBkZXZpY2VzIChtYW51YWwgZm9jdXMgdHJpZ2dlcmluZ1xuXHRcdFx0Ly8gaXMgaWdub3JlZCB1bmxlc3MgaW52b2tlZCB3aXRoaW4gYSBjbGljayBldmVudClcblx0XHRcdGlmICghc2VsZi5pc0ZvY3VzZWQpIHtcblx0XHRcdFx0c2VsZi5mb2N1cygpO1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogVHJpZ2dlcmVkIHdoZW4gdGhlIG1haW4gY29udHJvbCBlbGVtZW50XG5cdFx0ICogaGFzIGEgbW91c2UgZG93biBldmVudC5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlXG5cdFx0ICogQHJldHVybiB7Ym9vbGVhbn1cblx0XHQgKi9cblx0XHRvbk1vdXNlRG93bjogZnVuY3Rpb24oZSkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIGRlZmF1bHRQcmV2ZW50ZWQgPSBlLmlzRGVmYXVsdFByZXZlbnRlZCgpO1xuXHRcdFx0dmFyICR0YXJnZXQgPSAkKGUudGFyZ2V0KTtcblx0XG5cdFx0XHRpZiAoc2VsZi5pc0ZvY3VzZWQpIHtcblx0XHRcdFx0Ly8gcmV0YWluIGZvY3VzIGJ5IHByZXZlbnRpbmcgbmF0aXZlIGhhbmRsaW5nLiBpZiB0aGVcblx0XHRcdFx0Ly8gZXZlbnQgdGFyZ2V0IGlzIHRoZSBpbnB1dCBpdCBzaG91bGQgbm90IGJlIG1vZGlmaWVkLlxuXHRcdFx0XHQvLyBvdGhlcndpc2UsIHRleHQgc2VsZWN0aW9uIHdpdGhpbiB0aGUgaW5wdXQgd29uJ3Qgd29yay5cblx0XHRcdFx0aWYgKGUudGFyZ2V0ICE9PSBzZWxmLiRjb250cm9sX2lucHV0WzBdKSB7XG5cdFx0XHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ3NpbmdsZScpIHtcblx0XHRcdFx0XHRcdC8vIHRvZ2dsZSBkcm9wZG93blxuXHRcdFx0XHRcdFx0c2VsZi5pc09wZW4gPyBzZWxmLmNsb3NlKCkgOiBzZWxmLm9wZW4oKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCFkZWZhdWx0UHJldmVudGVkKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZUl0ZW0obnVsbCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gZ2l2ZSBjb250cm9sIGZvY3VzXG5cdFx0XHRcdGlmICghZGVmYXVsdFByZXZlbnRlZCkge1xuXHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0c2VsZi5mb2N1cygpO1xuXHRcdFx0XHRcdH0sIDApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogVHJpZ2dlcmVkIHdoZW4gdGhlIHZhbHVlIG9mIHRoZSBjb250cm9sIGhhcyBiZWVuIGNoYW5nZWQuXG5cdFx0ICogVGhpcyBzaG91bGQgcHJvcGFnYXRlIHRoZSBldmVudCB0byB0aGUgb3JpZ2luYWwgRE9NXG5cdFx0ICogaW5wdXQgLyBzZWxlY3QgZWxlbWVudC5cblx0XHQgKi9cblx0XHRvbkNoYW5nZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRpbnB1dC50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBUcmlnZ2VyZWQgb24gPGlucHV0PiBwYXN0ZS5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdFx0ICovXG5cdFx0b25QYXN0ZTogZnVuY3Rpb24oZSkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdGlmIChzZWxmLmlzRnVsbCgpIHx8IHNlbGYuaXNJbnB1dEhpZGRlbiB8fCBzZWxmLmlzTG9ja2VkKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIElmIGEgcmVnZXggb3Igc3RyaW5nIGlzIGluY2x1ZGVkLCB0aGlzIHdpbGwgc3BsaXQgdGhlIHBhc3RlZFxuXHRcdFx0Ly8gaW5wdXQgYW5kIGNyZWF0ZSBJdGVtcyBmb3IgZWFjaCBzZXBhcmF0ZSB2YWx1ZVxuXHRcdFx0aWYgKHNlbGYuc2V0dGluZ3Muc3BsaXRPbikge1xuXHRcblx0XHRcdFx0Ly8gV2FpdCBmb3IgcGFzdGVkIHRleHQgdG8gYmUgcmVjb2duaXplZCBpbiB2YWx1ZVxuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBwYXN0ZWRUZXh0ID0gc2VsZi4kY29udHJvbF9pbnB1dC52YWwoKTtcblx0XHRcdFx0XHRpZighcGFzdGVkVGV4dC5tYXRjaChzZWxmLnNldHRpbmdzLnNwbGl0T24pKXsgcmV0dXJuIH1cblx0XG5cdFx0XHRcdFx0dmFyIHNwbGl0SW5wdXQgPSAkLnRyaW0ocGFzdGVkVGV4dCkuc3BsaXQoc2VsZi5zZXR0aW5ncy5zcGxpdE9uKTtcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbiA9IHNwbGl0SW5wdXQubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdFx0XHRzZWxmLmNyZWF0ZUl0ZW0oc3BsaXRJbnB1dFtpXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCAwKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBUcmlnZ2VyZWQgb24gPGlucHV0PiBrZXlwcmVzcy5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdFx0ICovXG5cdFx0b25LZXlQcmVzczogZnVuY3Rpb24oZSkge1xuXHRcdFx0aWYgKHRoaXMuaXNMb2NrZWQpIHJldHVybiBlICYmIGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHZhciBjaGFyYWN0ZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUua2V5Q29kZSB8fCBlLndoaWNoKTtcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmNyZWF0ZSAmJiB0aGlzLnNldHRpbmdzLm1vZGUgPT09ICdtdWx0aScgJiYgY2hhcmFjdGVyID09PSB0aGlzLnNldHRpbmdzLmRlbGltaXRlcikge1xuXHRcdFx0XHR0aGlzLmNyZWF0ZUl0ZW0oKTtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogVHJpZ2dlcmVkIG9uIDxpbnB1dD4ga2V5ZG93bi5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdFx0ICovXG5cdFx0b25LZXlEb3duOiBmdW5jdGlvbihlKSB7XG5cdFx0XHR2YXIgaXNJbnB1dCA9IGUudGFyZ2V0ID09PSB0aGlzLiRjb250cm9sX2lucHV0WzBdO1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdGlmIChzZWxmLmlzTG9ja2VkKSB7XG5cdFx0XHRcdGlmIChlLmtleUNvZGUgIT09IEtFWV9UQUIpIHtcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdHN3aXRjaCAoZS5rZXlDb2RlKSB7XG5cdFx0XHRcdGNhc2UgS0VZX0E6XG5cdFx0XHRcdFx0aWYgKHNlbGYuaXNDbWREb3duKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnNlbGVjdEFsbCgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBLRVlfRVNDOlxuXHRcdFx0XHRcdGlmIChzZWxmLmlzT3Blbikge1xuXHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRcdHNlbGYuY2xvc2UoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRjYXNlIEtFWV9OOlxuXHRcdFx0XHRcdGlmICghZS5jdHJsS2V5IHx8IGUuYWx0S2V5KSBicmVhaztcblx0XHRcdFx0Y2FzZSBLRVlfRE9XTjpcblx0XHRcdFx0XHRpZiAoIXNlbGYuaXNPcGVuICYmIHNlbGYuaGFzT3B0aW9ucykge1xuXHRcdFx0XHRcdFx0c2VsZi5vcGVuKCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChzZWxmLiRhY3RpdmVPcHRpb24pIHtcblx0XHRcdFx0XHRcdHNlbGYuaWdub3JlSG92ZXIgPSB0cnVlO1xuXHRcdFx0XHRcdFx0dmFyICRuZXh0ID0gc2VsZi5nZXRBZGphY2VudE9wdGlvbihzZWxmLiRhY3RpdmVPcHRpb24sIDEpO1xuXHRcdFx0XHRcdFx0aWYgKCRuZXh0Lmxlbmd0aCkgc2VsZi5zZXRBY3RpdmVPcHRpb24oJG5leHQsIHRydWUsIHRydWUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRjYXNlIEtFWV9QOlxuXHRcdFx0XHRcdGlmICghZS5jdHJsS2V5IHx8IGUuYWx0S2V5KSBicmVhaztcblx0XHRcdFx0Y2FzZSBLRVlfVVA6XG5cdFx0XHRcdFx0aWYgKHNlbGYuJGFjdGl2ZU9wdGlvbikge1xuXHRcdFx0XHRcdFx0c2VsZi5pZ25vcmVIb3ZlciA9IHRydWU7XG5cdFx0XHRcdFx0XHR2YXIgJHByZXYgPSBzZWxmLmdldEFkamFjZW50T3B0aW9uKHNlbGYuJGFjdGl2ZU9wdGlvbiwgLTEpO1xuXHRcdFx0XHRcdFx0aWYgKCRwcmV2Lmxlbmd0aCkgc2VsZi5zZXRBY3RpdmVPcHRpb24oJHByZXYsIHRydWUsIHRydWUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRjYXNlIEtFWV9SRVRVUk46XG5cdFx0XHRcdFx0aWYgKHNlbGYuaXNPcGVuICYmIHNlbGYuJGFjdGl2ZU9wdGlvbikge1xuXHRcdFx0XHRcdFx0c2VsZi5vbk9wdGlvblNlbGVjdCh7Y3VycmVudFRhcmdldDogc2VsZi4kYWN0aXZlT3B0aW9ufSk7XG5cdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0Y2FzZSBLRVlfTEVGVDpcblx0XHRcdFx0XHRzZWxmLmFkdmFuY2VTZWxlY3Rpb24oLTEsIGUpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0Y2FzZSBLRVlfUklHSFQ6XG5cdFx0XHRcdFx0c2VsZi5hZHZhbmNlU2VsZWN0aW9uKDEsIGUpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0Y2FzZSBLRVlfVEFCOlxuXHRcdFx0XHRcdGlmIChzZWxmLnNldHRpbmdzLnNlbGVjdE9uVGFiICYmIHNlbGYuaXNPcGVuICYmIHNlbGYuJGFjdGl2ZU9wdGlvbikge1xuXHRcdFx0XHRcdFx0c2VsZi5vbk9wdGlvblNlbGVjdCh7Y3VycmVudFRhcmdldDogc2VsZi4kYWN0aXZlT3B0aW9ufSk7XG5cdFxuXHRcdFx0XHRcdFx0Ly8gRGVmYXVsdCBiZWhhdmlvdXIgaXMgdG8ganVtcCB0byB0aGUgbmV4dCBmaWVsZCwgd2Ugb25seSB3YW50IHRoaXNcblx0XHRcdFx0XHRcdC8vIGlmIHRoZSBjdXJyZW50IGZpZWxkIGRvZXNuJ3QgYWNjZXB0IGFueSBtb3JlIGVudHJpZXNcblx0XHRcdFx0XHRcdGlmICghc2VsZi5pc0Z1bGwoKSkge1xuXHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChzZWxmLnNldHRpbmdzLmNyZWF0ZSAmJiBzZWxmLmNyZWF0ZUl0ZW0oKSkge1xuXHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdGNhc2UgS0VZX0JBQ0tTUEFDRTpcblx0XHRcdFx0Y2FzZSBLRVlfREVMRVRFOlxuXHRcdFx0XHRcdHNlbGYuZGVsZXRlU2VsZWN0aW9uKGUpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoKHNlbGYuaXNGdWxsKCkgfHwgc2VsZi5pc0lucHV0SGlkZGVuKSAmJiAhKElTX01BQyA/IGUubWV0YUtleSA6IGUuY3RybEtleSkpIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogVHJpZ2dlcmVkIG9uIDxpbnB1dD4ga2V5dXAuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZVxuXHRcdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHRcdCAqL1xuXHRcdG9uS2V5VXA6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHRpZiAoc2VsZi5pc0xvY2tlZCkgcmV0dXJuIGUgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0dmFyIHZhbHVlID0gc2VsZi4kY29udHJvbF9pbnB1dC52YWwoKSB8fCAnJztcblx0XHRcdGlmIChzZWxmLmxhc3RWYWx1ZSAhPT0gdmFsdWUpIHtcblx0XHRcdFx0c2VsZi5sYXN0VmFsdWUgPSB2YWx1ZTtcblx0XHRcdFx0c2VsZi5vblNlYXJjaENoYW5nZSh2YWx1ZSk7XG5cdFx0XHRcdHNlbGYucmVmcmVzaE9wdGlvbnMoKTtcblx0XHRcdFx0c2VsZi50cmlnZ2VyKCd0eXBlJywgdmFsdWUpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEludm9rZXMgdGhlIHVzZXItcHJvdmlkZSBvcHRpb24gcHJvdmlkZXIgLyBsb2FkZXIuXG5cdFx0ICpcblx0XHQgKiBOb3RlOiB0aGlzIGZ1bmN0aW9uIGlzIGRlYm91bmNlZCBpbiB0aGUgU2VsZWN0aXplXG5cdFx0ICogY29uc3RydWN0b3IgKGJ5IGBzZXR0aW5ncy5sb2FkVGhyb3R0bGVgIG1pbGxpc2Vjb25kcylcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuXHRcdCAqL1xuXHRcdG9uU2VhcmNoQ2hhbmdlOiBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIGZuID0gc2VsZi5zZXR0aW5ncy5sb2FkO1xuXHRcdFx0aWYgKCFmbikgcmV0dXJuO1xuXHRcdFx0aWYgKHNlbGYubG9hZGVkU2VhcmNoZXMuaGFzT3duUHJvcGVydHkodmFsdWUpKSByZXR1cm47XG5cdFx0XHRzZWxmLmxvYWRlZFNlYXJjaGVzW3ZhbHVlXSA9IHRydWU7XG5cdFx0XHRzZWxmLmxvYWQoZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHRcdFx0Zm4uYXBwbHkoc2VsZiwgW3ZhbHVlLCBjYWxsYmFja10pO1xuXHRcdFx0fSk7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogVHJpZ2dlcmVkIG9uIDxpbnB1dD4gZm9jdXMuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZSAob3B0aW9uYWwpXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdFx0ICovXG5cdFx0b25Gb2N1czogZnVuY3Rpb24oZSkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIHdhc0ZvY3VzZWQgPSBzZWxmLmlzRm9jdXNlZDtcblx0XG5cdFx0XHRpZiAoc2VsZi5pc0Rpc2FibGVkKSB7XG5cdFx0XHRcdHNlbGYuYmx1cigpO1xuXHRcdFx0XHRlICYmIGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmIChzZWxmLmlnbm9yZUZvY3VzKSByZXR1cm47XG5cdFx0XHRzZWxmLmlzRm9jdXNlZCA9IHRydWU7XG5cdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5wcmVsb2FkID09PSAnZm9jdXMnKSBzZWxmLm9uU2VhcmNoQ2hhbmdlKCcnKTtcblx0XG5cdFx0XHRpZiAoIXdhc0ZvY3VzZWQpIHNlbGYudHJpZ2dlcignZm9jdXMnKTtcblx0XG5cdFx0XHRpZiAoIXNlbGYuJGFjdGl2ZUl0ZW1zLmxlbmd0aCkge1xuXHRcdFx0XHRzZWxmLnNob3dJbnB1dCgpO1xuXHRcdFx0XHRzZWxmLnNldEFjdGl2ZUl0ZW0obnVsbCk7XG5cdFx0XHRcdHNlbGYucmVmcmVzaE9wdGlvbnMoISFzZWxmLnNldHRpbmdzLm9wZW5PbkZvY3VzKTtcblx0XHRcdH1cblx0XG5cdFx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRyaWdnZXJlZCBvbiA8aW5wdXQ+IGJsdXIuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZVxuXHRcdCAqIEBwYXJhbSB7RWxlbWVudH0gZGVzdFxuXHRcdCAqL1xuXHRcdG9uQmx1cjogZnVuY3Rpb24oZSwgZGVzdCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0aWYgKCFzZWxmLmlzRm9jdXNlZCkgcmV0dXJuO1xuXHRcdFx0c2VsZi5pc0ZvY3VzZWQgPSBmYWxzZTtcblx0XG5cdFx0XHRpZiAoc2VsZi5pZ25vcmVGb2N1cykge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9IGVsc2UgaWYgKCFzZWxmLmlnbm9yZUJsdXIgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gc2VsZi4kZHJvcGRvd25fY29udGVudFswXSkge1xuXHRcdFx0XHQvLyBuZWNlc3NhcnkgdG8gcHJldmVudCBJRSBjbG9zaW5nIHRoZSBkcm9wZG93biB3aGVuIHRoZSBzY3JvbGxiYXIgaXMgY2xpY2tlZFxuXHRcdFx0XHRzZWxmLmlnbm9yZUJsdXIgPSB0cnVlO1xuXHRcdFx0XHRzZWxmLm9uRm9jdXMoZSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHR2YXIgZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmNsb3NlKCk7XG5cdFx0XHRcdHNlbGYuc2V0VGV4dGJveFZhbHVlKCcnKTtcblx0XHRcdFx0c2VsZi5zZXRBY3RpdmVJdGVtKG51bGwpO1xuXHRcdFx0XHRzZWxmLnNldEFjdGl2ZU9wdGlvbihudWxsKTtcblx0XHRcdFx0c2VsZi5zZXRDYXJldChzZWxmLml0ZW1zLmxlbmd0aCk7XG5cdFx0XHRcdHNlbGYucmVmcmVzaFN0YXRlKCk7XG5cdFxuXHRcdFx0XHQvLyBJRTExIGJ1ZzogZWxlbWVudCBzdGlsbCBtYXJrZWQgYXMgYWN0aXZlXG5cdFx0XHRcdGRlc3QgJiYgZGVzdC5mb2N1cyAmJiBkZXN0LmZvY3VzKCk7XG5cdFxuXHRcdFx0XHRzZWxmLmlnbm9yZUZvY3VzID0gZmFsc2U7XG5cdFx0XHRcdHNlbGYudHJpZ2dlcignYmx1cicpO1xuXHRcdFx0fTtcblx0XG5cdFx0XHRzZWxmLmlnbm9yZUZvY3VzID0gdHJ1ZTtcblx0XHRcdGlmIChzZWxmLnNldHRpbmdzLmNyZWF0ZSAmJiBzZWxmLnNldHRpbmdzLmNyZWF0ZU9uQmx1cikge1xuXHRcdFx0XHRzZWxmLmNyZWF0ZUl0ZW0obnVsbCwgZmFsc2UsIGRlYWN0aXZhdGUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVhY3RpdmF0ZSgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRyaWdnZXJlZCB3aGVuIHRoZSB1c2VyIHJvbGxzIG92ZXJcblx0XHQgKiBhbiBvcHRpb24gaW4gdGhlIGF1dG9jb21wbGV0ZSBkcm9wZG93biBtZW51LlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGVcblx0XHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0XHQgKi9cblx0XHRvbk9wdGlvbkhvdmVyOiBmdW5jdGlvbihlKSB7XG5cdFx0XHRpZiAodGhpcy5pZ25vcmVIb3ZlcikgcmV0dXJuO1xuXHRcdFx0dGhpcy5zZXRBY3RpdmVPcHRpb24oZS5jdXJyZW50VGFyZ2V0LCBmYWxzZSk7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogVHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIG9uIGFuIG9wdGlvblxuXHRcdCAqIGluIHRoZSBhdXRvY29tcGxldGUgZHJvcGRvd24gbWVudS5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdFx0ICovXG5cdFx0b25PcHRpb25TZWxlY3Q6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdHZhciB2YWx1ZSwgJHRhcmdldCwgJG9wdGlvbiwgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0aWYgKGUucHJldmVudERlZmF1bHQpIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0fVxuXHRcblx0XHRcdCR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cdFx0XHRpZiAoJHRhcmdldC5oYXNDbGFzcygnY3JlYXRlJykpIHtcblx0XHRcdFx0c2VsZi5jcmVhdGVJdGVtKG51bGwsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmIChzZWxmLnNldHRpbmdzLmNsb3NlQWZ0ZXJTZWxlY3QpIHtcblx0XHRcdFx0XHRcdHNlbGYuY2xvc2UoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFsdWUgPSAkdGFyZ2V0LmF0dHIoJ2RhdGEtdmFsdWUnKTtcblx0XHRcdFx0aWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHRzZWxmLmxhc3RRdWVyeSA9IG51bGw7XG5cdFx0XHRcdFx0c2VsZi5zZXRUZXh0Ym94VmFsdWUoJycpO1xuXHRcdFx0XHRcdHNlbGYuYWRkSXRlbSh2YWx1ZSk7XG5cdFx0XHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MuY2xvc2VBZnRlclNlbGVjdCkge1xuXHRcdFx0XHRcdFx0c2VsZi5jbG9zZSgpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIXNlbGYuc2V0dGluZ3MuaGlkZVNlbGVjdGVkICYmIGUudHlwZSAmJiAvbW91c2UvLnRlc3QoZS50eXBlKSkge1xuXHRcdFx0XHRcdFx0c2VsZi5zZXRBY3RpdmVPcHRpb24oc2VsZi5nZXRPcHRpb24odmFsdWUpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBUcmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBjbGlja3Mgb24gYW4gaXRlbVxuXHRcdCAqIHRoYXQgaGFzIGJlZW4gc2VsZWN0ZWQuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZVxuXHRcdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHRcdCAqL1xuXHRcdG9uSXRlbVNlbGVjdDogZnVuY3Rpb24oZSkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdGlmIChzZWxmLmlzTG9ja2VkKSByZXR1cm47XG5cdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5tb2RlID09PSAnbXVsdGknKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0c2VsZi5zZXRBY3RpdmVJdGVtKGUuY3VycmVudFRhcmdldCwgZSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogSW52b2tlcyB0aGUgcHJvdmlkZWQgbWV0aG9kIHRoYXQgcHJvdmlkZXNcblx0XHQgKiByZXN1bHRzIHRvIGEgY2FsbGJhY2stLS13aGljaCBhcmUgdGhlbiBhZGRlZFxuXHRcdCAqIGFzIG9wdGlvbnMgdG8gdGhlIGNvbnRyb2wuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxuXHRcdCAqL1xuXHRcdGxvYWQ6IGZ1bmN0aW9uKGZuKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR2YXIgJHdyYXBwZXIgPSBzZWxmLiR3cmFwcGVyLmFkZENsYXNzKHNlbGYuc2V0dGluZ3MubG9hZGluZ0NsYXNzKTtcblx0XG5cdFx0XHRzZWxmLmxvYWRpbmcrKztcblx0XHRcdGZuLmFwcGx5KHNlbGYsIFtmdW5jdGlvbihyZXN1bHRzKSB7XG5cdFx0XHRcdHNlbGYubG9hZGluZyA9IE1hdGgubWF4KHNlbGYubG9hZGluZyAtIDEsIDApO1xuXHRcdFx0XHRpZiAocmVzdWx0cyAmJiByZXN1bHRzLmxlbmd0aCkge1xuXHRcdFx0XHRcdHNlbGYuYWRkT3B0aW9uKHJlc3VsdHMpO1xuXHRcdFx0XHRcdHNlbGYucmVmcmVzaE9wdGlvbnMoc2VsZi5pc0ZvY3VzZWQgJiYgIXNlbGYuaXNJbnB1dEhpZGRlbik7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCFzZWxmLmxvYWRpbmcpIHtcblx0XHRcdFx0XHQkd3JhcHBlci5yZW1vdmVDbGFzcyhzZWxmLnNldHRpbmdzLmxvYWRpbmdDbGFzcyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2VsZi50cmlnZ2VyKCdsb2FkJywgcmVzdWx0cyk7XG5cdFx0XHR9XSk7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU2V0cyB0aGUgaW5wdXQgZmllbGQgb2YgdGhlIGNvbnRyb2wgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZS5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuXHRcdCAqL1xuXHRcdHNldFRleHRib3hWYWx1ZTogZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciAkaW5wdXQgPSB0aGlzLiRjb250cm9sX2lucHV0O1xuXHRcdFx0dmFyIGNoYW5nZWQgPSAkaW5wdXQudmFsKCkgIT09IHZhbHVlO1xuXHRcdFx0aWYgKGNoYW5nZWQpIHtcblx0XHRcdFx0JGlucHV0LnZhbCh2YWx1ZSkudHJpZ2dlckhhbmRsZXIoJ3VwZGF0ZScpO1xuXHRcdFx0XHR0aGlzLmxhc3RWYWx1ZSA9IHZhbHVlO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBjb250cm9sLiBJZiBtdWx0aXBsZSBpdGVtc1xuXHRcdCAqIGNhbiBiZSBzZWxlY3RlZCAoZS5nLiA8c2VsZWN0IG11bHRpcGxlPiksIHRoaXMgcmV0dXJuc1xuXHRcdCAqIGFuIGFycmF5LiBJZiBvbmx5IG9uZSBpdGVtIGNhbiBiZSBzZWxlY3RlZCwgdGhpc1xuXHRcdCAqIHJldHVybnMgYSBzdHJpbmcuXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJucyB7bWl4ZWR9XG5cdFx0ICovXG5cdFx0Z2V0VmFsdWU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKHRoaXMudGFnVHlwZSA9PT0gVEFHX1NFTEVDVCAmJiB0aGlzLiRpbnB1dC5hdHRyKCdtdWx0aXBsZScpKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLml0ZW1zO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuaXRlbXMuam9pbih0aGlzLnNldHRpbmdzLmRlbGltaXRlcik7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogUmVzZXRzIHRoZSBzZWxlY3RlZCBpdGVtcyB0byB0aGUgZ2l2ZW4gdmFsdWUuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge21peGVkfSB2YWx1ZVxuXHRcdCAqL1xuXHRcdHNldFZhbHVlOiBmdW5jdGlvbih2YWx1ZSwgc2lsZW50KSB7XG5cdFx0XHR2YXIgZXZlbnRzID0gc2lsZW50ID8gW10gOiBbJ2NoYW5nZSddO1xuXHRcblx0XHRcdGRlYm91bmNlX2V2ZW50cyh0aGlzLCBldmVudHMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzLmNsZWFyKHNpbGVudCk7XG5cdFx0XHRcdHRoaXMuYWRkSXRlbXModmFsdWUsIHNpbGVudCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBTZXRzIHRoZSBzZWxlY3RlZCBpdGVtLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9ICRpdGVtXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGUgKG9wdGlvbmFsKVxuXHRcdCAqL1xuXHRcdHNldEFjdGl2ZUl0ZW06IGZ1bmN0aW9uKCRpdGVtLCBlKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR2YXIgZXZlbnROYW1lO1xuXHRcdFx0dmFyIGksIGlkeCwgYmVnaW4sIGVuZCwgaXRlbSwgc3dhcDtcblx0XHRcdHZhciAkbGFzdDtcblx0XG5cdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5tb2RlID09PSAnc2luZ2xlJykgcmV0dXJuO1xuXHRcdFx0JGl0ZW0gPSAkKCRpdGVtKTtcblx0XG5cdFx0XHQvLyBjbGVhciB0aGUgYWN0aXZlIHNlbGVjdGlvblxuXHRcdFx0aWYgKCEkaXRlbS5sZW5ndGgpIHtcblx0XHRcdFx0JChzZWxmLiRhY3RpdmVJdGVtcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdFx0XHRzZWxmLiRhY3RpdmVJdGVtcyA9IFtdO1xuXHRcdFx0XHRpZiAoc2VsZi5pc0ZvY3VzZWQpIHtcblx0XHRcdFx0XHRzZWxmLnNob3dJbnB1dCgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBtb2RpZnkgc2VsZWN0aW9uXG5cdFx0XHRldmVudE5hbWUgPSBlICYmIGUudHlwZS50b0xvd2VyQ2FzZSgpO1xuXHRcblx0XHRcdGlmIChldmVudE5hbWUgPT09ICdtb3VzZWRvd24nICYmIHNlbGYuaXNTaGlmdERvd24gJiYgc2VsZi4kYWN0aXZlSXRlbXMubGVuZ3RoKSB7XG5cdFx0XHRcdCRsYXN0ID0gc2VsZi4kY29udHJvbC5jaGlsZHJlbignLmFjdGl2ZTpsYXN0Jyk7XG5cdFx0XHRcdGJlZ2luID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuYXBwbHkoc2VsZi4kY29udHJvbFswXS5jaGlsZE5vZGVzLCBbJGxhc3RbMF1dKTtcblx0XHRcdFx0ZW5kICAgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5hcHBseShzZWxmLiRjb250cm9sWzBdLmNoaWxkTm9kZXMsIFskaXRlbVswXV0pO1xuXHRcdFx0XHRpZiAoYmVnaW4gPiBlbmQpIHtcblx0XHRcdFx0XHRzd2FwICA9IGJlZ2luO1xuXHRcdFx0XHRcdGJlZ2luID0gZW5kO1xuXHRcdFx0XHRcdGVuZCAgID0gc3dhcDtcblx0XHRcdFx0fVxuXHRcdFx0XHRmb3IgKGkgPSBiZWdpbjsgaSA8PSBlbmQ7IGkrKykge1xuXHRcdFx0XHRcdGl0ZW0gPSBzZWxmLiRjb250cm9sWzBdLmNoaWxkTm9kZXNbaV07XG5cdFx0XHRcdFx0aWYgKHNlbGYuJGFjdGl2ZUl0ZW1zLmluZGV4T2YoaXRlbSkgPT09IC0xKSB7XG5cdFx0XHRcdFx0XHQkKGl0ZW0pLmFkZENsYXNzKCdhY3RpdmUnKTtcblx0XHRcdFx0XHRcdHNlbGYuJGFjdGl2ZUl0ZW1zLnB1c2goaXRlbSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH0gZWxzZSBpZiAoKGV2ZW50TmFtZSA9PT0gJ21vdXNlZG93bicgJiYgc2VsZi5pc0N0cmxEb3duKSB8fCAoZXZlbnROYW1lID09PSAna2V5ZG93bicgJiYgdGhpcy5pc1NoaWZ0RG93bikpIHtcblx0XHRcdFx0aWYgKCRpdGVtLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuXHRcdFx0XHRcdGlkeCA9IHNlbGYuJGFjdGl2ZUl0ZW1zLmluZGV4T2YoJGl0ZW1bMF0pO1xuXHRcdFx0XHRcdHNlbGYuJGFjdGl2ZUl0ZW1zLnNwbGljZShpZHgsIDEpO1xuXHRcdFx0XHRcdCRpdGVtLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZWxmLiRhY3RpdmVJdGVtcy5wdXNoKCRpdGVtLmFkZENsYXNzKCdhY3RpdmUnKVswXSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoc2VsZi4kYWN0aXZlSXRlbXMpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0XHRcdFx0c2VsZi4kYWN0aXZlSXRlbXMgPSBbJGl0ZW0uYWRkQ2xhc3MoJ2FjdGl2ZScpWzBdXTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBlbnN1cmUgY29udHJvbCBoYXMgZm9jdXNcblx0XHRcdHNlbGYuaGlkZUlucHV0KCk7XG5cdFx0XHRpZiAoIXRoaXMuaXNGb2N1c2VkKSB7XG5cdFx0XHRcdHNlbGYuZm9jdXMoKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBTZXRzIHRoZSBzZWxlY3RlZCBpdGVtIGluIHRoZSBkcm9wZG93biBtZW51XG5cdFx0ICogb2YgYXZhaWxhYmxlIG9wdGlvbnMuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gJG9iamVjdFxuXHRcdCAqIEBwYXJhbSB7Ym9vbGVhbn0gc2Nyb2xsXG5cdFx0ICogQHBhcmFtIHtib29sZWFufSBhbmltYXRlXG5cdFx0ICovXG5cdFx0c2V0QWN0aXZlT3B0aW9uOiBmdW5jdGlvbigkb3B0aW9uLCBzY3JvbGwsIGFuaW1hdGUpIHtcblx0XHRcdHZhciBoZWlnaHRfbWVudSwgaGVpZ2h0X2l0ZW0sIHk7XG5cdFx0XHR2YXIgc2Nyb2xsX3RvcCwgc2Nyb2xsX2JvdHRvbTtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHRpZiAoc2VsZi4kYWN0aXZlT3B0aW9uKSBzZWxmLiRhY3RpdmVPcHRpb24ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdFx0c2VsZi4kYWN0aXZlT3B0aW9uID0gbnVsbDtcblx0XG5cdFx0XHQkb3B0aW9uID0gJCgkb3B0aW9uKTtcblx0XHRcdGlmICghJG9wdGlvbi5sZW5ndGgpIHJldHVybjtcblx0XG5cdFx0XHRzZWxmLiRhY3RpdmVPcHRpb24gPSAkb3B0aW9uLmFkZENsYXNzKCdhY3RpdmUnKTtcblx0XG5cdFx0XHRpZiAoc2Nyb2xsIHx8ICFpc3NldChzY3JvbGwpKSB7XG5cdFxuXHRcdFx0XHRoZWlnaHRfbWVudSAgID0gc2VsZi4kZHJvcGRvd25fY29udGVudC5oZWlnaHQoKTtcblx0XHRcdFx0aGVpZ2h0X2l0ZW0gICA9IHNlbGYuJGFjdGl2ZU9wdGlvbi5vdXRlckhlaWdodCh0cnVlKTtcblx0XHRcdFx0c2Nyb2xsICAgICAgICA9IHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQuc2Nyb2xsVG9wKCkgfHwgMDtcblx0XHRcdFx0eSAgICAgICAgICAgICA9IHNlbGYuJGFjdGl2ZU9wdGlvbi5vZmZzZXQoKS50b3AgLSBzZWxmLiRkcm9wZG93bl9jb250ZW50Lm9mZnNldCgpLnRvcCArIHNjcm9sbDtcblx0XHRcdFx0c2Nyb2xsX3RvcCAgICA9IHk7XG5cdFx0XHRcdHNjcm9sbF9ib3R0b20gPSB5IC0gaGVpZ2h0X21lbnUgKyBoZWlnaHRfaXRlbTtcblx0XG5cdFx0XHRcdGlmICh5ICsgaGVpZ2h0X2l0ZW0gPiBoZWlnaHRfbWVudSArIHNjcm9sbCkge1xuXHRcdFx0XHRcdHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQuc3RvcCgpLmFuaW1hdGUoe3Njcm9sbFRvcDogc2Nyb2xsX2JvdHRvbX0sIGFuaW1hdGUgPyBzZWxmLnNldHRpbmdzLnNjcm9sbER1cmF0aW9uIDogMCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoeSA8IHNjcm9sbCkge1xuXHRcdFx0XHRcdHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQuc3RvcCgpLmFuaW1hdGUoe3Njcm9sbFRvcDogc2Nyb2xsX3RvcH0sIGFuaW1hdGUgPyBzZWxmLnNldHRpbmdzLnNjcm9sbER1cmF0aW9uIDogMCk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU2VsZWN0cyBhbGwgaXRlbXMgKENUUkwgKyBBKS5cblx0XHQgKi9cblx0XHRzZWxlY3RBbGw6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0aWYgKHNlbGYuc2V0dGluZ3MubW9kZSA9PT0gJ3NpbmdsZScpIHJldHVybjtcblx0XG5cdFx0XHRzZWxmLiRhY3RpdmVJdGVtcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShzZWxmLiRjb250cm9sLmNoaWxkcmVuKCc6bm90KGlucHV0KScpLmFkZENsYXNzKCdhY3RpdmUnKSk7XG5cdFx0XHRpZiAoc2VsZi4kYWN0aXZlSXRlbXMubGVuZ3RoKSB7XG5cdFx0XHRcdHNlbGYuaGlkZUlucHV0KCk7XG5cdFx0XHRcdHNlbGYuY2xvc2UoKTtcblx0XHRcdH1cblx0XHRcdHNlbGYuZm9jdXMoKTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBIaWRlcyB0aGUgaW5wdXQgZWxlbWVudCBvdXQgb2Ygdmlldywgd2hpbGVcblx0XHQgKiByZXRhaW5pbmcgaXRzIGZvY3VzLlxuXHRcdCAqL1xuXHRcdGhpZGVJbnB1dDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0c2VsZi5zZXRUZXh0Ym94VmFsdWUoJycpO1xuXHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dC5jc3Moe29wYWNpdHk6IDAsIHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBsZWZ0OiBzZWxmLnJ0bCA/IDEwMDAwIDogLTEwMDAwfSk7XG5cdFx0XHRzZWxmLmlzSW5wdXRIaWRkZW4gPSB0cnVlO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJlc3RvcmVzIGlucHV0IHZpc2liaWxpdHkuXG5cdFx0ICovXG5cdFx0c2hvd0lucHV0OiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuJGNvbnRyb2xfaW5wdXQuY3NzKHtvcGFjaXR5OiAxLCBwb3NpdGlvbjogJ3JlbGF0aXZlJywgbGVmdDogMH0pO1xuXHRcdFx0dGhpcy5pc0lucHV0SGlkZGVuID0gZmFsc2U7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogR2l2ZXMgdGhlIGNvbnRyb2wgZm9jdXMuXG5cdFx0ICovXG5cdFx0Zm9jdXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0aWYgKHNlbGYuaXNEaXNhYmxlZCkgcmV0dXJuO1xuXHRcblx0XHRcdHNlbGYuaWdub3JlRm9jdXMgPSB0cnVlO1xuXHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dFswXS5mb2N1cygpO1xuXHRcdFx0d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYuaWdub3JlRm9jdXMgPSBmYWxzZTtcblx0XHRcdFx0c2VsZi5vbkZvY3VzKCk7XG5cdFx0XHR9LCAwKTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBGb3JjZXMgdGhlIGNvbnRyb2wgb3V0IG9mIGZvY3VzLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtFbGVtZW50fSBkZXN0XG5cdFx0ICovXG5cdFx0Ymx1cjogZnVuY3Rpb24oZGVzdCkge1xuXHRcdFx0dGhpcy4kY29udHJvbF9pbnB1dFswXS5ibHVyKCk7XG5cdFx0XHR0aGlzLm9uQmx1cihudWxsLCBkZXN0KTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBzY29yZXMgYW4gb2JqZWN0XG5cdFx0ICogdG8gc2hvdyBob3cgZ29vZCBvZiBhIG1hdGNoIGl0IGlzIHRvIHRoZVxuXHRcdCAqIHByb3ZpZGVkIHF1ZXJ5LlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5XG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcblx0XHQgKiBAcmV0dXJuIHtmdW5jdGlvbn1cblx0XHQgKi9cblx0XHRnZXRTY29yZUZ1bmN0aW9uOiBmdW5jdGlvbihxdWVyeSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuc2lmdGVyLmdldFNjb3JlRnVuY3Rpb24ocXVlcnksIHRoaXMuZ2V0U2VhcmNoT3B0aW9ucygpKTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHNlYXJjaCBvcHRpb25zIGZvciBzaWZ0ZXIgKHRoZSBzeXN0ZW1cblx0XHQgKiBmb3Igc2NvcmluZyBhbmQgc29ydGluZyByZXN1bHRzKS5cblx0XHQgKlxuXHRcdCAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2JyaWFucmVhdmlzL3NpZnRlci5qc1xuXHRcdCAqIEByZXR1cm4ge29iamVjdH1cblx0XHQgKi9cblx0XHRnZXRTZWFyY2hPcHRpb25zOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3M7XG5cdFx0XHR2YXIgc29ydCA9IHNldHRpbmdzLnNvcnRGaWVsZDtcblx0XHRcdGlmICh0eXBlb2Ygc29ydCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0c29ydCA9IFt7ZmllbGQ6IHNvcnR9XTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRmaWVsZHMgICAgICA6IHNldHRpbmdzLnNlYXJjaEZpZWxkLFxuXHRcdFx0XHRjb25qdW5jdGlvbiA6IHNldHRpbmdzLnNlYXJjaENvbmp1bmN0aW9uLFxuXHRcdFx0XHRzb3J0ICAgICAgICA6IHNvcnRcblx0XHRcdH07XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU2VhcmNoZXMgdGhyb3VnaCBhdmFpbGFibGUgb3B0aW9ucyBhbmQgcmV0dXJuc1xuXHRcdCAqIGEgc29ydGVkIGFycmF5IG9mIG1hdGNoZXMuXG5cdFx0ICpcblx0XHQgKiBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nOlxuXHRcdCAqXG5cdFx0ICogICAtIHF1ZXJ5IHtzdHJpbmd9XG5cdFx0ICogICAtIHRva2VucyB7YXJyYXl9XG5cdFx0ICogICAtIHRvdGFsIHtpbnR9XG5cdFx0ICogICAtIGl0ZW1zIHthcnJheX1cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeVxuXHRcdCAqIEByZXR1cm5zIHtvYmplY3R9XG5cdFx0ICovXG5cdFx0c2VhcmNoOiBmdW5jdGlvbihxdWVyeSkge1xuXHRcdFx0dmFyIGksIHZhbHVlLCBzY29yZSwgcmVzdWx0LCBjYWxjdWxhdGVTY29yZTtcblx0XHRcdHZhciBzZWxmICAgICA9IHRoaXM7XG5cdFx0XHR2YXIgc2V0dGluZ3MgPSBzZWxmLnNldHRpbmdzO1xuXHRcdFx0dmFyIG9wdGlvbnMgID0gdGhpcy5nZXRTZWFyY2hPcHRpb25zKCk7XG5cdFxuXHRcdFx0Ly8gdmFsaWRhdGUgdXNlci1wcm92aWRlZCByZXN1bHQgc2NvcmluZyBmdW5jdGlvblxuXHRcdFx0aWYgKHNldHRpbmdzLnNjb3JlKSB7XG5cdFx0XHRcdGNhbGN1bGF0ZVNjb3JlID0gc2VsZi5zZXR0aW5ncy5zY29yZS5hcHBseSh0aGlzLCBbcXVlcnldKTtcblx0XHRcdFx0aWYgKHR5cGVvZiBjYWxjdWxhdGVTY29yZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignU2VsZWN0aXplIFwic2NvcmVcIiBzZXR0aW5nIG11c3QgYmUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBmdW5jdGlvbicpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gcGVyZm9ybSBzZWFyY2hcblx0XHRcdGlmIChxdWVyeSAhPT0gc2VsZi5sYXN0UXVlcnkpIHtcblx0XHRcdFx0c2VsZi5sYXN0UXVlcnkgPSBxdWVyeTtcblx0XHRcdFx0cmVzdWx0ID0gc2VsZi5zaWZ0ZXIuc2VhcmNoKHF1ZXJ5LCAkLmV4dGVuZChvcHRpb25zLCB7c2NvcmU6IGNhbGN1bGF0ZVNjb3JlfSkpO1xuXHRcdFx0XHRzZWxmLmN1cnJlbnRSZXN1bHRzID0gcmVzdWx0O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVzdWx0ID0gJC5leHRlbmQodHJ1ZSwge30sIHNlbGYuY3VycmVudFJlc3VsdHMpO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIGZpbHRlciBvdXQgc2VsZWN0ZWQgaXRlbXNcblx0XHRcdGlmIChzZXR0aW5ncy5oaWRlU2VsZWN0ZWQpIHtcblx0XHRcdFx0Zm9yIChpID0gcmVzdWx0Lml0ZW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdFx0aWYgKHNlbGYuaXRlbXMuaW5kZXhPZihoYXNoX2tleShyZXN1bHQuaXRlbXNbaV0uaWQpKSAhPT0gLTEpIHtcblx0XHRcdFx0XHRcdHJlc3VsdC5pdGVtcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBSZWZyZXNoZXMgdGhlIGxpc3Qgb2YgYXZhaWxhYmxlIG9wdGlvbnMgc2hvd25cblx0XHQgKiBpbiB0aGUgYXV0b2NvbXBsZXRlIGRyb3Bkb3duIG1lbnUuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IHRyaWdnZXJEcm9wZG93blxuXHRcdCAqL1xuXHRcdHJlZnJlc2hPcHRpb25zOiBmdW5jdGlvbih0cmlnZ2VyRHJvcGRvd24pIHtcblx0XHRcdHZhciBpLCBqLCBrLCBuLCBncm91cHMsIGdyb3Vwc19vcmRlciwgb3B0aW9uLCBvcHRpb25faHRtbCwgb3B0Z3JvdXAsIG9wdGdyb3VwcywgaHRtbCwgaHRtbF9jaGlsZHJlbiwgaGFzX2NyZWF0ZV9vcHRpb247XG5cdFx0XHR2YXIgJGFjdGl2ZSwgJGFjdGl2ZV9iZWZvcmUsICRjcmVhdGU7XG5cdFxuXHRcdFx0aWYgKHR5cGVvZiB0cmlnZ2VyRHJvcGRvd24gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHRyaWdnZXJEcm9wZG93biA9IHRydWU7XG5cdFx0XHR9XG5cdFxuXHRcdFx0dmFyIHNlbGYgICAgICAgICAgICAgID0gdGhpcztcblx0XHRcdHZhciBxdWVyeSAgICAgICAgICAgICA9ICQudHJpbShzZWxmLiRjb250cm9sX2lucHV0LnZhbCgpKTtcblx0XHRcdHZhciByZXN1bHRzICAgICAgICAgICA9IHNlbGYuc2VhcmNoKHF1ZXJ5KTtcblx0XHRcdHZhciAkZHJvcGRvd25fY29udGVudCA9IHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQ7XG5cdFx0XHR2YXIgYWN0aXZlX2JlZm9yZSAgICAgPSBzZWxmLiRhY3RpdmVPcHRpb24gJiYgaGFzaF9rZXkoc2VsZi4kYWN0aXZlT3B0aW9uLmF0dHIoJ2RhdGEtdmFsdWUnKSk7XG5cdFxuXHRcdFx0Ly8gYnVpbGQgbWFya3VwXG5cdFx0XHRuID0gcmVzdWx0cy5pdGVtcy5sZW5ndGg7XG5cdFx0XHRpZiAodHlwZW9mIHNlbGYuc2V0dGluZ3MubWF4T3B0aW9ucyA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0biA9IE1hdGgubWluKG4sIHNlbGYuc2V0dGluZ3MubWF4T3B0aW9ucyk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gcmVuZGVyIGFuZCBncm91cCBhdmFpbGFibGUgb3B0aW9ucyBpbmRpdmlkdWFsbHlcblx0XHRcdGdyb3VwcyA9IHt9O1xuXHRcdFx0Z3JvdXBzX29yZGVyID0gW107XG5cdFxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRvcHRpb24gICAgICA9IHNlbGYub3B0aW9uc1tyZXN1bHRzLml0ZW1zW2ldLmlkXTtcblx0XHRcdFx0b3B0aW9uX2h0bWwgPSBzZWxmLnJlbmRlcignb3B0aW9uJywgb3B0aW9uKTtcblx0XHRcdFx0b3B0Z3JvdXAgICAgPSBvcHRpb25bc2VsZi5zZXR0aW5ncy5vcHRncm91cEZpZWxkXSB8fCAnJztcblx0XHRcdFx0b3B0Z3JvdXBzICAgPSAkLmlzQXJyYXkob3B0Z3JvdXApID8gb3B0Z3JvdXAgOiBbb3B0Z3JvdXBdO1xuXHRcblx0XHRcdFx0Zm9yIChqID0gMCwgayA9IG9wdGdyb3VwcyAmJiBvcHRncm91cHMubGVuZ3RoOyBqIDwgazsgaisrKSB7XG5cdFx0XHRcdFx0b3B0Z3JvdXAgPSBvcHRncm91cHNbal07XG5cdFx0XHRcdFx0aWYgKCFzZWxmLm9wdGdyb3Vwcy5oYXNPd25Qcm9wZXJ0eShvcHRncm91cCkpIHtcblx0XHRcdFx0XHRcdG9wdGdyb3VwID0gJyc7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICghZ3JvdXBzLmhhc093blByb3BlcnR5KG9wdGdyb3VwKSkge1xuXHRcdFx0XHRcdFx0Z3JvdXBzW29wdGdyb3VwXSA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0XHRcdFx0XHRcdGdyb3Vwc19vcmRlci5wdXNoKG9wdGdyb3VwKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Z3JvdXBzW29wdGdyb3VwXS5hcHBlbmRDaGlsZChvcHRpb25faHRtbCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBzb3J0IG9wdGdyb3Vwc1xuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MubG9ja09wdGdyb3VwT3JkZXIpIHtcblx0XHRcdFx0Z3JvdXBzX29yZGVyLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0XHRcdHZhciBhX29yZGVyID0gc2VsZi5vcHRncm91cHNbYV0uJG9yZGVyIHx8IDA7XG5cdFx0XHRcdFx0dmFyIGJfb3JkZXIgPSBzZWxmLm9wdGdyb3Vwc1tiXS4kb3JkZXIgfHwgMDtcblx0XHRcdFx0XHRyZXR1cm4gYV9vcmRlciAtIGJfb3JkZXI7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIHJlbmRlciBvcHRncm91cCBoZWFkZXJzICYgam9pbiBncm91cHNcblx0XHRcdGh0bWwgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdFx0XHRmb3IgKGkgPSAwLCBuID0gZ3JvdXBzX29yZGVyLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRvcHRncm91cCA9IGdyb3Vwc19vcmRlcltpXTtcblx0XHRcdFx0aWYgKHNlbGYub3B0Z3JvdXBzLmhhc093blByb3BlcnR5KG9wdGdyb3VwKSAmJiBncm91cHNbb3B0Z3JvdXBdLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0Ly8gcmVuZGVyIHRoZSBvcHRncm91cCBoZWFkZXIgYW5kIG9wdGlvbnMgd2l0aGluIGl0LFxuXHRcdFx0XHRcdC8vIHRoZW4gcGFzcyBpdCB0byB0aGUgd3JhcHBlciB0ZW1wbGF0ZVxuXHRcdFx0XHRcdGh0bWxfY2hpbGRyZW4gPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdFx0XHRcdFx0aHRtbF9jaGlsZHJlbi5hcHBlbmRDaGlsZChzZWxmLnJlbmRlcignb3B0Z3JvdXBfaGVhZGVyJywgc2VsZi5vcHRncm91cHNbb3B0Z3JvdXBdKSk7XG5cdFx0XHRcdFx0aHRtbF9jaGlsZHJlbi5hcHBlbmRDaGlsZChncm91cHNbb3B0Z3JvdXBdKTtcblx0XG5cdFx0XHRcdFx0aHRtbC5hcHBlbmRDaGlsZChzZWxmLnJlbmRlcignb3B0Z3JvdXAnLCAkLmV4dGVuZCh7fSwgc2VsZi5vcHRncm91cHNbb3B0Z3JvdXBdLCB7XG5cdFx0XHRcdFx0XHRodG1sOiBkb21Ub1N0cmluZyhodG1sX2NoaWxkcmVuKSxcblx0XHRcdFx0XHRcdGRvbTogIGh0bWxfY2hpbGRyZW5cblx0XHRcdFx0XHR9KSkpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGh0bWwuYXBwZW5kQ2hpbGQoZ3JvdXBzW29wdGdyb3VwXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQkZHJvcGRvd25fY29udGVudC5odG1sKGh0bWwpO1xuXHRcblx0XHRcdC8vIGhpZ2hsaWdodCBtYXRjaGluZyB0ZXJtcyBpbmxpbmVcblx0XHRcdGlmIChzZWxmLnNldHRpbmdzLmhpZ2hsaWdodCAmJiByZXN1bHRzLnF1ZXJ5Lmxlbmd0aCAmJiByZXN1bHRzLnRva2Vucy5sZW5ndGgpIHtcblx0XHRcdFx0JGRyb3Bkb3duX2NvbnRlbnQucmVtb3ZlSGlnaGxpZ2h0KCk7XG5cdFx0XHRcdGZvciAoaSA9IDAsIG4gPSByZXN1bHRzLnRva2Vucy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0XHRoaWdobGlnaHQoJGRyb3Bkb3duX2NvbnRlbnQsIHJlc3VsdHMudG9rZW5zW2ldLnJlZ2V4KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIGFkZCBcInNlbGVjdGVkXCIgY2xhc3MgdG8gc2VsZWN0ZWQgb3B0aW9uc1xuXHRcdFx0aWYgKCFzZWxmLnNldHRpbmdzLmhpZGVTZWxlY3RlZCkge1xuXHRcdFx0XHRmb3IgKGkgPSAwLCBuID0gc2VsZi5pdGVtcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0XHRzZWxmLmdldE9wdGlvbihzZWxmLml0ZW1zW2ldKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIGFkZCBjcmVhdGUgb3B0aW9uXG5cdFx0XHRoYXNfY3JlYXRlX29wdGlvbiA9IHNlbGYuY2FuQ3JlYXRlKHF1ZXJ5KTtcblx0XHRcdGlmIChoYXNfY3JlYXRlX29wdGlvbikge1xuXHRcdFx0XHQkZHJvcGRvd25fY29udGVudC5wcmVwZW5kKHNlbGYucmVuZGVyKCdvcHRpb25fY3JlYXRlJywge2lucHV0OiBxdWVyeX0pKTtcblx0XHRcdFx0JGNyZWF0ZSA9ICQoJGRyb3Bkb3duX2NvbnRlbnRbMF0uY2hpbGROb2Rlc1swXSk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gYWN0aXZhdGVcblx0XHRcdHNlbGYuaGFzT3B0aW9ucyA9IHJlc3VsdHMuaXRlbXMubGVuZ3RoID4gMCB8fCBoYXNfY3JlYXRlX29wdGlvbjtcblx0XHRcdGlmIChzZWxmLmhhc09wdGlvbnMpIHtcblx0XHRcdFx0aWYgKHJlc3VsdHMuaXRlbXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdCRhY3RpdmVfYmVmb3JlID0gYWN0aXZlX2JlZm9yZSAmJiBzZWxmLmdldE9wdGlvbihhY3RpdmVfYmVmb3JlKTtcblx0XHRcdFx0XHRpZiAoJGFjdGl2ZV9iZWZvcmUgJiYgJGFjdGl2ZV9iZWZvcmUubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHQkYWN0aXZlID0gJGFjdGl2ZV9iZWZvcmU7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChzZWxmLnNldHRpbmdzLm1vZGUgPT09ICdzaW5nbGUnICYmIHNlbGYuaXRlbXMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHQkYWN0aXZlID0gc2VsZi5nZXRPcHRpb24oc2VsZi5pdGVtc1swXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICghJGFjdGl2ZSB8fCAhJGFjdGl2ZS5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGlmICgkY3JlYXRlICYmICFzZWxmLnNldHRpbmdzLmFkZFByZWNlZGVuY2UpIHtcblx0XHRcdFx0XHRcdFx0JGFjdGl2ZSA9IHNlbGYuZ2V0QWRqYWNlbnRPcHRpb24oJGNyZWF0ZSwgMSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQkYWN0aXZlID0gJGRyb3Bkb3duX2NvbnRlbnQuZmluZCgnW2RhdGEtc2VsZWN0YWJsZV06Zmlyc3QnKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JGFjdGl2ZSA9ICRjcmVhdGU7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2VsZi5zZXRBY3RpdmVPcHRpb24oJGFjdGl2ZSk7XG5cdFx0XHRcdGlmICh0cmlnZ2VyRHJvcGRvd24gJiYgIXNlbGYuaXNPcGVuKSB7IHNlbGYub3BlbigpOyB9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZWxmLnNldEFjdGl2ZU9wdGlvbihudWxsKTtcblx0XHRcdFx0aWYgKHRyaWdnZXJEcm9wZG93biAmJiBzZWxmLmlzT3BlbikgeyBzZWxmLmNsb3NlKCk7IH1cblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBBZGRzIGFuIGF2YWlsYWJsZSBvcHRpb24uIElmIGl0IGFscmVhZHkgZXhpc3RzLFxuXHRcdCAqIG5vdGhpbmcgd2lsbCBoYXBwZW4uIE5vdGU6IHRoaXMgZG9lcyBub3QgcmVmcmVzaFxuXHRcdCAqIHRoZSBvcHRpb25zIGxpc3QgZHJvcGRvd24gKHVzZSBgcmVmcmVzaE9wdGlvbnNgXG5cdFx0ICogZm9yIHRoYXQpLlxuXHRcdCAqXG5cdFx0ICogVXNhZ2U6XG5cdFx0ICpcblx0XHQgKiAgIHRoaXMuYWRkT3B0aW9uKGRhdGEpXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge29iamVjdHxhcnJheX0gZGF0YVxuXHRcdCAqL1xuXHRcdGFkZE9wdGlvbjogZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0dmFyIGksIG4sIHZhbHVlLCBzZWxmID0gdGhpcztcblx0XG5cdFx0XHRpZiAoJC5pc0FycmF5KGRhdGEpKSB7XG5cdFx0XHRcdGZvciAoaSA9IDAsIG4gPSBkYXRhLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRcdHNlbGYuYWRkT3B0aW9uKGRhdGFbaV0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAodmFsdWUgPSBzZWxmLnJlZ2lzdGVyT3B0aW9uKGRhdGEpKSB7XG5cdFx0XHRcdHNlbGYudXNlck9wdGlvbnNbdmFsdWVdID0gdHJ1ZTtcblx0XHRcdFx0c2VsZi5sYXN0UXVlcnkgPSBudWxsO1xuXHRcdFx0XHRzZWxmLnRyaWdnZXIoJ29wdGlvbl9hZGQnLCB2YWx1ZSwgZGF0YSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogUmVnaXN0ZXJzIGFuIG9wdGlvbiB0byB0aGUgcG9vbCBvZiBvcHRpb25zLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGRhdGFcblx0XHQgKiBAcmV0dXJuIHtib29sZWFufHN0cmluZ31cblx0XHQgKi9cblx0XHRyZWdpc3Rlck9wdGlvbjogZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0dmFyIGtleSA9IGhhc2hfa2V5KGRhdGFbdGhpcy5zZXR0aW5ncy52YWx1ZUZpZWxkXSk7XG5cdFx0XHRpZiAodHlwZW9mIGtleSA9PT0gJ3VuZGVmaW5lZCcgfHwga2V5ID09PSBudWxsIHx8IHRoaXMub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShrZXkpKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRkYXRhLiRvcmRlciA9IGRhdGEuJG9yZGVyIHx8ICsrdGhpcy5vcmRlcjtcblx0XHRcdHRoaXMub3B0aW9uc1trZXldID0gZGF0YTtcblx0XHRcdHJldHVybiBrZXk7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogUmVnaXN0ZXJzIGFuIG9wdGlvbiBncm91cCB0byB0aGUgcG9vbCBvZiBvcHRpb24gZ3JvdXBzLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGRhdGFcblx0XHQgKiBAcmV0dXJuIHtib29sZWFufHN0cmluZ31cblx0XHQgKi9cblx0XHRyZWdpc3Rlck9wdGlvbkdyb3VwOiBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHR2YXIga2V5ID0gaGFzaF9rZXkoZGF0YVt0aGlzLnNldHRpbmdzLm9wdGdyb3VwVmFsdWVGaWVsZF0pO1xuXHRcdFx0aWYgKCFrZXkpIHJldHVybiBmYWxzZTtcblx0XG5cdFx0XHRkYXRhLiRvcmRlciA9IGRhdGEuJG9yZGVyIHx8ICsrdGhpcy5vcmRlcjtcblx0XHRcdHRoaXMub3B0Z3JvdXBzW2tleV0gPSBkYXRhO1xuXHRcdFx0cmV0dXJuIGtleTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBSZWdpc3RlcnMgYSBuZXcgb3B0Z3JvdXAgZm9yIG9wdGlvbnNcblx0XHQgKiB0byBiZSBidWNrZXRlZCBpbnRvLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGlkXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGRhdGFcblx0XHQgKi9cblx0XHRhZGRPcHRpb25Hcm91cDogZnVuY3Rpb24oaWQsIGRhdGEpIHtcblx0XHRcdGRhdGFbdGhpcy5zZXR0aW5ncy5vcHRncm91cFZhbHVlRmllbGRdID0gaWQ7XG5cdFx0XHRpZiAoaWQgPSB0aGlzLnJlZ2lzdGVyT3B0aW9uR3JvdXAoZGF0YSkpIHtcblx0XHRcdFx0dGhpcy50cmlnZ2VyKCdvcHRncm91cF9hZGQnLCBpZCwgZGF0YSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogUmVtb3ZlcyBhbiBleGlzdGluZyBvcHRpb24gZ3JvdXAuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gaWRcblx0XHQgKi9cblx0XHRyZW1vdmVPcHRpb25Hcm91cDogZnVuY3Rpb24oaWQpIHtcblx0XHRcdGlmICh0aGlzLm9wdGdyb3Vwcy5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcblx0XHRcdFx0ZGVsZXRlIHRoaXMub3B0Z3JvdXBzW2lkXTtcblx0XHRcdFx0dGhpcy5yZW5kZXJDYWNoZSA9IHt9O1xuXHRcdFx0XHR0aGlzLnRyaWdnZXIoJ29wdGdyb3VwX3JlbW92ZScsIGlkKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBDbGVhcnMgYWxsIGV4aXN0aW5nIG9wdGlvbiBncm91cHMuXG5cdFx0ICovXG5cdFx0Y2xlYXJPcHRpb25Hcm91cHM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5vcHRncm91cHMgPSB7fTtcblx0XHRcdHRoaXMucmVuZGVyQ2FjaGUgPSB7fTtcblx0XHRcdHRoaXMudHJpZ2dlcignb3B0Z3JvdXBfY2xlYXInKTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBVcGRhdGVzIGFuIG9wdGlvbiBhdmFpbGFibGUgZm9yIHNlbGVjdGlvbi4gSWZcblx0XHQgKiBpdCBpcyB2aXNpYmxlIGluIHRoZSBzZWxlY3RlZCBpdGVtcyBvciBvcHRpb25zXG5cdFx0ICogZHJvcGRvd24sIGl0IHdpbGwgYmUgcmUtcmVuZGVyZWQgYXV0b21hdGljYWxseS5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhXG5cdFx0ICovXG5cdFx0dXBkYXRlT3B0aW9uOiBmdW5jdGlvbih2YWx1ZSwgZGF0YSkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyICRpdGVtLCAkaXRlbV9uZXc7XG5cdFx0XHR2YXIgdmFsdWVfbmV3LCBpbmRleF9pdGVtLCBjYWNoZV9pdGVtcywgY2FjaGVfb3B0aW9ucywgb3JkZXJfb2xkO1xuXHRcblx0XHRcdHZhbHVlICAgICA9IGhhc2hfa2V5KHZhbHVlKTtcblx0XHRcdHZhbHVlX25ldyA9IGhhc2hfa2V5KGRhdGFbc2VsZi5zZXR0aW5ncy52YWx1ZUZpZWxkXSk7XG5cdFxuXHRcdFx0Ly8gc2FuaXR5IGNoZWNrc1xuXHRcdFx0aWYgKHZhbHVlID09PSBudWxsKSByZXR1cm47XG5cdFx0XHRpZiAoIXNlbGYub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkpIHJldHVybjtcblx0XHRcdGlmICh0eXBlb2YgdmFsdWVfbmV3ICE9PSAnc3RyaW5nJykgdGhyb3cgbmV3IEVycm9yKCdWYWx1ZSBtdXN0IGJlIHNldCBpbiBvcHRpb24gZGF0YScpO1xuXHRcblx0XHRcdG9yZGVyX29sZCA9IHNlbGYub3B0aW9uc1t2YWx1ZV0uJG9yZGVyO1xuXHRcblx0XHRcdC8vIHVwZGF0ZSByZWZlcmVuY2VzXG5cdFx0XHRpZiAodmFsdWVfbmV3ICE9PSB2YWx1ZSkge1xuXHRcdFx0XHRkZWxldGUgc2VsZi5vcHRpb25zW3ZhbHVlXTtcblx0XHRcdFx0aW5kZXhfaXRlbSA9IHNlbGYuaXRlbXMuaW5kZXhPZih2YWx1ZSk7XG5cdFx0XHRcdGlmIChpbmRleF9pdGVtICE9PSAtMSkge1xuXHRcdFx0XHRcdHNlbGYuaXRlbXMuc3BsaWNlKGluZGV4X2l0ZW0sIDEsIHZhbHVlX25ldyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGRhdGEuJG9yZGVyID0gZGF0YS4kb3JkZXIgfHwgb3JkZXJfb2xkO1xuXHRcdFx0c2VsZi5vcHRpb25zW3ZhbHVlX25ld10gPSBkYXRhO1xuXHRcblx0XHRcdC8vIGludmFsaWRhdGUgcmVuZGVyIGNhY2hlXG5cdFx0XHRjYWNoZV9pdGVtcyA9IHNlbGYucmVuZGVyQ2FjaGVbJ2l0ZW0nXTtcblx0XHRcdGNhY2hlX29wdGlvbnMgPSBzZWxmLnJlbmRlckNhY2hlWydvcHRpb24nXTtcblx0XG5cdFx0XHRpZiAoY2FjaGVfaXRlbXMpIHtcblx0XHRcdFx0ZGVsZXRlIGNhY2hlX2l0ZW1zW3ZhbHVlXTtcblx0XHRcdFx0ZGVsZXRlIGNhY2hlX2l0ZW1zW3ZhbHVlX25ld107XG5cdFx0XHR9XG5cdFx0XHRpZiAoY2FjaGVfb3B0aW9ucykge1xuXHRcdFx0XHRkZWxldGUgY2FjaGVfb3B0aW9uc1t2YWx1ZV07XG5cdFx0XHRcdGRlbGV0ZSBjYWNoZV9vcHRpb25zW3ZhbHVlX25ld107XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gdXBkYXRlIHRoZSBpdGVtIGlmIGl0J3Mgc2VsZWN0ZWRcblx0XHRcdGlmIChzZWxmLml0ZW1zLmluZGV4T2YodmFsdWVfbmV3KSAhPT0gLTEpIHtcblx0XHRcdFx0JGl0ZW0gPSBzZWxmLmdldEl0ZW0odmFsdWUpO1xuXHRcdFx0XHQkaXRlbV9uZXcgPSAkKHNlbGYucmVuZGVyKCdpdGVtJywgZGF0YSkpO1xuXHRcdFx0XHRpZiAoJGl0ZW0uaGFzQ2xhc3MoJ2FjdGl2ZScpKSAkaXRlbV9uZXcuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdFx0XHQkaXRlbS5yZXBsYWNlV2l0aCgkaXRlbV9uZXcpO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIGludmFsaWRhdGUgbGFzdCBxdWVyeSBiZWNhdXNlIHdlIG1pZ2h0IGhhdmUgdXBkYXRlZCB0aGUgc29ydEZpZWxkXG5cdFx0XHRzZWxmLmxhc3RRdWVyeSA9IG51bGw7XG5cdFxuXHRcdFx0Ly8gdXBkYXRlIGRyb3Bkb3duIGNvbnRlbnRzXG5cdFx0XHRpZiAoc2VsZi5pc09wZW4pIHtcblx0XHRcdFx0c2VsZi5yZWZyZXNoT3B0aW9ucyhmYWxzZSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogUmVtb3ZlcyBhIHNpbmdsZSBvcHRpb24uXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IHNpbGVudFxuXHRcdCAqL1xuXHRcdHJlbW92ZU9wdGlvbjogZnVuY3Rpb24odmFsdWUsIHNpbGVudCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFsdWUgPSBoYXNoX2tleSh2YWx1ZSk7XG5cdFxuXHRcdFx0dmFyIGNhY2hlX2l0ZW1zID0gc2VsZi5yZW5kZXJDYWNoZVsnaXRlbSddO1xuXHRcdFx0dmFyIGNhY2hlX29wdGlvbnMgPSBzZWxmLnJlbmRlckNhY2hlWydvcHRpb24nXTtcblx0XHRcdGlmIChjYWNoZV9pdGVtcykgZGVsZXRlIGNhY2hlX2l0ZW1zW3ZhbHVlXTtcblx0XHRcdGlmIChjYWNoZV9vcHRpb25zKSBkZWxldGUgY2FjaGVfb3B0aW9uc1t2YWx1ZV07XG5cdFxuXHRcdFx0ZGVsZXRlIHNlbGYudXNlck9wdGlvbnNbdmFsdWVdO1xuXHRcdFx0ZGVsZXRlIHNlbGYub3B0aW9uc1t2YWx1ZV07XG5cdFx0XHRzZWxmLmxhc3RRdWVyeSA9IG51bGw7XG5cdFx0XHRzZWxmLnRyaWdnZXIoJ29wdGlvbl9yZW1vdmUnLCB2YWx1ZSk7XG5cdFx0XHRzZWxmLnJlbW92ZUl0ZW0odmFsdWUsIHNpbGVudCk7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQ2xlYXJzIGFsbCBvcHRpb25zLlxuXHRcdCAqL1xuXHRcdGNsZWFyT3B0aW9uczogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0c2VsZi5sb2FkZWRTZWFyY2hlcyA9IHt9O1xuXHRcdFx0c2VsZi51c2VyT3B0aW9ucyA9IHt9O1xuXHRcdFx0c2VsZi5yZW5kZXJDYWNoZSA9IHt9O1xuXHRcdFx0c2VsZi5vcHRpb25zID0gc2VsZi5zaWZ0ZXIuaXRlbXMgPSB7fTtcblx0XHRcdHNlbGYubGFzdFF1ZXJ5ID0gbnVsbDtcblx0XHRcdHNlbGYudHJpZ2dlcignb3B0aW9uX2NsZWFyJyk7XG5cdFx0XHRzZWxmLmNsZWFyKCk7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgalF1ZXJ5IGVsZW1lbnQgb2YgdGhlIG9wdGlvblxuXHRcdCAqIG1hdGNoaW5nIHRoZSBnaXZlbiB2YWx1ZS5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuXHRcdCAqIEByZXR1cm5zIHtvYmplY3R9XG5cdFx0ICovXG5cdFx0Z2V0T3B0aW9uOiBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0RWxlbWVudFdpdGhWYWx1ZSh2YWx1ZSwgdGhpcy4kZHJvcGRvd25fY29udGVudC5maW5kKCdbZGF0YS1zZWxlY3RhYmxlXScpKTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSBqUXVlcnkgZWxlbWVudCBvZiB0aGUgbmV4dCBvclxuXHRcdCAqIHByZXZpb3VzIHNlbGVjdGFibGUgb3B0aW9uLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9ICRvcHRpb25cblx0XHQgKiBAcGFyYW0ge2ludH0gZGlyZWN0aW9uICBjYW4gYmUgMSBmb3IgbmV4dCBvciAtMSBmb3IgcHJldmlvdXNcblx0XHQgKiBAcmV0dXJuIHtvYmplY3R9XG5cdFx0ICovXG5cdFx0Z2V0QWRqYWNlbnRPcHRpb246IGZ1bmN0aW9uKCRvcHRpb24sIGRpcmVjdGlvbikge1xuXHRcdFx0dmFyICRvcHRpb25zID0gdGhpcy4kZHJvcGRvd24uZmluZCgnW2RhdGEtc2VsZWN0YWJsZV0nKTtcblx0XHRcdHZhciBpbmRleCAgICA9ICRvcHRpb25zLmluZGV4KCRvcHRpb24pICsgZGlyZWN0aW9uO1xuXHRcblx0XHRcdHJldHVybiBpbmRleCA+PSAwICYmIGluZGV4IDwgJG9wdGlvbnMubGVuZ3RoID8gJG9wdGlvbnMuZXEoaW5kZXgpIDogJCgpO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEZpbmRzIHRoZSBmaXJzdCBlbGVtZW50IHdpdGggYSBcImRhdGEtdmFsdWVcIiBhdHRyaWJ1dGVcblx0XHQgKiB0aGF0IG1hdGNoZXMgdGhlIGdpdmVuIHZhbHVlLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHttaXhlZH0gdmFsdWVcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gJGVsc1xuXHRcdCAqIEByZXR1cm4ge29iamVjdH1cblx0XHQgKi9cblx0XHRnZXRFbGVtZW50V2l0aFZhbHVlOiBmdW5jdGlvbih2YWx1ZSwgJGVscykge1xuXHRcdFx0dmFsdWUgPSBoYXNoX2tleSh2YWx1ZSk7XG5cdFxuXHRcdFx0aWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgIT09IG51bGwpIHtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIG4gPSAkZWxzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRcdGlmICgkZWxzW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScpID09PSB2YWx1ZSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuICQoJGVsc1tpXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuICQoKTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSBqUXVlcnkgZWxlbWVudCBvZiB0aGUgaXRlbVxuXHRcdCAqIG1hdGNoaW5nIHRoZSBnaXZlbiB2YWx1ZS5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuXHRcdCAqIEByZXR1cm5zIHtvYmplY3R9XG5cdFx0ICovXG5cdFx0Z2V0SXRlbTogZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHJldHVybiB0aGlzLmdldEVsZW1lbnRXaXRoVmFsdWUodmFsdWUsIHRoaXMuJGNvbnRyb2wuY2hpbGRyZW4oKSk7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogXCJTZWxlY3RzXCIgbXVsdGlwbGUgaXRlbXMgYXQgb25jZS4gQWRkcyB0aGVtIHRvIHRoZSBsaXN0XG5cdFx0ICogYXQgdGhlIGN1cnJlbnQgY2FyZXQgcG9zaXRpb24uXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IHNpbGVudFxuXHRcdCAqL1xuXHRcdGFkZEl0ZW1zOiBmdW5jdGlvbih2YWx1ZXMsIHNpbGVudCkge1xuXHRcdFx0dmFyIGl0ZW1zID0gJC5pc0FycmF5KHZhbHVlcykgPyB2YWx1ZXMgOiBbdmFsdWVzXTtcblx0XHRcdGZvciAodmFyIGkgPSAwLCBuID0gaXRlbXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdHRoaXMuaXNQZW5kaW5nID0gKGkgPCBuIC0gMSk7XG5cdFx0XHRcdHRoaXMuYWRkSXRlbShpdGVtc1tpXSwgc2lsZW50KTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBcIlNlbGVjdHNcIiBhbiBpdGVtLiBBZGRzIGl0IHRvIHRoZSBsaXN0XG5cdFx0ICogYXQgdGhlIGN1cnJlbnQgY2FyZXQgcG9zaXRpb24uXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IHNpbGVudFxuXHRcdCAqL1xuXHRcdGFkZEl0ZW06IGZ1bmN0aW9uKHZhbHVlLCBzaWxlbnQpIHtcblx0XHRcdHZhciBldmVudHMgPSBzaWxlbnQgPyBbXSA6IFsnY2hhbmdlJ107XG5cdFxuXHRcdFx0ZGVib3VuY2VfZXZlbnRzKHRoaXMsIGV2ZW50cywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciAkaXRlbSwgJG9wdGlvbiwgJG9wdGlvbnM7XG5cdFx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdFx0dmFyIGlucHV0TW9kZSA9IHNlbGYuc2V0dGluZ3MubW9kZTtcblx0XHRcdFx0dmFyIGksIGFjdGl2ZSwgdmFsdWVfbmV4dCwgd2FzRnVsbDtcblx0XHRcdFx0dmFsdWUgPSBoYXNoX2tleSh2YWx1ZSk7XG5cdFxuXHRcdFx0XHRpZiAoc2VsZi5pdGVtcy5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcblx0XHRcdFx0XHRpZiAoaW5wdXRNb2RlID09PSAnc2luZ2xlJykgc2VsZi5jbG9zZSgpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0aWYgKCFzZWxmLm9wdGlvbnMuaGFzT3duUHJvcGVydHkodmFsdWUpKSByZXR1cm47XG5cdFx0XHRcdGlmIChpbnB1dE1vZGUgPT09ICdzaW5nbGUnKSBzZWxmLmNsZWFyKHNpbGVudCk7XG5cdFx0XHRcdGlmIChpbnB1dE1vZGUgPT09ICdtdWx0aScgJiYgc2VsZi5pc0Z1bGwoKSkgcmV0dXJuO1xuXHRcblx0XHRcdFx0JGl0ZW0gPSAkKHNlbGYucmVuZGVyKCdpdGVtJywgc2VsZi5vcHRpb25zW3ZhbHVlXSkpO1xuXHRcdFx0XHR3YXNGdWxsID0gc2VsZi5pc0Z1bGwoKTtcblx0XHRcdFx0c2VsZi5pdGVtcy5zcGxpY2Uoc2VsZi5jYXJldFBvcywgMCwgdmFsdWUpO1xuXHRcdFx0XHRzZWxmLmluc2VydEF0Q2FyZXQoJGl0ZW0pO1xuXHRcdFx0XHRpZiAoIXNlbGYuaXNQZW5kaW5nIHx8ICghd2FzRnVsbCAmJiBzZWxmLmlzRnVsbCgpKSkge1xuXHRcdFx0XHRcdHNlbGYucmVmcmVzaFN0YXRlKCk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGlmIChzZWxmLmlzU2V0dXApIHtcblx0XHRcdFx0XHQkb3B0aW9ucyA9IHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQuZmluZCgnW2RhdGEtc2VsZWN0YWJsZV0nKTtcblx0XG5cdFx0XHRcdFx0Ly8gdXBkYXRlIG1lbnUgLyByZW1vdmUgdGhlIG9wdGlvbiAoaWYgdGhpcyBpcyBub3Qgb25lIGl0ZW0gYmVpbmcgYWRkZWQgYXMgcGFydCBvZiBzZXJpZXMpXG5cdFx0XHRcdFx0aWYgKCFzZWxmLmlzUGVuZGluZykge1xuXHRcdFx0XHRcdFx0JG9wdGlvbiA9IHNlbGYuZ2V0T3B0aW9uKHZhbHVlKTtcblx0XHRcdFx0XHRcdHZhbHVlX25leHQgPSBzZWxmLmdldEFkamFjZW50T3B0aW9uKCRvcHRpb24sIDEpLmF0dHIoJ2RhdGEtdmFsdWUnKTtcblx0XHRcdFx0XHRcdHNlbGYucmVmcmVzaE9wdGlvbnMoc2VsZi5pc0ZvY3VzZWQgJiYgaW5wdXRNb2RlICE9PSAnc2luZ2xlJyk7XG5cdFx0XHRcdFx0XHRpZiAodmFsdWVfbmV4dCkge1xuXHRcdFx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZU9wdGlvbihzZWxmLmdldE9wdGlvbih2YWx1ZV9uZXh0KSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQvLyBoaWRlIHRoZSBtZW51IGlmIHRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyBoYXZlIGJlZW4gc2VsZWN0ZWQgb3Igbm8gb3B0aW9ucyBhcmUgbGVmdFxuXHRcdFx0XHRcdGlmICghJG9wdGlvbnMubGVuZ3RoIHx8IHNlbGYuaXNGdWxsKCkpIHtcblx0XHRcdFx0XHRcdHNlbGYuY2xvc2UoKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VsZi5wb3NpdGlvbkRyb3Bkb3duKCk7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRzZWxmLnVwZGF0ZVBsYWNlaG9sZGVyKCk7XG5cdFx0XHRcdFx0c2VsZi50cmlnZ2VyKCdpdGVtX2FkZCcsIHZhbHVlLCAkaXRlbSk7XG5cdFx0XHRcdFx0c2VsZi51cGRhdGVPcmlnaW5hbElucHV0KHtzaWxlbnQ6IHNpbGVudH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBSZW1vdmVzIHRoZSBzZWxlY3RlZCBpdGVtIG1hdGNoaW5nXG5cdFx0ICogdGhlIHByb3ZpZGVkIHZhbHVlLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG5cdFx0ICovXG5cdFx0cmVtb3ZlSXRlbTogZnVuY3Rpb24odmFsdWUsIHNpbGVudCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyICRpdGVtLCBpLCBpZHg7XG5cdFxuXHRcdFx0JGl0ZW0gPSAodmFsdWUgaW5zdGFuY2VvZiAkKSA/IHZhbHVlIDogc2VsZi5nZXRJdGVtKHZhbHVlKTtcblx0XHRcdHZhbHVlID0gaGFzaF9rZXkoJGl0ZW0uYXR0cignZGF0YS12YWx1ZScpKTtcblx0XHRcdGkgPSBzZWxmLml0ZW1zLmluZGV4T2YodmFsdWUpO1xuXHRcblx0XHRcdGlmIChpICE9PSAtMSkge1xuXHRcdFx0XHQkaXRlbS5yZW1vdmUoKTtcblx0XHRcdFx0aWYgKCRpdGVtLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuXHRcdFx0XHRcdGlkeCA9IHNlbGYuJGFjdGl2ZUl0ZW1zLmluZGV4T2YoJGl0ZW1bMF0pO1xuXHRcdFx0XHRcdHNlbGYuJGFjdGl2ZUl0ZW1zLnNwbGljZShpZHgsIDEpO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRzZWxmLml0ZW1zLnNwbGljZShpLCAxKTtcblx0XHRcdFx0c2VsZi5sYXN0UXVlcnkgPSBudWxsO1xuXHRcdFx0XHRpZiAoIXNlbGYuc2V0dGluZ3MucGVyc2lzdCAmJiBzZWxmLnVzZXJPcHRpb25zLmhhc093blByb3BlcnR5KHZhbHVlKSkge1xuXHRcdFx0XHRcdHNlbGYucmVtb3ZlT3B0aW9uKHZhbHVlLCBzaWxlbnQpO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRpZiAoaSA8IHNlbGYuY2FyZXRQb3MpIHtcblx0XHRcdFx0XHRzZWxmLnNldENhcmV0KHNlbGYuY2FyZXRQb3MgLSAxKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0c2VsZi5yZWZyZXNoU3RhdGUoKTtcblx0XHRcdFx0c2VsZi51cGRhdGVQbGFjZWhvbGRlcigpO1xuXHRcdFx0XHRzZWxmLnVwZGF0ZU9yaWdpbmFsSW5wdXQoe3NpbGVudDogc2lsZW50fSk7XG5cdFx0XHRcdHNlbGYucG9zaXRpb25Ecm9wZG93bigpO1xuXHRcdFx0XHRzZWxmLnRyaWdnZXIoJ2l0ZW1fcmVtb3ZlJywgdmFsdWUsICRpdGVtKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBJbnZva2VzIHRoZSBgY3JlYXRlYCBtZXRob2QgcHJvdmlkZWQgaW4gdGhlXG5cdFx0ICogc2VsZWN0aXplIG9wdGlvbnMgdGhhdCBzaG91bGQgcHJvdmlkZSB0aGUgZGF0YVxuXHRcdCAqIGZvciB0aGUgbmV3IGl0ZW0sIGdpdmVuIHRoZSB1c2VyIGlucHV0LlxuXHRcdCAqXG5cdFx0ICogT25jZSB0aGlzIGNvbXBsZXRlcywgaXQgd2lsbCBiZSBhZGRlZFxuXHRcdCAqIHRvIHRoZSBpdGVtIGxpc3QuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IFt0cmlnZ2VyRHJvcGRvd25dXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXVxuXHRcdCAqIEByZXR1cm4ge2Jvb2xlYW59XG5cdFx0ICovXG5cdFx0Y3JlYXRlSXRlbTogZnVuY3Rpb24oaW5wdXQsIHRyaWdnZXJEcm9wZG93bikge1xuXHRcdFx0dmFyIHNlbGYgID0gdGhpcztcblx0XHRcdHZhciBjYXJldCA9IHNlbGYuY2FyZXRQb3M7XG5cdFx0XHRpbnB1dCA9IGlucHV0IHx8ICQudHJpbShzZWxmLiRjb250cm9sX2lucHV0LnZhbCgpIHx8ICcnKTtcblx0XG5cdFx0XHR2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xuXHRcdFx0aWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2sgPSBmdW5jdGlvbigpIHt9O1xuXHRcblx0XHRcdGlmICh0eXBlb2YgdHJpZ2dlckRyb3Bkb3duICE9PSAnYm9vbGVhbicpIHtcblx0XHRcdFx0dHJpZ2dlckRyb3Bkb3duID0gdHJ1ZTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIXNlbGYuY2FuQ3JlYXRlKGlucHV0KSkge1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0c2VsZi5sb2NrKCk7XG5cdFxuXHRcdFx0dmFyIHNldHVwID0gKHR5cGVvZiBzZWxmLnNldHRpbmdzLmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykgPyB0aGlzLnNldHRpbmdzLmNyZWF0ZSA6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdFx0XHRcdHZhciBkYXRhID0ge307XG5cdFx0XHRcdGRhdGFbc2VsZi5zZXR0aW5ncy5sYWJlbEZpZWxkXSA9IGlucHV0O1xuXHRcdFx0XHRkYXRhW3NlbGYuc2V0dGluZ3MudmFsdWVGaWVsZF0gPSBpbnB1dDtcblx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHR9O1xuXHRcblx0XHRcdHZhciBjcmVhdGUgPSBvbmNlKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0c2VsZi51bmxvY2soKTtcblx0XG5cdFx0XHRcdGlmICghZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gJ29iamVjdCcpIHJldHVybiBjYWxsYmFjaygpO1xuXHRcdFx0XHR2YXIgdmFsdWUgPSBoYXNoX2tleShkYXRhW3NlbGYuc2V0dGluZ3MudmFsdWVGaWVsZF0pO1xuXHRcdFx0XHRpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykgcmV0dXJuIGNhbGxiYWNrKCk7XG5cdFxuXHRcdFx0XHRzZWxmLnNldFRleHRib3hWYWx1ZSgnJyk7XG5cdFx0XHRcdHNlbGYuYWRkT3B0aW9uKGRhdGEpO1xuXHRcdFx0XHRzZWxmLnNldENhcmV0KGNhcmV0KTtcblx0XHRcdFx0c2VsZi5hZGRJdGVtKHZhbHVlKTtcblx0XHRcdFx0c2VsZi5yZWZyZXNoT3B0aW9ucyh0cmlnZ2VyRHJvcGRvd24gJiYgc2VsZi5zZXR0aW5ncy5tb2RlICE9PSAnc2luZ2xlJyk7XG5cdFx0XHRcdGNhbGxiYWNrKGRhdGEpO1xuXHRcdFx0fSk7XG5cdFxuXHRcdFx0dmFyIG91dHB1dCA9IHNldHVwLmFwcGx5KHRoaXMsIFtpbnB1dCwgY3JlYXRlXSk7XG5cdFx0XHRpZiAodHlwZW9mIG91dHB1dCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0Y3JlYXRlKG91dHB1dCk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogUmUtcmVuZGVycyB0aGUgc2VsZWN0ZWQgaXRlbSBsaXN0cy5cblx0XHQgKi9cblx0XHRyZWZyZXNoSXRlbXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5sYXN0UXVlcnkgPSBudWxsO1xuXHRcblx0XHRcdGlmICh0aGlzLmlzU2V0dXApIHtcblx0XHRcdFx0dGhpcy5hZGRJdGVtKHRoaXMuaXRlbXMpO1xuXHRcdFx0fVxuXHRcblx0XHRcdHRoaXMucmVmcmVzaFN0YXRlKCk7XG5cdFx0XHR0aGlzLnVwZGF0ZU9yaWdpbmFsSW5wdXQoKTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBVcGRhdGVzIGFsbCBzdGF0ZS1kZXBlbmRlbnQgYXR0cmlidXRlc1xuXHRcdCAqIGFuZCBDU1MgY2xhc3Nlcy5cblx0XHQgKi9cblx0XHRyZWZyZXNoU3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5yZWZyZXNoVmFsaWRpdHlTdGF0ZSgpO1xuXHRcdFx0dGhpcy5yZWZyZXNoQ2xhc3NlcygpO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFVwZGF0ZSB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgb2YgYm90aCBpbnB1dCBhbmQgY29udHJvbCBpbnB1dC5cblx0XHQgKlxuXHRcdCAqIFRoZSBgcmVxdWlyZWRgIHByb3BlcnR5IG5lZWRzIHRvIGJlIGFjdGl2YXRlZCBvbiB0aGUgY29udHJvbCBpbnB1dFxuXHRcdCAqIGZvciB0aGUgZXJyb3IgdG8gYmUgZGlzcGxheWVkIGF0IHRoZSByaWdodCBwbGFjZS4gYHJlcXVpcmVkYCBhbHNvXG5cdFx0ICogbmVlZHMgdG8gYmUgdGVtcG9yYXJpbHkgZGVhY3RpdmF0ZWQgb24gdGhlIGlucHV0IHNpbmNlIHRoZSBpbnB1dCBpc1xuXHRcdCAqIGhpZGRlbiBhbmQgY2FuJ3Qgc2hvdyBlcnJvcnMuXG5cdFx0ICovXG5cdFx0cmVmcmVzaFZhbGlkaXR5U3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCF0aGlzLmlzUmVxdWlyZWQpIHJldHVybiBmYWxzZTtcblx0XG5cdFx0XHR2YXIgaW52YWxpZCA9ICF0aGlzLml0ZW1zLmxlbmd0aDtcblx0XG5cdFx0XHR0aGlzLmlzSW52YWxpZCA9IGludmFsaWQ7XG5cdFx0XHR0aGlzLiRjb250cm9sX2lucHV0LnByb3AoJ3JlcXVpcmVkJywgaW52YWxpZCk7XG5cdFx0XHR0aGlzLiRpbnB1dC5wcm9wKCdyZXF1aXJlZCcsICFpbnZhbGlkKTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBVcGRhdGVzIGFsbCBzdGF0ZS1kZXBlbmRlbnQgQ1NTIGNsYXNzZXMuXG5cdFx0ICovXG5cdFx0cmVmcmVzaENsYXNzZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgICAgID0gdGhpcztcblx0XHRcdHZhciBpc0Z1bGwgICA9IHNlbGYuaXNGdWxsKCk7XG5cdFx0XHR2YXIgaXNMb2NrZWQgPSBzZWxmLmlzTG9ja2VkO1xuXHRcblx0XHRcdHNlbGYuJHdyYXBwZXJcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCdydGwnLCBzZWxmLnJ0bCk7XG5cdFxuXHRcdFx0c2VsZi4kY29udHJvbFxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoJ2ZvY3VzJywgc2VsZi5pc0ZvY3VzZWQpXG5cdFx0XHRcdC50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCBzZWxmLmlzRGlzYWJsZWQpXG5cdFx0XHRcdC50b2dnbGVDbGFzcygncmVxdWlyZWQnLCBzZWxmLmlzUmVxdWlyZWQpXG5cdFx0XHRcdC50b2dnbGVDbGFzcygnaW52YWxpZCcsIHNlbGYuaXNJbnZhbGlkKVxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoJ2xvY2tlZCcsIGlzTG9ja2VkKVxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoJ2Z1bGwnLCBpc0Z1bGwpLnRvZ2dsZUNsYXNzKCdub3QtZnVsbCcsICFpc0Z1bGwpXG5cdFx0XHRcdC50b2dnbGVDbGFzcygnaW5wdXQtYWN0aXZlJywgc2VsZi5pc0ZvY3VzZWQgJiYgIXNlbGYuaXNJbnB1dEhpZGRlbilcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCdkcm9wZG93bi1hY3RpdmUnLCBzZWxmLmlzT3Blbilcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCdoYXMtb3B0aW9ucycsICEkLmlzRW1wdHlPYmplY3Qoc2VsZi5vcHRpb25zKSlcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCdoYXMtaXRlbXMnLCBzZWxmLml0ZW1zLmxlbmd0aCA+IDApO1xuXHRcblx0XHRcdHNlbGYuJGNvbnRyb2xfaW5wdXQuZGF0YSgnZ3JvdycsICFpc0Z1bGwgJiYgIWlzTG9ja2VkKTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IG1vcmUgaXRlbXMgY2FuIGJlIGFkZGVkXG5cdFx0ICogdG8gdGhlIGNvbnRyb2wgd2l0aG91dCBleGNlZWRpbmcgdGhlIHVzZXItZGVmaW5lZCBtYXhpbXVtLlxuXHRcdCAqXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdFx0ICovXG5cdFx0aXNGdWxsOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLnNldHRpbmdzLm1heEl0ZW1zICE9PSBudWxsICYmIHRoaXMuaXRlbXMubGVuZ3RoID49IHRoaXMuc2V0dGluZ3MubWF4SXRlbXM7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogUmVmcmVzaGVzIHRoZSBvcmlnaW5hbCA8c2VsZWN0PiBvciA8aW5wdXQ+XG5cdFx0ICogZWxlbWVudCB0byByZWZsZWN0IHRoZSBjdXJyZW50IHN0YXRlLlxuXHRcdCAqL1xuXHRcdHVwZGF0ZU9yaWdpbmFsSW5wdXQ6IGZ1bmN0aW9uKG9wdHMpIHtcblx0XHRcdHZhciBpLCBuLCBvcHRpb25zLCBsYWJlbCwgc2VsZiA9IHRoaXM7XG5cdFx0XHRvcHRzID0gb3B0cyB8fCB7fTtcblx0XG5cdFx0XHRpZiAoc2VsZi50YWdUeXBlID09PSBUQUdfU0VMRUNUKSB7XG5cdFx0XHRcdG9wdGlvbnMgPSBbXTtcblx0XHRcdFx0Zm9yIChpID0gMCwgbiA9IHNlbGYuaXRlbXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdFx0bGFiZWwgPSBzZWxmLm9wdGlvbnNbc2VsZi5pdGVtc1tpXV1bc2VsZi5zZXR0aW5ncy5sYWJlbEZpZWxkXSB8fCAnJztcblx0XHRcdFx0XHRvcHRpb25zLnB1c2goJzxvcHRpb24gdmFsdWU9XCInICsgZXNjYXBlX2h0bWwoc2VsZi5pdGVtc1tpXSkgKyAnXCIgc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiPicgKyBlc2NhcGVfaHRtbChsYWJlbCkgKyAnPC9vcHRpb24+Jyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCFvcHRpb25zLmxlbmd0aCAmJiAhdGhpcy4kaW5wdXQuYXR0cignbXVsdGlwbGUnKSkge1xuXHRcdFx0XHRcdG9wdGlvbnMucHVzaCgnPG9wdGlvbiB2YWx1ZT1cIlwiIHNlbGVjdGVkPVwic2VsZWN0ZWRcIj48L29wdGlvbj4nKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzZWxmLiRpbnB1dC5odG1sKG9wdGlvbnMuam9pbignJykpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2VsZi4kaW5wdXQudmFsKHNlbGYuZ2V0VmFsdWUoKSk7XG5cdFx0XHRcdHNlbGYuJGlucHV0LmF0dHIoJ3ZhbHVlJyxzZWxmLiRpbnB1dC52YWwoKSk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKHNlbGYuaXNTZXR1cCkge1xuXHRcdFx0XHRpZiAoIW9wdHMuc2lsZW50KSB7XG5cdFx0XHRcdFx0c2VsZi50cmlnZ2VyKCdjaGFuZ2UnLCBzZWxmLiRpbnB1dC52YWwoKSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBTaG93cy9oaWRlIHRoZSBpbnB1dCBwbGFjZWhvbGRlciBkZXBlbmRpbmdcblx0XHQgKiBvbiBpZiB0aGVyZSBpdGVtcyBpbiB0aGUgbGlzdCBhbHJlYWR5LlxuXHRcdCAqL1xuXHRcdHVwZGF0ZVBsYWNlaG9sZGVyOiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICghdGhpcy5zZXR0aW5ncy5wbGFjZWhvbGRlcikgcmV0dXJuO1xuXHRcdFx0dmFyICRpbnB1dCA9IHRoaXMuJGNvbnRyb2xfaW5wdXQ7XG5cdFxuXHRcdFx0aWYgKHRoaXMuaXRlbXMubGVuZ3RoKSB7XG5cdFx0XHRcdCRpbnB1dC5yZW1vdmVBdHRyKCdwbGFjZWhvbGRlcicpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JGlucHV0LmF0dHIoJ3BsYWNlaG9sZGVyJywgdGhpcy5zZXR0aW5ncy5wbGFjZWhvbGRlcik7XG5cdFx0XHR9XG5cdFx0XHQkaW5wdXQudHJpZ2dlckhhbmRsZXIoJ3VwZGF0ZScsIHtmb3JjZTogdHJ1ZX0pO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFNob3dzIHRoZSBhdXRvY29tcGxldGUgZHJvcGRvd24gY29udGFpbmluZ1xuXHRcdCAqIHRoZSBhdmFpbGFibGUgb3B0aW9ucy5cblx0XHQgKi9cblx0XHRvcGVuOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHRpZiAoc2VsZi5pc0xvY2tlZCB8fCBzZWxmLmlzT3BlbiB8fCAoc2VsZi5zZXR0aW5ncy5tb2RlID09PSAnbXVsdGknICYmIHNlbGYuaXNGdWxsKCkpKSByZXR1cm47XG5cdFx0XHRzZWxmLmZvY3VzKCk7XG5cdFx0XHRzZWxmLmlzT3BlbiA9IHRydWU7XG5cdFx0XHRzZWxmLnJlZnJlc2hTdGF0ZSgpO1xuXHRcdFx0c2VsZi4kZHJvcGRvd24uY3NzKHt2aXNpYmlsaXR5OiAnaGlkZGVuJywgZGlzcGxheTogJ2Jsb2NrJ30pO1xuXHRcdFx0c2VsZi5wb3NpdGlvbkRyb3Bkb3duKCk7XG5cdFx0XHRzZWxmLiRkcm9wZG93bi5jc3Moe3Zpc2liaWxpdHk6ICd2aXNpYmxlJ30pO1xuXHRcdFx0c2VsZi50cmlnZ2VyKCdkcm9wZG93bl9vcGVuJywgc2VsZi4kZHJvcGRvd24pO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENsb3NlcyB0aGUgYXV0b2NvbXBsZXRlIGRyb3Bkb3duIG1lbnUuXG5cdFx0ICovXG5cdFx0Y2xvc2U6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIHRyaWdnZXIgPSBzZWxmLmlzT3Blbjtcblx0XG5cdFx0XHRpZiAoc2VsZi5zZXR0aW5ncy5tb2RlID09PSAnc2luZ2xlJyAmJiBzZWxmLml0ZW1zLmxlbmd0aCkge1xuXHRcdFx0XHRzZWxmLmhpZGVJbnB1dCgpO1xuXHRcdFx0XHRzZWxmLiRjb250cm9sX2lucHV0LmJsdXIoKTsgLy8gY2xvc2Uga2V5Ym9hcmQgb24gaU9TXG5cdFx0XHR9XG5cdFxuXHRcdFx0c2VsZi5pc09wZW4gPSBmYWxzZTtcblx0XHRcdHNlbGYuJGRyb3Bkb3duLmhpZGUoKTtcblx0XHRcdHNlbGYuc2V0QWN0aXZlT3B0aW9uKG51bGwpO1xuXHRcdFx0c2VsZi5yZWZyZXNoU3RhdGUoKTtcblx0XG5cdFx0XHRpZiAodHJpZ2dlcikgc2VsZi50cmlnZ2VyKCdkcm9wZG93bl9jbG9zZScsIHNlbGYuJGRyb3Bkb3duKTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBDYWxjdWxhdGVzIGFuZCBhcHBsaWVzIHRoZSBhcHByb3ByaWF0ZVxuXHRcdCAqIHBvc2l0aW9uIG9mIHRoZSBkcm9wZG93bi5cblx0XHQgKi9cblx0XHRwb3NpdGlvbkRyb3Bkb3duOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciAkY29udHJvbCA9IHRoaXMuJGNvbnRyb2w7XG5cdFx0XHR2YXIgb2Zmc2V0ID0gdGhpcy5zZXR0aW5ncy5kcm9wZG93blBhcmVudCA9PT0gJ2JvZHknID8gJGNvbnRyb2wub2Zmc2V0KCkgOiAkY29udHJvbC5wb3NpdGlvbigpO1xuXHRcdFx0b2Zmc2V0LnRvcCArPSAkY29udHJvbC5vdXRlckhlaWdodCh0cnVlKTtcblx0XG5cdFx0XHR0aGlzLiRkcm9wZG93bi5jc3Moe1xuXHRcdFx0XHR3aWR0aCA6ICRjb250cm9sLm91dGVyV2lkdGgoKSxcblx0XHRcdFx0dG9wICAgOiBvZmZzZXQudG9wLFxuXHRcdFx0XHRsZWZ0ICA6IG9mZnNldC5sZWZ0XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBSZXNldHMgLyBjbGVhcnMgYWxsIHNlbGVjdGVkIGl0ZW1zXG5cdFx0ICogZnJvbSB0aGUgY29udHJvbC5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7Ym9vbGVhbn0gc2lsZW50XG5cdFx0ICovXG5cdFx0Y2xlYXI6IGZ1bmN0aW9uKHNpbGVudCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdGlmICghc2VsZi5pdGVtcy5sZW5ndGgpIHJldHVybjtcblx0XHRcdHNlbGYuJGNvbnRyb2wuY2hpbGRyZW4oJzpub3QoaW5wdXQpJykucmVtb3ZlKCk7XG5cdFx0XHRzZWxmLml0ZW1zID0gW107XG5cdFx0XHRzZWxmLmxhc3RRdWVyeSA9IG51bGw7XG5cdFx0XHRzZWxmLnNldENhcmV0KDApO1xuXHRcdFx0c2VsZi5zZXRBY3RpdmVJdGVtKG51bGwpO1xuXHRcdFx0c2VsZi51cGRhdGVQbGFjZWhvbGRlcigpO1xuXHRcdFx0c2VsZi51cGRhdGVPcmlnaW5hbElucHV0KHtzaWxlbnQ6IHNpbGVudH0pO1xuXHRcdFx0c2VsZi5yZWZyZXNoU3RhdGUoKTtcblx0XHRcdHNlbGYuc2hvd0lucHV0KCk7XG5cdFx0XHRzZWxmLnRyaWdnZXIoJ2NsZWFyJyk7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQSBoZWxwZXIgbWV0aG9kIGZvciBpbnNlcnRpbmcgYW4gZWxlbWVudFxuXHRcdCAqIGF0IHRoZSBjdXJyZW50IGNhcmV0IHBvc2l0aW9uLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9ICRlbFxuXHRcdCAqL1xuXHRcdGluc2VydEF0Q2FyZXQ6IGZ1bmN0aW9uKCRlbCkge1xuXHRcdFx0dmFyIGNhcmV0ID0gTWF0aC5taW4odGhpcy5jYXJldFBvcywgdGhpcy5pdGVtcy5sZW5ndGgpO1xuXHRcdFx0aWYgKGNhcmV0ID09PSAwKSB7XG5cdFx0XHRcdHRoaXMuJGNvbnRyb2wucHJlcGVuZCgkZWwpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JCh0aGlzLiRjb250cm9sWzBdLmNoaWxkTm9kZXNbY2FyZXRdKS5iZWZvcmUoJGVsKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuc2V0Q2FyZXQoY2FyZXQgKyAxKTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBSZW1vdmVzIHRoZSBjdXJyZW50IHNlbGVjdGVkIGl0ZW0ocykuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gZSAob3B0aW9uYWwpXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdFx0ICovXG5cdFx0ZGVsZXRlU2VsZWN0aW9uOiBmdW5jdGlvbihlKSB7XG5cdFx0XHR2YXIgaSwgbiwgZGlyZWN0aW9uLCBzZWxlY3Rpb24sIHZhbHVlcywgY2FyZXQsIG9wdGlvbl9zZWxlY3QsICRvcHRpb25fc2VsZWN0LCAkdGFpbDtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHRkaXJlY3Rpb24gPSAoZSAmJiBlLmtleUNvZGUgPT09IEtFWV9CQUNLU1BBQ0UpID8gLTEgOiAxO1xuXHRcdFx0c2VsZWN0aW9uID0gZ2V0U2VsZWN0aW9uKHNlbGYuJGNvbnRyb2xfaW5wdXRbMF0pO1xuXHRcblx0XHRcdGlmIChzZWxmLiRhY3RpdmVPcHRpb24gJiYgIXNlbGYuc2V0dGluZ3MuaGlkZVNlbGVjdGVkKSB7XG5cdFx0XHRcdG9wdGlvbl9zZWxlY3QgPSBzZWxmLmdldEFkamFjZW50T3B0aW9uKHNlbGYuJGFjdGl2ZU9wdGlvbiwgLTEpLmF0dHIoJ2RhdGEtdmFsdWUnKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBkZXRlcm1pbmUgaXRlbXMgdGhhdCB3aWxsIGJlIHJlbW92ZWRcblx0XHRcdHZhbHVlcyA9IFtdO1xuXHRcblx0XHRcdGlmIChzZWxmLiRhY3RpdmVJdGVtcy5sZW5ndGgpIHtcblx0XHRcdFx0JHRhaWwgPSBzZWxmLiRjb250cm9sLmNoaWxkcmVuKCcuYWN0aXZlOicgKyAoZGlyZWN0aW9uID4gMCA/ICdsYXN0JyA6ICdmaXJzdCcpKTtcblx0XHRcdFx0Y2FyZXQgPSBzZWxmLiRjb250cm9sLmNoaWxkcmVuKCc6bm90KGlucHV0KScpLmluZGV4KCR0YWlsKTtcblx0XHRcdFx0aWYgKGRpcmVjdGlvbiA+IDApIHsgY2FyZXQrKzsgfVxuXHRcblx0XHRcdFx0Zm9yIChpID0gMCwgbiA9IHNlbGYuJGFjdGl2ZUl0ZW1zLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRcdHZhbHVlcy5wdXNoKCQoc2VsZi4kYWN0aXZlSXRlbXNbaV0pLmF0dHIoJ2RhdGEtdmFsdWUnKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGUpIHtcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICgoc2VsZi5pc0ZvY3VzZWQgfHwgc2VsZi5zZXR0aW5ncy5tb2RlID09PSAnc2luZ2xlJykgJiYgc2VsZi5pdGVtcy5sZW5ndGgpIHtcblx0XHRcdFx0aWYgKGRpcmVjdGlvbiA8IDAgJiYgc2VsZWN0aW9uLnN0YXJ0ID09PSAwICYmIHNlbGVjdGlvbi5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHR2YWx1ZXMucHVzaChzZWxmLml0ZW1zW3NlbGYuY2FyZXRQb3MgLSAxXSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoZGlyZWN0aW9uID4gMCAmJiBzZWxlY3Rpb24uc3RhcnQgPT09IHNlbGYuJGNvbnRyb2xfaW5wdXQudmFsKCkubGVuZ3RoKSB7XG5cdFx0XHRcdFx0dmFsdWVzLnB1c2goc2VsZi5pdGVtc1tzZWxmLmNhcmV0UG9zXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHQvLyBhbGxvdyB0aGUgY2FsbGJhY2sgdG8gYWJvcnRcblx0XHRcdGlmICghdmFsdWVzLmxlbmd0aCB8fCAodHlwZW9mIHNlbGYuc2V0dGluZ3Mub25EZWxldGUgPT09ICdmdW5jdGlvbicgJiYgc2VsZi5zZXR0aW5ncy5vbkRlbGV0ZS5hcHBseShzZWxmLCBbdmFsdWVzXSkgPT09IGZhbHNlKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gcGVyZm9ybSByZW1vdmFsXG5cdFx0XHRpZiAodHlwZW9mIGNhcmV0ICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRzZWxmLnNldENhcmV0KGNhcmV0KTtcblx0XHRcdH1cblx0XHRcdHdoaWxlICh2YWx1ZXMubGVuZ3RoKSB7XG5cdFx0XHRcdHNlbGYucmVtb3ZlSXRlbSh2YWx1ZXMucG9wKCkpO1xuXHRcdFx0fVxuXHRcblx0XHRcdHNlbGYuc2hvd0lucHV0KCk7XG5cdFx0XHRzZWxmLnBvc2l0aW9uRHJvcGRvd24oKTtcblx0XHRcdHNlbGYucmVmcmVzaE9wdGlvbnModHJ1ZSk7XG5cdFxuXHRcdFx0Ly8gc2VsZWN0IHByZXZpb3VzIG9wdGlvblxuXHRcdFx0aWYgKG9wdGlvbl9zZWxlY3QpIHtcblx0XHRcdFx0JG9wdGlvbl9zZWxlY3QgPSBzZWxmLmdldE9wdGlvbihvcHRpb25fc2VsZWN0KTtcblx0XHRcdFx0aWYgKCRvcHRpb25fc2VsZWN0Lmxlbmd0aCkge1xuXHRcdFx0XHRcdHNlbGYuc2V0QWN0aXZlT3B0aW9uKCRvcHRpb25fc2VsZWN0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFNlbGVjdHMgdGhlIHByZXZpb3VzIC8gbmV4dCBpdGVtIChkZXBlbmRpbmdcblx0XHQgKiBvbiB0aGUgYGRpcmVjdGlvbmAgYXJndW1lbnQpLlxuXHRcdCAqXG5cdFx0ICogPiAwIC0gcmlnaHRcblx0XHQgKiA8IDAgLSBsZWZ0XG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge2ludH0gZGlyZWN0aW9uXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGUgKG9wdGlvbmFsKVxuXHRcdCAqL1xuXHRcdGFkdmFuY2VTZWxlY3Rpb246IGZ1bmN0aW9uKGRpcmVjdGlvbiwgZSkge1xuXHRcdFx0dmFyIHRhaWwsIHNlbGVjdGlvbiwgaWR4LCB2YWx1ZUxlbmd0aCwgY3Vyc29yQXRFZGdlLCAkdGFpbDtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHRpZiAoZGlyZWN0aW9uID09PSAwKSByZXR1cm47XG5cdFx0XHRpZiAoc2VsZi5ydGwpIGRpcmVjdGlvbiAqPSAtMTtcblx0XG5cdFx0XHR0YWlsID0gZGlyZWN0aW9uID4gMCA/ICdsYXN0JyA6ICdmaXJzdCc7XG5cdFx0XHRzZWxlY3Rpb24gPSBnZXRTZWxlY3Rpb24oc2VsZi4kY29udHJvbF9pbnB1dFswXSk7XG5cdFxuXHRcdFx0aWYgKHNlbGYuaXNGb2N1c2VkICYmICFzZWxmLmlzSW5wdXRIaWRkZW4pIHtcblx0XHRcdFx0dmFsdWVMZW5ndGggPSBzZWxmLiRjb250cm9sX2lucHV0LnZhbCgpLmxlbmd0aDtcblx0XHRcdFx0Y3Vyc29yQXRFZGdlID0gZGlyZWN0aW9uIDwgMFxuXHRcdFx0XHRcdD8gc2VsZWN0aW9uLnN0YXJ0ID09PSAwICYmIHNlbGVjdGlvbi5sZW5ndGggPT09IDBcblx0XHRcdFx0XHQ6IHNlbGVjdGlvbi5zdGFydCA9PT0gdmFsdWVMZW5ndGg7XG5cdFxuXHRcdFx0XHRpZiAoY3Vyc29yQXRFZGdlICYmICF2YWx1ZUxlbmd0aCkge1xuXHRcdFx0XHRcdHNlbGYuYWR2YW5jZUNhcmV0KGRpcmVjdGlvbiwgZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCR0YWlsID0gc2VsZi4kY29udHJvbC5jaGlsZHJlbignLmFjdGl2ZTonICsgdGFpbCk7XG5cdFx0XHRcdGlmICgkdGFpbC5sZW5ndGgpIHtcblx0XHRcdFx0XHRpZHggPSBzZWxmLiRjb250cm9sLmNoaWxkcmVuKCc6bm90KGlucHV0KScpLmluZGV4KCR0YWlsKTtcblx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZUl0ZW0obnVsbCk7XG5cdFx0XHRcdFx0c2VsZi5zZXRDYXJldChkaXJlY3Rpb24gPiAwID8gaWR4ICsgMSA6IGlkeCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBNb3ZlcyB0aGUgY2FyZXQgbGVmdCAvIHJpZ2h0LlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtpbnR9IGRpcmVjdGlvblxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBlIChvcHRpb25hbClcblx0XHQgKi9cblx0XHRhZHZhbmNlQ2FyZXQ6IGZ1bmN0aW9uKGRpcmVjdGlvbiwgZSkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLCBmbiwgJGFkajtcblx0XG5cdFx0XHRpZiAoZGlyZWN0aW9uID09PSAwKSByZXR1cm47XG5cdFxuXHRcdFx0Zm4gPSBkaXJlY3Rpb24gPiAwID8gJ25leHQnIDogJ3ByZXYnO1xuXHRcdFx0aWYgKHNlbGYuaXNTaGlmdERvd24pIHtcblx0XHRcdFx0JGFkaiA9IHNlbGYuJGNvbnRyb2xfaW5wdXRbZm5dKCk7XG5cdFx0XHRcdGlmICgkYWRqLmxlbmd0aCkge1xuXHRcdFx0XHRcdHNlbGYuaGlkZUlucHV0KCk7XG5cdFx0XHRcdFx0c2VsZi5zZXRBY3RpdmVJdGVtKCRhZGopO1xuXHRcdFx0XHRcdGUgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZWxmLnNldENhcmV0KHNlbGYuY2FyZXRQb3MgKyBkaXJlY3Rpb24pO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIE1vdmVzIHRoZSBjYXJldCB0byB0aGUgc3BlY2lmaWVkIGluZGV4LlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtpbnR9IGlcblx0XHQgKi9cblx0XHRzZXRDYXJldDogZnVuY3Rpb24oaSkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdGlmIChzZWxmLnNldHRpbmdzLm1vZGUgPT09ICdzaW5nbGUnKSB7XG5cdFx0XHRcdGkgPSBzZWxmLml0ZW1zLmxlbmd0aDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihzZWxmLml0ZW1zLmxlbmd0aCwgaSkpO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmKCFzZWxmLmlzUGVuZGluZykge1xuXHRcdFx0XHQvLyB0aGUgaW5wdXQgbXVzdCBiZSBtb3ZlZCBieSBsZWF2aW5nIGl0IGluIHBsYWNlIGFuZCBtb3ZpbmcgdGhlXG5cdFx0XHRcdC8vIHNpYmxpbmdzLCBkdWUgdG8gdGhlIGZhY3QgdGhhdCBmb2N1cyBjYW5ub3QgYmUgcmVzdG9yZWQgb25jZSBsb3N0XG5cdFx0XHRcdC8vIG9uIG1vYmlsZSB3ZWJraXQgZGV2aWNlc1xuXHRcdFx0XHR2YXIgaiwgbiwgZm4sICRjaGlsZHJlbiwgJGNoaWxkO1xuXHRcdFx0XHQkY2hpbGRyZW4gPSBzZWxmLiRjb250cm9sLmNoaWxkcmVuKCc6bm90KGlucHV0KScpO1xuXHRcdFx0XHRmb3IgKGogPSAwLCBuID0gJGNoaWxkcmVuLmxlbmd0aDsgaiA8IG47IGorKykge1xuXHRcdFx0XHRcdCRjaGlsZCA9ICQoJGNoaWxkcmVuW2pdKS5kZXRhY2goKTtcblx0XHRcdFx0XHRpZiAoaiA8ICBpKSB7XG5cdFx0XHRcdFx0XHRzZWxmLiRjb250cm9sX2lucHV0LmJlZm9yZSgkY2hpbGQpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzZWxmLiRjb250cm9sLmFwcGVuZCgkY2hpbGQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdHNlbGYuY2FyZXRQb3MgPSBpO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIERpc2FibGVzIHVzZXIgaW5wdXQgb24gdGhlIGNvbnRyb2wuIFVzZWQgd2hpbGVcblx0XHQgKiBpdGVtcyBhcmUgYmVpbmcgYXN5bmNocm9ub3VzbHkgY3JlYXRlZC5cblx0XHQgKi9cblx0XHRsb2NrOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHRcdHRoaXMuaXNMb2NrZWQgPSB0cnVlO1xuXHRcdFx0dGhpcy5yZWZyZXNoU3RhdGUoKTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBSZS1lbmFibGVzIHVzZXIgaW5wdXQgb24gdGhlIGNvbnRyb2wuXG5cdFx0ICovXG5cdFx0dW5sb2NrOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuaXNMb2NrZWQgPSBmYWxzZTtcblx0XHRcdHRoaXMucmVmcmVzaFN0YXRlKCk7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogRGlzYWJsZXMgdXNlciBpbnB1dCBvbiB0aGUgY29udHJvbCBjb21wbGV0ZWx5LlxuXHRcdCAqIFdoaWxlIGRpc2FibGVkLCBpdCBjYW5ub3QgcmVjZWl2ZSBmb2N1cy5cblx0XHQgKi9cblx0XHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHNlbGYuJGlucHV0LnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cdFx0XHRzZWxmLiRjb250cm9sX2lucHV0LnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSkucHJvcCgndGFiaW5kZXgnLCAtMSk7XG5cdFx0XHRzZWxmLmlzRGlzYWJsZWQgPSB0cnVlO1xuXHRcdFx0c2VsZi5sb2NrKCk7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogRW5hYmxlcyB0aGUgY29udHJvbCBzbyB0aGF0IGl0IGNhbiByZXNwb25kXG5cdFx0ICogdG8gZm9jdXMgYW5kIHVzZXIgaW5wdXQuXG5cdFx0ICovXG5cdFx0ZW5hYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHNlbGYuJGlucHV0LnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuXHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dC5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKS5wcm9wKCd0YWJpbmRleCcsIHNlbGYudGFiSW5kZXgpO1xuXHRcdFx0c2VsZi5pc0Rpc2FibGVkID0gZmFsc2U7XG5cdFx0XHRzZWxmLnVubG9jaygpO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENvbXBsZXRlbHkgZGVzdHJveXMgdGhlIGNvbnRyb2wgYW5kXG5cdFx0ICogdW5iaW5kcyBhbGwgZXZlbnQgbGlzdGVuZXJzIHNvIHRoYXQgaXQgY2FuXG5cdFx0ICogYmUgZ2FyYmFnZSBjb2xsZWN0ZWQuXG5cdFx0ICovXG5cdFx0ZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR2YXIgZXZlbnROUyA9IHNlbGYuZXZlbnROUztcblx0XHRcdHZhciByZXZlcnRTZXR0aW5ncyA9IHNlbGYucmV2ZXJ0U2V0dGluZ3M7XG5cdFxuXHRcdFx0c2VsZi50cmlnZ2VyKCdkZXN0cm95Jyk7XG5cdFx0XHRzZWxmLm9mZigpO1xuXHRcdFx0c2VsZi4kd3JhcHBlci5yZW1vdmUoKTtcblx0XHRcdHNlbGYuJGRyb3Bkb3duLnJlbW92ZSgpO1xuXHRcblx0XHRcdHNlbGYuJGlucHV0XG5cdFx0XHRcdC5odG1sKCcnKVxuXHRcdFx0XHQuYXBwZW5kKHJldmVydFNldHRpbmdzLiRjaGlsZHJlbilcblx0XHRcdFx0LnJlbW92ZUF0dHIoJ3RhYmluZGV4Jylcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCdzZWxlY3RpemVkJylcblx0XHRcdFx0LmF0dHIoe3RhYmluZGV4OiByZXZlcnRTZXR0aW5ncy50YWJpbmRleH0pXG5cdFx0XHRcdC5zaG93KCk7XG5cdFxuXHRcdFx0c2VsZi4kY29udHJvbF9pbnB1dC5yZW1vdmVEYXRhKCdncm93Jyk7XG5cdFx0XHRzZWxmLiRpbnB1dC5yZW1vdmVEYXRhKCdzZWxlY3RpemUnKTtcblx0XG5cdFx0XHQkKHdpbmRvdykub2ZmKGV2ZW50TlMpO1xuXHRcdFx0JChkb2N1bWVudCkub2ZmKGV2ZW50TlMpO1xuXHRcdFx0JChkb2N1bWVudC5ib2R5KS5vZmYoZXZlbnROUyk7XG5cdFxuXHRcdFx0ZGVsZXRlIHNlbGYuJGlucHV0WzBdLnNlbGVjdGl6ZTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBBIGhlbHBlciBtZXRob2QgZm9yIHJlbmRlcmluZyBcIml0ZW1cIiBhbmRcblx0XHQgKiBcIm9wdGlvblwiIHRlbXBsYXRlcywgZ2l2ZW4gdGhlIGRhdGEuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGVOYW1lXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGRhdGFcblx0XHQgKiBAcmV0dXJucyB7c3RyaW5nfVxuXHRcdCAqL1xuXHRcdHJlbmRlcjogZnVuY3Rpb24odGVtcGxhdGVOYW1lLCBkYXRhKSB7XG5cdFx0XHR2YXIgdmFsdWUsIGlkLCBsYWJlbDtcblx0XHRcdHZhciBodG1sID0gJyc7XG5cdFx0XHR2YXIgY2FjaGUgPSBmYWxzZTtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHZhciByZWdleF90YWcgPSAvXltcXHQgXFxyXFxuXSo8KFthLXpdW2EtejAtOVxcLV9dKig/OlxcOlthLXpdW2EtejAtOVxcLV9dKik/KS9pO1xuXHRcblx0XHRcdGlmICh0ZW1wbGF0ZU5hbWUgPT09ICdvcHRpb24nIHx8IHRlbXBsYXRlTmFtZSA9PT0gJ2l0ZW0nKSB7XG5cdFx0XHRcdHZhbHVlID0gaGFzaF9rZXkoZGF0YVtzZWxmLnNldHRpbmdzLnZhbHVlRmllbGRdKTtcblx0XHRcdFx0Y2FjaGUgPSAhIXZhbHVlO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIHB1bGwgbWFya3VwIGZyb20gY2FjaGUgaWYgaXQgZXhpc3RzXG5cdFx0XHRpZiAoY2FjaGUpIHtcblx0XHRcdFx0aWYgKCFpc3NldChzZWxmLnJlbmRlckNhY2hlW3RlbXBsYXRlTmFtZV0pKSB7XG5cdFx0XHRcdFx0c2VsZi5yZW5kZXJDYWNoZVt0ZW1wbGF0ZU5hbWVdID0ge307XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHNlbGYucmVuZGVyQ2FjaGVbdGVtcGxhdGVOYW1lXS5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gc2VsZi5yZW5kZXJDYWNoZVt0ZW1wbGF0ZU5hbWVdW3ZhbHVlXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vIHJlbmRlciBtYXJrdXBcblx0XHRcdGh0bWwgPSAkKHNlbGYuc2V0dGluZ3MucmVuZGVyW3RlbXBsYXRlTmFtZV0uYXBwbHkodGhpcywgW2RhdGEsIGVzY2FwZV9odG1sXSkpO1xuXHRcblx0XHRcdC8vIGFkZCBtYW5kYXRvcnkgYXR0cmlidXRlc1xuXHRcdFx0aWYgKHRlbXBsYXRlTmFtZSA9PT0gJ29wdGlvbicgfHwgdGVtcGxhdGVOYW1lID09PSAnb3B0aW9uX2NyZWF0ZScpIHtcblx0XHRcdFx0aHRtbC5hdHRyKCdkYXRhLXNlbGVjdGFibGUnLCAnJyk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmICh0ZW1wbGF0ZU5hbWUgPT09ICdvcHRncm91cCcpIHtcblx0XHRcdFx0aWQgPSBkYXRhW3NlbGYuc2V0dGluZ3Mub3B0Z3JvdXBWYWx1ZUZpZWxkXSB8fCAnJztcblx0XHRcdFx0aHRtbC5hdHRyKCdkYXRhLWdyb3VwJywgaWQpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRlbXBsYXRlTmFtZSA9PT0gJ29wdGlvbicgfHwgdGVtcGxhdGVOYW1lID09PSAnaXRlbScpIHtcblx0XHRcdFx0aHRtbC5hdHRyKCdkYXRhLXZhbHVlJywgdmFsdWUgfHwgJycpO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIHVwZGF0ZSBjYWNoZVxuXHRcdFx0aWYgKGNhY2hlKSB7XG5cdFx0XHRcdHNlbGYucmVuZGVyQ2FjaGVbdGVtcGxhdGVOYW1lXVt2YWx1ZV0gPSBodG1sWzBdO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBodG1sWzBdO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENsZWFycyB0aGUgcmVuZGVyIGNhY2hlIGZvciBhIHRlbXBsYXRlLiBJZlxuXHRcdCAqIG5vIHRlbXBsYXRlIGlzIGdpdmVuLCBjbGVhcnMgYWxsIHJlbmRlclxuXHRcdCAqIGNhY2hlcy5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZU5hbWVcblx0XHQgKi9cblx0XHRjbGVhckNhY2hlOiBmdW5jdGlvbih0ZW1wbGF0ZU5hbWUpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdGlmICh0eXBlb2YgdGVtcGxhdGVOYW1lID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRzZWxmLnJlbmRlckNhY2hlID0ge307XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWxldGUgc2VsZi5yZW5kZXJDYWNoZVt0ZW1wbGF0ZU5hbWVdO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIERldGVybWluZXMgd2hldGhlciBvciBub3QgdG8gZGlzcGxheSB0aGVcblx0XHQgKiBjcmVhdGUgaXRlbSBwcm9tcHQsIGdpdmVuIGEgdXNlciBpbnB1dC5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dFxuXHRcdCAqIEByZXR1cm4ge2Jvb2xlYW59XG5cdFx0ICovXG5cdFx0Y2FuQ3JlYXRlOiBmdW5jdGlvbihpbnB1dCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0aWYgKCFzZWxmLnNldHRpbmdzLmNyZWF0ZSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0dmFyIGZpbHRlciA9IHNlbGYuc2V0dGluZ3MuY3JlYXRlRmlsdGVyO1xuXHRcdFx0cmV0dXJuIGlucHV0Lmxlbmd0aFxuXHRcdFx0XHQmJiAodHlwZW9mIGZpbHRlciAhPT0gJ2Z1bmN0aW9uJyB8fCBmaWx0ZXIuYXBwbHkoc2VsZiwgW2lucHV0XSkpXG5cdFx0XHRcdCYmICh0eXBlb2YgZmlsdGVyICE9PSAnc3RyaW5nJyB8fCBuZXcgUmVnRXhwKGZpbHRlcikudGVzdChpbnB1dCkpXG5cdFx0XHRcdCYmICghKGZpbHRlciBpbnN0YW5jZW9mIFJlZ0V4cCkgfHwgZmlsdGVyLnRlc3QoaW5wdXQpKTtcblx0XHR9XG5cdFxuXHR9KTtcblx0XG5cdFxuXHRTZWxlY3RpemUuY291bnQgPSAwO1xuXHRTZWxlY3RpemUuZGVmYXVsdHMgPSB7XG5cdFx0b3B0aW9uczogW10sXG5cdFx0b3B0Z3JvdXBzOiBbXSxcblx0XG5cdFx0cGx1Z2luczogW10sXG5cdFx0ZGVsaW1pdGVyOiAnLCcsXG5cdFx0c3BsaXRPbjogbnVsbCwgLy8gcmVnZXhwIG9yIHN0cmluZyBmb3Igc3BsaXR0aW5nIHVwIHZhbHVlcyBmcm9tIGEgcGFzdGUgY29tbWFuZFxuXHRcdHBlcnNpc3Q6IHRydWUsXG5cdFx0ZGlhY3JpdGljczogdHJ1ZSxcblx0XHRjcmVhdGU6IGZhbHNlLFxuXHRcdGNyZWF0ZU9uQmx1cjogZmFsc2UsXG5cdFx0Y3JlYXRlRmlsdGVyOiBudWxsLFxuXHRcdGhpZ2hsaWdodDogdHJ1ZSxcblx0XHRvcGVuT25Gb2N1czogdHJ1ZSxcblx0XHRtYXhPcHRpb25zOiAxMDAwLFxuXHRcdG1heEl0ZW1zOiBudWxsLFxuXHRcdGhpZGVTZWxlY3RlZDogbnVsbCxcblx0XHRhZGRQcmVjZWRlbmNlOiBmYWxzZSxcblx0XHRzZWxlY3RPblRhYjogZmFsc2UsXG5cdFx0cHJlbG9hZDogZmFsc2UsXG5cdFx0YWxsb3dFbXB0eU9wdGlvbjogZmFsc2UsXG5cdFx0Y2xvc2VBZnRlclNlbGVjdDogZmFsc2UsXG5cdFxuXHRcdHNjcm9sbER1cmF0aW9uOiA2MCxcblx0XHRsb2FkVGhyb3R0bGU6IDMwMCxcblx0XHRsb2FkaW5nQ2xhc3M6ICdsb2FkaW5nJyxcblx0XG5cdFx0ZGF0YUF0dHI6ICdkYXRhLWRhdGEnLFxuXHRcdG9wdGdyb3VwRmllbGQ6ICdvcHRncm91cCcsXG5cdFx0dmFsdWVGaWVsZDogJ3ZhbHVlJyxcblx0XHRsYWJlbEZpZWxkOiAndGV4dCcsXG5cdFx0b3B0Z3JvdXBMYWJlbEZpZWxkOiAnbGFiZWwnLFxuXHRcdG9wdGdyb3VwVmFsdWVGaWVsZDogJ3ZhbHVlJyxcblx0XHRsb2NrT3B0Z3JvdXBPcmRlcjogZmFsc2UsXG5cdFxuXHRcdHNvcnRGaWVsZDogJyRvcmRlcicsXG5cdFx0c2VhcmNoRmllbGQ6IFsndGV4dCddLFxuXHRcdHNlYXJjaENvbmp1bmN0aW9uOiAnYW5kJyxcblx0XG5cdFx0bW9kZTogbnVsbCxcblx0XHR3cmFwcGVyQ2xhc3M6ICdzZWxlY3RpemUtY29udHJvbCcsXG5cdFx0aW5wdXRDbGFzczogJ3NlbGVjdGl6ZS1pbnB1dCcsXG5cdFx0ZHJvcGRvd25DbGFzczogJ3NlbGVjdGl6ZS1kcm9wZG93bicsXG5cdFx0ZHJvcGRvd25Db250ZW50Q2xhc3M6ICdzZWxlY3RpemUtZHJvcGRvd24tY29udGVudCcsXG5cdFxuXHRcdGRyb3Bkb3duUGFyZW50OiBudWxsLFxuXHRcblx0XHRjb3B5Q2xhc3Nlc1RvRHJvcGRvd246IHRydWUsXG5cdFxuXHRcdC8qXG5cdFx0bG9hZCAgICAgICAgICAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbihxdWVyeSwgY2FsbGJhY2spIHsgLi4uIH1cblx0XHRzY29yZSAgICAgICAgICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKHNlYXJjaCkgeyAuLi4gfVxuXHRcdG9uSW5pdGlhbGl6ZSAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24oKSB7IC4uLiB9XG5cdFx0b25DaGFuZ2UgICAgICAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbih2YWx1ZSkgeyAuLi4gfVxuXHRcdG9uSXRlbUFkZCAgICAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24odmFsdWUsICRpdGVtKSB7IC4uLiB9XG5cdFx0b25JdGVtUmVtb3ZlICAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbih2YWx1ZSkgeyAuLi4gfVxuXHRcdG9uQ2xlYXIgICAgICAgICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24oKSB7IC4uLiB9XG5cdFx0b25PcHRpb25BZGQgICAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbih2YWx1ZSwgZGF0YSkgeyAuLi4gfVxuXHRcdG9uT3B0aW9uUmVtb3ZlICAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24odmFsdWUpIHsgLi4uIH1cblx0XHRvbk9wdGlvbkNsZWFyICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKCkgeyAuLi4gfVxuXHRcdG9uT3B0aW9uR3JvdXBBZGQgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24oaWQsIGRhdGEpIHsgLi4uIH1cblx0XHRvbk9wdGlvbkdyb3VwUmVtb3ZlICA6IG51bGwsIC8vIGZ1bmN0aW9uKGlkKSB7IC4uLiB9XG5cdFx0b25PcHRpb25Hcm91cENsZWFyICAgOiBudWxsLCAvLyBmdW5jdGlvbigpIHsgLi4uIH1cblx0XHRvbkRyb3Bkb3duT3BlbiAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKCRkcm9wZG93bikgeyAuLi4gfVxuXHRcdG9uRHJvcGRvd25DbG9zZSAgICAgIDogbnVsbCwgLy8gZnVuY3Rpb24oJGRyb3Bkb3duKSB7IC4uLiB9XG5cdFx0b25UeXBlICAgICAgICAgICAgICAgOiBudWxsLCAvLyBmdW5jdGlvbihzdHIpIHsgLi4uIH1cblx0XHRvbkRlbGV0ZSAgICAgICAgICAgICA6IG51bGwsIC8vIGZ1bmN0aW9uKHZhbHVlcykgeyAuLi4gfVxuXHRcdCovXG5cdFxuXHRcdHJlbmRlcjoge1xuXHRcdFx0Lypcblx0XHRcdGl0ZW06IG51bGwsXG5cdFx0XHRvcHRncm91cDogbnVsbCxcblx0XHRcdG9wdGdyb3VwX2hlYWRlcjogbnVsbCxcblx0XHRcdG9wdGlvbjogbnVsbCxcblx0XHRcdG9wdGlvbl9jcmVhdGU6IG51bGxcblx0XHRcdCovXG5cdFx0fVxuXHR9O1xuXHRcblx0XG5cdCQuZm4uc2VsZWN0aXplID0gZnVuY3Rpb24oc2V0dGluZ3NfdXNlcikge1xuXHRcdHZhciBkZWZhdWx0cyAgICAgICAgICAgICA9ICQuZm4uc2VsZWN0aXplLmRlZmF1bHRzO1xuXHRcdHZhciBzZXR0aW5ncyAgICAgICAgICAgICA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgc2V0dGluZ3NfdXNlcik7XG5cdFx0dmFyIGF0dHJfZGF0YSAgICAgICAgICAgID0gc2V0dGluZ3MuZGF0YUF0dHI7XG5cdFx0dmFyIGZpZWxkX2xhYmVsICAgICAgICAgID0gc2V0dGluZ3MubGFiZWxGaWVsZDtcblx0XHR2YXIgZmllbGRfdmFsdWUgICAgICAgICAgPSBzZXR0aW5ncy52YWx1ZUZpZWxkO1xuXHRcdHZhciBmaWVsZF9vcHRncm91cCAgICAgICA9IHNldHRpbmdzLm9wdGdyb3VwRmllbGQ7XG5cdFx0dmFyIGZpZWxkX29wdGdyb3VwX2xhYmVsID0gc2V0dGluZ3Mub3B0Z3JvdXBMYWJlbEZpZWxkO1xuXHRcdHZhciBmaWVsZF9vcHRncm91cF92YWx1ZSA9IHNldHRpbmdzLm9wdGdyb3VwVmFsdWVGaWVsZDtcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZXMgc2VsZWN0aXplIGZyb20gYSA8aW5wdXQgdHlwZT1cInRleHRcIj4gZWxlbWVudC5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSAkaW5wdXRcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3NfZWxlbWVudFxuXHRcdCAqL1xuXHRcdHZhciBpbml0X3RleHRib3ggPSBmdW5jdGlvbigkaW5wdXQsIHNldHRpbmdzX2VsZW1lbnQpIHtcblx0XHRcdHZhciBpLCBuLCB2YWx1ZXMsIG9wdGlvbjtcblx0XG5cdFx0XHR2YXIgZGF0YV9yYXcgPSAkaW5wdXQuYXR0cihhdHRyX2RhdGEpO1xuXHRcblx0XHRcdGlmICghZGF0YV9yYXcpIHtcblx0XHRcdFx0dmFyIHZhbHVlID0gJC50cmltKCRpbnB1dC52YWwoKSB8fCAnJyk7XG5cdFx0XHRcdGlmICghc2V0dGluZ3MuYWxsb3dFbXB0eU9wdGlvbiAmJiAhdmFsdWUubGVuZ3RoKSByZXR1cm47XG5cdFx0XHRcdHZhbHVlcyA9IHZhbHVlLnNwbGl0KHNldHRpbmdzLmRlbGltaXRlcik7XG5cdFx0XHRcdGZvciAoaSA9IDAsIG4gPSB2YWx1ZXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdFx0b3B0aW9uID0ge307XG5cdFx0XHRcdFx0b3B0aW9uW2ZpZWxkX2xhYmVsXSA9IHZhbHVlc1tpXTtcblx0XHRcdFx0XHRvcHRpb25bZmllbGRfdmFsdWVdID0gdmFsdWVzW2ldO1xuXHRcdFx0XHRcdHNldHRpbmdzX2VsZW1lbnQub3B0aW9ucy5wdXNoKG9wdGlvbik7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2V0dGluZ3NfZWxlbWVudC5pdGVtcyA9IHZhbHVlcztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNldHRpbmdzX2VsZW1lbnQub3B0aW9ucyA9IEpTT04ucGFyc2UoZGF0YV9yYXcpO1xuXHRcdFx0XHRmb3IgKGkgPSAwLCBuID0gc2V0dGluZ3NfZWxlbWVudC5vcHRpb25zLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRcdHNldHRpbmdzX2VsZW1lbnQuaXRlbXMucHVzaChzZXR0aW5nc19lbGVtZW50Lm9wdGlvbnNbaV1bZmllbGRfdmFsdWVdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemVzIHNlbGVjdGl6ZSBmcm9tIGEgPHNlbGVjdD4gZWxlbWVudC5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSAkaW5wdXRcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3NfZWxlbWVudFxuXHRcdCAqL1xuXHRcdHZhciBpbml0X3NlbGVjdCA9IGZ1bmN0aW9uKCRpbnB1dCwgc2V0dGluZ3NfZWxlbWVudCkge1xuXHRcdFx0dmFyIGksIG4sIHRhZ05hbWUsICRjaGlsZHJlbiwgb3JkZXIgPSAwO1xuXHRcdFx0dmFyIG9wdGlvbnMgPSBzZXR0aW5nc19lbGVtZW50Lm9wdGlvbnM7XG5cdFx0XHR2YXIgb3B0aW9uc01hcCA9IHt9O1xuXHRcblx0XHRcdHZhciByZWFkRGF0YSA9IGZ1bmN0aW9uKCRlbCkge1xuXHRcdFx0XHR2YXIgZGF0YSA9IGF0dHJfZGF0YSAmJiAkZWwuYXR0cihhdHRyX2RhdGEpO1xuXHRcdFx0XHRpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEubGVuZ3RoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9O1xuXHRcblx0XHRcdHZhciBhZGRPcHRpb24gPSBmdW5jdGlvbigkb3B0aW9uLCBncm91cCkge1xuXHRcdFx0XHQkb3B0aW9uID0gJCgkb3B0aW9uKTtcblx0XG5cdFx0XHRcdHZhciB2YWx1ZSA9IGhhc2hfa2V5KCRvcHRpb24udmFsKCkpO1xuXHRcdFx0XHRpZiAoIXZhbHVlICYmICFzZXR0aW5ncy5hbGxvd0VtcHR5T3B0aW9uKSByZXR1cm47XG5cdFxuXHRcdFx0XHQvLyBpZiB0aGUgb3B0aW9uIGFscmVhZHkgZXhpc3RzLCBpdCdzIHByb2JhYmx5IGJlZW5cblx0XHRcdFx0Ly8gZHVwbGljYXRlZCBpbiBhbm90aGVyIG9wdGdyb3VwLiBpbiB0aGlzIGNhc2UsIHB1c2hcblx0XHRcdFx0Ly8gdGhlIGN1cnJlbnQgZ3JvdXAgdG8gdGhlIFwib3B0Z3JvdXBcIiBwcm9wZXJ0eSBvbiB0aGVcblx0XHRcdFx0Ly8gZXhpc3Rpbmcgb3B0aW9uIHNvIHRoYXQgaXQncyByZW5kZXJlZCBpbiBib3RoIHBsYWNlcy5cblx0XHRcdFx0aWYgKG9wdGlvbnNNYXAuaGFzT3duUHJvcGVydHkodmFsdWUpKSB7XG5cdFx0XHRcdFx0aWYgKGdyb3VwKSB7XG5cdFx0XHRcdFx0XHR2YXIgYXJyID0gb3B0aW9uc01hcFt2YWx1ZV1bZmllbGRfb3B0Z3JvdXBdO1xuXHRcdFx0XHRcdFx0aWYgKCFhcnIpIHtcblx0XHRcdFx0XHRcdFx0b3B0aW9uc01hcFt2YWx1ZV1bZmllbGRfb3B0Z3JvdXBdID0gZ3JvdXA7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCEkLmlzQXJyYXkoYXJyKSkge1xuXHRcdFx0XHRcdFx0XHRvcHRpb25zTWFwW3ZhbHVlXVtmaWVsZF9vcHRncm91cF0gPSBbYXJyLCBncm91cF07XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRhcnIucHVzaChncm91cCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0dmFyIG9wdGlvbiAgICAgICAgICAgICA9IHJlYWREYXRhKCRvcHRpb24pIHx8IHt9O1xuXHRcdFx0XHRvcHRpb25bZmllbGRfbGFiZWxdICAgID0gb3B0aW9uW2ZpZWxkX2xhYmVsXSB8fCAkb3B0aW9uLnRleHQoKTtcblx0XHRcdFx0b3B0aW9uW2ZpZWxkX3ZhbHVlXSAgICA9IG9wdGlvbltmaWVsZF92YWx1ZV0gfHwgdmFsdWU7XG5cdFx0XHRcdG9wdGlvbltmaWVsZF9vcHRncm91cF0gPSBvcHRpb25bZmllbGRfb3B0Z3JvdXBdIHx8IGdyb3VwO1xuXHRcblx0XHRcdFx0b3B0aW9uc01hcFt2YWx1ZV0gPSBvcHRpb247XG5cdFx0XHRcdG9wdGlvbnMucHVzaChvcHRpb24pO1xuXHRcblx0XHRcdFx0aWYgKCRvcHRpb24uaXMoJzpzZWxlY3RlZCcpKSB7XG5cdFx0XHRcdFx0c2V0dGluZ3NfZWxlbWVudC5pdGVtcy5wdXNoKHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XG5cdFx0XHR2YXIgYWRkR3JvdXAgPSBmdW5jdGlvbigkb3B0Z3JvdXApIHtcblx0XHRcdFx0dmFyIGksIG4sIGlkLCBvcHRncm91cCwgJG9wdGlvbnM7XG5cdFxuXHRcdFx0XHQkb3B0Z3JvdXAgPSAkKCRvcHRncm91cCk7XG5cdFx0XHRcdGlkID0gJG9wdGdyb3VwLmF0dHIoJ2xhYmVsJyk7XG5cdFxuXHRcdFx0XHRpZiAoaWQpIHtcblx0XHRcdFx0XHRvcHRncm91cCA9IHJlYWREYXRhKCRvcHRncm91cCkgfHwge307XG5cdFx0XHRcdFx0b3B0Z3JvdXBbZmllbGRfb3B0Z3JvdXBfbGFiZWxdID0gaWQ7XG5cdFx0XHRcdFx0b3B0Z3JvdXBbZmllbGRfb3B0Z3JvdXBfdmFsdWVdID0gaWQ7XG5cdFx0XHRcdFx0c2V0dGluZ3NfZWxlbWVudC5vcHRncm91cHMucHVzaChvcHRncm91cCk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdCRvcHRpb25zID0gJCgnb3B0aW9uJywgJG9wdGdyb3VwKTtcblx0XHRcdFx0Zm9yIChpID0gMCwgbiA9ICRvcHRpb25zLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRcdGFkZE9wdGlvbigkb3B0aW9uc1tpXSwgaWQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcblx0XHRcdHNldHRpbmdzX2VsZW1lbnQubWF4SXRlbXMgPSAkaW5wdXQuYXR0cignbXVsdGlwbGUnKSA/IG51bGwgOiAxO1xuXHRcblx0XHRcdCRjaGlsZHJlbiA9ICRpbnB1dC5jaGlsZHJlbigpO1xuXHRcdFx0Zm9yIChpID0gMCwgbiA9ICRjaGlsZHJlbi5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0dGFnTmFtZSA9ICRjaGlsZHJlbltpXS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdGlmICh0YWdOYW1lID09PSAnb3B0Z3JvdXAnKSB7XG5cdFx0XHRcdFx0YWRkR3JvdXAoJGNoaWxkcmVuW2ldKTtcblx0XHRcdFx0fSBlbHNlIGlmICh0YWdOYW1lID09PSAnb3B0aW9uJykge1xuXHRcdFx0XHRcdGFkZE9wdGlvbigkY2hpbGRyZW5baV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0XG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGlmICh0aGlzLnNlbGVjdGl6ZSkgcmV0dXJuO1xuXHRcblx0XHRcdHZhciBpbnN0YW5jZTtcblx0XHRcdHZhciAkaW5wdXQgPSAkKHRoaXMpO1xuXHRcdFx0dmFyIHRhZ19uYW1lID0gdGhpcy50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHR2YXIgcGxhY2Vob2xkZXIgPSAkaW5wdXQuYXR0cigncGxhY2Vob2xkZXInKSB8fCAkaW5wdXQuYXR0cignZGF0YS1wbGFjZWhvbGRlcicpO1xuXHRcdFx0aWYgKCFwbGFjZWhvbGRlciAmJiAhc2V0dGluZ3MuYWxsb3dFbXB0eU9wdGlvbikge1xuXHRcdFx0XHRwbGFjZWhvbGRlciA9ICRpbnB1dC5jaGlsZHJlbignb3B0aW9uW3ZhbHVlPVwiXCJdJykudGV4dCgpO1xuXHRcdFx0fVxuXHRcblx0XHRcdHZhciBzZXR0aW5nc19lbGVtZW50ID0ge1xuXHRcdFx0XHQncGxhY2Vob2xkZXInIDogcGxhY2Vob2xkZXIsXG5cdFx0XHRcdCdvcHRpb25zJyAgICAgOiBbXSxcblx0XHRcdFx0J29wdGdyb3VwcycgICA6IFtdLFxuXHRcdFx0XHQnaXRlbXMnICAgICAgIDogW11cblx0XHRcdH07XG5cdFxuXHRcdFx0aWYgKHRhZ19uYW1lID09PSAnc2VsZWN0Jykge1xuXHRcdFx0XHRpbml0X3NlbGVjdCgkaW5wdXQsIHNldHRpbmdzX2VsZW1lbnQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aW5pdF90ZXh0Ym94KCRpbnB1dCwgc2V0dGluZ3NfZWxlbWVudCk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aW5zdGFuY2UgPSBuZXcgU2VsZWN0aXplKCRpbnB1dCwgJC5leHRlbmQodHJ1ZSwge30sIGRlZmF1bHRzLCBzZXR0aW5nc19lbGVtZW50LCBzZXR0aW5nc191c2VyKSk7XG5cdFx0fSk7XG5cdH07XG5cdFxuXHQkLmZuLnNlbGVjdGl6ZS5kZWZhdWx0cyA9IFNlbGVjdGl6ZS5kZWZhdWx0cztcblx0JC5mbi5zZWxlY3RpemUuc3VwcG9ydCA9IHtcblx0XHR2YWxpZGl0eTogU1VQUE9SVFNfVkFMSURJVFlfQVBJXG5cdH07XG5cdFxuXHRcblx0U2VsZWN0aXplLmRlZmluZSgnZHJhZ19kcm9wJywgZnVuY3Rpb24ob3B0aW9ucykge1xuXHRcdGlmICghJC5mbi5zb3J0YWJsZSkgdGhyb3cgbmV3IEVycm9yKCdUaGUgXCJkcmFnX2Ryb3BcIiBwbHVnaW4gcmVxdWlyZXMgalF1ZXJ5IFVJIFwic29ydGFibGVcIi4nKTtcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5tb2RlICE9PSAnbXVsdGknKSByZXR1cm47XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRzZWxmLmxvY2sgPSAoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLmxvY2s7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBzb3J0YWJsZSA9IHNlbGYuJGNvbnRyb2wuZGF0YSgnc29ydGFibGUnKTtcblx0XHRcdFx0aWYgKHNvcnRhYmxlKSBzb3J0YWJsZS5kaXNhYmxlKCk7XG5cdFx0XHRcdHJldHVybiBvcmlnaW5hbC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuXHRcdFx0fTtcblx0XHR9KSgpO1xuXHRcblx0XHRzZWxmLnVubG9jayA9IChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBvcmlnaW5hbCA9IHNlbGYudW5sb2NrO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgc29ydGFibGUgPSBzZWxmLiRjb250cm9sLmRhdGEoJ3NvcnRhYmxlJyk7XG5cdFx0XHRcdGlmIChzb3J0YWJsZSkgc29ydGFibGUuZW5hYmxlKCk7XG5cdFx0XHRcdHJldHVybiBvcmlnaW5hbC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuXHRcdFx0fTtcblx0XHR9KSgpO1xuXHRcblx0XHRzZWxmLnNldHVwID0gKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG9yaWdpbmFsID0gc2VsZi5zZXR1cDtcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0b3JpZ2luYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XG5cdFx0XHRcdHZhciAkY29udHJvbCA9IHNlbGYuJGNvbnRyb2wuc29ydGFibGUoe1xuXHRcdFx0XHRcdGl0ZW1zOiAnW2RhdGEtdmFsdWVdJyxcblx0XHRcdFx0XHRmb3JjZVBsYWNlaG9sZGVyU2l6ZTogdHJ1ZSxcblx0XHRcdFx0XHRkaXNhYmxlZDogc2VsZi5pc0xvY2tlZCxcblx0XHRcdFx0XHRzdGFydDogZnVuY3Rpb24oZSwgdWkpIHtcblx0XHRcdFx0XHRcdHVpLnBsYWNlaG9sZGVyLmNzcygnd2lkdGgnLCB1aS5oZWxwZXIuY3NzKCd3aWR0aCcpKTtcblx0XHRcdFx0XHRcdCRjb250cm9sLmNzcyh7b3ZlcmZsb3c6ICd2aXNpYmxlJ30pO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3RvcDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHQkY29udHJvbC5jc3Moe292ZXJmbG93OiAnaGlkZGVuJ30pO1xuXHRcdFx0XHRcdFx0dmFyIGFjdGl2ZSA9IHNlbGYuJGFjdGl2ZUl0ZW1zID8gc2VsZi4kYWN0aXZlSXRlbXMuc2xpY2UoKSA6IG51bGw7XG5cdFx0XHRcdFx0XHR2YXIgdmFsdWVzID0gW107XG5cdFx0XHRcdFx0XHQkY29udHJvbC5jaGlsZHJlbignW2RhdGEtdmFsdWVdJykuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0dmFsdWVzLnB1c2goJCh0aGlzKS5hdHRyKCdkYXRhLXZhbHVlJykpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRzZWxmLnNldFZhbHVlKHZhbHVlcyk7XG5cdFx0XHRcdFx0XHRzZWxmLnNldEFjdGl2ZUl0ZW0oYWN0aXZlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fTtcblx0XHR9KSgpO1xuXHRcblx0fSk7XG5cdFxuXHRTZWxlY3RpemUuZGVmaW5lKCdkcm9wZG93bl9oZWFkZXInLCBmdW5jdGlvbihvcHRpb25zKSB7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRvcHRpb25zID0gJC5leHRlbmQoe1xuXHRcdFx0dGl0bGUgICAgICAgICA6ICdVbnRpdGxlZCcsXG5cdFx0XHRoZWFkZXJDbGFzcyAgIDogJ3NlbGVjdGl6ZS1kcm9wZG93bi1oZWFkZXInLFxuXHRcdFx0dGl0bGVSb3dDbGFzcyA6ICdzZWxlY3RpemUtZHJvcGRvd24taGVhZGVyLXRpdGxlJyxcblx0XHRcdGxhYmVsQ2xhc3MgICAgOiAnc2VsZWN0aXplLWRyb3Bkb3duLWhlYWRlci1sYWJlbCcsXG5cdFx0XHRjbG9zZUNsYXNzICAgIDogJ3NlbGVjdGl6ZS1kcm9wZG93bi1oZWFkZXItY2xvc2UnLFxuXHRcblx0XHRcdGh0bWw6IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIicgKyBkYXRhLmhlYWRlckNsYXNzICsgJ1wiPicgK1xuXHRcdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCInICsgZGF0YS50aXRsZVJvd0NsYXNzICsgJ1wiPicgK1xuXHRcdFx0XHRcdFx0XHQnPHNwYW4gY2xhc3M9XCInICsgZGF0YS5sYWJlbENsYXNzICsgJ1wiPicgKyBkYXRhLnRpdGxlICsgJzwvc3Bhbj4nICtcblx0XHRcdFx0XHRcdFx0JzxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBjbGFzcz1cIicgKyBkYXRhLmNsb3NlQ2xhc3MgKyAnXCI+JnRpbWVzOzwvYT4nICtcblx0XHRcdFx0XHRcdCc8L2Rpdj4nICtcblx0XHRcdFx0XHQnPC9kaXY+J1xuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH0sIG9wdGlvbnMpO1xuXHRcblx0XHRzZWxmLnNldHVwID0gKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG9yaWdpbmFsID0gc2VsZi5zZXR1cDtcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0b3JpZ2luYWwuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcblx0XHRcdFx0c2VsZi4kZHJvcGRvd25faGVhZGVyID0gJChvcHRpb25zLmh0bWwob3B0aW9ucykpO1xuXHRcdFx0XHRzZWxmLiRkcm9wZG93bi5wcmVwZW5kKHNlbGYuJGRyb3Bkb3duX2hlYWRlcik7XG5cdFx0XHR9O1xuXHRcdH0pKCk7XG5cdFxuXHR9KTtcblx0XG5cdFNlbGVjdGl6ZS5kZWZpbmUoJ29wdGdyb3VwX2NvbHVtbnMnLCBmdW5jdGlvbihvcHRpb25zKSB7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRvcHRpb25zID0gJC5leHRlbmQoe1xuXHRcdFx0ZXF1YWxpemVXaWR0aCAgOiB0cnVlLFxuXHRcdFx0ZXF1YWxpemVIZWlnaHQgOiB0cnVlXG5cdFx0fSwgb3B0aW9ucyk7XG5cdFxuXHRcdHRoaXMuZ2V0QWRqYWNlbnRPcHRpb24gPSBmdW5jdGlvbigkb3B0aW9uLCBkaXJlY3Rpb24pIHtcblx0XHRcdHZhciAkb3B0aW9ucyA9ICRvcHRpb24uY2xvc2VzdCgnW2RhdGEtZ3JvdXBdJykuZmluZCgnW2RhdGEtc2VsZWN0YWJsZV0nKTtcblx0XHRcdHZhciBpbmRleCAgICA9ICRvcHRpb25zLmluZGV4KCRvcHRpb24pICsgZGlyZWN0aW9uO1xuXHRcblx0XHRcdHJldHVybiBpbmRleCA+PSAwICYmIGluZGV4IDwgJG9wdGlvbnMubGVuZ3RoID8gJG9wdGlvbnMuZXEoaW5kZXgpIDogJCgpO1xuXHRcdH07XG5cdFxuXHRcdHRoaXMub25LZXlEb3duID0gKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG9yaWdpbmFsID0gc2VsZi5vbktleURvd247XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHR2YXIgaW5kZXgsICRvcHRpb24sICRvcHRpb25zLCAkb3B0Z3JvdXA7XG5cdFxuXHRcdFx0XHRpZiAodGhpcy5pc09wZW4gJiYgKGUua2V5Q29kZSA9PT0gS0VZX0xFRlQgfHwgZS5rZXlDb2RlID09PSBLRVlfUklHSFQpKSB7XG5cdFx0XHRcdFx0c2VsZi5pZ25vcmVIb3ZlciA9IHRydWU7XG5cdFx0XHRcdFx0JG9wdGdyb3VwID0gdGhpcy4kYWN0aXZlT3B0aW9uLmNsb3Nlc3QoJ1tkYXRhLWdyb3VwXScpO1xuXHRcdFx0XHRcdGluZGV4ID0gJG9wdGdyb3VwLmZpbmQoJ1tkYXRhLXNlbGVjdGFibGVdJykuaW5kZXgodGhpcy4kYWN0aXZlT3B0aW9uKTtcblx0XG5cdFx0XHRcdFx0aWYoZS5rZXlDb2RlID09PSBLRVlfTEVGVCkge1xuXHRcdFx0XHRcdFx0JG9wdGdyb3VwID0gJG9wdGdyb3VwLnByZXYoJ1tkYXRhLWdyb3VwXScpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQkb3B0Z3JvdXAgPSAkb3B0Z3JvdXAubmV4dCgnW2RhdGEtZ3JvdXBdJyk7XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHQkb3B0aW9ucyA9ICRvcHRncm91cC5maW5kKCdbZGF0YS1zZWxlY3RhYmxlXScpO1xuXHRcdFx0XHRcdCRvcHRpb24gID0gJG9wdGlvbnMuZXEoTWF0aC5taW4oJG9wdGlvbnMubGVuZ3RoIC0gMSwgaW5kZXgpKTtcblx0XHRcdFx0XHRpZiAoJG9wdGlvbi5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdHRoaXMuc2V0QWN0aXZlT3B0aW9uKCRvcHRpb24pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHJldHVybiBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0fTtcblx0XHR9KSgpO1xuXHRcblx0XHR2YXIgZ2V0U2Nyb2xsYmFyV2lkdGggPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBkaXY7XG5cdFx0XHR2YXIgd2lkdGggPSBnZXRTY3JvbGxiYXJXaWR0aC53aWR0aDtcblx0XHRcdHZhciBkb2MgPSBkb2N1bWVudDtcblx0XG5cdFx0XHRpZiAodHlwZW9mIHdpZHRoID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRkaXYgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSAnPGRpdiBzdHlsZT1cIndpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7cG9zaXRpb246YWJzb2x1dGU7bGVmdDotNTBweDt0b3A6LTUwcHg7b3ZlcmZsb3c6YXV0bztcIj48ZGl2IHN0eWxlPVwid2lkdGg6MXB4O2hlaWdodDoxMDBweDtcIj48L2Rpdj48L2Rpdj4nO1xuXHRcdFx0XHRkaXYgPSBkaXYuZmlyc3RDaGlsZDtcblx0XHRcdFx0ZG9jLmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcblx0XHRcdFx0d2lkdGggPSBnZXRTY3JvbGxiYXJXaWR0aC53aWR0aCA9IGRpdi5vZmZzZXRXaWR0aCAtIGRpdi5jbGllbnRXaWR0aDtcblx0XHRcdFx0ZG9jLmJvZHkucmVtb3ZlQ2hpbGQoZGl2KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB3aWR0aDtcblx0XHR9O1xuXHRcblx0XHR2YXIgZXF1YWxpemVTaXplcyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGksIG4sIGhlaWdodF9tYXgsIHdpZHRoLCB3aWR0aF9sYXN0LCB3aWR0aF9wYXJlbnQsICRvcHRncm91cHM7XG5cdFxuXHRcdFx0JG9wdGdyb3VwcyA9ICQoJ1tkYXRhLWdyb3VwXScsIHNlbGYuJGRyb3Bkb3duX2NvbnRlbnQpO1xuXHRcdFx0biA9ICRvcHRncm91cHMubGVuZ3RoO1xuXHRcdFx0aWYgKCFuIHx8ICFzZWxmLiRkcm9wZG93bl9jb250ZW50LndpZHRoKCkpIHJldHVybjtcblx0XG5cdFx0XHRpZiAob3B0aW9ucy5lcXVhbGl6ZUhlaWdodCkge1xuXHRcdFx0XHRoZWlnaHRfbWF4ID0gMDtcblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRcdGhlaWdodF9tYXggPSBNYXRoLm1heChoZWlnaHRfbWF4LCAkb3B0Z3JvdXBzLmVxKGkpLmhlaWdodCgpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQkb3B0Z3JvdXBzLmNzcyh7aGVpZ2h0OiBoZWlnaHRfbWF4fSk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKG9wdGlvbnMuZXF1YWxpemVXaWR0aCkge1xuXHRcdFx0XHR3aWR0aF9wYXJlbnQgPSBzZWxmLiRkcm9wZG93bl9jb250ZW50LmlubmVyV2lkdGgoKSAtIGdldFNjcm9sbGJhcldpZHRoKCk7XG5cdFx0XHRcdHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aF9wYXJlbnQgLyBuKTtcblx0XHRcdFx0JG9wdGdyb3Vwcy5jc3Moe3dpZHRoOiB3aWR0aH0pO1xuXHRcdFx0XHRpZiAobiA+IDEpIHtcblx0XHRcdFx0XHR3aWR0aF9sYXN0ID0gd2lkdGhfcGFyZW50IC0gd2lkdGggKiAobiAtIDEpO1xuXHRcdFx0XHRcdCRvcHRncm91cHMuZXEobiAtIDEpLmNzcyh7d2lkdGg6IHdpZHRoX2xhc3R9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdFxuXHRcdGlmIChvcHRpb25zLmVxdWFsaXplSGVpZ2h0IHx8IG9wdGlvbnMuZXF1YWxpemVXaWR0aCkge1xuXHRcdFx0aG9vay5hZnRlcih0aGlzLCAncG9zaXRpb25Ecm9wZG93bicsIGVxdWFsaXplU2l6ZXMpO1xuXHRcdFx0aG9vay5hZnRlcih0aGlzLCAncmVmcmVzaE9wdGlvbnMnLCBlcXVhbGl6ZVNpemVzKTtcblx0XHR9XG5cdFxuXHRcblx0fSk7XG5cdFxuXHRTZWxlY3RpemUuZGVmaW5lKCdyZW1vdmVfYnV0dG9uJywgZnVuY3Rpb24ob3B0aW9ucykge1xuXHRcdG9wdGlvbnMgPSAkLmV4dGVuZCh7XG5cdFx0XHRcdGxhYmVsICAgICA6ICcmdGltZXM7Jyxcblx0XHRcdFx0dGl0bGUgICAgIDogJ1JlbW92ZScsXG5cdFx0XHRcdGNsYXNzTmFtZSA6ICdyZW1vdmUnLFxuXHRcdFx0XHRhcHBlbmQgICAgOiB0cnVlXG5cdFx0XHR9LCBvcHRpb25zKTtcblx0XG5cdFx0XHR2YXIgc2luZ2xlQ2xvc2UgPSBmdW5jdGlvbih0aGlzUmVmLCBvcHRpb25zKSB7XG5cdFxuXHRcdFx0XHRvcHRpb25zLmNsYXNzTmFtZSA9ICdyZW1vdmUtc2luZ2xlJztcblx0XG5cdFx0XHRcdHZhciBzZWxmID0gdGhpc1JlZjtcblx0XHRcdFx0dmFyIGh0bWwgPSAnPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGNsYXNzPVwiJyArIG9wdGlvbnMuY2xhc3NOYW1lICsgJ1wiIHRhYmluZGV4PVwiLTFcIiB0aXRsZT1cIicgKyBlc2NhcGVfaHRtbChvcHRpb25zLnRpdGxlKSArICdcIj4nICsgb3B0aW9ucy5sYWJlbCArICc8L2E+Jztcblx0XG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKiBBcHBlbmRzIGFuIGVsZW1lbnQgYXMgYSBjaGlsZCAod2l0aCByYXcgSFRNTCkuXG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sX2NvbnRhaW5lclxuXHRcdFx0XHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbF9lbGVtZW50XG5cdFx0XHRcdCAqIEByZXR1cm4ge3N0cmluZ31cblx0XHRcdFx0ICovXG5cdFx0XHRcdHZhciBhcHBlbmQgPSBmdW5jdGlvbihodG1sX2NvbnRhaW5lciwgaHRtbF9lbGVtZW50KSB7XG5cdFx0XHRcdFx0cmV0dXJuIGh0bWxfY29udGFpbmVyICsgaHRtbF9lbGVtZW50O1xuXHRcdFx0XHR9O1xuXHRcblx0XHRcdFx0dGhpc1JlZi5zZXR1cCA9IChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLnNldHVwO1xuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdC8vIG92ZXJyaWRlIHRoZSBpdGVtIHJlbmRlcmluZyBtZXRob2QgdG8gYWRkIHRoZSBidXR0b24gdG8gZWFjaFxuXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMuYXBwZW5kKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBpZCA9ICQoc2VsZi4kaW5wdXQuY29udGV4dCkuYXR0cignaWQnKTtcblx0XHRcdFx0XHRcdFx0dmFyIHNlbGVjdGl6ZXIgPSAkKCcjJytpZCk7XG5cdFxuXHRcdFx0XHRcdFx0XHR2YXIgcmVuZGVyX2l0ZW0gPSBzZWxmLnNldHRpbmdzLnJlbmRlci5pdGVtO1xuXHRcdFx0XHRcdFx0XHRzZWxmLnNldHRpbmdzLnJlbmRlci5pdGVtID0gZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBhcHBlbmQocmVuZGVyX2l0ZW0uYXBwbHkodGhpc1JlZiwgYXJndW1lbnRzKSwgaHRtbCk7XG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0b3JpZ2luYWwuYXBwbHkodGhpc1JlZiwgYXJndW1lbnRzKTtcblx0XG5cdFx0XHRcdFx0XHQvLyBhZGQgZXZlbnQgbGlzdGVuZXJcblx0XHRcdFx0XHRcdHRoaXNSZWYuJGNvbnRyb2wub24oJ2NsaWNrJywgJy4nICsgb3B0aW9ucy5jbGFzc05hbWUsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0XHRpZiAoc2VsZi5pc0xvY2tlZCkgcmV0dXJuO1xuXHRcblx0XHRcdFx0XHRcdFx0c2VsZi5jbGVhcigpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0pKCk7XG5cdFx0XHR9O1xuXHRcblx0XHRcdHZhciBtdWx0aUNsb3NlID0gZnVuY3Rpb24odGhpc1JlZiwgb3B0aW9ucykge1xuXHRcblx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzUmVmO1xuXHRcdFx0XHR2YXIgaHRtbCA9ICc8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgY2xhc3M9XCInICsgb3B0aW9ucy5jbGFzc05hbWUgKyAnXCIgdGFiaW5kZXg9XCItMVwiIHRpdGxlPVwiJyArIGVzY2FwZV9odG1sKG9wdGlvbnMudGl0bGUpICsgJ1wiPicgKyBvcHRpb25zLmxhYmVsICsgJzwvYT4nO1xuXHRcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqIEFwcGVuZHMgYW4gZWxlbWVudCBhcyBhIGNoaWxkICh3aXRoIHJhdyBIVE1MKS5cblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxfY29udGFpbmVyXG5cdFx0XHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sX2VsZW1lbnRcblx0XHRcdFx0ICogQHJldHVybiB7c3RyaW5nfVxuXHRcdFx0XHQgKi9cblx0XHRcdFx0dmFyIGFwcGVuZCA9IGZ1bmN0aW9uKGh0bWxfY29udGFpbmVyLCBodG1sX2VsZW1lbnQpIHtcblx0XHRcdFx0XHR2YXIgcG9zID0gaHRtbF9jb250YWluZXIuc2VhcmNoKC8oPFxcL1tePl0rPlxccyopJC8pO1xuXHRcdFx0XHRcdHJldHVybiBodG1sX2NvbnRhaW5lci5zdWJzdHJpbmcoMCwgcG9zKSArIGh0bWxfZWxlbWVudCArIGh0bWxfY29udGFpbmVyLnN1YnN0cmluZyhwb3MpO1xuXHRcdFx0XHR9O1xuXHRcblx0XHRcdFx0dGhpc1JlZi5zZXR1cCA9IChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLnNldHVwO1xuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdC8vIG92ZXJyaWRlIHRoZSBpdGVtIHJlbmRlcmluZyBtZXRob2QgdG8gYWRkIHRoZSBidXR0b24gdG8gZWFjaFxuXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMuYXBwZW5kKSB7XG5cdFx0XHRcdFx0XHRcdHZhciByZW5kZXJfaXRlbSA9IHNlbGYuc2V0dGluZ3MucmVuZGVyLml0ZW07XG5cdFx0XHRcdFx0XHRcdHNlbGYuc2V0dGluZ3MucmVuZGVyLml0ZW0gPSBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGFwcGVuZChyZW5kZXJfaXRlbS5hcHBseSh0aGlzUmVmLCBhcmd1bWVudHMpLCBodG1sKTtcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRvcmlnaW5hbC5hcHBseSh0aGlzUmVmLCBhcmd1bWVudHMpO1xuXHRcblx0XHRcdFx0XHRcdC8vIGFkZCBldmVudCBsaXN0ZW5lclxuXHRcdFx0XHRcdFx0dGhpc1JlZi4kY29udHJvbC5vbignY2xpY2snLCAnLicgKyBvcHRpb25zLmNsYXNzTmFtZSwgZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdGlmIChzZWxmLmlzTG9ja2VkKSByZXR1cm47XG5cdFxuXHRcdFx0XHRcdFx0XHR2YXIgJGl0ZW0gPSAkKGUuY3VycmVudFRhcmdldCkucGFyZW50KCk7XG5cdFx0XHRcdFx0XHRcdHNlbGYuc2V0QWN0aXZlSXRlbSgkaXRlbSk7XG5cdFx0XHRcdFx0XHRcdGlmIChzZWxmLmRlbGV0ZVNlbGVjdGlvbigpKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2VsZi5zZXRDYXJldChzZWxmLml0ZW1zLmxlbmd0aCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9KSgpO1xuXHRcdFx0fTtcblx0XG5cdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5tb2RlID09PSAnc2luZ2xlJykge1xuXHRcdFx0XHRzaW5nbGVDbG9zZSh0aGlzLCBvcHRpb25zKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bXVsdGlDbG9zZSh0aGlzLCBvcHRpb25zKTtcblx0XHRcdH1cblx0fSk7XG5cdFxuXHRcblx0U2VsZWN0aXplLmRlZmluZSgncmVzdG9yZV9vbl9iYWNrc3BhY2UnLCBmdW5jdGlvbihvcHRpb25zKSB7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRvcHRpb25zLnRleHQgPSBvcHRpb25zLnRleHQgfHwgZnVuY3Rpb24ob3B0aW9uKSB7XG5cdFx0XHRyZXR1cm4gb3B0aW9uW3RoaXMuc2V0dGluZ3MubGFiZWxGaWVsZF07XG5cdFx0fTtcblx0XG5cdFx0dGhpcy5vbktleURvd24gPSAoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgb3JpZ2luYWwgPSBzZWxmLm9uS2V5RG93bjtcblx0XHRcdHJldHVybiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdHZhciBpbmRleCwgb3B0aW9uO1xuXHRcdFx0XHRpZiAoZS5rZXlDb2RlID09PSBLRVlfQkFDS1NQQUNFICYmIHRoaXMuJGNvbnRyb2xfaW5wdXQudmFsKCkgPT09ICcnICYmICF0aGlzLiRhY3RpdmVJdGVtcy5sZW5ndGgpIHtcblx0XHRcdFx0XHRpbmRleCA9IHRoaXMuY2FyZXRQb3MgLSAxO1xuXHRcdFx0XHRcdGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5pdGVtcy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdG9wdGlvbiA9IHRoaXMub3B0aW9uc1t0aGlzLml0ZW1zW2luZGV4XV07XG5cdFx0XHRcdFx0XHRpZiAodGhpcy5kZWxldGVTZWxlY3Rpb24oZSkpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5zZXRUZXh0Ym94VmFsdWUob3B0aW9ucy50ZXh0LmFwcGx5KHRoaXMsIFtvcHRpb25dKSk7XG5cdFx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaE9wdGlvbnModHJ1ZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0fTtcblx0XHR9KSgpO1xuXHR9KTtcblx0XG5cblx0cmV0dXJuIFNlbGVjdGl6ZTtcbn0pKTsiLCIvKiFcclxuICogY2xpcGJvYXJkLmpzIHYxLjUuMTJcclxuICogaHR0cHM6Ly96ZW5vcm9jaGEuZ2l0aHViLmlvL2NsaXBib2FyZC5qc1xyXG4gKlxyXG4gKiBMaWNlbnNlZCBNSVQgwqkgWmVubyBSb2NoYVxyXG4gKi9cclxuKGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09XCJvYmplY3RcIiYmdHlwZW9mIG1vZHVsZSE9PVwidW5kZWZpbmVkXCIpe21vZHVsZS5leHBvcnRzPWYoKX1lbHNlIGlmKHR5cGVvZiBkZWZpbmU9PT1cImZ1bmN0aW9uXCImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT1cInVuZGVmaW5lZFwiKXtnPXdpbmRvd31lbHNlIGlmKHR5cGVvZiBnbG9iYWwhPT1cInVuZGVmaW5lZFwiKXtnPWdsb2JhbH1lbHNlIGlmKHR5cGVvZiBzZWxmIT09XCJ1bmRlZmluZWRcIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuQ2xpcGJvYXJkID0gZigpfX0pKGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xyXG52YXIgbWF0Y2hlcyA9IHJlcXVpcmUoJ21hdGNoZXMtc2VsZWN0b3InKVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZWxlbWVudCwgc2VsZWN0b3IsIGNoZWNrWW9TZWxmKSB7XHJcbiAgdmFyIHBhcmVudCA9IGNoZWNrWW9TZWxmID8gZWxlbWVudCA6IGVsZW1lbnQucGFyZW50Tm9kZVxyXG5cclxuICB3aGlsZSAocGFyZW50ICYmIHBhcmVudCAhPT0gZG9jdW1lbnQpIHtcclxuICAgIGlmIChtYXRjaGVzKHBhcmVudCwgc2VsZWN0b3IpKSByZXR1cm4gcGFyZW50O1xyXG4gICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGVcclxuICB9XHJcbn1cclxuXHJcbn0se1wibWF0Y2hlcy1zZWxlY3RvclwiOjV9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxudmFyIGNsb3Nlc3QgPSByZXF1aXJlKCdjbG9zZXN0Jyk7XHJcblxyXG4vKipcclxuICogRGVsZWdhdGVzIGV2ZW50IHRvIGEgc2VsZWN0b3IuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICogQHBhcmFtIHtCb29sZWFufSB1c2VDYXB0dXJlXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICovXHJcbmZ1bmN0aW9uIGRlbGVnYXRlKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSkge1xyXG4gICAgdmFyIGxpc3RlbmVyRm4gPSBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cclxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lckZuLCB1c2VDYXB0dXJlKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogRmluZHMgY2xvc2VzdCBtYXRjaCBhbmQgaW52b2tlcyBjYWxsYmFjay5cclxuICpcclxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxyXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cclxuICovXHJcbmZ1bmN0aW9uIGxpc3RlbmVyKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLmRlbGVnYXRlVGFyZ2V0ID0gY2xvc2VzdChlLnRhcmdldCwgc2VsZWN0b3IsIHRydWUpO1xyXG5cclxuICAgICAgICBpZiAoZS5kZWxlZ2F0ZVRhcmdldCkge1xyXG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKGVsZW1lbnQsIGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBkZWxlZ2F0ZTtcclxuXHJcbn0se1wiY2xvc2VzdFwiOjF9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxuLyoqXHJcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgSFRNTCBlbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICovXHJcbmV4cG9ydHMubm9kZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICYmIHZhbHVlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcclxuICAgICAgICAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIGxpc3Qgb2YgSFRNTCBlbGVtZW50cy5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqL1xyXG5leHBvcnRzLm5vZGVMaXN0ID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHZhciB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcclxuXHJcbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICYmICh0eXBlID09PSAnW29iamVjdCBOb2RlTGlzdF0nIHx8IHR5cGUgPT09ICdbb2JqZWN0IEhUTUxDb2xsZWN0aW9uXScpXHJcbiAgICAgICAgJiYgKCdsZW5ndGgnIGluIHZhbHVlKVxyXG4gICAgICAgICYmICh2YWx1ZS5sZW5ndGggPT09IDAgfHwgZXhwb3J0cy5ub2RlKHZhbHVlWzBdKSk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBzdHJpbmcuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxyXG4gKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gKi9cclxuZXhwb3J0cy5zdHJpbmcgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZydcclxuICAgICAgICB8fCB2YWx1ZSBpbnN0YW5jZW9mIFN0cmluZztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICovXHJcbmV4cG9ydHMuZm4gPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgdmFyIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xyXG5cclxuICAgIHJldHVybiB0eXBlID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xyXG59O1xyXG5cclxufSx7fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XHJcbnZhciBpcyA9IHJlcXVpcmUoJy4vaXMnKTtcclxudmFyIGRlbGVnYXRlID0gcmVxdWlyZSgnZGVsZWdhdGUnKTtcclxuXHJcbi8qKlxyXG4gKiBWYWxpZGF0ZXMgYWxsIHBhcmFtcyBhbmQgY2FsbHMgdGhlIHJpZ2h0XHJcbiAqIGxpc3RlbmVyIGZ1bmN0aW9uIGJhc2VkIG9uIGl0cyB0YXJnZXQgdHlwZS5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8SFRNTENvbGxlY3Rpb258Tm9kZUxpc3R9IHRhcmdldFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAqL1xyXG5mdW5jdGlvbiBsaXN0ZW4odGFyZ2V0LCB0eXBlLCBjYWxsYmFjaykge1xyXG4gICAgaWYgKCF0YXJnZXQgJiYgIXR5cGUgJiYgIWNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50cycpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXMuc3RyaW5nKHR5cGUpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYSBTdHJpbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzLmZuKGNhbGxiYWNrKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoaXJkIGFyZ3VtZW50IG11c3QgYmUgYSBGdW5jdGlvbicpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpcy5ub2RlKHRhcmdldCkpIHtcclxuICAgICAgICByZXR1cm4gbGlzdGVuTm9kZSh0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzLm5vZGVMaXN0KHRhcmdldCkpIHtcclxuICAgICAgICByZXR1cm4gbGlzdGVuTm9kZUxpc3QodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpcy5zdHJpbmcodGFyZ2V0KSkge1xyXG4gICAgICAgIHJldHVybiBsaXN0ZW5TZWxlY3Rvcih0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBTdHJpbmcsIEhUTUxFbGVtZW50LCBIVE1MQ29sbGVjdGlvbiwgb3IgTm9kZUxpc3QnKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYSBIVE1MIGVsZW1lbnRcclxuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICogQHJldHVybiB7T2JqZWN0fVxyXG4gKi9cclxuZnVuY3Rpb24gbGlzdGVuTm9kZShub2RlLCB0eXBlLCBjYWxsYmFjaykge1xyXG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0byBhIGxpc3Qgb2YgSFRNTCBlbGVtZW50c1xyXG4gKiBhbmQgcmV0dXJucyBhIHJlbW92ZSBsaXN0ZW5lciBmdW5jdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtOb2RlTGlzdHxIVE1MQ29sbGVjdGlvbn0gbm9kZUxpc3RcclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICogQHJldHVybiB7T2JqZWN0fVxyXG4gKi9cclxuZnVuY3Rpb24gbGlzdGVuTm9kZUxpc3Qobm9kZUxpc3QsIHR5cGUsIGNhbGxiYWNrKSB7XHJcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVMaXN0LCBmdW5jdGlvbihub2RlKSB7XHJcbiAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobm9kZUxpc3QsIGZ1bmN0aW9uKG5vZGUpIHtcclxuICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0byBhIHNlbGVjdG9yXHJcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICogQHJldHVybiB7T2JqZWN0fVxyXG4gKi9cclxuZnVuY3Rpb24gbGlzdGVuU2VsZWN0b3Ioc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrKSB7XHJcbiAgICByZXR1cm4gZGVsZWdhdGUoZG9jdW1lbnQuYm9keSwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBsaXN0ZW47XHJcblxyXG59LHtcIi4vaXNcIjozLFwiZGVsZWdhdGVcIjoyfV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XHJcblxyXG4vKipcclxuICogRWxlbWVudCBwcm90b3R5cGUuXHJcbiAqL1xyXG5cclxudmFyIHByb3RvID0gRWxlbWVudC5wcm90b3R5cGU7XHJcblxyXG4vKipcclxuICogVmVuZG9yIGZ1bmN0aW9uLlxyXG4gKi9cclxuXHJcbnZhciB2ZW5kb3IgPSBwcm90by5tYXRjaGVzU2VsZWN0b3JcclxuICB8fCBwcm90by53ZWJraXRNYXRjaGVzU2VsZWN0b3JcclxuICB8fCBwcm90by5tb3pNYXRjaGVzU2VsZWN0b3JcclxuICB8fCBwcm90by5tc01hdGNoZXNTZWxlY3RvclxyXG4gIHx8IHByb3RvLm9NYXRjaGVzU2VsZWN0b3I7XHJcblxyXG4vKipcclxuICogRXhwb3NlIGBtYXRjaCgpYC5cclxuICovXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG1hdGNoO1xyXG5cclxuLyoqXHJcbiAqIE1hdGNoIGBlbGAgdG8gYHNlbGVjdG9yYC5cclxuICpcclxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5mdW5jdGlvbiBtYXRjaChlbCwgc2VsZWN0b3IpIHtcclxuICBpZiAodmVuZG9yKSByZXR1cm4gdmVuZG9yLmNhbGwoZWwsIHNlbGVjdG9yKTtcclxuICB2YXIgbm9kZXMgPSBlbC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyArK2kpIHtcclxuICAgIGlmIChub2Rlc1tpXSA9PSBlbCkgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG59LHt9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxuZnVuY3Rpb24gc2VsZWN0KGVsZW1lbnQpIHtcclxuICAgIHZhciBzZWxlY3RlZFRleHQ7XHJcblxyXG4gICAgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdJTlBVVCcgfHwgZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xyXG4gICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICBlbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKDAsIGVsZW1lbnQudmFsdWUubGVuZ3RoKTtcclxuXHJcbiAgICAgICAgc2VsZWN0ZWRUZXh0ID0gZWxlbWVudC52YWx1ZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJykpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5mb2N1cygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xyXG5cclxuICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZWxlbWVudCk7XHJcbiAgICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xyXG4gICAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XHJcblxyXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IHNlbGVjdGlvbi50b1N0cmluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzZWxlY3RlZFRleHQ7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gc2VsZWN0O1xyXG5cclxufSx7fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XHJcbmZ1bmN0aW9uIEUgKCkge1xyXG5cdC8vIEtlZXAgdGhpcyBlbXB0eSBzbyBpdCdzIGVhc2llciB0byBpbmhlcml0IGZyb21cclxuICAvLyAodmlhIGh0dHBzOi8vZ2l0aHViLmNvbS9saXBzbWFjayBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvaXNzdWVzLzMpXHJcbn1cclxuXHJcbkUucHJvdG90eXBlID0ge1xyXG5cdG9uOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xyXG4gICAgdmFyIGUgPSB0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KTtcclxuXHJcbiAgICAoZVtuYW1lXSB8fCAoZVtuYW1lXSA9IFtdKSkucHVzaCh7XHJcbiAgICAgIGZuOiBjYWxsYmFjayxcclxuICAgICAgY3R4OiBjdHhcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0sXHJcblxyXG4gIG9uY2U6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgY3R4KSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBmdW5jdGlvbiBsaXN0ZW5lciAoKSB7XHJcbiAgICAgIHNlbGYub2ZmKG5hbWUsIGxpc3RlbmVyKTtcclxuICAgICAgY2FsbGJhY2suYXBwbHkoY3R4LCBhcmd1bWVudHMpO1xyXG4gICAgfTtcclxuXHJcbiAgICBsaXN0ZW5lci5fID0gY2FsbGJhY2tcclxuICAgIHJldHVybiB0aGlzLm9uKG5hbWUsIGxpc3RlbmVyLCBjdHgpO1xyXG4gIH0sXHJcblxyXG4gIGVtaXQ6IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICB2YXIgZGF0YSA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuICAgIHZhciBldnRBcnIgPSAoKHRoaXMuZSB8fCAodGhpcy5lID0ge30pKVtuYW1lXSB8fCBbXSkuc2xpY2UoKTtcclxuICAgIHZhciBpID0gMDtcclxuICAgIHZhciBsZW4gPSBldnRBcnIubGVuZ3RoO1xyXG5cclxuICAgIGZvciAoaTsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgIGV2dEFycltpXS5mbi5hcHBseShldnRBcnJbaV0uY3R4LCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG5cclxuICBvZmY6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykge1xyXG4gICAgdmFyIGUgPSB0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KTtcclxuICAgIHZhciBldnRzID0gZVtuYW1lXTtcclxuICAgIHZhciBsaXZlRXZlbnRzID0gW107XHJcblxyXG4gICAgaWYgKGV2dHMgJiYgY2FsbGJhY2spIHtcclxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV2dHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBpZiAoZXZ0c1tpXS5mbiAhPT0gY2FsbGJhY2sgJiYgZXZ0c1tpXS5mbi5fICE9PSBjYWxsYmFjaylcclxuICAgICAgICAgIGxpdmVFdmVudHMucHVzaChldnRzW2ldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSBldmVudCBmcm9tIHF1ZXVlIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtcclxuICAgIC8vIFN1Z2dlc3RlZCBieSBodHRwczovL2dpdGh1Yi5jb20vbGF6ZFxyXG4gICAgLy8gUmVmOiBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRjb3JnYW4vdGlueS1lbWl0dGVyL2NvbW1pdC9jNmViZmFhOWJjOTczYjMzZDExMGE4NGEzMDc3NDJiN2NmOTRjOTUzI2NvbW1pdGNvbW1lbnQtNTAyNDkxMFxyXG5cclxuICAgIChsaXZlRXZlbnRzLmxlbmd0aClcclxuICAgICAgPyBlW25hbWVdID0gbGl2ZUV2ZW50c1xyXG4gICAgICA6IGRlbGV0ZSBlW25hbWVdO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gRTtcclxuXHJcbn0se31dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xyXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xyXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XHJcbiAgICAgICAgZGVmaW5lKFsnbW9kdWxlJywgJ3NlbGVjdCddLCBmYWN0b3J5KTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBmYWN0b3J5KG1vZHVsZSwgcmVxdWlyZSgnc2VsZWN0JykpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgbW9kID0ge1xyXG4gICAgICAgICAgICBleHBvcnRzOiB7fVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZmFjdG9yeShtb2QsIGdsb2JhbC5zZWxlY3QpO1xyXG4gICAgICAgIGdsb2JhbC5jbGlwYm9hcmRBY3Rpb24gPSBtb2QuZXhwb3J0cztcclxuICAgIH1cclxufSkodGhpcywgZnVuY3Rpb24gKG1vZHVsZSwgX3NlbGVjdCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBfc2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdCk7XHJcblxyXG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcclxuICAgICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiBvYmpcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XHJcbiAgICB9IDogZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcclxuICAgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcclxuICAgICAgICAgICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcclxuICAgICAgICAgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XHJcbiAgICAgICAgICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcclxuICAgICAgICB9O1xyXG4gICAgfSgpO1xyXG5cclxuICAgIHZhciBDbGlwYm9hcmRBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcclxuICAgICAgICAgKi9cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gQ2xpcGJvYXJkQWN0aW9uKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaXBib2FyZEFjdGlvbik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlc29sdmVPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgICAgICB0aGlzLmluaXRTZWxlY3Rpb24oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERlZmluZXMgYmFzZSBwcm9wZXJ0aWVzIHBhc3NlZCBmcm9tIGNvbnN0cnVjdG9yLlxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICAgICAgICovXHJcblxyXG5cclxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLnJlc29sdmVPcHRpb25zID0gZnVuY3Rpb24gcmVzb2x2ZU9wdGlvbnMoKSB7XHJcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFjdGlvbiA9IG9wdGlvbnMuYWN0aW9uO1xyXG4gICAgICAgICAgICB0aGlzLmVtaXR0ZXIgPSBvcHRpb25zLmVtaXR0ZXI7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQ7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dCA9IG9wdGlvbnMudGV4dDtcclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyID0gb3B0aW9ucy50cmlnZ2VyO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAnJztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLmluaXRTZWxlY3Rpb24gPSBmdW5jdGlvbiBpbml0U2VsZWN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdEZha2UoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RUYXJnZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUuc2VsZWN0RmFrZSA9IGZ1bmN0aW9uIHNlbGVjdEZha2UoKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICB2YXIgaXNSVEwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXInKSA9PSAncnRsJztcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRmFrZSgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJlbW92ZUZha2UoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlciA9IGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spIHx8IHRydWU7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcclxuICAgICAgICAgICAgLy8gUHJldmVudCB6b29taW5nIG9uIGlPU1xyXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLmZvbnRTaXplID0gJzEycHQnO1xyXG4gICAgICAgICAgICAvLyBSZXNldCBib3ggbW9kZWxcclxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5ib3JkZXIgPSAnMCc7XHJcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUucGFkZGluZyA9ICcwJztcclxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5tYXJnaW4gPSAnMCc7XHJcbiAgICAgICAgICAgIC8vIE1vdmUgZWxlbWVudCBvdXQgb2Ygc2NyZWVuIGhvcml6b250YWxseVxyXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZVtpc1JUTCA/ICdyaWdodCcgOiAnbGVmdCddID0gJy05OTk5cHgnO1xyXG4gICAgICAgICAgICAvLyBNb3ZlIGVsZW1lbnQgdG8gdGhlIHNhbWUgcG9zaXRpb24gdmVydGljYWxseVxyXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnRvcCA9ICh3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCkgKyAncHgnO1xyXG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnNldEF0dHJpYnV0ZSgncmVhZG9ubHknLCAnJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0udmFsdWUgPSB0aGlzLnRleHQ7XHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZmFrZUVsZW0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAoMCwgX3NlbGVjdDIuZGVmYXVsdCkodGhpcy5mYWtlRWxlbSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29weVRleHQoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLnJlbW92ZUZha2UgPSBmdW5jdGlvbiByZW1vdmVGYWtlKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5mYWtlSGFuZGxlcikge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZha2VFbGVtKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZmFrZUVsZW0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLnNlbGVjdFRhcmdldCA9IGZ1bmN0aW9uIHNlbGVjdFRhcmdldCgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAoMCwgX3NlbGVjdDIuZGVmYXVsdCkodGhpcy50YXJnZXQpO1xyXG4gICAgICAgICAgICB0aGlzLmNvcHlUZXh0KCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5jb3B5VGV4dCA9IGZ1bmN0aW9uIGNvcHlUZXh0KCkge1xyXG4gICAgICAgICAgICB2YXIgc3VjY2VlZGVkID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHN1Y2NlZWRlZCA9IGRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuYWN0aW9uKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZWVkZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXN1bHQoc3VjY2VlZGVkKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLmhhbmRsZVJlc3VsdCA9IGZ1bmN0aW9uIGhhbmRsZVJlc3VsdChzdWNjZWVkZWQpIHtcclxuICAgICAgICAgICAgaWYgKHN1Y2NlZWRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0dGVyLmVtaXQoJ3N1Y2Nlc3MnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnNlbGVjdGVkVGV4dCxcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiB0aGlzLnRyaWdnZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJTZWxlY3Rpb246IHRoaXMuY2xlYXJTZWxlY3Rpb24uYmluZCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXR0ZXIuZW1pdCgnZXJyb3InLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiB0aGlzLnRyaWdnZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJTZWxlY3Rpb246IHRoaXMuY2xlYXJTZWxlY3Rpb24uYmluZCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLmNsZWFyU2VsZWN0aW9uID0gZnVuY3Rpb24gY2xlYXJTZWxlY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQuYmx1cigpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVGYWtlKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgX2NyZWF0ZUNsYXNzKENsaXBib2FyZEFjdGlvbiwgW3tcclxuICAgICAgICAgICAga2V5OiAnYWN0aW9uJyxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gJ2NvcHknIDogYXJndW1lbnRzWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGlvbiA9IGFjdGlvbjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYWN0aW9uICE9PSAnY29weScgJiYgdGhpcy5fYWN0aW9uICE9PSAnY3V0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcImFjdGlvblwiIHZhbHVlLCB1c2UgZWl0aGVyIFwiY29weVwiIG9yIFwiY3V0XCInKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYWN0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBrZXk6ICd0YXJnZXQnLFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgJiYgKHR5cGVvZiB0YXJnZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHRhcmdldCkpID09PSAnb2JqZWN0JyAmJiB0YXJnZXQubm9kZVR5cGUgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aW9uID09PSAnY29weScgJiYgdGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgYXR0cmlidXRlLiBQbGVhc2UgdXNlIFwicmVhZG9ubHlcIiBpbnN0ZWFkIG9mIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aW9uID09PSAnY3V0JyAmJiAodGFyZ2V0Lmhhc0F0dHJpYnV0ZSgncmVhZG9ubHknKSB8fCB0YXJnZXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgYXR0cmlidXRlLiBZb3UgY2FuXFwndCBjdXQgdGV4dCBmcm9tIGVsZW1lbnRzIHdpdGggXCJyZWFkb25seVwiIG9yIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGVzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiB2YWx1ZSwgdXNlIGEgdmFsaWQgRWxlbWVudCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfV0pO1xyXG5cclxuICAgICAgICByZXR1cm4gQ2xpcGJvYXJkQWN0aW9uO1xyXG4gICAgfSgpO1xyXG5cclxuICAgIG1vZHVsZS5leHBvcnRzID0gQ2xpcGJvYXJkQWN0aW9uO1xyXG59KTtcclxuXHJcbn0se1wic2VsZWN0XCI6Nn1dLDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xyXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xyXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XHJcbiAgICAgICAgZGVmaW5lKFsnbW9kdWxlJywgJy4vY2xpcGJvYXJkLWFjdGlvbicsICd0aW55LWVtaXR0ZXInLCAnZ29vZC1saXN0ZW5lciddLCBmYWN0b3J5KTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBmYWN0b3J5KG1vZHVsZSwgcmVxdWlyZSgnLi9jbGlwYm9hcmQtYWN0aW9uJyksIHJlcXVpcmUoJ3RpbnktZW1pdHRlcicpLCByZXF1aXJlKCdnb29kLWxpc3RlbmVyJykpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgbW9kID0ge1xyXG4gICAgICAgICAgICBleHBvcnRzOiB7fVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZmFjdG9yeShtb2QsIGdsb2JhbC5jbGlwYm9hcmRBY3Rpb24sIGdsb2JhbC50aW55RW1pdHRlciwgZ2xvYmFsLmdvb2RMaXN0ZW5lcik7XHJcbiAgICAgICAgZ2xvYmFsLmNsaXBib2FyZCA9IG1vZC5leHBvcnRzO1xyXG4gICAgfVxyXG59KSh0aGlzLCBmdW5jdGlvbiAobW9kdWxlLCBfY2xpcGJvYXJkQWN0aW9uLCBfdGlueUVtaXR0ZXIsIF9nb29kTGlzdGVuZXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgX2NsaXBib2FyZEFjdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGlwYm9hcmRBY3Rpb24pO1xyXG5cclxuICAgIHZhciBfdGlueUVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGlueUVtaXR0ZXIpO1xyXG5cclxuICAgIHZhciBfZ29vZExpc3RlbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dvb2RMaXN0ZW5lcik7XHJcblxyXG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcclxuICAgICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiBvYmpcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcclxuICAgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XHJcbiAgICAgICAgaWYgKCFzZWxmKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcclxuICAgICAgICAgICAgY29uc3RydWN0b3I6IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBzdWJDbGFzcyxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcclxuICAgIH1cclxuXHJcbiAgICB2YXIgQ2xpcGJvYXJkID0gZnVuY3Rpb24gKF9FbWl0dGVyKSB7XHJcbiAgICAgICAgX2luaGVyaXRzKENsaXBib2FyZCwgX0VtaXR0ZXIpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudHxIVE1MQ29sbGVjdGlvbnxOb2RlTGlzdH0gdHJpZ2dlclxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICAgICAgICovXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIENsaXBib2FyZCh0cmlnZ2VyLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGlwYm9hcmQpO1xyXG5cclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0VtaXR0ZXIuY2FsbCh0aGlzKSk7XHJcblxyXG4gICAgICAgICAgICBfdGhpcy5yZXNvbHZlT3B0aW9ucyhvcHRpb25zKTtcclxuICAgICAgICAgICAgX3RoaXMubGlzdGVuQ2xpY2sodHJpZ2dlcik7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERlZmluZXMgaWYgYXR0cmlidXRlcyB3b3VsZCBiZSByZXNvbHZlZCB1c2luZyBpbnRlcm5hbCBzZXR0ZXIgZnVuY3Rpb25zXHJcbiAgICAgICAgICogb3IgY3VzdG9tIGZ1bmN0aW9ucyB0aGF0IHdlcmUgcGFzc2VkIGluIHRoZSBjb25zdHJ1Y3Rvci5cclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xyXG4gICAgICAgICAqL1xyXG5cclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5yZXNvbHZlT3B0aW9ucyA9IGZ1bmN0aW9uIHJlc29sdmVPcHRpb25zKCkge1xyXG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSB0eXBlb2Ygb3B0aW9ucy5hY3Rpb24gPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLmFjdGlvbiA6IHRoaXMuZGVmYXVsdEFjdGlvbjtcclxuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSB0eXBlb2Ygb3B0aW9ucy50YXJnZXQgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLnRhcmdldCA6IHRoaXMuZGVmYXVsdFRhcmdldDtcclxuICAgICAgICAgICAgdGhpcy50ZXh0ID0gdHlwZW9mIG9wdGlvbnMudGV4dCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMudGV4dCA6IHRoaXMuZGVmYXVsdFRleHQ7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5saXN0ZW5DbGljayA9IGZ1bmN0aW9uIGxpc3RlbkNsaWNrKHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyID0gKDAsIF9nb29kTGlzdGVuZXIyLmRlZmF1bHQpKHRyaWdnZXIsICdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uQ2xpY2soZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIENsaXBib2FyZC5wcm90b3R5cGUub25DbGljayA9IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xyXG4gICAgICAgICAgICB2YXIgdHJpZ2dlciA9IGUuZGVsZWdhdGVUYXJnZXQgfHwgZS5jdXJyZW50VGFyZ2V0O1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuY2xpcGJvYXJkQWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbmV3IF9jbGlwYm9hcmRBY3Rpb24yLmRlZmF1bHQoe1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvbih0cmlnZ2VyKSxcclxuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy50YXJnZXQodHJpZ2dlciksXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRleHQodHJpZ2dlciksXHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyOiB0cmlnZ2VyLFxyXG4gICAgICAgICAgICAgICAgZW1pdHRlcjogdGhpc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmQucHJvdG90eXBlLmRlZmF1bHRBY3Rpb24gPSBmdW5jdGlvbiBkZWZhdWx0QWN0aW9uKHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdldEF0dHJpYnV0ZVZhbHVlKCdhY3Rpb24nLCB0cmlnZ2VyKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmQucHJvdG90eXBlLmRlZmF1bHRUYXJnZXQgPSBmdW5jdGlvbiBkZWZhdWx0VGFyZ2V0KHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gZ2V0QXR0cmlidXRlVmFsdWUoJ3RhcmdldCcsIHRyaWdnZXIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmQucHJvdG90eXBlLmRlZmF1bHRUZXh0ID0gZnVuY3Rpb24gZGVmYXVsdFRleHQodHJpZ2dlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0QXR0cmlidXRlVmFsdWUoJ3RleHQnLCB0cmlnZ2VyKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBDbGlwYm9hcmQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyLmRlc3Ryb3koKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNsaXBib2FyZEFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24uZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIENsaXBib2FyZDtcclxuICAgIH0oX3RpbnlFbWl0dGVyMi5kZWZhdWx0KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0byByZXRyaWV2ZSBhdHRyaWJ1dGUgdmFsdWUuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3VmZml4XHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0QXR0cmlidXRlVmFsdWUoc3VmZml4LCBlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIGF0dHJpYnV0ZSA9ICdkYXRhLWNsaXBib2FyZC0nICsgc3VmZml4O1xyXG5cclxuICAgICAgICBpZiAoIWVsZW1lbnQuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBDbGlwYm9hcmQ7XHJcbn0pO1xyXG5cclxufSx7XCIuL2NsaXBib2FyZC1hY3Rpb25cIjo4LFwiZ29vZC1saXN0ZW5lclwiOjQsXCJ0aW55LWVtaXR0ZXJcIjo3fV19LHt9LFs5XSkoOSlcclxufSk7IiwiKCBmdW5jdGlvbiggd2luZG93LCB1bmRlZmluZWQgKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQgKiBIYW5kbGVzIG1hbmFnaW5nIGFsbCBldmVudHMgZm9yIHdoYXRldmVyIHlvdSBwbHVnIGl0IGludG8uIFByaW9yaXRpZXMgZm9yIGhvb2tzIGFyZSBiYXNlZCBvbiBsb3dlc3QgdG8gaGlnaGVzdCBpblxyXG5cdCAqIHRoYXQsIGxvd2VzdCBwcmlvcml0eSBob29rcyBhcmUgZmlyZWQgZmlyc3QuXHJcblx0ICovXHJcblx0dmFyIEV2ZW50TWFuYWdlciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIE1haW50YWluIGEgcmVmZXJlbmNlIHRvIHRoZSBvYmplY3Qgc2NvcGUgc28gb3VyIHB1YmxpYyBtZXRob2RzIG5ldmVyIGdldCBjb25mdXNpbmcuXHJcblx0XHQgKi9cclxuXHRcdHZhciBNZXRob2RzQXZhaWxhYmxlID0ge1xyXG5cdFx0XHRyZW1vdmVGaWx0ZXIgOiByZW1vdmVGaWx0ZXIsXHJcblx0XHRcdGFwcGx5RmlsdGVycyA6IGFwcGx5RmlsdGVycyxcclxuXHRcdFx0YWRkRmlsdGVyIDogYWRkRmlsdGVyLFxyXG5cdFx0XHRyZW1vdmVBY3Rpb24gOiByZW1vdmVBY3Rpb24sXHJcblx0XHRcdGRvQWN0aW9uIDogZG9BY3Rpb24sXHJcblx0XHRcdGFkZEFjdGlvbiA6IGFkZEFjdGlvblxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENvbnRhaW5zIHRoZSBob29rcyB0aGF0IGdldCByZWdpc3RlcmVkIHdpdGggdGhpcyBFdmVudE1hbmFnZXIuIFRoZSBhcnJheSBmb3Igc3RvcmFnZSB1dGlsaXplcyBhIFwiZmxhdFwiXHJcblx0XHQgKiBvYmplY3QgbGl0ZXJhbCBzdWNoIHRoYXQgbG9va2luZyB1cCB0aGUgaG9vayB1dGlsaXplcyB0aGUgbmF0aXZlIG9iamVjdCBsaXRlcmFsIGhhc2guXHJcblx0XHQgKi9cclxuXHRcdHZhciBTVE9SQUdFID0ge1xyXG5cdFx0XHRhY3Rpb25zIDoge30sXHJcblx0XHRcdGZpbHRlcnMgOiB7fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFkZHMgYW4gYWN0aW9uIHRvIHRoZSBldmVudCBtYW5hZ2VyLlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBhY3Rpb24gTXVzdCBjb250YWluIG5hbWVzcGFjZS5pZGVudGlmaWVyXHJcblx0XHQgKiBAcGFyYW0gY2FsbGJhY2sgTXVzdCBiZSBhIHZhbGlkIGNhbGxiYWNrIGZ1bmN0aW9uIGJlZm9yZSB0aGlzIGFjdGlvbiBpcyBhZGRlZFxyXG5cdFx0ICogQHBhcmFtIFtwcmlvcml0eT0xMF0gVXNlZCB0byBjb250cm9sIHdoZW4gdGhlIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIGluIHJlbGF0aW9uIHRvIG90aGVyIGNhbGxiYWNrcyBib3VuZCB0byB0aGUgc2FtZSBob29rXHJcblx0XHQgKiBAcGFyYW0gW2NvbnRleHRdIFN1cHBseSBhIHZhbHVlIHRvIGJlIHVzZWQgZm9yIHRoaXNcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gYWRkQWN0aW9uKCBhY3Rpb24sIGNhbGxiYWNrLCBwcmlvcml0eSwgY29udGV4dCApIHtcclxuXHRcdFx0aWYoIHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnICYmIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyApIHtcclxuXHRcdFx0XHRwcmlvcml0eSA9IHBhcnNlSW50KCAoIHByaW9yaXR5IHx8IDEwICksIDEwICk7XHJcblx0XHRcdFx0X2FkZEhvb2soICdhY3Rpb25zJywgYWN0aW9uLCBjYWxsYmFjaywgcHJpb3JpdHksIGNvbnRleHQgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBQZXJmb3JtcyBhbiBhY3Rpb24gaWYgaXQgZXhpc3RzLiBZb3UgY2FuIHBhc3MgYXMgbWFueSBhcmd1bWVudHMgYXMgeW91IHdhbnQgdG8gdGhpcyBmdW5jdGlvbjsgdGhlIG9ubHkgcnVsZSBpc1xyXG5cdFx0ICogdGhhdCB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBhbHdheXMgYmUgdGhlIGFjdGlvbi5cclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gZG9BY3Rpb24oIC8qIGFjdGlvbiwgYXJnMSwgYXJnMiwgLi4uICovICkge1xyXG5cdFx0XHR2YXIgYXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApO1xyXG5cdFx0XHR2YXIgYWN0aW9uID0gYXJncy5zaGlmdCgpO1xyXG5cclxuXHRcdFx0aWYoIHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnICkge1xyXG5cdFx0XHRcdF9ydW5Ib29rKCAnYWN0aW9ucycsIGFjdGlvbiwgYXJncyApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBhY3Rpb24gaWYgaXQgY29udGFpbnMgYSBuYW1lc3BhY2UuaWRlbnRpZmllciAmIGV4aXN0cy5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gYWN0aW9uIFRoZSBhY3Rpb24gdG8gcmVtb3ZlXHJcblx0XHQgKiBAcGFyYW0gW2NhbGxiYWNrXSBDYWxsYmFjayBmdW5jdGlvbiB0byByZW1vdmVcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlQWN0aW9uKCBhY3Rpb24sIGNhbGxiYWNrICkge1xyXG5cdFx0XHRpZiggdHlwZW9mIGFjdGlvbiA9PT0gJ3N0cmluZycgKSB7XHJcblx0XHRcdFx0X3JlbW92ZUhvb2soICdhY3Rpb25zJywgYWN0aW9uLCBjYWxsYmFjayApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFkZHMgYSBmaWx0ZXIgdG8gdGhlIGV2ZW50IG1hbmFnZXIuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIGZpbHRlciBNdXN0IGNvbnRhaW4gbmFtZXNwYWNlLmlkZW50aWZpZXJcclxuXHRcdCAqIEBwYXJhbSBjYWxsYmFjayBNdXN0IGJlIGEgdmFsaWQgY2FsbGJhY2sgZnVuY3Rpb24gYmVmb3JlIHRoaXMgYWN0aW9uIGlzIGFkZGVkXHJcblx0XHQgKiBAcGFyYW0gW3ByaW9yaXR5PTEwXSBVc2VkIHRvIGNvbnRyb2wgd2hlbiB0aGUgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgaW4gcmVsYXRpb24gdG8gb3RoZXIgY2FsbGJhY2tzIGJvdW5kIHRvIHRoZSBzYW1lIGhvb2tcclxuXHRcdCAqIEBwYXJhbSBbY29udGV4dF0gU3VwcGx5IGEgdmFsdWUgdG8gYmUgdXNlZCBmb3IgdGhpc1xyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBhZGRGaWx0ZXIoIGZpbHRlciwgY2FsbGJhY2ssIHByaW9yaXR5LCBjb250ZXh0ICkge1xyXG5cdFx0XHRpZiggdHlwZW9mIGZpbHRlciA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nICkge1xyXG5cdFx0XHRcdHByaW9yaXR5ID0gcGFyc2VJbnQoICggcHJpb3JpdHkgfHwgMTAgKSwgMTAgKTtcclxuXHRcdFx0XHRfYWRkSG9vayggJ2ZpbHRlcnMnLCBmaWx0ZXIsIGNhbGxiYWNrLCBwcmlvcml0eSwgY29udGV4dCApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFBlcmZvcm1zIGEgZmlsdGVyIGlmIGl0IGV4aXN0cy4gWW91IHNob3VsZCBvbmx5IGV2ZXIgcGFzcyAxIGFyZ3VtZW50IHRvIGJlIGZpbHRlcmVkLiBUaGUgb25seSBydWxlIGlzIHRoYXRcclxuXHRcdCAqIHRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGFsd2F5cyBiZSB0aGUgZmlsdGVyLlxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBhcHBseUZpbHRlcnMoIC8qIGZpbHRlciwgZmlsdGVyZWQgYXJnLCBhcmcyLCAuLi4gKi8gKSB7XHJcblx0XHRcdHZhciBhcmdzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICk7XHJcblx0XHRcdHZhciBmaWx0ZXIgPSBhcmdzLnNoaWZ0KCk7XHJcblxyXG5cdFx0XHRpZiggdHlwZW9mIGZpbHRlciA9PT0gJ3N0cmluZycgKSB7XHJcblx0XHRcdFx0cmV0dXJuIF9ydW5Ib29rKCAnZmlsdGVycycsIGZpbHRlciwgYXJncyApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBmaWx0ZXIgaWYgaXQgY29udGFpbnMgYSBuYW1lc3BhY2UuaWRlbnRpZmllciAmIGV4aXN0cy5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gZmlsdGVyIFRoZSBhY3Rpb24gdG8gcmVtb3ZlXHJcblx0XHQgKiBAcGFyYW0gW2NhbGxiYWNrXSBDYWxsYmFjayBmdW5jdGlvbiB0byByZW1vdmVcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlRmlsdGVyKCBmaWx0ZXIsIGNhbGxiYWNrICkge1xyXG5cdFx0XHRpZiggdHlwZW9mIGZpbHRlciA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRfcmVtb3ZlSG9vayggJ2ZpbHRlcnMnLCBmaWx0ZXIsIGNhbGxiYWNrICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBNZXRob2RzQXZhaWxhYmxlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVtb3ZlcyB0aGUgc3BlY2lmaWVkIGhvb2sgYnkgcmVzZXR0aW5nIHRoZSB2YWx1ZSBvZiBpdC5cclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gdHlwZSBUeXBlIG9mIGhvb2ssIGVpdGhlciAnYWN0aW9ucycgb3IgJ2ZpbHRlcnMnXHJcblx0XHQgKiBAcGFyYW0gaG9vayBUaGUgaG9vayAobmFtZXNwYWNlLmlkZW50aWZpZXIpIHRvIHJlbW92ZVxyXG5cdFx0ICogQHByaXZhdGVcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gX3JlbW92ZUhvb2soIHR5cGUsIGhvb2ssIGNhbGxiYWNrLCBjb250ZXh0ICkge1xyXG5cdFx0XHR2YXIgaGFuZGxlcnMsIGhhbmRsZXIsIGk7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAoICFTVE9SQUdFWyB0eXBlIF1bIGhvb2sgXSApIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCAhY2FsbGJhY2sgKSB7XHJcblx0XHRcdFx0U1RPUkFHRVsgdHlwZSBdWyBob29rIF0gPSBbXTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRoYW5kbGVycyA9IFNUT1JBR0VbIHR5cGUgXVsgaG9vayBdO1xyXG5cdFx0XHRcdGlmICggIWNvbnRleHQgKSB7XHJcblx0XHRcdFx0XHRmb3IgKCBpID0gaGFuZGxlcnMubGVuZ3RoOyBpLS07ICkge1xyXG5cdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXJzW2ldLmNhbGxiYWNrID09PSBjYWxsYmFjayApIHtcclxuXHRcdFx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGksIDEgKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdGZvciAoIGkgPSBoYW5kbGVycy5sZW5ndGg7IGktLTsgKSB7XHJcblx0XHRcdFx0XHRcdGhhbmRsZXIgPSBoYW5kbGVyc1tpXTtcclxuXHRcdFx0XHRcdFx0aWYgKCBoYW5kbGVyLmNhbGxiYWNrID09PSBjYWxsYmFjayAmJiBoYW5kbGVyLmNvbnRleHQgPT09IGNvbnRleHQpIHtcclxuXHRcdFx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGksIDEgKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQWRkcyB0aGUgaG9vayB0byB0aGUgYXBwcm9wcmlhdGUgc3RvcmFnZSBjb250YWluZXJcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gdHlwZSAnYWN0aW9ucycgb3IgJ2ZpbHRlcnMnXHJcblx0XHQgKiBAcGFyYW0gaG9vayBUaGUgaG9vayAobmFtZXNwYWNlLmlkZW50aWZpZXIpIHRvIGFkZCB0byBvdXIgZXZlbnQgbWFuYWdlclxyXG5cdFx0ICogQHBhcmFtIGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGhvb2sgaXMgZXhlY3V0ZWQuXHJcblx0XHQgKiBAcGFyYW0gcHJpb3JpdHkgVGhlIHByaW9yaXR5IG9mIHRoaXMgaG9vay4gTXVzdCBiZSBhbiBpbnRlZ2VyLlxyXG5cdFx0ICogQHBhcmFtIFtjb250ZXh0XSBBIHZhbHVlIHRvIGJlIHVzZWQgZm9yIHRoaXNcclxuXHRcdCAqIEBwcml2YXRlXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIF9hZGRIb29rKCB0eXBlLCBob29rLCBjYWxsYmFjaywgcHJpb3JpdHksIGNvbnRleHQgKSB7XHJcblx0XHRcdHZhciBob29rT2JqZWN0ID0ge1xyXG5cdFx0XHRcdGNhbGxiYWNrIDogY2FsbGJhY2ssXHJcblx0XHRcdFx0cHJpb3JpdHkgOiBwcmlvcml0eSxcclxuXHRcdFx0XHRjb250ZXh0IDogY29udGV4dFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gVXRpbGl6ZSAncHJvcCBpdHNlbGYnIDogaHR0cDovL2pzcGVyZi5jb20vaGFzb3ducHJvcGVydHktdnMtaW4tdnMtdW5kZWZpbmVkLzE5XHJcblx0XHRcdHZhciBob29rcyA9IFNUT1JBR0VbIHR5cGUgXVsgaG9vayBdO1xyXG5cdFx0XHRpZiggaG9va3MgKSB7XHJcblx0XHRcdFx0aG9va3MucHVzaCggaG9va09iamVjdCApO1xyXG5cdFx0XHRcdGhvb2tzID0gX2hvb2tJbnNlcnRTb3J0KCBob29rcyApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdGhvb2tzID0gWyBob29rT2JqZWN0IF07XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdFNUT1JBR0VbIHR5cGUgXVsgaG9vayBdID0gaG9va3M7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBVc2UgYW4gaW5zZXJ0IHNvcnQgZm9yIGtlZXBpbmcgb3VyIGhvb2tzIG9yZ2FuaXplZCBiYXNlZCBvbiBwcmlvcml0eS4gVGhpcyBmdW5jdGlvbiBpcyByaWRpY3Vsb3VzbHkgZmFzdGVyXHJcblx0XHQgKiB0aGFuIGJ1YmJsZSBzb3J0LCBldGM6IGh0dHA6Ly9qc3BlcmYuY29tL2phdmFzY3JpcHQtc29ydFxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBob29rcyBUaGUgY3VzdG9tIGFycmF5IGNvbnRhaW5pbmcgYWxsIG9mIHRoZSBhcHByb3ByaWF0ZSBob29rcyB0byBwZXJmb3JtIGFuIGluc2VydCBzb3J0IG9uLlxyXG5cdFx0ICogQHByaXZhdGVcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gX2hvb2tJbnNlcnRTb3J0KCBob29rcyApIHtcclxuXHRcdFx0dmFyIHRtcEhvb2ssIGosIHByZXZIb29rO1xyXG5cdFx0XHRmb3IoIHZhciBpID0gMSwgbGVuID0gaG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKysgKSB7XHJcblx0XHRcdFx0dG1wSG9vayA9IGhvb2tzWyBpIF07XHJcblx0XHRcdFx0aiA9IGk7XHJcblx0XHRcdFx0d2hpbGUoICggcHJldkhvb2sgPSBob29rc1sgaiAtIDEgXSApICYmICBwcmV2SG9vay5wcmlvcml0eSA+IHRtcEhvb2sucHJpb3JpdHkgKSB7XHJcblx0XHRcdFx0XHRob29rc1sgaiBdID0gaG9va3NbIGogLSAxIF07XHJcblx0XHRcdFx0XHQtLWo7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGhvb2tzWyBqIF0gPSB0bXBIb29rO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gaG9va3M7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSdW5zIHRoZSBzcGVjaWZpZWQgaG9vay4gSWYgaXQgaXMgYW4gYWN0aW9uLCB0aGUgdmFsdWUgaXMgbm90IG1vZGlmaWVkIGJ1dCBpZiBpdCBpcyBhIGZpbHRlciwgaXQgaXMuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHR5cGUgJ2FjdGlvbnMnIG9yICdmaWx0ZXJzJ1xyXG5cdFx0ICogQHBhcmFtIGhvb2sgVGhlIGhvb2sgKCBuYW1lc3BhY2UuaWRlbnRpZmllciApIHRvIGJlIHJhbi5cclxuXHRcdCAqIEBwYXJhbSBhcmdzIEFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSBhY3Rpb24vZmlsdGVyLiBJZiBpdCdzIGEgZmlsdGVyLCBhcmdzIGlzIGFjdHVhbGx5IGEgc2luZ2xlIHBhcmFtZXRlci5cclxuXHRcdCAqIEBwcml2YXRlXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIF9ydW5Ib29rKCB0eXBlLCBob29rLCBhcmdzICkge1xyXG5cdFx0XHR2YXIgaGFuZGxlcnMgPSBTVE9SQUdFWyB0eXBlIF1bIGhvb2sgXSwgaSwgbGVuO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKCAhaGFuZGxlcnMgKSB7XHJcblx0XHRcdFx0cmV0dXJuICh0eXBlID09PSAnZmlsdGVycycpID8gYXJnc1swXSA6IGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRsZW4gPSBoYW5kbGVycy5sZW5ndGg7XHJcblx0XHRcdGlmICggdHlwZSA9PT0gJ2ZpbHRlcnMnICkge1xyXG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XHJcblx0XHRcdFx0XHRhcmdzWyAwIF0gPSBoYW5kbGVyc1sgaSBdLmNhbGxiYWNrLmFwcGx5KCBoYW5kbGVyc1sgaSBdLmNvbnRleHQsIGFyZ3MgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcclxuXHRcdFx0XHRcdGhhbmRsZXJzWyBpIF0uY2FsbGJhY2suYXBwbHkoIGhhbmRsZXJzWyBpIF0uY29udGV4dCwgYXJncyApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuICggdHlwZSA9PT0gJ2ZpbHRlcnMnICkgPyBhcmdzWyAwIF0gOiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHJldHVybiBhbGwgb2YgdGhlIHB1YmxpY2x5IGF2YWlsYWJsZSBtZXRob2RzXHJcblx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcclxuXHJcblx0fTtcclxuXHRcclxuXHR3aW5kb3cud3AgPSB3aW5kb3cud3AgfHwge307XHJcblx0d2luZG93LndwLmhvb2tzID0gbmV3IEV2ZW50TWFuYWdlcigpO1xyXG5cclxufSApKCB3aW5kb3cgKTtcclxuIiwiKGZ1bmN0aW9uKCQpIHtcblxuXHQkKCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbigpIHtcblxuXHRcdCQoJy5wcmV0dHktc2VsZWN0Jykuc2VsZWN0aXplKCk7XG5cblxuXHRcdC8vIENvcHkgbWVyZ2UgdGFnXG5cblx0XHR2YXIgbWVyZ2VfdGFnX2NsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQoJyNub3RpZmljYXRpb25fbWVyZ2VfdGFncyAuaW5zaWRlIHVsIGxpIGNvZGUnKTtcblxuXHRcdG1lcmdlX3RhZ19jbGlwYm9hcmQub24oJ3N1Y2Nlc3MnLCBmdW5jdGlvbihlKSB7XG5cblx0XHQgICAgdmFyICRjb2RlID0gJChlLnRyaWdnZXIpLFxuXHRcdFx0ICAgIHRhZyAgID0gJGNvZGUudGV4dCgpO1xuXG5cdFx0XHQkY29kZS50ZXh0KCBub3RpZmljYXRpb24uY29waWVkICk7XG5cblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCRjb2RlLnRleHQoIHRhZyApO1xuXHRcdFx0fSwgODAwKTtcblxuXHRcdH0pO1xuXG5cdFx0Ly8gR2V0IGZyZXNoIG1lcmdlIHRhZ3MgZm9yIHNlbGVjdGVkIHRyaWdnZXJcblxuXHRcdCQoJyNub3RpZmljYXRpb25fdHJpZ2dlcl9zZWxlY3QnKS5zZWxlY3RpemUoKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciAkc2VsZWN0ICAgID0gJCh0aGlzKSxcblx0XHRcdFx0JGNvbnRhaW5lciA9ICQoJyNub3RpZmljYXRpb25fbWVyZ2VfdGFncyAuaW5zaWRlJyksXG5cdFx0XHRcdCRtZXRhYm94ICAgPSAkKCcjbm90aWZpY2F0aW9uX21lcmdlX3RhZ3MnKTtcblxuXHRcdFx0JG1ldGFib3guZmFkZVRvKDIwMCwgMC41KTtcblxuXHRcdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHRcdCdhY3Rpb24nOiAnbm90aWZpY2F0aW9uX2dldF9tZXJnZV90YWdzJyxcblx0XHRcdFx0J3RyaWdnZXInOiAkc2VsZWN0LnZhbCgpXG5cdFx0XHR9O1xuXG5cdFx0ICAgICQucG9zdChhamF4dXJsLCBkYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0ICAgIFx0aWYgKCByZXNwb25zZS5zdWNjZXNzID09IGZhbHNlICkge1xuXHRcdCAgICBcdFx0JGNvbnRhaW5lci5odG1sKCAnPHA+JyArIHJlc3BvbnNlLmRhdGEgKyAnPC9wPicgKTtcblx0XHQgICAgXHRcdHZhciB0YWdzID0ge307XG5cdFx0ICAgIFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHVsID0gJChcIjx1bD5cIik7XG5cblx0XHRcdFx0XHR2YXIgdGFncyA9IHJlc3BvbnNlLmRhdGE7XG5cblx0XHRcdFx0XHQkLmVhY2godGFncywgZnVuY3Rpb24oIG4sIHRhZyApIHtcblx0XHRcdFx0XHRcdHVsLmFwcGVuZCgnPGxpPjxjb2RlIGRhdGEtY2xpcGJvYXJkLXRleHQ9XCJ7JyArIHRhZyArICd9XCI+eycgKyB0YWcgKyAnfTwvY29kZT48L2xpPicpO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0JGNvbnRhaW5lci5odG1sKHVsKTtcblxuXHRcdCAgICBcdH1cblxuXHRcdCAgICBcdHdwLmhvb2tzLmRvQWN0aW9uKCAnbm90aWZpY2F0aW9uLmNoYW5nZWRfdHJpZ2dlcicsICRzZWxlY3QudmFsKCksIHRhZ3MgKTtcblxuXHRcdCAgICBcdCRtZXRhYm94LmZhZGVUbygyMDAsIDEpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdFx0Ly8gVXBkYXRlIHJlY2lwaWVudCByb3dzOiBudW1iZXIgYW5kIHJlbW92ZSBidXR0b25cblxuXHRcdHZhciB1cGRhdGVfcmVjaXBpZW50cyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgaSA9IDA7XG5cblx0XHRcdGlmICggJCgnI25vdGlmaWNhdGlvbl9yZWNpcGllbnRzIC5yZWNpcGllbnQnKS5sZW5ndGggPT0gMSApIHtcblx0XHRcdFx0dmFyIGRpc2FibGUgPSB0cnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIGRpc2FibGUgPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0JCgnI25vdGlmaWNhdGlvbl9yZWNpcGllbnRzIC5yZWNpcGllbnQnKS5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHR2YXIgJHJvdyAgICAgICAgICAgPSAkKHRoaXMpLFxuXHRcdFx0XHRcdCRyZW1vdmVfYnV0dG9uID0gJHJvdy5maW5kKCcuYWN0aW9ucyAuZGFzaGljb25zLXRyYXNoJyksXG5cdFx0XHRcdFx0JGlucHV0cyAgICAgICAgPSAkcm93LmZpbmQoJ2lucHV0LCBzZWxlY3QnKTtcblxuXHRcdFx0XHRpZiAoIGRpc2FibGUgKSB7XG5cdFx0XHRcdFx0JHJlbW92ZV9idXR0b24uYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JHJlbW92ZV9idXR0b24ucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQkaW5wdXRzLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0dmFyICRpbnB1dCAgICA9ICQodGhpcyksXG5cdFx0XHRcdFx0XHRwYXJ0X25hbWUgPSAkaW5wdXQuYXR0cignbmFtZScpO1xuXG5cdFx0XHRcdFx0JGlucHV0LmF0dHIoICduYW1lJywgcGFydF9uYW1lLnJlcGxhY2UoIC9ub3RpZmljYXRpb25fcmVjaXBpZW50XFxbWzAtOV0rXFxdLywgJ25vdGlmaWNhdGlvbl9yZWNpcGllbnRbJytpKyddJyApICk7XG5cblx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdGkrKztcblxuXHRcdFx0fSApO1xuXG5cdFx0fVxuXG5cdFx0Ly8gQWRkIHJlY2lwaWVudFxuXG5cdFx0dmFyIGFkZF9yZWNpcGllbnQgPSBmdW5jdGlvbiggdHlwZSwgdmFsdWUgKSB7XG5cblx0XHRcdHR5cGUgID0gdHlwZW9mIHR5cGUgIT09ICd1bmRlZmluZWQnID8gdHlwZSA6ICcnO1xuXHRcdFx0dmFsdWUgPSB0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnID8gdmFsdWUgOiAnJztcblxuXHRcdFx0dmFyICRjb250YWluZXIgPSAkKCcjbm90aWZpY2F0aW9uX3JlY2lwaWVudHMgLnJlY2lwaWVudHMnKTtcblxuXHRcdFx0JGNvbnRhaW5lci5mYWRlVG8oMjAwLCAwLjUpO1xuXG5cdFx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdFx0J2FjdGlvbic6ICdub3RpZmljYXRpb25fYWRkX3JlY2lwaWVudCcsXG5cdFx0XHRcdCd0eXBlJzogICB0eXBlLFxuXHRcdFx0XHQndmFsdWUnOiAgdmFsdWVcblx0XHRcdH07XG5cblx0XHQgICAgJC5wb3N0KGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHQgICAgXHRpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgPT0gZmFsc2UgKSB7XG5cdFx0ICAgIFx0XHRhbGVydCggcmVzcG9uc2UuZGF0YSApO1xuXHRcdCAgICBcdH0gZWxzZSB7XG5cblx0XHQgICAgXHRcdHZhciAkcm93ID0gJChyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XHQkY29udGFpbmVyLmFwcGVuZCgkcm93KTtcblxuXHRcdCAgICBcdH1cblxuXHRcdCAgICBcdCRjb250YWluZXIuZmFkZVRvKDIwMCwgMSk7XG5cblx0XHQgICAgXHR1cGRhdGVfcmVjaXBpZW50cygpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH07XG5cblx0XHQkKCcjbm90aWZpY2F0aW9uX3JlY2lwaWVudHMnKS5vbiggJ2NsaWNrJywgJyNub3RpZmljYXRpb25fYWRkX3JlY2lwaWVudCcsIGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0YWRkX3JlY2lwaWVudCgpO1xuXG5cdFx0fSk7XG5cblx0XHQvLyBSZW1vdmUgcmVjaXBpZW50XG5cblx0XHQkKCcjbm90aWZpY2F0aW9uX3JlY2lwaWVudHMnKS5vbiggJ2NsaWNrJywgJy5yZWNpcGllbnQgLmFjdGlvbnMgLmRhc2hpY29ucy10cmFzaCcsIGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0dmFyICRidXR0b24gICAgPSAkKHRoaXMpLFxuXHRcdFx0XHQkY29udGFpbmVyID0gJGJ1dHRvbi5wYXJlbnRzKCcucmVjaXBpZW50JykuZmlyc3QoKTtcblxuXHRcdFx0aWYgKCAkYnV0dG9uLmhhc0NsYXNzKCdkaXNhYmxlZCcpICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdCRjb250YWluZXIuYW5pbWF0ZSh7bGVmdDogJzUwcHgnLCBvcGFjaXR5OiAwfSwgNDAwLCAnbGluZWFyJywgZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XG5cdCAgICAgICAgICAgIHVwZGF0ZV9yZWNpcGllbnRzKCk7XG5cdCAgICAgICAgfSApO1xuXG5cdFx0fSk7XG5cblx0XHQvLyBHZXQgaW5wdXQgZmllbGQgZm9yIHJlY2lwaWVudFxuXG5cdFx0JCgnI25vdGlmaWNhdGlvbl9yZWNpcGllbnRzJykub24oICdjaGFuZ2UnLCAnLnJlY2lwaWVudCAuZ3JvdXAgc2VsZWN0JywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciAkc2VsZWN0ICAgID0gJCh0aGlzKSxcblx0XHRcdFx0JGlucHV0ICAgICA9ICRzZWxlY3QucGFyZW50KCkubmV4dCgnLnZhbHVlJykuZmluZCgnaW5wdXQsIHNlbGVjdCcpLmZpcnN0KCksXG5cdFx0XHRcdCRjb250YWluZXIgPSAkaW5wdXQucGFyZW50KCk7XG5cblx0XHRcdCRjb250YWluZXIuZmFkZVRvKDIwMCwgMC41KTtcblxuXHRcdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHRcdCdhY3Rpb24nOiAnbm90aWZpY2F0aW9uX2dldF9yZWNpcGllbnRfaW5wdXQnLFxuXHRcdFx0XHQncmVjaXBpZW50X25hbWUnOiAkc2VsZWN0LnZhbCgpXG5cdFx0XHR9O1xuXG5cdFx0ICAgICQucG9zdChhamF4dXJsLCBkYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0ICAgIFx0aWYgKCByZXNwb25zZS5zdWNjZXNzID09IGZhbHNlICkge1xuXHRcdCAgICBcdFx0YWxlcnQoIHJlc3BvbnNlLmRhdGEgKTtcblx0XHQgICAgXHR9IGVsc2Uge1xuXG5cdFx0ICAgIFx0XHR2YXIgJGlucHV0ID0gJChyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XHQkY29udGFpbmVyLmh0bWwoJGlucHV0KTtcblxuXHRcdFx0XHRcdGlmICggdHlwZW9mICRpbnB1dC5kYXRhKCd1cGRhdGUnKSAhPT0gJ3VuZGVmaW5lZCcgKSB7XG5cdFx0XHRcdFx0XHR3cC5ob29rcy5kb0FjdGlvbiggJ25vdGlmaWNhdGlvbi51cGRhdGVfaW5wdXQnLCAkaW5wdXQsICRpbnB1dC5kYXRhKCd2YWx1ZScpLCAkaW5wdXQuZGF0YSgndXBkYXRlJykgKTtcblx0XHRcdFx0XHR9XG5cblx0XHQgICAgXHR9XG5cblx0XHQgICAgXHQkY29udGFpbmVyLmZhZGVUbygyMDAsIDEpO1xuXG5cdFx0ICAgIFx0dXBkYXRlX3JlY2lwaWVudHMoKTtcblxuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHRcdC8vIFByb2Nlc3MgYWxsIHJlY2lwaWVudCBmaWVsZHMgd2hpY2ggbmVlZHMgbGl2ZSB1cGRhdGVcblxuXHRcdHZhciB1cGRhdGVfYWxsX2lucHV0cyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQkKCcjbm90aWZpY2F0aW9uX3JlY2lwaWVudHMgLnJlY2lwaWVudCcpLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHZhciAkaW5wdXQgPSAkKHRoaXMpLmZpbmQoJy5maWVsZC52YWx1ZSBzZWxlY3QsIC5maWVsZC52YWx1ZSBpbnB1dCcpO1xuXG5cdFx0XHRcdGlmICggdHlwZW9mICRpbnB1dC5kYXRhKCd1cGRhdGUnKSAhPT0gJ3VuZGVmaW5lZCcgKSB7XG5cdFx0XHRcdFx0d3AuaG9va3MuZG9BY3Rpb24oICdub3RpZmljYXRpb24udXBkYXRlX2lucHV0JywgJGlucHV0LCAkaW5wdXQuZGF0YSgndmFsdWUnKSwgJGlucHV0LmRhdGEoJ3VwZGF0ZScpICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdCQoZG9jdW1lbnQpLnJlYWR5KCB1cGRhdGVfYWxsX2lucHV0cyApO1xuXHRcdHdwLmhvb2tzLmFkZEFjdGlvbiggJ25vdGlmaWNhdGlvbi5jaGFuZ2VkX3RyaWdnZXInLCB1cGRhdGVfYWxsX2lucHV0cyApO1xuXG5cdFx0Ly8gVXBkYXRlIG1lcmdlIHRhZ3MgaW5wdXRcblxuXHRcdHdwLmhvb2tzLmFkZEFjdGlvbiggJ25vdGlmaWNhdGlvbi51cGRhdGVfaW5wdXQnLCBmdW5jdGlvbiggJGlucHV0LCB2YWx1ZSwgdXBkYXRlX3R5cGUgKSB7XG5cblx0XHRcdGlmICggdXBkYXRlX3R5cGUgPT0gJ2VtYWlsX21lcmdlX3RhZ3MnICkge1xuXG5cdFx0XHRcdHZhciB0cmlnZ2VyICAgID0gJCgnI25vdGlmaWNhdGlvbl90cmlnZ2VyX3NlbGVjdCcpLnZhbCgpLFxuXHRcdFx0XHRcdCRjb250YWluZXIgPSAkaW5wdXQucGFyZW50KCk7XG5cblx0XHRcdFx0JGNvbnRhaW5lci5mYWRlVG8oMjAwLCAwLjUpO1xuXG5cdFx0XHRcdHZhciBkYXRhID0ge1xuXHRcdFx0XHRcdCdhY3Rpb24nOiAgJ25vdGlmaWNhdGlvbl9nZXRfZW1haWxfbWVyZ2VfdGFncycsXG5cdFx0XHRcdFx0J3RyaWdnZXInOiB0cmlnZ2VyXG5cdFx0XHRcdH07XG5cblx0XHRcdCAgICAkLnBvc3QoYWpheHVybCwgZGF0YSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0ICAgIFx0aWYgKCByZXNwb25zZS5zdWNjZXNzID09IGZhbHNlICkge1xuXHRcdFx0ICAgIFx0XHRhbGVydCggcmVzcG9uc2UuZGF0YSApO1xuXHRcdFx0ICAgIFx0fSBlbHNlIHtcblxuXHRcdFx0ICAgIFx0XHQvLyBjbGVhciBvcHRpb25zIGZpcnN0XG5cdFx0XHQgICAgXHRcdCRpbnB1dC5maW5kKCdvcHRpb24nKS5yZW1vdmUoKTtcblxuXHRcdFx0ICAgIFx0XHQvLyBhZGQgZW1wdHkgb3B0aW9uIGZvciBjbGFyaXR5XG5cdFx0XHQgICAgXHRcdCRpbnB1dC5hcHBlbmQoICQoJzxvcHRpb24+JykgKTtcblxuXHRcdFx0ICAgIFx0XHQkLmVhY2gocmVzcG9uc2UuZGF0YSwgZnVuY3Rpb24odGFnX3ZhbHVlLCB0YWdfbmFtZSkge1xuXG5cdFx0XHQgICAgXHRcdFx0dmFyIGF0dHMgPSB7XG5cdFx0XHRcdFx0XHQgICAgICAgIHZhbHVlOiB0YWdfdmFsdWUsXG5cdFx0XHRcdFx0XHQgICAgICAgIHRleHQgOiB0YWdfbmFtZVxuXHRcdFx0XHRcdFx0ICAgIH07XG5cblx0XHRcdFx0XHRcdCAgICBpZiAoIHRhZ192YWx1ZSA9PSB2YWx1ZSApIHtcblx0XHRcdFx0XHRcdCAgICBcdGF0dHMuc2VsZWN0ZWQgPSAnc2VsZWN0ZWQnO1xuXHRcdFx0XHRcdFx0ICAgIH1cblxuXHRcdFx0XHRcdFx0ICAgICRpbnB1dC5hcHBlbmQoICQoJzxvcHRpb24+JywgYXR0cykgKTtcblxuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdCAgICBcdH1cblxuXHRcdFx0ICAgIFx0JGNvbnRhaW5lci5mYWRlVG8oMjAwLCAxKTtcblxuXHRcdFx0XHR9KTtcblxuXHRcdFx0fVxuXG5cdFx0fSApO1xuXG5cdFx0Ly8gVXBkYXRlIG5vdGlmaWNhdGlvbiBkZWZhdWx0czogdGl0bGUsIHRlbXBsYXRlIGFuZCByZWNpcGllbnRzXG5cblx0XHR3cC5ob29rcy5hZGRBY3Rpb24oICdub3RpZmljYXRpb24uY2hhbmdlZF90cmlnZ2VyJywgZnVuY3Rpb24oIHRyaWdnZXJfc2x1ZywgdGFncyApIHtcblxuXHRcdFx0aWYgKCB0aW55bWNlLmFjdGl2ZUVkaXRvci5nZXRDb250ZW50KCkgPT0gJycgKSB7XG5cblx0XHRcdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHRcdFx0J2FjdGlvbic6ICAnbm90aWZpY2F0aW9uX2dldF9kZWZhdWx0cycsXG5cdFx0XHRcdFx0J3RyaWdnZXInOiB0cmlnZ2VyX3NsdWdcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQkLnBvc3QoYWpheHVybCwgZGF0YSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0ICAgIFx0aWYgKCByZXNwb25zZS5zdWNjZXNzID09IGZhbHNlICkge1xuXHRcdFx0ICAgIFx0XHRhbGVydCggcmVzcG9uc2UuZGF0YSApO1xuXHRcdFx0ICAgIFx0fSBlbHNlIHtcblxuXHRcdFx0ICAgIFx0XHR2YXIgZGVmYXVsdHMgPSByZXNwb25zZS5kYXRhO1xuXG5cdFx0XHQgICAgXHRcdGlmICggZGVmYXVsdHMudGl0bGUgKSB7XG5cdFx0XHQgICAgXHRcdFx0JCggJyN0aXRsZScgKS52YWwoIGRlZmF1bHRzLnRpdGxlICkuZm9jdXMoKTtcblx0XHRcdCAgICBcdFx0fVxuXG5cdFx0XHQgICAgXHRcdGlmICggZGVmYXVsdHMudGVtcGxhdGUgKSB7XG5cdFx0XHQgICAgXHRcdFx0dGlueW1jZS5hY3RpdmVFZGl0b3Iuc2V0Q29udGVudCggZGVmYXVsdHMudGVtcGxhdGUgKTtcblx0XHRcdCAgICBcdFx0fVxuXG5cdFx0XHQgICAgXHRcdGlmICggZGVmYXVsdHMucmVjaXBpZW50cyApIHtcblxuXHRcdFx0ICAgIFx0XHRcdCQoJyNub3RpZmljYXRpb25fcmVjaXBpZW50cyAucmVjaXBpZW50cyAucmVjaXBpZW50JykuZmlyc3QoKS5yZW1vdmUoKTtcblxuXHRcdFx0ICAgIFx0XHRcdCQuZWFjaCggZGVmYXVsdHMucmVjaXBpZW50cywgZnVuY3Rpb24oIHR5cGUsIHZhbHVlICkge1xuXHRcdFx0XHRcdFx0XHRcdGFkZF9yZWNpcGllbnQoIHR5cGUsIHZhbHVlICk7XG5cdFx0XHRcdFx0XHRcdH0gKTtcblxuXHRcdFx0ICAgIFx0XHR9XG5cblx0XHRcdCAgICBcdH1cblxuXHRcdFx0XHR9KTtcblxuXHRcdFx0fVxuXG5cdFx0fSApO1xuXG5cdFx0Ly8gRGlzbWlzcyBiZWcgbWVzc2FnZVxuXG5cdFx0JCggJy5ub3RpZmljYXRpb24tbm90aWNlJyApLm9uKCAnY2xpY2snLCAnLmRpc21pc3MtYmVnLW1lc3NhZ2UnLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdHZhciAkYnV0dG9uID0gJCggdGhpcyApO1xuXG5cdFx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdFx0J2FjdGlvbic6ICAnbm90aWZpY2F0aW9uX2Rpc21pc3NfYmVnX21lc3NhZ2UnLFxuXHRcdFx0XHQnbm9uY2UnOiAkYnV0dG9uLmRhdGEoICdub25jZScgKVxuXHRcdFx0fTtcblxuXHRcdFx0JC5wb3N0KCBhamF4dXJsLCBkYXRhLCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cdFx0ICAgIFx0JGJ1dHRvbi5wYXJlbnRzKCAnLm5vdGlmaWNhdGlvbi1ub3RpY2UnICkuc2xpZGVVcCgpO1xuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHRcdC8vIFBsdWdpbiByZW1vdmFsXG5cblx0XHQkKCAnI3RoZS1saXN0IHRyW2RhdGEtc2x1Zz1cIm5vdGlmaWNhdGlvblwiXSAuZGVhY3RpdmF0ZSBhJyApLmNsaWNrKCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH0gKTtcblxuXHRcdCQoICdib2R5JyApLm9uKCAnc3VibWl0JywgJyNub3RpZmljYXRpb24tcGx1Z2luLWZlZWRiYWNrLWZvcm0nLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdHZhciAkZm9ybSA9ICQodGhpcyk7XG5cblx0XHRcdCRmb3JtLmZpbmQoICcuc3Bpbm5lcicgKS5hZGRDbGFzcyggJ2lzLWFjdGl2ZScgKTtcblxuXHRcdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHRcdCdhY3Rpb24nOiAnbm90aWZpY2F0aW9uX3NlbmRfZmVlZGJhY2snLFxuXHRcdFx0XHQnZm9ybScgIDogJGZvcm0uc2VyaWFsaXplQXJyYXkoKVxuXHRcdFx0fTtcblxuXHRcdFx0JC5wb3N0KCBhamF4dXJsLCBkYXRhLCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJCggJyN0aGUtbGlzdCB0cltkYXRhLXNsdWc9XCJub3RpZmljYXRpb25cIl0gLmRlYWN0aXZhdGUgYScgKS5kYXRhKCAnZGVhY3RpdmF0ZScgKTtcblx0XHRcdH0pO1xuXG5cdFx0fSApO1xuXG5cdH0gKTtcblxufSkoalF1ZXJ5KTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
