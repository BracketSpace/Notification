(function(){var t,e,i,s,n,r={}.hasOwnProperty,o=function(t,e){function i(){this.constructor=t}for(var s in e)r.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};s=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,s,n,r,o;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),r=t.childNodes,o=[],s=0,n=r.length;s<n;s++)i=r[s],o.push(this.add_option(i,e,t.disabled));return o},t.prototype.add_option=function(t,e,i){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:i===!0?i:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t.prototype.escapeExpression=function(t){var e,i;return null==t||t===!1?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(i,function(t){return e[t]||"&amp;"})):t},t}(),s.select_to_array=function(t){var e,i,n,r,o;for(i=new s,o=t.childNodes,n=0,r=o.length;n<r;n++)e=o[n],i.add_node(e);return i.parsed},e=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+t.group_label+"</b>"+t.html:t.html},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(t){var e=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return e.blur_test()},100)},t.prototype.results_option_build=function(t){var e,i,s,n,r,o,l;for(e="",n=0,l=this.results_data,r=0,o=l.length;r<o&&(i=l[r],s="",s=i.group?this.result_add_group(i):this.result_add_option(i),""!==s&&(n++,e+=s),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(i))),!(n>=this.max_shown_results));r++);return e},t.prototype.result_add_option=function(t){var e,i;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.style.cssText=t.style,i.setAttribute("data-option-array-index",t.array_index),i.innerHTML=t.search_text,t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.result_add_group=function(t){var e,i;return(t.search_match||t.group_match)&&t.active_options>0?(e=[],e.push("group-result"),t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.innerHTML=t.search_text,t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},t.prototype.reset_single_select_options=function(){var t,e,i,s,n;for(s=this.results_data,n=[],e=0,i=s.length;e<i;e++)t=s[e],t.selected?n.push(t.selected=!1):n.push(void 0);return n},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,i,s,n,r,o,l,a,c,h,u;for(this.no_results_clear(),s=0,r=this.get_search_text(),t=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),a=new RegExp(t,"i"),i=this.get_search_regex(t),u=this.results_data,c=0,h=u.length;c<h;c++)e=u[c],e.search_match=!1,n=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(n=this.results_data[e.group_array_index],0===n.active_options&&n.search_match&&(s+=1),n.active_options+=1),e.search_text=e.group?e.label:e.html,e.group&&!this.group_search||(e.search_match=this.search_string_match(e.search_text,i),e.search_match&&!e.group&&(s+=1),e.search_match?(r.length&&(o=e.search_text.search(a),l=e.search_text.substr(0,o+r.length)+"</em>"+e.search_text.substr(o+r.length),e.search_text=l.substr(0,o)+"<em>"+l.substr(o)),null!=n&&(n.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),s<1&&r.length?(this.update_results_content(""),this.no_results(r)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.get_search_regex=function(t){var e,i;return e=this.search_contains?"":"^",i=this.case_sensitive_search?"":"i",new RegExp(e+t,i)},t.prototype.search_string_match=function(t,e){var i,s,n,r;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))&&(s=t.replace(/\[|\]/g,"").split(" "),s.length))for(n=0,r=s.length;n<r;n++)if(i=s[n],e.test(i))return!0},t.prototype.choices_count=function(){var t,e,i,s;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,s=this.form_field.options,e=0,i=s.length;e<i;e++)t=s[e],t.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){if(t.preventDefault(),!this.results_showing&&!this.is_disabled)return this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},t.prototype.clipboard_event_checker=function(t){var e=this;return setTimeout(function(){return e.results_search()},50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:(e=document.createElement("div"),e.appendChild(t),e.innerHTML)},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),t=jQuery,t.fn.extend({chosen:function(s){return e.browser_is_supported()?this.each(function(e){var n,r;return n=t(this),r=n.data("chosen"),"destroy"===s?void(r instanceof i&&r.destroy()):void(r instanceof i||n.data("chosen",new i(this,s)))}):this}}),i=function(e){function i(){return n=i.__super__.constructor.apply(this,arguments)}return o(i,e),i.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var e,i;return e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),i={class:e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},i.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var t=this;return this.container.bind("touchstart.chosen",function(e){return t.container_mousedown(e),e.preventDefault()}),this.container.bind("touchend.chosen",function(e){return t.container_mouseup(e),e.preventDefault()}),this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},i.prototype.destroy=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(e){if(!this.is_disabled&&(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null==e||!t(e.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()},i.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},i.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e=40*e),this.search_results.scrollTop(e+this.search_results.scrollTop())},i.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},i.prototype.close_field=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(e){var i;return i=t(e.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=s.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(t){var e,i,s,n,r;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),s=parseInt(this.search_results.css("maxHeight"),10),r=this.search_results.scrollTop(),n=s+r,i=this.result_highlight.position().top+this.search_results.scrollTop(),e=i+this.result_highlight.outerHeight(),e>=n)return this.search_results.scrollTop(e-s>0?e-s:0);if(i<r)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(t){return this.search_results.html(t)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(t){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},i.prototype.set_label_behavior=function(){var e=this;if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()})},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(e){var i;if(i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length)return this.result_highlight=i,this.result_select(e),this.search_field.focus()},i.prototype.search_results_mouseover=function(e){var i;if(i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first())return this.result_do_highlight(i)},i.prototype.search_results_mouseout=function(e){if(t(e.target).hasClass("active-result"))return this.result_clear_highlight()},i.prototype.choice_build=function(e){var i,s,n=this;return i=t("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?i.addClass("search-choice-disabled"):(s=t("<a />",{class:"search-choice-close","data-option-array-index":e.array_index}),s.bind("click.chosen",function(t){return n.choice_destroy_link_click(t)}),i.append(s)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(t(e.target))},i.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},i.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(t){var e,i;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),i=this.results_data[e[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(this.choice_label(i)),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())},i.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},i.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},i.prototype.get_search_text=function(){return t("<div/>").text(t.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var t,e;if(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null!=t)return this.result_do_highlight(t)},i.prototype.no_results=function(e){var i;return i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(e),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var e,i,s,n,r,o,l,a,c;if(this.is_multiple){for(s=0,l=0,r="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],a=0,c=o.length;a<c;a++)n=o[a],r+=n+":"+this.search_field.css(n)+";";return e=t("<div />",{style:r}),e.text(this.search_field.val()),t("body").append(e),l=e.width()+25,e.remove(),i=this.container.outerWidth(),l>i-10&&(l=i-10),this.search_field.css({width:l+"px"})}},i}(e)}).call(this),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t;return function t(e,i,s){function n(o,l){if(!i[o]){if(!e[o]){var a="function"==typeof require&&require;if(!l&&a)return a(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[o]={exports:{}};e[o][0].call(h.exports,function(t){var i=e[o][1][t];return n(i?i:t)},h,h.exports,t,e,i,s)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<s.length;o++)n(s[o]);return n}({1:[function(t,e,i){var s=t("matches-selector");e.exports=function(t,e,i){for(var n=i?t:t.parentNode;n&&n!==document;){if(s(n,e))return n;n=n.parentNode}}},{"matches-selector":5}],2:[function(t,e,i){function s(t,e,i,s,r){var o=n.apply(this,arguments);return t.addEventListener(i,o,r),{destroy:function(){t.removeEventListener(i,o,r)}}}function n(t,e,i,s){return function(i){i.delegateTarget=r(i.target,e,!0),i.delegateTarget&&s.call(t,i)}}var r=t("closest");e.exports=s},{closest:1}],3:[function(t,e,i){i.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},i.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||i.node(t[0]))},i.string=function(t){return"string"==typeof t||t instanceof String},i.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},{}],4:[function(t,e,i){function s(t,e,i){if(!t&&!e&&!i)throw new Error("Missing required arguments");if(!l.string(e))throw new TypeError("Second argument must be a String");if(!l.fn(i))throw new TypeError("Third argument must be a Function");if(l.node(t))return n(t,e,i);if(l.nodeList(t))return r(t,e,i);if(l.string(t))return o(t,e,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function n(t,e,i){return t.addEventListener(e,i),{destroy:function(){t.removeEventListener(e,i)}}}function r(t,e,i){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,i)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,i)})}}}function o(t,e,i){return a(document.body,t,e,i)}var l=t("./is"),a=t("delegate");e.exports=s},{"./is":3,delegate:2}],5:[function(t,e,i){function s(t,e){if(r)return r.call(t,e);for(var i=t.parentNode.querySelectorAll(e),s=0;s<i.length;++s)if(i[s]==t)return!0;return!1}var n=Element.prototype,r=n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;e.exports=s},{}],6:[function(t,e,i){function s(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),s=document.createRange();s.selectNodeContents(t),i.removeAllRanges(),i.addRange(s),e=i.toString()}return e}e.exports=s},{}],7:[function(t,e,i){function s(){}s.prototype={on:function(t,e,i){var s=this.e||(this.e={});return(s[t]||(s[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){function s(){n.off(t,s),e.apply(i,arguments)}var n=this;return s._=e,this.on(t,s,i)},emit:function(t){var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),s=0,n=i.length;for(s;s<n;s++)i[s].fn.apply(i[s].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),s=i[t],n=[];if(s&&e)for(var r=0,o=s.length;r<o;r++)s[r].fn!==e&&s[r].fn._!==e&&n.push(s[r]);return n.length?i[t]=n:delete i[t],this}},e.exports=s},{}],8:[function(e,i,s){!function(n,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if("undefined"!=typeof s)r(i,e("select"));else{var o={exports:{}};r(o,n.select),n.clipboardAction=o.exports}}(this,function(t,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=i(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(){function t(e){s(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];
this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){this.selectedText=(0,n.default)(this.target),this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},o(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=l})},{select:6}],9:[function(e,i,s){!function(n,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if("undefined"!=typeof s)r(i,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var o={exports:{}};r(o,n.clipboardAction,n.tinyEmitter,n.goodListener),n.clipboard=o.exports}}(this,function(t,e,i,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){var i="data-clipboard-"+t;if(e.hasAttribute(i))return e.getAttribute(i)}var c=n(e),h=n(i),u=n(s),d=function(t){function e(i,s){r(this,e);var n=o(this,t.call(this));return n.resolveOptions(s),n.listenClick(i),n}return l(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.listenClick=function(t){var e=this;this.listener=(0,u.default)(t,"click",function(t){return e.onClick(t)})},e.prototype.onClick=function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},e.prototype.defaultAction=function(t){return a("action",t)},e.prototype.defaultTarget=function(t){var e=a("target",t);if(e)return document.querySelector(e)},e.prototype.defaultText=function(t){return a("text",t)},e.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(h.default);t.exports=d})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)}),function(t,e){"use strict";var i=function(){function t(t,e,i,s){return"string"==typeof t&&"function"==typeof e&&(i=parseInt(i||10,10),l("actions",t,e,i,s)),u}function e(){var t=h.call(arguments),e=t.shift();return"string"==typeof e&&c("actions",e,t),u}function i(t,e){return"string"==typeof t&&o("actions",t,e),u}function s(t,e,i,s){return"string"==typeof t&&"function"==typeof e&&(i=parseInt(i||10,10),l("filters",t,e,i,s)),u}function n(){var t=h.call(arguments),e=t.shift();return"string"==typeof e?c("filters",e,t):u}function r(t,e){return"string"==typeof t&&o("filters",t,e),u}function o(t,e,i,s){var n,r,o;if(d[t][e])if(i)if(n=d[t][e],s)for(o=n.length;o--;)r=n[o],r.callback===i&&r.context===s&&n.splice(o,1);else for(o=n.length;o--;)n[o].callback===i&&n.splice(o,1);else d[t][e]=[]}function l(t,e,i,s,n){var r={callback:i,priority:s,context:n},o=d[t][e];o?(o.push(r),o=a(o)):o=[r],d[t][e]=o}function a(t){for(var e,i,s,n=1,r=t.length;n<r;n++){for(e=t[n],i=n;(s=t[i-1])&&s.priority>e.priority;)t[i]=t[i-1],--i;t[i]=e}return t}function c(t,e,i){var s,n,r=d[t][e];if(!r)return"filters"===t&&i[0];if(n=r.length,"filters"===t)for(s=0;s<n;s++)i[0]=r[s].callback.apply(r[s].context,i);else for(s=0;s<n;s++)r[s].callback.apply(r[s].context,i);return"filters"!==t||i[0]}var h=Array.prototype.slice,u={removeFilter:r,applyFilters:n,addFilter:s,removeAction:i,doAction:e,addAction:t},d={actions:{},filters:{}};return u};t.wp=t.wp||{},t.wp.hooks=new i}(window),function(t){t(".chosen-select").chosen({width:"100%"});var e=new Clipboard("#notification_merge_tags .inside ul li code");e.on("success",function(e){var i=t(e.trigger),s=i.text();i.text(notification.copied),setTimeout(function(){i.text(s)},800)}),t("#notification_trigger_select").chosen().change(function(){var e=t(this),i=t("#notification_merge_tags .inside"),s=t("#notification_merge_tags");s.fadeTo(200,.5);var n={action:"notification_get_merge_tags",trigger:e.val()};t.post(ajaxurl,n,function(n){if(0==n.success){i.html("<p>"+n.data+"</p>");var r={}}else{ul=t("<ul>");var r=n.data;t.each(r,function(t,e){ul.append('<li><code data-clipboard-text="{'+e+'}">{'+e+"}</code></li>")}),i.html(ul)}wp.hooks.doAction("notification.changed_trigger",e.val(),r),s.fadeTo(200,1)})});var i=function(){var e=0;if(1==t("#notification_recipients .recipient").length)var i=!0;else var i=!1;t("#notification_recipients .recipient").each(function(){var s=t(this),n=s.find(".actions .dashicons-trash"),r=s.find("input, select");i?n.addClass("disabled"):n.removeClass("disabled"),r.each(function(){var i=t(this),s=i.attr("name");i.attr("name",s.replace(/notification_recipient\[[0-9]+\]/,"notification_recipient["+e+"]"))}),e++})};t("#notification_recipients").on("click","#notification_add_recipient",function(e){e.preventDefault();var s=t(this),n=s.prev(".recipients");n.fadeTo(200,.5);var r={action:"notification_add_recipient"};t.post(ajaxurl,r,function(e){if(0==e.success)alert(e.data);else{var s=t(e.data);n.append(s)}n.fadeTo(200,1),i()})}),t("#notification_recipients").on("click",".recipient .actions .dashicons-trash",function(e){e.preventDefault();var s=t(this),n=s.parents(".recipient").first();return!s.hasClass("disabled")&&void n.animate({left:"50px",opacity:0},400,"linear",function(){t(this).remove(),i()})}),t("#notification_recipients").on("change",".recipient .group select",function(){var e=t(this),s=e.parent().next(".value").find("input, select").first(),n=s.parent();n.fadeTo(200,.5);var r={action:"notification_get_recipient_input",recipient_name:e.val()};t.post(ajaxurl,r,function(e){if(0==e.success)alert(e.data);else{var s=t(e.data);n.html(s),"undefined"!=typeof s.data("update")&&wp.hooks.doAction("notification.update_input",s,s.data("value"),s.data("update"))}n.fadeTo(200,1),i()})});var s=function(){t("#notification_recipients .recipient").each(function(){var e=t(this).find(".field.value select, .field.value input");"undefined"!=typeof e.data("update")&&wp.hooks.doAction("notification.update_input",e,e.data("value"),e.data("update"))})};t(document).ready(s),wp.hooks.addAction("notification.changed_trigger",s),wp.hooks.addAction("notification.update_input",function(e,i,s){if("email_merge_tags"==s){var n=t("#notification_trigger_select").val(),r=e.parent();r.fadeTo(200,.5);var o={action:"notification_get_email_merge_tags",trigger:n};t.post(ajaxurl,o,function(s){0==s.success?alert(s.data):(e.find("option").remove(),e.append(t("<option>")),t.each(s.data,function(s,n){var r={value:s,text:n};s==i&&(r.selected="selected"),e.append(t("<option>",r))})),r.fadeTo(200,1)})}}),wp.hooks.addAction("notification.changed_trigger",function(e,i){if(""==tinymce.activeEditor.getContent()){var s={action:"notification_get_template",trigger:e};t.post(ajaxurl,s,function(t){0==t.success?alert(t.data):tinymce.activeEditor.setContent(t.data)})}})}(jQuery);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlbmRvci9jaG9zZW4uanF1ZXJ5LmpzIiwidmVuZG9yL2NsaXBib2FyZC5qcyIsInZlbmRvci9ldmVudC1tYW5hZ2VyLmpzIiwiYWRtaW4uanMiXSwibmFtZXMiOlsiJCIsIkFic3RyYWN0Q2hvc2VuIiwiQ2hvc2VuIiwiU2VsZWN0UGFyc2VyIiwiX3JlZiIsIl9faGFzUHJvcCIsImhhc093blByb3BlcnR5IiwiX19leHRlbmRzIiwiY2hpbGQiLCJwYXJlbnQiLCJjdG9yIiwidGhpcyIsImNvbnN0cnVjdG9yIiwia2V5IiwiY2FsbCIsInByb3RvdHlwZSIsIl9fc3VwZXJfXyIsIm9wdGlvbnNfaW5kZXgiLCJwYXJzZWQiLCJhZGRfbm9kZSIsIm5vZGVOYW1lIiwidG9VcHBlckNhc2UiLCJhZGRfZ3JvdXAiLCJhZGRfb3B0aW9uIiwiZ3JvdXAiLCJncm91cF9wb3NpdGlvbiIsIm9wdGlvbiIsIl9pIiwiX2xlbiIsIl9yZXN1bHRzIiwibGVuZ3RoIiwicHVzaCIsImFycmF5X2luZGV4IiwibGFiZWwiLCJlc2NhcGVFeHByZXNzaW9uIiwidGl0bGUiLCJjaGlsZHJlbiIsImRpc2FibGVkIiwiY2xhc3NlcyIsImNsYXNzTmFtZSIsImNoaWxkTm9kZXMiLCJncm91cF9kaXNhYmxlZCIsInRleHQiLCJ2YWx1ZSIsImh0bWwiLCJpbm5lckhUTUwiLCJzZWxlY3RlZCIsImdyb3VwX2FycmF5X2luZGV4IiwiZ3JvdXBfbGFiZWwiLCJzdHlsZSIsImNzc1RleHQiLCJlbXB0eSIsIm1hcCIsInVuc2FmZV9jaGFycyIsInRlc3QiLCI8IiwiPiIsIlwiIiwiJyIsImAiLCJyZXBsYWNlIiwiY2hyIiwic2VsZWN0X3RvX2FycmF5Iiwic2VsZWN0IiwicGFyc2VyIiwiZm9ybV9maWVsZCIsIm9wdGlvbnMiLCJicm93c2VyX2lzX3N1cHBvcnRlZCIsImlzX211bHRpcGxlIiwibXVsdGlwbGUiLCJzZXRfZGVmYXVsdF90ZXh0Iiwic2V0X2RlZmF1bHRfdmFsdWVzIiwic2V0dXAiLCJzZXRfdXBfaHRtbCIsInJlZ2lzdGVyX29ic2VydmVycyIsIm9uX3JlYWR5IiwiX3RoaXMiLCJjbGlja190ZXN0X2FjdGlvbiIsImV2dCIsInRlc3RfYWN0aXZlX2NsaWNrIiwiYWN0aXZhdGVfYWN0aW9uIiwiYWN0aXZhdGVfZmllbGQiLCJhY3RpdmVfZmllbGQiLCJtb3VzZV9vbl9jb250YWluZXIiLCJyZXN1bHRzX3Nob3dpbmciLCJyZXN1bHRfaGlnaGxpZ2h0ZWQiLCJhbGxvd19zaW5nbGVfZGVzZWxlY3QiLCJkaXNhYmxlX3NlYXJjaF90aHJlc2hvbGQiLCJkaXNhYmxlX3NlYXJjaCIsImVuYWJsZV9zcGxpdF93b3JkX3NlYXJjaCIsImdyb3VwX3NlYXJjaCIsInNlYXJjaF9jb250YWlucyIsInNpbmdsZV9iYWNrc3Ryb2tlX2RlbGV0ZSIsIm1heF9zZWxlY3RlZF9vcHRpb25zIiwiSW5maW5pdHkiLCJpbmhlcml0X3NlbGVjdF9jbGFzc2VzIiwiZGlzcGxheV9zZWxlY3RlZF9vcHRpb25zIiwiZGlzcGxheV9kaXNhYmxlZF9vcHRpb25zIiwiaW5jbHVkZV9ncm91cF9sYWJlbF9pbl9zZWxlY3RlZCIsIm1heF9zaG93bl9yZXN1bHRzIiwiTnVtYmVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJjYXNlX3NlbnNpdGl2ZV9zZWFyY2giLCJnZXRBdHRyaWJ1dGUiLCJkZWZhdWx0X3RleHQiLCJwbGFjZWhvbGRlcl90ZXh0X211bHRpcGxlIiwicGxhY2Vob2xkZXJfdGV4dCIsImRlZmF1bHRfbXVsdGlwbGVfdGV4dCIsInBsYWNlaG9sZGVyX3RleHRfc2luZ2xlIiwiZGVmYXVsdF9zaW5nbGVfdGV4dCIsInJlc3VsdHNfbm9uZV9mb3VuZCIsIm5vX3Jlc3VsdHNfdGV4dCIsImRlZmF1bHRfbm9fcmVzdWx0X3RleHQiLCJjaG9pY2VfbGFiZWwiLCJpdGVtIiwibW91c2VfZW50ZXIiLCJtb3VzZV9sZWF2ZSIsImlucHV0X2ZvY3VzIiwic2V0VGltZW91dCIsImNvbnRhaW5lcl9tb3VzZWRvd24iLCJpbnB1dF9ibHVyIiwiYmx1cl90ZXN0IiwicmVzdWx0c19vcHRpb25fYnVpbGQiLCJjb250ZW50IiwiZGF0YSIsImRhdGFfY29udGVudCIsInNob3duX3Jlc3VsdHMiLCJyZXN1bHRzX2RhdGEiLCJyZXN1bHRfYWRkX2dyb3VwIiwicmVzdWx0X2FkZF9vcHRpb24iLCJmaXJzdCIsImNob2ljZV9idWlsZCIsInNpbmdsZV9zZXRfc2VsZWN0ZWRfdGV4dCIsIm9wdGlvbl9lbCIsInNlYXJjaF9tYXRjaCIsImluY2x1ZGVfb3B0aW9uX2luX3Jlc3VsdHMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJqb2luIiwic2V0QXR0cmlidXRlIiwic2VhcmNoX3RleHQiLCJvdXRlckhUTUwiLCJncm91cF9lbCIsImdyb3VwX21hdGNoIiwiYWN0aXZlX29wdGlvbnMiLCJyZXN1bHRzX3VwZGF0ZV9maWVsZCIsInJlc3VsdHNfcmVzZXRfY2xlYW51cCIsInJlc3VsdF9jbGVhcl9oaWdobGlnaHQiLCJyZXN1bHRzX2J1aWxkIiwid2lubm93X3Jlc3VsdHMiLCJyZXNldF9zaW5nbGVfc2VsZWN0X29wdGlvbnMiLCJyZXN1bHQiLCJyZXN1bHRzX3RvZ2dsZSIsInJlc3VsdHNfaGlkZSIsInJlc3VsdHNfc2hvdyIsInJlc3VsdHNfc2VhcmNoIiwiZXNjYXBlZFNlYXJjaFRleHQiLCJyZWdleCIsInJlc3VsdHMiLCJyZXN1bHRzX2dyb3VwIiwic2VhcmNoVGV4dCIsInN0YXJ0cG9zIiwienJlZ2V4Iiwibm9fcmVzdWx0c19jbGVhciIsImdldF9zZWFyY2hfdGV4dCIsIlJlZ0V4cCIsImdldF9zZWFyY2hfcmVnZXgiLCJzZWFyY2hfc3RyaW5nX21hdGNoIiwic2VhcmNoIiwic3Vic3RyIiwidXBkYXRlX3Jlc3VsdHNfY29udGVudCIsIm5vX3Jlc3VsdHMiLCJ3aW5ub3dfcmVzdWx0c19zZXRfaGlnaGxpZ2h0IiwiZXNjYXBlZF9zZWFyY2hfc3RyaW5nIiwicmVnZXhfYW5jaG9yIiwicmVnZXhfZmxhZyIsInNlYXJjaF9zdHJpbmciLCJwYXJ0IiwicGFydHMiLCJpbmRleE9mIiwic3BsaXQiLCJjaG9pY2VzX2NvdW50Iiwic2VsZWN0ZWRfb3B0aW9uX2NvdW50IiwiY2hvaWNlc19jbGljayIsInByZXZlbnREZWZhdWx0IiwiaXNfZGlzYWJsZWQiLCJrZXl1cF9jaGVja2VyIiwic3Ryb2tlIiwid2hpY2giLCJrZXlDb2RlIiwic2VhcmNoX2ZpZWxkX3NjYWxlIiwiYmFja3N0cm9rZV9sZW5ndGgiLCJrZXlkb3duX2JhY2tzdHJva2UiLCJwZW5kaW5nX2JhY2tzdHJva2UiLCJyZXN1bHRfc2VsZWN0IiwiY2xpcGJvYXJkX2V2ZW50X2NoZWNrZXIiLCJjb250YWluZXJfd2lkdGgiLCJ3aWR0aCIsIm9mZnNldFdpZHRoIiwic2VhcmNoX3Jlc3VsdHNfdG91Y2hzdGFydCIsInRvdWNoX3N0YXJ0ZWQiLCJzZWFyY2hfcmVzdWx0c19tb3VzZW92ZXIiLCJzZWFyY2hfcmVzdWx0c190b3VjaG1vdmUiLCJzZWFyY2hfcmVzdWx0c19tb3VzZW91dCIsInNlYXJjaF9yZXN1bHRzX3RvdWNoZW5kIiwic2VhcmNoX3Jlc3VsdHNfbW91c2V1cCIsImVsZW1lbnQiLCJ0bXAiLCJhcHBlbmRDaGlsZCIsIndpbmRvdyIsIm5hdmlnYXRvciIsImFwcE5hbWUiLCJkb2N1bWVudE1vZGUiLCJ1c2VyQWdlbnQiLCJqUXVlcnkiLCJmbiIsImV4dGVuZCIsImNob3NlbiIsImVhY2giLCJpbnB1dF9maWVsZCIsIiR0aGlzIiwiZGVzdHJveSIsIl9zdXBlciIsImFwcGx5IiwiYXJndW1lbnRzIiwiZm9ybV9maWVsZF9qcSIsImN1cnJlbnRfc2VsZWN0ZWRJbmRleCIsInNlbGVjdGVkSW5kZXgiLCJpc19ydGwiLCJoYXNDbGFzcyIsImNvbnRhaW5lcl9jbGFzc2VzIiwiY29udGFpbmVyX3Byb3BzIiwiY2xhc3MiLCJpZCIsImNvbnRhaW5lciIsImhpZGUiLCJhZnRlciIsImRyb3Bkb3duIiwiZmluZCIsInNlYXJjaF9maWVsZCIsInNlYXJjaF9yZXN1bHRzIiwic2VhcmNoX25vX3Jlc3VsdHMiLCJzZWFyY2hfY2hvaWNlcyIsInNlYXJjaF9jb250YWluZXIiLCJzZWxlY3RlZF9pdGVtIiwic2V0X3RhYl9pbmRleCIsInNldF9sYWJlbF9iZWhhdmlvciIsInRyaWdnZXIiLCJiaW5kIiwiY29udGFpbmVyX21vdXNldXAiLCJzZWFyY2hfcmVzdWx0c19tb3VzZXdoZWVsIiwia2V5ZG93bl9jaGVja2VyIiwib3duZXJEb2N1bWVudCIsInVuYmluZCIsInRhYkluZGV4IiwicmVtb3ZlIiwicmVtb3ZlRGF0YSIsInNob3ciLCJzZWFyY2hfZmllbGRfZGlzYWJsZWQiLCJhZGRDbGFzcyIsImNsb3NlX2ZpZWxkIiwicmVtb3ZlQ2xhc3MiLCJ0eXBlIiwidGFyZ2V0IiwicGFyZW50cyIsInZhbCIsInJlc3VsdHNfcmVzZXQiLCJkZWx0YSIsIm9yaWdpbmFsRXZlbnQiLCJkZWx0YVkiLCJ3aGVlbERlbHRhIiwiZGV0YWlsIiwic2Nyb2xsVG9wIiwiY2xlYXJfYmFja3N0cm9rZSIsInNob3dfc2VhcmNoX2ZpZWxkX2RlZmF1bHQiLCJmb2N1cyIsImFjdGl2ZV9jb250YWluZXIiLCJjbG9zZXN0IiwicGFyc2luZyIsInJlYWRPbmx5IiwicmVzdWx0X2RvX2hpZ2hsaWdodCIsImVsIiwiaGlnaF9ib3R0b20iLCJoaWdoX3RvcCIsIm1heEhlaWdodCIsInZpc2libGVfYm90dG9tIiwidmlzaWJsZV90b3AiLCJyZXN1bHRfaGlnaGxpZ2h0IiwicGFyc2VJbnQiLCJjc3MiLCJwb3NpdGlvbiIsInRvcCIsIm91dGVySGVpZ2h0IiwidGkiLCJmb3JtX2ZpZWxkX2xhYmVsIiwiY2hvaWNlIiwiY2xvc2VfbGluayIsImRhdGEtb3B0aW9uLWFycmF5LWluZGV4IiwiY2hvaWNlX2Rlc3Ryb3lfbGlua19jbGljayIsImFwcGVuZCIsImJlZm9yZSIsInN0b3BQcm9wYWdhdGlvbiIsImNob2ljZV9kZXN0cm95IiwibGluayIsInJlc3VsdF9kZXNlbGVjdCIsImhpZ2giLCJtZXRhS2V5IiwiY3RybEtleSIsInNpbmdsZV9kZXNlbGVjdF9jb250cm9sX2J1aWxkIiwicG9zIiwicmVzdWx0X2RhdGEiLCJkZXNlbGVjdGVkIiwidHJpbSIsImRvX2hpZ2giLCJzZWxlY3RlZF9yZXN1bHRzIiwidGVybXMiLCJub19yZXN1bHRzX2h0bWwiLCJrZXlkb3duX2Fycm93IiwibmV4dF9zaWIiLCJuZXh0QWxsIiwia2V5dXBfYXJyb3ciLCJwcmV2X3NpYnMiLCJwcmV2QWxsIiwibmV4dF9hdmFpbGFibGVfZGVzdHJveSIsInNpYmxpbmdzIiwibGFzdCIsIl9yZWYxIiwiZGl2IiwiZl93aWR0aCIsImgiLCJzdHlsZV9ibG9jayIsInN0eWxlcyIsInciLCJvdXRlcldpZHRoIiwiZiIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJnIiwiZ2xvYmFsIiwic2VsZiIsIkNsaXBib2FyZCIsImUiLCJ0IiwibiIsInIiLCJzIiwibyIsInUiLCJhIiwicmVxdWlyZSIsImkiLCJFcnJvciIsImNvZGUiLCJsIiwiMSIsIm1hdGNoZXMiLCJzZWxlY3RvciIsImNoZWNrWW9TZWxmIiwicGFyZW50Tm9kZSIsIm1hdGNoZXMtc2VsZWN0b3IiLCIyIiwiZGVsZWdhdGUiLCJjYWxsYmFjayIsInVzZUNhcHR1cmUiLCJsaXN0ZW5lckZuIiwibGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRlbGVnYXRlVGFyZ2V0IiwiMyIsIm5vZGUiLCJ1bmRlZmluZWQiLCJIVE1MRWxlbWVudCIsIm5vZGVUeXBlIiwibm9kZUxpc3QiLCJPYmplY3QiLCJ0b1N0cmluZyIsInN0cmluZyIsIlN0cmluZyIsIjQiLCJsaXN0ZW4iLCJpcyIsIlR5cGVFcnJvciIsImxpc3Rlbk5vZGUiLCJsaXN0ZW5Ob2RlTGlzdCIsImxpc3RlblNlbGVjdG9yIiwiQXJyYXkiLCJmb3JFYWNoIiwiYm9keSIsIi4vaXMiLCI1IiwibWF0Y2giLCJ2ZW5kb3IiLCJub2RlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwcm90byIsIkVsZW1lbnQiLCJtYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCI2Iiwic2VsZWN0ZWRUZXh0Iiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJoYXNBdHRyaWJ1dGUiLCJzZWxlY3Rpb24iLCJnZXRTZWxlY3Rpb24iLCJyYW5nZSIsImNyZWF0ZVJhbmdlIiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCI3IiwiRSIsIm9uIiwibmFtZSIsImN0eCIsIm9uY2UiLCJvZmYiLCJfIiwiZW1pdCIsInNsaWNlIiwiZXZ0QXJyIiwibGVuIiwiZXZ0cyIsImxpdmVFdmVudHMiLCI4IiwiZmFjdG9yeSIsIm1vZCIsImNsaXBib2FyZEFjdGlvbiIsIl9zZWxlY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX3NlbGVjdDIiLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZGVmaW5lUHJvcGVydHkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJDbGlwYm9hcmRBY3Rpb24iLCJyZXNvbHZlT3B0aW9ucyIsImluaXRTZWxlY3Rpb24iLCJhY3Rpb24iLCJlbWl0dGVyIiwic2VsZWN0RmFrZSIsInNlbGVjdFRhcmdldCIsImlzUlRMIiwiZG9jdW1lbnRFbGVtZW50IiwicmVtb3ZlRmFrZSIsImZha2VIYW5kbGVyQ2FsbGJhY2siLCJmYWtlSGFuZGxlciIsImZha2VFbGVtIiwiZm9udFNpemUiLCJib3JkZXIiLCJwYWRkaW5nIiwibWFyZ2luIiwicGFnZVlPZmZzZXQiLCJjb3B5VGV4dCIsInJlbW92ZUNoaWxkIiwic3VjY2VlZGVkIiwiZXhlY0NvbW1hbmQiLCJlcnIiLCJoYW5kbGVSZXN1bHQiLCJjbGVhclNlbGVjdGlvbiIsImJsdXIiLCJzZXQiLCJfYWN0aW9uIiwiZ2V0IiwiX3RhcmdldCIsIjkiLCJ0aW55RW1pdHRlciIsImdvb2RMaXN0ZW5lciIsImNsaXBib2FyZCIsIl9jbGlwYm9hcmRBY3Rpb24iLCJfdGlueUVtaXR0ZXIiLCJfZ29vZExpc3RlbmVyIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNyZWF0ZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZ2V0QXR0cmlidXRlVmFsdWUiLCJzdWZmaXgiLCJhdHRyaWJ1dGUiLCJfY2xpcGJvYXJkQWN0aW9uMiIsIl90aW55RW1pdHRlcjIiLCJfZ29vZExpc3RlbmVyMiIsIl9FbWl0dGVyIiwibGlzdGVuQ2xpY2siLCJkZWZhdWx0QWN0aW9uIiwiZGVmYXVsdFRhcmdldCIsImRlZmF1bHRUZXh0IiwiX3RoaXMyIiwib25DbGljayIsImN1cnJlbnRUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiLi9jbGlwYm9hcmQtYWN0aW9uIiwiZ29vZC1saXN0ZW5lciIsInRpbnktZW1pdHRlciIsIkV2ZW50TWFuYWdlciIsImFkZEFjdGlvbiIsInByaW9yaXR5IiwiY29udGV4dCIsIl9hZGRIb29rIiwiTWV0aG9kc0F2YWlsYWJsZSIsImRvQWN0aW9uIiwiYXJncyIsInNoaWZ0IiwiX3J1bkhvb2siLCJyZW1vdmVBY3Rpb24iLCJfcmVtb3ZlSG9vayIsImFkZEZpbHRlciIsImZpbHRlciIsImFwcGx5RmlsdGVycyIsInJlbW92ZUZpbHRlciIsImhvb2siLCJoYW5kbGVycyIsImhhbmRsZXIiLCJTVE9SQUdFIiwic3BsaWNlIiwiaG9va09iamVjdCIsImhvb2tzIiwiX2hvb2tJbnNlcnRTb3J0IiwidG1wSG9vayIsImoiLCJwcmV2SG9vayIsImFjdGlvbnMiLCJmaWx0ZXJzIiwid3AiLCJtZXJnZV90YWdfY2xpcGJvYXJkIiwiJGNvZGUiLCJ0YWciLCJub3RpZmljYXRpb24iLCJjb3BpZWQiLCJjaGFuZ2UiLCIkc2VsZWN0IiwiJGNvbnRhaW5lciIsIiRtZXRhYm94IiwiZmFkZVRvIiwicG9zdCIsImFqYXh1cmwiLCJyZXNwb25zZSIsInN1Y2Nlc3MiLCJ0YWdzIiwidWwiLCJ1cGRhdGVfcmVjaXBpZW50cyIsImRpc2FibGUiLCIkcm93IiwiJHJlbW92ZV9idXR0b24iLCIkaW5wdXRzIiwiJGlucHV0IiwicGFydF9uYW1lIiwiYXR0ciIsImV2ZW50IiwiJGJ1dHRvbiIsInByZXYiLCJhbGVydCIsImFuaW1hdGUiLCJsZWZ0Iiwib3BhY2l0eSIsIm5leHQiLCJyZWNpcGllbnRfbmFtZSIsInVwZGF0ZV9hbGxfaW5wdXRzIiwicmVhZHkiLCJ1cGRhdGVfdHlwZSIsInRhZ192YWx1ZSIsInRhZ19uYW1lIiwiYXR0cyIsInRyaWdnZXJfc2x1ZyIsInRpbnltY2UiLCJhY3RpdmVFZGl0b3IiLCJnZXRDb250ZW50Iiwic2V0Q29udGVudCJdLCJtYXBwaW5ncyI6IkNBWUEsV0FDQSxHQUFBQSxHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUNBQyxLQUFBQyxlQUNBQyxFQUFBLFNBQUFDLEVBQUFDLEdBQUEsUUFBQUMsS0FBQUMsS0FBQUMsWUFBQUosRUFBQSxJQUFBLEdBQUFLLEtBQUFKLEdBQUFKLEVBQUFTLEtBQUFMLEVBQUFJLEtBQUFMLEVBQUFLLEdBQUFKLEVBQUFJLEdBQUEsT0FBQUgsR0FBQUssVUFBQU4sRUFBQU0sVUFBQVAsRUFBQU8sVUFBQSxHQUFBTCxHQUFBRixFQUFBUSxVQUFBUCxFQUFBTSxVQUFBUCxFQUVBTCxHQUFBLFdBQ0EsUUFBQUEsS0FDQVEsS0FBQU0sY0FBQSxFQUNBTixLQUFBTyxVQW9GQSxNQWpGQWYsR0FBQVksVUFBQUksU0FBQSxTQUFB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R0FDQWxDLEdBQUFQLE1BQUFyQixVQUFBLCtCQUFBOEQsR0FJQWxDLEdBQUFQLE1BQUFyQixVQUFBLDRCQUFBLFNBQUFrRCxFQUFBOWdCLEVBQUE0aEIsR0FFQSxHQUFBLG9CQUFBQSxFQUFBLENBRUEsR0FBQWhWLEdBQUF2UCxFQUFBLGdDQUFBeVEsTUFDQWtTLEVBQUFjLEVBQUFoakIsUUFFQWtpQixHQUFBRSxPQUFBLElBQUEsR0FFQSxJQUFBamIsSUFDQThVLE9BQUEsb0NBQ0FuTixRQUFBQSxFQUdBdlAsR0FBQThpQixLQUFBQyxRQUFBbmIsRUFBQSxTQUFBb2IsR0FFQSxHQUFBQSxFQUFBQyxRQUNBYyxNQUFBZixFQUFBcGIsT0FJQTZiLEVBQUEzVSxLQUFBLFVBQUFpQixTQUdBMFQsRUFBQTlRLE9BQUEzUyxFQUFBLGFBRUFBLEVBQUEwTixLQUFBc1YsRUFBQXBiLEtBQUEsU0FBQTRjLEVBQUFDLEdBRUEsR0FBQUMsSUFDQS9oQixNQUFBNmhCLEVBQ0E5aEIsS0FBQStoQixFQUdBRCxJQUFBN2hCLElBQ0EraEIsRUFBQTVoQixTQUFBLFlBR0EyZ0IsRUFBQTlRLE9BQUEzUyxFQUFBLFdBQUEwa0IsT0FNQS9CLEVBQUFFLE9BQUEsSUFBQSxRQVVBVixHQUFBUCxNQUFBckIsVUFBQSwrQkFBQSxTQUFBb0UsRUFBQXpCLEdBRUEsR0FBQSxJQUFBMEIsUUFBQUMsYUFBQUMsYUFBQSxDQUVBLEdBQUFsZCxJQUNBOFUsT0FBQSw0QkFDQW5OLFFBQUFvVixFQUdBM2tCLEdBQUE4aUIsS0FBQUMsUUFBQW5iLEVBQUEsU0FBQW9iLEdBRUEsR0FBQUEsRUFBQUMsUUFDQWMsTUFBQWYsRUFBQXBiLE1BRUFnZCxRQUFBQyxhQUFBRSxXQUFBL0IsRUFBQXBiLFlBU0EwRiIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuQ2hvc2VuLCBhIFNlbGVjdCBCb3ggRW5oYW5jZXIgZm9yIGpRdWVyeSBhbmQgUHJvdG90eXBlXG5ieSBQYXRyaWNrIEZpbGxlciBmb3IgSGFydmVzdCwgaHR0cDovL2dldGhhcnZlc3QuY29tXG5cblZlcnNpb24gMS42LjJcbkZ1bGwgc291cmNlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9oYXJ2ZXN0aHEvY2hvc2VuXG5Db3B5cmlnaHQgKGMpIDIwMTEtMjAxNiBIYXJ2ZXN0IGh0dHA6Ly9nZXRoYXJ2ZXN0LmNvbVxuXG5NSVQgTGljZW5zZSwgaHR0cHM6Ly9naXRodWIuY29tL2hhcnZlc3RocS9jaG9zZW4vYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxuVGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBieSBgZ3J1bnQgYnVpbGRgLCBkbyBub3QgZWRpdCBpdCBieSBoYW5kLlxuKi9cblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgJCwgQWJzdHJhY3RDaG9zZW4sIENob3NlbiwgU2VsZWN0UGFyc2VyLCBfcmVmLFxuICAgIF9faGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5LFxuICAgIF9fZXh0ZW5kcyA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoX19oYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9O1xuXG4gIFNlbGVjdFBhcnNlciA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBTZWxlY3RQYXJzZXIoKSB7XG4gICAgICB0aGlzLm9wdGlvbnNfaW5kZXggPSAwO1xuICAgICAgdGhpcy5wYXJzZWQgPSBbXTtcbiAgICB9XG5cbiAgICBTZWxlY3RQYXJzZXIucHJvdG90eXBlLmFkZF9ub2RlID0gZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgIGlmIChjaGlsZC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09PSBcIk9QVEdST1VQXCIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkX2dyb3VwKGNoaWxkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZF9vcHRpb24oY2hpbGQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBTZWxlY3RQYXJzZXIucHJvdG90eXBlLmFkZF9ncm91cCA9IGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICB2YXIgZ3JvdXBfcG9zaXRpb24sIG9wdGlvbiwgX2ksIF9sZW4sIF9yZWYsIF9yZXN1bHRzO1xuICAgICAgZ3JvdXBfcG9zaXRpb24gPSB0aGlzLnBhcnNlZC5sZW5ndGg7XG4gICAgICB0aGlzLnBhcnNlZC5wdXNoKHtcbiAgICAgICAgYXJyYXlfaW5kZXg6IGdyb3VwX3Bvc2l0aW9uLFxuICAgICAgICBncm91cDogdHJ1ZSxcbiAgICAgICAgbGFiZWw6IHRoaXMuZXNjYXBlRXhwcmVzc2lvbihncm91cC5sYWJlbCksXG4gICAgICAgIHRpdGxlOiBncm91cC50aXRsZSA/IGdyb3VwLnRpdGxlIDogdm9pZCAwLFxuICAgICAgICBjaGlsZHJlbjogMCxcbiAgICAgICAgZGlzYWJsZWQ6IGdyb3VwLmRpc2FibGVkLFxuICAgICAgICBjbGFzc2VzOiBncm91cC5jbGFzc05hbWVcbiAgICAgIH0pO1xuICAgICAgX3JlZiA9IGdyb3VwLmNoaWxkTm9kZXM7XG4gICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgIG9wdGlvbiA9IF9yZWZbX2ldO1xuICAgICAgICBfcmVzdWx0cy5wdXNoKHRoaXMuYWRkX29wdGlvbihvcHRpb24sIGdyb3VwX3Bvc2l0aW9uLCBncm91cC5kaXNhYmxlZCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgIH07XG5cbiAgICBTZWxlY3RQYXJzZXIucHJvdG90eXBlLmFkZF9vcHRpb24gPSBmdW5jdGlvbihvcHRpb24sIGdyb3VwX3Bvc2l0aW9uLCBncm91cF9kaXNhYmxlZCkge1xuICAgICAgaWYgKG9wdGlvbi5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09PSBcIk9QVElPTlwiKSB7XG4gICAgICAgIGlmIChvcHRpb24udGV4dCAhPT0gXCJcIikge1xuICAgICAgICAgIGlmIChncm91cF9wb3NpdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnBhcnNlZFtncm91cF9wb3NpdGlvbl0uY2hpbGRyZW4gKz0gMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5wYXJzZWQucHVzaCh7XG4gICAgICAgICAgICBhcnJheV9pbmRleDogdGhpcy5wYXJzZWQubGVuZ3RoLFxuICAgICAgICAgICAgb3B0aW9uc19pbmRleDogdGhpcy5vcHRpb25zX2luZGV4LFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZSxcbiAgICAgICAgICAgIHRleHQ6IG9wdGlvbi50ZXh0LFxuICAgICAgICAgICAgaHRtbDogb3B0aW9uLmlubmVySFRNTCxcbiAgICAgICAgICAgIHRpdGxlOiBvcHRpb24udGl0bGUgPyBvcHRpb24udGl0bGUgOiB2b2lkIDAsXG4gICAgICAgICAgICBzZWxlY3RlZDogb3B0aW9uLnNlbGVjdGVkLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IGdyb3VwX2Rpc2FibGVkID09PSB0cnVlID8gZ3JvdXBfZGlzYWJsZWQgOiBvcHRpb24uZGlzYWJsZWQsXG4gICAgICAgICAgICBncm91cF9hcnJheV9pbmRleDogZ3JvdXBfcG9zaXRpb24sXG4gICAgICAgICAgICBncm91cF9sYWJlbDogZ3JvdXBfcG9zaXRpb24gIT0gbnVsbCA/IHRoaXMucGFyc2VkW2dyb3VwX3Bvc2l0aW9uXS5sYWJlbCA6IG51bGwsXG4gICAgICAgICAgICBjbGFzc2VzOiBvcHRpb24uY2xhc3NOYW1lLFxuICAgICAgICAgICAgc3R5bGU6IG9wdGlvbi5zdHlsZS5jc3NUZXh0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5wYXJzZWQucHVzaCh7XG4gICAgICAgICAgICBhcnJheV9pbmRleDogdGhpcy5wYXJzZWQubGVuZ3RoLFxuICAgICAgICAgICAgb3B0aW9uc19pbmRleDogdGhpcy5vcHRpb25zX2luZGV4LFxuICAgICAgICAgICAgZW1wdHk6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zX2luZGV4ICs9IDE7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFNlbGVjdFBhcnNlci5wcm90b3R5cGUuZXNjYXBlRXhwcmVzc2lvbiA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgIHZhciBtYXAsIHVuc2FmZV9jaGFycztcbiAgICAgIGlmICgodGV4dCA9PSBudWxsKSB8fCB0ZXh0ID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIH1cbiAgICAgIGlmICghL1tcXCZcXDxcXD5cXFwiXFwnXFxgXS8udGVzdCh0ZXh0KSkge1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgIH1cbiAgICAgIG1hcCA9IHtcbiAgICAgICAgXCI8XCI6IFwiJmx0O1wiLFxuICAgICAgICBcIj5cIjogXCImZ3Q7XCIsXG4gICAgICAgICdcIic6IFwiJnF1b3Q7XCIsXG4gICAgICAgIFwiJ1wiOiBcIiYjeDI3O1wiLFxuICAgICAgICBcImBcIjogXCImI3g2MDtcIlxuICAgICAgfTtcbiAgICAgIHVuc2FmZV9jaGFycyA9IC8mKD8hXFx3KzspfFtcXDxcXD5cXFwiXFwnXFxgXS9nO1xuICAgICAgcmV0dXJuIHRleHQucmVwbGFjZSh1bnNhZmVfY2hhcnMsIGZ1bmN0aW9uKGNocikge1xuICAgICAgICByZXR1cm4gbWFwW2Nocl0gfHwgXCImYW1wO1wiO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBTZWxlY3RQYXJzZXI7XG5cbiAgfSkoKTtcblxuICBTZWxlY3RQYXJzZXIuc2VsZWN0X3RvX2FycmF5ID0gZnVuY3Rpb24oc2VsZWN0KSB7XG4gICAgdmFyIGNoaWxkLCBwYXJzZXIsIF9pLCBfbGVuLCBfcmVmO1xuICAgIHBhcnNlciA9IG5ldyBTZWxlY3RQYXJzZXIoKTtcbiAgICBfcmVmID0gc2VsZWN0LmNoaWxkTm9kZXM7XG4gICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICBjaGlsZCA9IF9yZWZbX2ldO1xuICAgICAgcGFyc2VyLmFkZF9ub2RlKGNoaWxkKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlci5wYXJzZWQ7XG4gIH07XG5cbiAgQWJzdHJhY3RDaG9zZW4gPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RDaG9zZW4oZm9ybV9maWVsZCwgb3B0aW9ucykge1xuICAgICAgdGhpcy5mb3JtX2ZpZWxkID0gZm9ybV9maWVsZDtcbiAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMgOiB7fTtcbiAgICAgIGlmICghQWJzdHJhY3RDaG9zZW4uYnJvd3Nlcl9pc19zdXBwb3J0ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmlzX211bHRpcGxlID0gdGhpcy5mb3JtX2ZpZWxkLm11bHRpcGxlO1xuICAgICAgdGhpcy5zZXRfZGVmYXVsdF90ZXh0KCk7XG4gICAgICB0aGlzLnNldF9kZWZhdWx0X3ZhbHVlcygpO1xuICAgICAgdGhpcy5zZXR1cCgpO1xuICAgICAgdGhpcy5zZXRfdXBfaHRtbCgpO1xuICAgICAgdGhpcy5yZWdpc3Rlcl9vYnNlcnZlcnMoKTtcbiAgICAgIHRoaXMub25fcmVhZHkoKTtcbiAgICB9XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuc2V0X2RlZmF1bHRfdmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdGhpcy5jbGlja190ZXN0X2FjdGlvbiA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICByZXR1cm4gX3RoaXMudGVzdF9hY3RpdmVfY2xpY2soZXZ0KTtcbiAgICAgIH07XG4gICAgICB0aGlzLmFjdGl2YXRlX2FjdGlvbiA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuYWN0aXZhdGVfZmllbGQoZXZ0KTtcbiAgICAgIH07XG4gICAgICB0aGlzLmFjdGl2ZV9maWVsZCA9IGZhbHNlO1xuICAgICAgdGhpcy5tb3VzZV9vbl9jb250YWluZXIgPSBmYWxzZTtcbiAgICAgIHRoaXMucmVzdWx0c19zaG93aW5nID0gZmFsc2U7XG4gICAgICB0aGlzLnJlc3VsdF9oaWdobGlnaHRlZCA9IG51bGw7XG4gICAgICB0aGlzLmFsbG93X3NpbmdsZV9kZXNlbGVjdCA9ICh0aGlzLm9wdGlvbnMuYWxsb3dfc2luZ2xlX2Rlc2VsZWN0ICE9IG51bGwpICYmICh0aGlzLmZvcm1fZmllbGQub3B0aW9uc1swXSAhPSBudWxsKSAmJiB0aGlzLmZvcm1fZmllbGQub3B0aW9uc1swXS50ZXh0ID09PSBcIlwiID8gdGhpcy5vcHRpb25zLmFsbG93X3NpbmdsZV9kZXNlbGVjdCA6IGZhbHNlO1xuICAgICAgdGhpcy5kaXNhYmxlX3NlYXJjaF90aHJlc2hvbGQgPSB0aGlzLm9wdGlvbnMuZGlzYWJsZV9zZWFyY2hfdGhyZXNob2xkIHx8IDA7XG4gICAgICB0aGlzLmRpc2FibGVfc2VhcmNoID0gdGhpcy5vcHRpb25zLmRpc2FibGVfc2VhcmNoIHx8IGZhbHNlO1xuICAgICAgdGhpcy5lbmFibGVfc3BsaXRfd29yZF9zZWFyY2ggPSB0aGlzLm9wdGlvbnMuZW5hYmxlX3NwbGl0X3dvcmRfc2VhcmNoICE9IG51bGwgPyB0aGlzLm9wdGlvbnMuZW5hYmxlX3NwbGl0X3dvcmRfc2VhcmNoIDogdHJ1ZTtcbiAgICAgIHRoaXMuZ3JvdXBfc2VhcmNoID0gdGhpcy5vcHRpb25zLmdyb3VwX3NlYXJjaCAhPSBudWxsID8gdGhpcy5vcHRpb25zLmdyb3VwX3NlYXJjaCA6IHRydWU7XG4gICAgICB0aGlzLnNlYXJjaF9jb250YWlucyA9IHRoaXMub3B0aW9ucy5zZWFyY2hfY29udGFpbnMgfHwgZmFsc2U7XG4gICAgICB0aGlzLnNpbmdsZV9iYWNrc3Ryb2tlX2RlbGV0ZSA9IHRoaXMub3B0aW9ucy5zaW5nbGVfYmFja3N0cm9rZV9kZWxldGUgIT0gbnVsbCA/IHRoaXMub3B0aW9ucy5zaW5nbGVfYmFja3N0cm9rZV9kZWxldGUgOiB0cnVlO1xuICAgICAgdGhpcy5tYXhfc2VsZWN0ZWRfb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5tYXhfc2VsZWN0ZWRfb3B0aW9ucyB8fCBJbmZpbml0eTtcbiAgICAgIHRoaXMuaW5oZXJpdF9zZWxlY3RfY2xhc3NlcyA9IHRoaXMub3B0aW9ucy5pbmhlcml0X3NlbGVjdF9jbGFzc2VzIHx8IGZhbHNlO1xuICAgICAgdGhpcy5kaXNwbGF5X3NlbGVjdGVkX29wdGlvbnMgPSB0aGlzLm9wdGlvbnMuZGlzcGxheV9zZWxlY3RlZF9vcHRpb25zICE9IG51bGwgPyB0aGlzLm9wdGlvbnMuZGlzcGxheV9zZWxlY3RlZF9vcHRpb25zIDogdHJ1ZTtcbiAgICAgIHRoaXMuZGlzcGxheV9kaXNhYmxlZF9vcHRpb25zID0gdGhpcy5vcHRpb25zLmRpc3BsYXlfZGlzYWJsZWRfb3B0aW9ucyAhPSBudWxsID8gdGhpcy5vcHRpb25zLmRpc3BsYXlfZGlzYWJsZWRfb3B0aW9ucyA6IHRydWU7XG4gICAgICB0aGlzLmluY2x1ZGVfZ3JvdXBfbGFiZWxfaW5fc2VsZWN0ZWQgPSB0aGlzLm9wdGlvbnMuaW5jbHVkZV9ncm91cF9sYWJlbF9pbl9zZWxlY3RlZCB8fCBmYWxzZTtcbiAgICAgIHRoaXMubWF4X3Nob3duX3Jlc3VsdHMgPSB0aGlzLm9wdGlvbnMubWF4X3Nob3duX3Jlc3VsdHMgfHwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgcmV0dXJuIHRoaXMuY2FzZV9zZW5zaXRpdmVfc2VhcmNoID0gdGhpcy5vcHRpb25zLmNhc2Vfc2Vuc2l0aXZlX3NlYXJjaCB8fCBmYWxzZTtcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLnNldF9kZWZhdWx0X3RleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmZvcm1fZmllbGQuZ2V0QXR0cmlidXRlKFwiZGF0YS1wbGFjZWhvbGRlclwiKSkge1xuICAgICAgICB0aGlzLmRlZmF1bHRfdGV4dCA9IHRoaXMuZm9ybV9maWVsZC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBsYWNlaG9sZGVyXCIpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzX211bHRpcGxlKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdF90ZXh0ID0gdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyX3RleHRfbXVsdGlwbGUgfHwgdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyX3RleHQgfHwgQWJzdHJhY3RDaG9zZW4uZGVmYXVsdF9tdWx0aXBsZV90ZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0X3RleHQgPSB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXJfdGV4dF9zaW5nbGUgfHwgdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyX3RleHQgfHwgQWJzdHJhY3RDaG9zZW4uZGVmYXVsdF9zaW5nbGVfdGV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnJlc3VsdHNfbm9uZV9mb3VuZCA9IHRoaXMuZm9ybV9maWVsZC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5vX3Jlc3VsdHNfdGV4dFwiKSB8fCB0aGlzLm9wdGlvbnMubm9fcmVzdWx0c190ZXh0IHx8IEFic3RyYWN0Q2hvc2VuLmRlZmF1bHRfbm9fcmVzdWx0X3RleHQ7XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5jaG9pY2VfbGFiZWwgPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpZiAodGhpcy5pbmNsdWRlX2dyb3VwX2xhYmVsX2luX3NlbGVjdGVkICYmIChpdGVtLmdyb3VwX2xhYmVsICE9IG51bGwpKSB7XG4gICAgICAgIHJldHVybiBcIjxiIGNsYXNzPSdncm91cC1uYW1lJz5cIiArIGl0ZW0uZ3JvdXBfbGFiZWwgKyBcIjwvYj5cIiArIGl0ZW0uaHRtbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpdGVtLmh0bWw7XG4gICAgICB9XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5tb3VzZV9lbnRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubW91c2Vfb25fY29udGFpbmVyID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLm1vdXNlX2xlYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5tb3VzZV9vbl9jb250YWluZXIgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmlucHV0X2ZvY3VzID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZV9maWVsZCkge1xuICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb250YWluZXJfbW91c2Vkb3duKCk7XG4gICAgICAgICAgfSksIDUwKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZV9maWVsZCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmFjdGl2YXRlX2ZpZWxkKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmlucHV0X2JsdXIgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICBpZiAoIXRoaXMubW91c2Vfb25fY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlX2ZpZWxkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KChmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuYmx1cl90ZXN0KCk7XG4gICAgICAgIH0pLCAxMDApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUucmVzdWx0c19vcHRpb25fYnVpbGQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgY29udGVudCwgZGF0YSwgZGF0YV9jb250ZW50LCBzaG93bl9yZXN1bHRzLCBfaSwgX2xlbiwgX3JlZjtcbiAgICAgIGNvbnRlbnQgPSAnJztcbiAgICAgIHNob3duX3Jlc3VsdHMgPSAwO1xuICAgICAgX3JlZiA9IHRoaXMucmVzdWx0c19kYXRhO1xuICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgIGRhdGEgPSBfcmVmW19pXTtcbiAgICAgICAgZGF0YV9jb250ZW50ID0gJyc7XG4gICAgICAgIGlmIChkYXRhLmdyb3VwKSB7XG4gICAgICAgICAgZGF0YV9jb250ZW50ID0gdGhpcy5yZXN1bHRfYWRkX2dyb3VwKGRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRhdGFfY29udGVudCA9IHRoaXMucmVzdWx0X2FkZF9vcHRpb24oZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGFfY29udGVudCAhPT0gJycpIHtcbiAgICAgICAgICBzaG93bl9yZXN1bHRzKys7XG4gICAgICAgICAgY29udGVudCArPSBkYXRhX2NvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuZmlyc3QgOiB2b2lkIDApIHtcbiAgICAgICAgICBpZiAoZGF0YS5zZWxlY3RlZCAmJiB0aGlzLmlzX211bHRpcGxlKSB7XG4gICAgICAgICAgICB0aGlzLmNob2ljZV9idWlsZChkYXRhKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuc2VsZWN0ZWQgJiYgIXRoaXMuaXNfbXVsdGlwbGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2luZ2xlX3NldF9zZWxlY3RlZF90ZXh0KHRoaXMuY2hvaWNlX2xhYmVsKGRhdGEpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3duX3Jlc3VsdHMgPj0gdGhpcy5tYXhfc2hvd25fcmVzdWx0cykge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLnJlc3VsdF9hZGRfb3B0aW9uID0gZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICB2YXIgY2xhc3Nlcywgb3B0aW9uX2VsO1xuICAgICAgaWYgKCFvcHRpb24uc2VhcmNoX21hdGNoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5pbmNsdWRlX29wdGlvbl9pbl9yZXN1bHRzKG9wdGlvbikpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgY2xhc3NlcyA9IFtdO1xuICAgICAgaWYgKCFvcHRpb24uZGlzYWJsZWQgJiYgIShvcHRpb24uc2VsZWN0ZWQgJiYgdGhpcy5pc19tdWx0aXBsZSkpIHtcbiAgICAgICAgY2xhc3Nlcy5wdXNoKFwiYWN0aXZlLXJlc3VsdFwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb24uZGlzYWJsZWQgJiYgIShvcHRpb24uc2VsZWN0ZWQgJiYgdGhpcy5pc19tdWx0aXBsZSkpIHtcbiAgICAgICAgY2xhc3Nlcy5wdXNoKFwiZGlzYWJsZWQtcmVzdWx0XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCkge1xuICAgICAgICBjbGFzc2VzLnB1c2goXCJyZXN1bHQtc2VsZWN0ZWRcIik7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9uLmdyb3VwX2FycmF5X2luZGV4ICE9IG51bGwpIHtcbiAgICAgICAgY2xhc3Nlcy5wdXNoKFwiZ3JvdXAtb3B0aW9uXCIpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbi5jbGFzc2VzICE9PSBcIlwiKSB7XG4gICAgICAgIGNsYXNzZXMucHVzaChvcHRpb24uY2xhc3Nlcyk7XG4gICAgICB9XG4gICAgICBvcHRpb25fZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICBvcHRpb25fZWwuY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKFwiIFwiKTtcbiAgICAgIG9wdGlvbl9lbC5zdHlsZS5jc3NUZXh0ID0gb3B0aW9uLnN0eWxlO1xuICAgICAgb3B0aW9uX2VsLnNldEF0dHJpYnV0ZShcImRhdGEtb3B0aW9uLWFycmF5LWluZGV4XCIsIG9wdGlvbi5hcnJheV9pbmRleCk7XG4gICAgICBvcHRpb25fZWwuaW5uZXJIVE1MID0gb3B0aW9uLnNlYXJjaF90ZXh0O1xuICAgICAgaWYgKG9wdGlvbi50aXRsZSkge1xuICAgICAgICBvcHRpb25fZWwudGl0bGUgPSBvcHRpb24udGl0bGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5vdXRlckhUTUwob3B0aW9uX2VsKTtcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLnJlc3VsdF9hZGRfZ3JvdXAgPSBmdW5jdGlvbihncm91cCkge1xuICAgICAgdmFyIGNsYXNzZXMsIGdyb3VwX2VsO1xuICAgICAgaWYgKCEoZ3JvdXAuc2VhcmNoX21hdGNoIHx8IGdyb3VwLmdyb3VwX21hdGNoKSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBpZiAoIShncm91cC5hY3RpdmVfb3B0aW9ucyA+IDApKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIGNsYXNzZXMgPSBbXTtcbiAgICAgIGNsYXNzZXMucHVzaChcImdyb3VwLXJlc3VsdFwiKTtcbiAgICAgIGlmIChncm91cC5jbGFzc2VzKSB7XG4gICAgICAgIGNsYXNzZXMucHVzaChncm91cC5jbGFzc2VzKTtcbiAgICAgIH1cbiAgICAgIGdyb3VwX2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgICAgZ3JvdXBfZWwuY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKFwiIFwiKTtcbiAgICAgIGdyb3VwX2VsLmlubmVySFRNTCA9IGdyb3VwLnNlYXJjaF90ZXh0O1xuICAgICAgaWYgKGdyb3VwLnRpdGxlKSB7XG4gICAgICAgIGdyb3VwX2VsLnRpdGxlID0gZ3JvdXAudGl0bGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5vdXRlckhUTUwoZ3JvdXBfZWwpO1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUucmVzdWx0c191cGRhdGVfZmllbGQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuc2V0X2RlZmF1bHRfdGV4dCgpO1xuICAgICAgaWYgKCF0aGlzLmlzX211bHRpcGxlKSB7XG4gICAgICAgIHRoaXMucmVzdWx0c19yZXNldF9jbGVhbnVwKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnJlc3VsdF9jbGVhcl9oaWdobGlnaHQoKTtcbiAgICAgIHRoaXMucmVzdWx0c19idWlsZCgpO1xuICAgICAgaWYgKHRoaXMucmVzdWx0c19zaG93aW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpbm5vd19yZXN1bHRzKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5yZXNldF9zaW5nbGVfc2VsZWN0X29wdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByZXN1bHQsIF9pLCBfbGVuLCBfcmVmLCBfcmVzdWx0cztcbiAgICAgIF9yZWYgPSB0aGlzLnJlc3VsdHNfZGF0YTtcbiAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgcmVzdWx0ID0gX3JlZltfaV07XG4gICAgICAgIGlmIChyZXN1bHQuc2VsZWN0ZWQpIHtcbiAgICAgICAgICBfcmVzdWx0cy5wdXNoKHJlc3VsdC5zZWxlY3RlZCA9IGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfcmVzdWx0cy5wdXNoKHZvaWQgMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLnJlc3VsdHNfdG9nZ2xlID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0c19oaWRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzX3Nob3coKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLnJlc3VsdHNfc2VhcmNoID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2lubm93X3Jlc3VsdHMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdHNfc2hvdygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUud2lubm93X3Jlc3VsdHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlc2NhcGVkU2VhcmNoVGV4dCwgb3B0aW9uLCByZWdleCwgcmVzdWx0cywgcmVzdWx0c19ncm91cCwgc2VhcmNoVGV4dCwgc3RhcnRwb3MsIHRleHQsIHpyZWdleCwgX2ksIF9sZW4sIF9yZWY7XG4gICAgICB0aGlzLm5vX3Jlc3VsdHNfY2xlYXIoKTtcbiAgICAgIHJlc3VsdHMgPSAwO1xuICAgICAgc2VhcmNoVGV4dCA9IHRoaXMuZ2V0X3NlYXJjaF90ZXh0KCk7XG4gICAgICBlc2NhcGVkU2VhcmNoVGV4dCA9IHNlYXJjaFRleHQucmVwbGFjZSgvWy1bXFxde30oKSorPy4sXFxcXF4kfCNcXHNdL2csIFwiXFxcXCQmXCIpO1xuICAgICAgenJlZ2V4ID0gbmV3IFJlZ0V4cChlc2NhcGVkU2VhcmNoVGV4dCwgJ2knKTtcbiAgICAgIHJlZ2V4ID0gdGhpcy5nZXRfc2VhcmNoX3JlZ2V4KGVzY2FwZWRTZWFyY2hUZXh0KTtcbiAgICAgIF9yZWYgPSB0aGlzLnJlc3VsdHNfZGF0YTtcbiAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICBvcHRpb24gPSBfcmVmW19pXTtcbiAgICAgICAgb3B0aW9uLnNlYXJjaF9tYXRjaCA9IGZhbHNlO1xuICAgICAgICByZXN1bHRzX2dyb3VwID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuaW5jbHVkZV9vcHRpb25faW5fcmVzdWx0cyhvcHRpb24pKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbi5ncm91cCkge1xuICAgICAgICAgICAgb3B0aW9uLmdyb3VwX21hdGNoID0gZmFsc2U7XG4gICAgICAgICAgICBvcHRpb24uYWN0aXZlX29wdGlvbnMgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoKG9wdGlvbi5ncm91cF9hcnJheV9pbmRleCAhPSBudWxsKSAmJiB0aGlzLnJlc3VsdHNfZGF0YVtvcHRpb24uZ3JvdXBfYXJyYXlfaW5kZXhdKSB7XG4gICAgICAgICAgICByZXN1bHRzX2dyb3VwID0gdGhpcy5yZXN1bHRzX2RhdGFbb3B0aW9uLmdyb3VwX2FycmF5X2luZGV4XTtcbiAgICAgICAgICAgIGlmIChyZXN1bHRzX2dyb3VwLmFjdGl2ZV9vcHRpb25zID09PSAwICYmIHJlc3VsdHNfZ3JvdXAuc2VhcmNoX21hdGNoKSB7XG4gICAgICAgICAgICAgIHJlc3VsdHMgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdHNfZ3JvdXAuYWN0aXZlX29wdGlvbnMgKz0gMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb3B0aW9uLnNlYXJjaF90ZXh0ID0gb3B0aW9uLmdyb3VwID8gb3B0aW9uLmxhYmVsIDogb3B0aW9uLmh0bWw7XG4gICAgICAgICAgaWYgKCEob3B0aW9uLmdyb3VwICYmICF0aGlzLmdyb3VwX3NlYXJjaCkpIHtcbiAgICAgICAgICAgIG9wdGlvbi5zZWFyY2hfbWF0Y2ggPSB0aGlzLnNlYXJjaF9zdHJpbmdfbWF0Y2gob3B0aW9uLnNlYXJjaF90ZXh0LCByZWdleCk7XG4gICAgICAgICAgICBpZiAob3B0aW9uLnNlYXJjaF9tYXRjaCAmJiAhb3B0aW9uLmdyb3VwKSB7XG4gICAgICAgICAgICAgIHJlc3VsdHMgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb24uc2VhcmNoX21hdGNoKSB7XG4gICAgICAgICAgICAgIGlmIChzZWFyY2hUZXh0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHN0YXJ0cG9zID0gb3B0aW9uLnNlYXJjaF90ZXh0LnNlYXJjaCh6cmVnZXgpO1xuICAgICAgICAgICAgICAgIHRleHQgPSBvcHRpb24uc2VhcmNoX3RleHQuc3Vic3RyKDAsIHN0YXJ0cG9zICsgc2VhcmNoVGV4dC5sZW5ndGgpICsgJzwvZW0+JyArIG9wdGlvbi5zZWFyY2hfdGV4dC5zdWJzdHIoc3RhcnRwb3MgKyBzZWFyY2hUZXh0Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgb3B0aW9uLnNlYXJjaF90ZXh0ID0gdGV4dC5zdWJzdHIoMCwgc3RhcnRwb3MpICsgJzxlbT4nICsgdGV4dC5zdWJzdHIoc3RhcnRwb3MpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChyZXN1bHRzX2dyb3VwICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzX2dyb3VwLmdyb3VwX21hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICgob3B0aW9uLmdyb3VwX2FycmF5X2luZGV4ICE9IG51bGwpICYmIHRoaXMucmVzdWx0c19kYXRhW29wdGlvbi5ncm91cF9hcnJheV9pbmRleF0uc2VhcmNoX21hdGNoKSB7XG4gICAgICAgICAgICAgIG9wdGlvbi5zZWFyY2hfbWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5yZXN1bHRfY2xlYXJfaGlnaGxpZ2h0KCk7XG4gICAgICBpZiAocmVzdWx0cyA8IDEgJiYgc2VhcmNoVGV4dC5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVfcmVzdWx0c19jb250ZW50KFwiXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5ub19yZXN1bHRzKHNlYXJjaFRleHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51cGRhdGVfcmVzdWx0c19jb250ZW50KHRoaXMucmVzdWx0c19vcHRpb25fYnVpbGQoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLndpbm5vd19yZXN1bHRzX3NldF9oaWdobGlnaHQoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmdldF9zZWFyY2hfcmVnZXggPSBmdW5jdGlvbihlc2NhcGVkX3NlYXJjaF9zdHJpbmcpIHtcbiAgICAgIHZhciByZWdleF9hbmNob3IsIHJlZ2V4X2ZsYWc7XG4gICAgICByZWdleF9hbmNob3IgPSB0aGlzLnNlYXJjaF9jb250YWlucyA/IFwiXCIgOiBcIl5cIjtcbiAgICAgIHJlZ2V4X2ZsYWcgPSB0aGlzLmNhc2Vfc2Vuc2l0aXZlX3NlYXJjaCA/IFwiXCIgOiBcImlcIjtcbiAgICAgIHJldHVybiBuZXcgUmVnRXhwKHJlZ2V4X2FuY2hvciArIGVzY2FwZWRfc2VhcmNoX3N0cmluZywgcmVnZXhfZmxhZyk7XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfc3RyaW5nX21hdGNoID0gZnVuY3Rpb24oc2VhcmNoX3N0cmluZywgcmVnZXgpIHtcbiAgICAgIHZhciBwYXJ0LCBwYXJ0cywgX2ksIF9sZW47XG4gICAgICBpZiAocmVnZXgudGVzdChzZWFyY2hfc3RyaW5nKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5lbmFibGVfc3BsaXRfd29yZF9zZWFyY2ggJiYgKHNlYXJjaF9zdHJpbmcuaW5kZXhPZihcIiBcIikgPj0gMCB8fCBzZWFyY2hfc3RyaW5nLmluZGV4T2YoXCJbXCIpID09PSAwKSkge1xuICAgICAgICBwYXJ0cyA9IHNlYXJjaF9zdHJpbmcucmVwbGFjZSgvXFxbfFxcXS9nLCBcIlwiKS5zcGxpdChcIiBcIik7XG4gICAgICAgIGlmIChwYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IHBhcnRzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgICBwYXJ0ID0gcGFydHNbX2ldO1xuICAgICAgICAgICAgaWYgKHJlZ2V4LnRlc3QocGFydCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5jaG9pY2VzX2NvdW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb3B0aW9uLCBfaSwgX2xlbiwgX3JlZjtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkX29wdGlvbl9jb3VudCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkX29wdGlvbl9jb3VudDtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2VsZWN0ZWRfb3B0aW9uX2NvdW50ID0gMDtcbiAgICAgIF9yZWYgPSB0aGlzLmZvcm1fZmllbGQub3B0aW9ucztcbiAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICBvcHRpb24gPSBfcmVmW19pXTtcbiAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCkge1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRfb3B0aW9uX2NvdW50ICs9IDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkX29wdGlvbl9jb3VudDtcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmNob2ljZXNfY2xpY2sgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCEodGhpcy5yZXN1bHRzX3Nob3dpbmcgfHwgdGhpcy5pc19kaXNhYmxlZCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0c19zaG93KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5rZXl1cF9jaGVja2VyID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICB2YXIgc3Ryb2tlLCBfcmVmO1xuICAgICAgc3Ryb2tlID0gKF9yZWYgPSBldnQud2hpY2gpICE9IG51bGwgPyBfcmVmIDogZXZ0LmtleUNvZGU7XG4gICAgICB0aGlzLnNlYXJjaF9maWVsZF9zY2FsZSgpO1xuICAgICAgc3dpdGNoIChzdHJva2UpIHtcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlICYmIHRoaXMuYmFja3N0cm9rZV9sZW5ndGggPCAxICYmIHRoaXMuY2hvaWNlc19jb3VudCgpID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMua2V5ZG93bl9iYWNrc3Ryb2tlKCk7XG4gICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5wZW5kaW5nX2JhY2tzdHJva2UpIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0c19zZWFyY2goKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgaWYgKHRoaXMucmVzdWx0c19zaG93aW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRfc2VsZWN0KGV2dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgIGlmICh0aGlzLnJlc3VsdHNfc2hvd2luZykge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRzX2hpZGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgY2FzZSAzODpcbiAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgY2FzZSA5MTpcbiAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzX3NlYXJjaCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuY2xpcGJvYXJkX2V2ZW50X2NoZWNrZXIgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICByZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5yZXN1bHRzX3NlYXJjaCgpO1xuICAgICAgfSksIDUwKTtcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmNvbnRhaW5lcl93aWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy53aWR0aCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJcIiArIHRoaXMuZm9ybV9maWVsZC5vZmZzZXRXaWR0aCArIFwicHhcIjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmluY2x1ZGVfb3B0aW9uX2luX3Jlc3VsdHMgPSBmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlICYmICghdGhpcy5kaXNwbGF5X3NlbGVjdGVkX29wdGlvbnMgJiYgb3B0aW9uLnNlbGVjdGVkKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuZGlzcGxheV9kaXNhYmxlZF9vcHRpb25zICYmIG9wdGlvbi5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9uLmVtcHR5KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuc2VhcmNoX3Jlc3VsdHNfdG91Y2hzdGFydCA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgdGhpcy50b3VjaF9zdGFydGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9yZXN1bHRzX21vdXNlb3ZlcihldnQpO1xuICAgIH07XG5cbiAgICBBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuc2VhcmNoX3Jlc3VsdHNfdG91Y2htb3ZlID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICB0aGlzLnRvdWNoX3N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9yZXN1bHRzX21vdXNlb3V0KGV2dCk7XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfcmVzdWx0c190b3VjaGVuZCA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgaWYgKHRoaXMudG91Y2hfc3RhcnRlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2hfcmVzdWx0c19tb3VzZXVwKGV2dCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5vdXRlckhUTUwgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICB2YXIgdG1wO1xuICAgICAgaWYgKGVsZW1lbnQub3V0ZXJIVE1MKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50Lm91dGVySFRNTDtcbiAgICAgIH1cbiAgICAgIHRtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICB0bXAuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICByZXR1cm4gdG1wLmlubmVySFRNTDtcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4uYnJvd3Nlcl9pc19zdXBwb3J0ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChcIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlclwiID09PSB3aW5kb3cubmF2aWdhdG9yLmFwcE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50TW9kZSA+PSA4O1xuICAgICAgfVxuICAgICAgaWYgKC9pUChvZHxob25lKS9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpIHx8IC9JRU1vYmlsZS9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpIHx8IC9XaW5kb3dzIFBob25lL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgL0JsYWNrQmVycnkvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSB8fCAvQkIxMC9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpIHx8IC9BbmRyb2lkLipNb2JpbGUvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RDaG9zZW4uZGVmYXVsdF9tdWx0aXBsZV90ZXh0ID0gXCJTZWxlY3QgU29tZSBPcHRpb25zXCI7XG5cbiAgICBBYnN0cmFjdENob3Nlbi5kZWZhdWx0X3NpbmdsZV90ZXh0ID0gXCJTZWxlY3QgYW4gT3B0aW9uXCI7XG5cbiAgICBBYnN0cmFjdENob3Nlbi5kZWZhdWx0X25vX3Jlc3VsdF90ZXh0ID0gXCJObyByZXN1bHRzIG1hdGNoXCI7XG5cbiAgICByZXR1cm4gQWJzdHJhY3RDaG9zZW47XG5cbiAgfSkoKTtcblxuICAkID0galF1ZXJ5O1xuXG4gICQuZm4uZXh0ZW5kKHtcbiAgICBjaG9zZW46IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmICghQWJzdHJhY3RDaG9zZW4uYnJvd3Nlcl9pc19zdXBwb3J0ZWQoKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaW5wdXRfZmllbGQpIHtcbiAgICAgICAgdmFyICR0aGlzLCBjaG9zZW47XG4gICAgICAgICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgY2hvc2VuID0gJHRoaXMuZGF0YSgnY2hvc2VuJyk7XG4gICAgICAgIGlmIChvcHRpb25zID09PSAnZGVzdHJveScpIHtcbiAgICAgICAgICBpZiAoY2hvc2VuIGluc3RhbmNlb2YgQ2hvc2VuKSB7XG4gICAgICAgICAgICBjaG9zZW4uZGVzdHJveSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoY2hvc2VuIGluc3RhbmNlb2YgQ2hvc2VuKSkge1xuICAgICAgICAgICR0aGlzLmRhdGEoJ2Nob3NlbicsIG5ldyBDaG9zZW4odGhpcywgb3B0aW9ucykpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIENob3NlbiA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2hvc2VuLCBfc3VwZXIpO1xuXG4gICAgZnVuY3Rpb24gQ2hvc2VuKCkge1xuICAgICAgX3JlZiA9IENob3Nlbi5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiBfcmVmO1xuICAgIH1cblxuICAgIENob3Nlbi5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZm9ybV9maWVsZF9qcSA9ICQodGhpcy5mb3JtX2ZpZWxkKTtcbiAgICAgIHRoaXMuY3VycmVudF9zZWxlY3RlZEluZGV4ID0gdGhpcy5mb3JtX2ZpZWxkLnNlbGVjdGVkSW5kZXg7XG4gICAgICByZXR1cm4gdGhpcy5pc19ydGwgPSB0aGlzLmZvcm1fZmllbGRfanEuaGFzQ2xhc3MoXCJjaG9zZW4tcnRsXCIpO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnNldF91cF9odG1sID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY29udGFpbmVyX2NsYXNzZXMsIGNvbnRhaW5lcl9wcm9wcztcbiAgICAgIGNvbnRhaW5lcl9jbGFzc2VzID0gW1wiY2hvc2VuLWNvbnRhaW5lclwiXTtcbiAgICAgIGNvbnRhaW5lcl9jbGFzc2VzLnB1c2goXCJjaG9zZW4tY29udGFpbmVyLVwiICsgKHRoaXMuaXNfbXVsdGlwbGUgPyBcIm11bHRpXCIgOiBcInNpbmdsZVwiKSk7XG4gICAgICBpZiAodGhpcy5pbmhlcml0X3NlbGVjdF9jbGFzc2VzICYmIHRoaXMuZm9ybV9maWVsZC5jbGFzc05hbWUpIHtcbiAgICAgICAgY29udGFpbmVyX2NsYXNzZXMucHVzaCh0aGlzLmZvcm1fZmllbGQuY2xhc3NOYW1lKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmlzX3J0bCkge1xuICAgICAgICBjb250YWluZXJfY2xhc3Nlcy5wdXNoKFwiY2hvc2VuLXJ0bFwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnRhaW5lcl9wcm9wcyA9IHtcbiAgICAgICAgJ2NsYXNzJzogY29udGFpbmVyX2NsYXNzZXMuam9pbignICcpLFxuICAgICAgICAnc3R5bGUnOiBcIndpZHRoOiBcIiArICh0aGlzLmNvbnRhaW5lcl93aWR0aCgpKSArIFwiO1wiLFxuICAgICAgICAndGl0bGUnOiB0aGlzLmZvcm1fZmllbGQudGl0bGVcbiAgICAgIH07XG4gICAgICBpZiAodGhpcy5mb3JtX2ZpZWxkLmlkLmxlbmd0aCkge1xuICAgICAgICBjb250YWluZXJfcHJvcHMuaWQgPSB0aGlzLmZvcm1fZmllbGQuaWQucmVwbGFjZSgvW15cXHddL2csICdfJykgKyBcIl9jaG9zZW5cIjtcbiAgICAgIH1cbiAgICAgIHRoaXMuY29udGFpbmVyID0gJChcIjxkaXYgLz5cIiwgY29udGFpbmVyX3Byb3BzKTtcbiAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmh0bWwoJzx1bCBjbGFzcz1cImNob3Nlbi1jaG9pY2VzXCI+PGxpIGNsYXNzPVwic2VhcmNoLWZpZWxkXCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgdGhpcy5kZWZhdWx0X3RleHQgKyAnXCIgY2xhc3M9XCJkZWZhdWx0XCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgc3R5bGU9XCJ3aWR0aDoyNXB4O1wiIC8+PC9saT48L3VsPjxkaXYgY2xhc3M9XCJjaG9zZW4tZHJvcFwiPjx1bCBjbGFzcz1cImNob3Nlbi1yZXN1bHRzXCI+PC91bD48L2Rpdj4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmh0bWwoJzxhIGNsYXNzPVwiY2hvc2VuLXNpbmdsZSBjaG9zZW4tZGVmYXVsdFwiPjxzcGFuPicgKyB0aGlzLmRlZmF1bHRfdGV4dCArICc8L3NwYW4+PGRpdj48Yj48L2I+PC9kaXY+PC9hPjxkaXYgY2xhc3M9XCJjaG9zZW4tZHJvcFwiPjxkaXYgY2xhc3M9XCJjaG9zZW4tc2VhcmNoXCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgLz48L2Rpdj48dWwgY2xhc3M9XCJjaG9zZW4tcmVzdWx0c1wiPjwvdWw+PC9kaXY+Jyk7XG4gICAgICB9XG4gICAgICB0aGlzLmZvcm1fZmllbGRfanEuaGlkZSgpLmFmdGVyKHRoaXMuY29udGFpbmVyKTtcbiAgICAgIHRoaXMuZHJvcGRvd24gPSB0aGlzLmNvbnRhaW5lci5maW5kKCdkaXYuY2hvc2VuLWRyb3AnKS5maXJzdCgpO1xuICAgICAgdGhpcy5zZWFyY2hfZmllbGQgPSB0aGlzLmNvbnRhaW5lci5maW5kKCdpbnB1dCcpLmZpcnN0KCk7XG4gICAgICB0aGlzLnNlYXJjaF9yZXN1bHRzID0gdGhpcy5jb250YWluZXIuZmluZCgndWwuY2hvc2VuLXJlc3VsdHMnKS5maXJzdCgpO1xuICAgICAgdGhpcy5zZWFyY2hfZmllbGRfc2NhbGUoKTtcbiAgICAgIHRoaXMuc2VhcmNoX25vX3Jlc3VsdHMgPSB0aGlzLmNvbnRhaW5lci5maW5kKCdsaS5uby1yZXN1bHRzJykuZmlyc3QoKTtcbiAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoX2Nob2ljZXMgPSB0aGlzLmNvbnRhaW5lci5maW5kKCd1bC5jaG9zZW4tY2hvaWNlcycpLmZpcnN0KCk7XG4gICAgICAgIHRoaXMuc2VhcmNoX2NvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLmZpbmQoJ2xpLnNlYXJjaC1maWVsZCcpLmZpcnN0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNlYXJjaF9jb250YWluZXIgPSB0aGlzLmNvbnRhaW5lci5maW5kKCdkaXYuY2hvc2VuLXNlYXJjaCcpLmZpcnN0KCk7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRfaXRlbSA9IHRoaXMuY29udGFpbmVyLmZpbmQoJy5jaG9zZW4tc2luZ2xlJykuZmlyc3QoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVzdWx0c19idWlsZCgpO1xuICAgICAgdGhpcy5zZXRfdGFiX2luZGV4KCk7XG4gICAgICByZXR1cm4gdGhpcy5zZXRfbGFiZWxfYmVoYXZpb3IoKTtcbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5vbl9yZWFkeSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiY2hvc2VuOnJlYWR5XCIsIHtcbiAgICAgICAgY2hvc2VuOiB0aGlzXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5yZWdpc3Rlcl9vYnNlcnZlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB0aGlzLmNvbnRhaW5lci5iaW5kKCd0b3VjaHN0YXJ0LmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBfdGhpcy5jb250YWluZXJfbW91c2Vkb3duKGV2dCk7XG4gICAgICAgIHJldHVybiBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5jb250YWluZXIuYmluZCgndG91Y2hlbmQuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIF90aGlzLmNvbnRhaW5lcl9tb3VzZXVwKGV2dCk7XG4gICAgICAgIHJldHVybiBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5jb250YWluZXIuYmluZCgnbW91c2Vkb3duLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBfdGhpcy5jb250YWluZXJfbW91c2Vkb3duKGV2dCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuY29udGFpbmVyLmJpbmQoJ21vdXNldXAuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIF90aGlzLmNvbnRhaW5lcl9tb3VzZXVwKGV2dCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuY29udGFpbmVyLmJpbmQoJ21vdXNlZW50ZXIuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIF90aGlzLm1vdXNlX2VudGVyKGV2dCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuY29udGFpbmVyLmJpbmQoJ21vdXNlbGVhdmUuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIF90aGlzLm1vdXNlX2xlYXZlKGV2dCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2VhcmNoX3Jlc3VsdHMuYmluZCgnbW91c2V1cC5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgX3RoaXMuc2VhcmNoX3Jlc3VsdHNfbW91c2V1cChldnQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnNlYXJjaF9yZXN1bHRzLmJpbmQoJ21vdXNlb3Zlci5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgX3RoaXMuc2VhcmNoX3Jlc3VsdHNfbW91c2VvdmVyKGV2dCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2VhcmNoX3Jlc3VsdHMuYmluZCgnbW91c2VvdXQuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIF90aGlzLnNlYXJjaF9yZXN1bHRzX21vdXNlb3V0KGV2dCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2VhcmNoX3Jlc3VsdHMuYmluZCgnbW91c2V3aGVlbC5jaG9zZW4gRE9NTW91c2VTY3JvbGwuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIF90aGlzLnNlYXJjaF9yZXN1bHRzX21vdXNld2hlZWwoZXZ0KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZWFyY2hfcmVzdWx0cy5iaW5kKCd0b3VjaHN0YXJ0LmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBfdGhpcy5zZWFyY2hfcmVzdWx0c190b3VjaHN0YXJ0KGV2dCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2VhcmNoX3Jlc3VsdHMuYmluZCgndG91Y2htb3ZlLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBfdGhpcy5zZWFyY2hfcmVzdWx0c190b3VjaG1vdmUoZXZ0KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZWFyY2hfcmVzdWx0cy5iaW5kKCd0b3VjaGVuZC5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgX3RoaXMuc2VhcmNoX3Jlc3VsdHNfdG91Y2hlbmQoZXZ0KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5mb3JtX2ZpZWxkX2pxLmJpbmQoXCJjaG9zZW46dXBkYXRlZC5jaG9zZW5cIiwgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIF90aGlzLnJlc3VsdHNfdXBkYXRlX2ZpZWxkKGV2dCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZm9ybV9maWVsZF9qcS5iaW5kKFwiY2hvc2VuOmFjdGl2YXRlLmNob3NlblwiLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgX3RoaXMuYWN0aXZhdGVfZmllbGQoZXZ0KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5mb3JtX2ZpZWxkX2pxLmJpbmQoXCJjaG9zZW46b3Blbi5jaG9zZW5cIiwgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIF90aGlzLmNvbnRhaW5lcl9tb3VzZWRvd24oZXZ0KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5mb3JtX2ZpZWxkX2pxLmJpbmQoXCJjaG9zZW46Y2xvc2UuY2hvc2VuXCIsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBfdGhpcy5pbnB1dF9ibHVyKGV2dCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkLmJpbmQoJ2JsdXIuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIF90aGlzLmlucHV0X2JsdXIoZXZ0KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZWFyY2hfZmllbGQuYmluZCgna2V5dXAuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIF90aGlzLmtleXVwX2NoZWNrZXIoZXZ0KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZWFyY2hfZmllbGQuYmluZCgna2V5ZG93bi5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgX3RoaXMua2V5ZG93bl9jaGVja2VyKGV2dCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkLmJpbmQoJ2ZvY3VzLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBfdGhpcy5pbnB1dF9mb2N1cyhldnQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnNlYXJjaF9maWVsZC5iaW5kKCdjdXQuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIF90aGlzLmNsaXBib2FyZF9ldmVudF9jaGVja2VyKGV2dCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkLmJpbmQoJ3Bhc3RlLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBfdGhpcy5jbGlwYm9hcmRfZXZlbnRfY2hlY2tlcihldnQpO1xuICAgICAgfSk7XG4gICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2hfY2hvaWNlcy5iaW5kKCdjbGljay5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICBfdGhpcy5jaG9pY2VzX2NsaWNrKGV2dCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmJpbmQoJ2NsaWNrLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICAkKHRoaXMuY29udGFpbmVyWzBdLm93bmVyRG9jdW1lbnQpLnVuYmluZChcImNsaWNrLmNob3NlblwiLCB0aGlzLmNsaWNrX3Rlc3RfYWN0aW9uKTtcbiAgICAgIGlmICh0aGlzLnNlYXJjaF9maWVsZFswXS50YWJJbmRleCkge1xuICAgICAgICB0aGlzLmZvcm1fZmllbGRfanFbMF0udGFiSW5kZXggPSB0aGlzLnNlYXJjaF9maWVsZFswXS50YWJJbmRleDtcbiAgICAgIH1cbiAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgdGhpcy5mb3JtX2ZpZWxkX2pxLnJlbW92ZURhdGEoJ2Nob3NlbicpO1xuICAgICAgcmV0dXJuIHRoaXMuZm9ybV9maWVsZF9qcS5zaG93KCk7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuc2VhcmNoX2ZpZWxkX2Rpc2FibGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmlzX2Rpc2FibGVkID0gdGhpcy5mb3JtX2ZpZWxkX2pxWzBdLmRpc2FibGVkO1xuICAgICAgaWYgKHRoaXMuaXNfZGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2xhc3MoJ2Nob3Nlbi1kaXNhYmxlZCcpO1xuICAgICAgICB0aGlzLnNlYXJjaF9maWVsZFswXS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGlmICghdGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRfaXRlbS51bmJpbmQoXCJmb2N1cy5jaG9zZW5cIiwgdGhpcy5hY3RpdmF0ZV9hY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNsb3NlX2ZpZWxkKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDbGFzcygnY2hvc2VuLWRpc2FibGVkJyk7XG4gICAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkWzBdLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGlmICghdGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkX2l0ZW0uYmluZChcImZvY3VzLmNob3NlblwiLCB0aGlzLmFjdGl2YXRlX2FjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5jb250YWluZXJfbW91c2Vkb3duID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICBpZiAoIXRoaXMuaXNfZGlzYWJsZWQpIHtcbiAgICAgICAgaWYgKGV2dCAmJiBldnQudHlwZSA9PT0gXCJtb3VzZWRvd25cIiAmJiAhdGhpcy5yZXN1bHRzX3Nob3dpbmcpIHtcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISgoZXZ0ICE9IG51bGwpICYmICgkKGV2dC50YXJnZXQpKS5oYXNDbGFzcyhcInNlYXJjaC1jaG9pY2UtY2xvc2VcIikpKSB7XG4gICAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZV9maWVsZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUpIHtcbiAgICAgICAgICAgICAgdGhpcy5zZWFyY2hfZmllbGQudmFsKFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJCh0aGlzLmNvbnRhaW5lclswXS5vd25lckRvY3VtZW50KS5iaW5kKCdjbGljay5jaG9zZW4nLCB0aGlzLmNsaWNrX3Rlc3RfYWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0c19zaG93KCk7XG4gICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5pc19tdWx0aXBsZSAmJiBldnQgJiYgKCgkKGV2dC50YXJnZXQpWzBdID09PSB0aGlzLnNlbGVjdGVkX2l0ZW1bMF0pIHx8ICQoZXZ0LnRhcmdldCkucGFyZW50cyhcImEuY2hvc2VuLXNpbmdsZVwiKS5sZW5ndGgpKSB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0c190b2dnbGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZhdGVfZmllbGQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLmNvbnRhaW5lcl9tb3VzZXVwID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICBpZiAoZXZ0LnRhcmdldC5ub2RlTmFtZSA9PT0gXCJBQkJSXCIgJiYgIXRoaXMuaXNfZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0c19yZXNldChldnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnNlYXJjaF9yZXN1bHRzX21vdXNld2hlZWwgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIHZhciBkZWx0YTtcbiAgICAgIGlmIChldnQub3JpZ2luYWxFdmVudCkge1xuICAgICAgICBkZWx0YSA9IGV2dC5vcmlnaW5hbEV2ZW50LmRlbHRhWSB8fCAtZXZ0Lm9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YSB8fCBldnQub3JpZ2luYWxFdmVudC5kZXRhaWw7XG4gICAgICB9XG4gICAgICBpZiAoZGVsdGEgIT0gbnVsbCkge1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKGV2dC50eXBlID09PSAnRE9NTW91c2VTY3JvbGwnKSB7XG4gICAgICAgICAgZGVsdGEgPSBkZWx0YSAqIDQwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9yZXN1bHRzLnNjcm9sbFRvcChkZWx0YSArIHRoaXMuc2VhcmNoX3Jlc3VsdHMuc2Nyb2xsVG9wKCkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLmJsdXJfdGVzdCA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgaWYgKCF0aGlzLmFjdGl2ZV9maWVsZCAmJiB0aGlzLmNvbnRhaW5lci5oYXNDbGFzcyhcImNob3Nlbi1jb250YWluZXItYWN0aXZlXCIpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb3NlX2ZpZWxkKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuY2xvc2VfZmllbGQgPSBmdW5jdGlvbigpIHtcbiAgICAgICQodGhpcy5jb250YWluZXJbMF0ub3duZXJEb2N1bWVudCkudW5iaW5kKFwiY2xpY2suY2hvc2VuXCIsIHRoaXMuY2xpY2tfdGVzdF9hY3Rpb24pO1xuICAgICAgdGhpcy5hY3RpdmVfZmllbGQgPSBmYWxzZTtcbiAgICAgIHRoaXMucmVzdWx0c19oaWRlKCk7XG4gICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImNob3Nlbi1jb250YWluZXItYWN0aXZlXCIpO1xuICAgICAgdGhpcy5jbGVhcl9iYWNrc3Ryb2tlKCk7XG4gICAgICB0aGlzLnNob3dfc2VhcmNoX2ZpZWxkX2RlZmF1bHQoKTtcbiAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9maWVsZF9zY2FsZSgpO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLmFjdGl2YXRlX2ZpZWxkID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmNvbnRhaW5lci5hZGRDbGFzcyhcImNob3Nlbi1jb250YWluZXItYWN0aXZlXCIpO1xuICAgICAgdGhpcy5hY3RpdmVfZmllbGQgPSB0cnVlO1xuICAgICAgdGhpcy5zZWFyY2hfZmllbGQudmFsKHRoaXMuc2VhcmNoX2ZpZWxkLnZhbCgpKTtcbiAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9maWVsZC5mb2N1cygpO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnRlc3RfYWN0aXZlX2NsaWNrID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICB2YXIgYWN0aXZlX2NvbnRhaW5lcjtcbiAgICAgIGFjdGl2ZV9jb250YWluZXIgPSAkKGV2dC50YXJnZXQpLmNsb3Nlc3QoJy5jaG9zZW4tY29udGFpbmVyJyk7XG4gICAgICBpZiAoYWN0aXZlX2NvbnRhaW5lci5sZW5ndGggJiYgdGhpcy5jb250YWluZXJbMF0gPT09IGFjdGl2ZV9jb250YWluZXJbMF0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlX2ZpZWxkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb3NlX2ZpZWxkKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUucmVzdWx0c19idWlsZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5wYXJzaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMuc2VsZWN0ZWRfb3B0aW9uX2NvdW50ID0gbnVsbDtcbiAgICAgIHRoaXMucmVzdWx0c19kYXRhID0gU2VsZWN0UGFyc2VyLnNlbGVjdF90b19hcnJheSh0aGlzLmZvcm1fZmllbGQpO1xuICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUpIHtcbiAgICAgICAgdGhpcy5zZWFyY2hfY2hvaWNlcy5maW5kKFwibGkuc2VhcmNoLWNob2ljZVwiKS5yZW1vdmUoKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNfbXVsdGlwbGUpIHtcbiAgICAgICAgdGhpcy5zaW5nbGVfc2V0X3NlbGVjdGVkX3RleHQoKTtcbiAgICAgICAgaWYgKHRoaXMuZGlzYWJsZV9zZWFyY2ggfHwgdGhpcy5mb3JtX2ZpZWxkLm9wdGlvbnMubGVuZ3RoIDw9IHRoaXMuZGlzYWJsZV9zZWFyY2hfdGhyZXNob2xkKSB7XG4gICAgICAgICAgdGhpcy5zZWFyY2hfZmllbGRbMF0ucmVhZE9ubHkgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFkZENsYXNzKFwiY2hvc2VuLWNvbnRhaW5lci1zaW5nbGUtbm9zZWFyY2hcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZWFyY2hfZmllbGRbMF0ucmVhZE9ubHkgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImNob3Nlbi1jb250YWluZXItc2luZ2xlLW5vc2VhcmNoXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZV9yZXN1bHRzX2NvbnRlbnQodGhpcy5yZXN1bHRzX29wdGlvbl9idWlsZCh7XG4gICAgICAgIGZpcnN0OiB0cnVlXG4gICAgICB9KSk7XG4gICAgICB0aGlzLnNlYXJjaF9maWVsZF9kaXNhYmxlZCgpO1xuICAgICAgdGhpcy5zaG93X3NlYXJjaF9maWVsZF9kZWZhdWx0KCk7XG4gICAgICB0aGlzLnNlYXJjaF9maWVsZF9zY2FsZSgpO1xuICAgICAgcmV0dXJuIHRoaXMucGFyc2luZyA9IGZhbHNlO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnJlc3VsdF9kb19oaWdobGlnaHQgPSBmdW5jdGlvbihlbCkge1xuICAgICAgdmFyIGhpZ2hfYm90dG9tLCBoaWdoX3RvcCwgbWF4SGVpZ2h0LCB2aXNpYmxlX2JvdHRvbSwgdmlzaWJsZV90b3A7XG4gICAgICBpZiAoZWwubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCgpO1xuICAgICAgICB0aGlzLnJlc3VsdF9oaWdobGlnaHQgPSBlbDtcbiAgICAgICAgdGhpcy5yZXN1bHRfaGlnaGxpZ2h0LmFkZENsYXNzKFwiaGlnaGxpZ2h0ZWRcIik7XG4gICAgICAgIG1heEhlaWdodCA9IHBhcnNlSW50KHRoaXMuc2VhcmNoX3Jlc3VsdHMuY3NzKFwibWF4SGVpZ2h0XCIpLCAxMCk7XG4gICAgICAgIHZpc2libGVfdG9wID0gdGhpcy5zZWFyY2hfcmVzdWx0cy5zY3JvbGxUb3AoKTtcbiAgICAgICAgdmlzaWJsZV9ib3R0b20gPSBtYXhIZWlnaHQgKyB2aXNpYmxlX3RvcDtcbiAgICAgICAgaGlnaF90b3AgPSB0aGlzLnJlc3VsdF9oaWdobGlnaHQucG9zaXRpb24oKS50b3AgKyB0aGlzLnNlYXJjaF9yZXN1bHRzLnNjcm9sbFRvcCgpO1xuICAgICAgICBoaWdoX2JvdHRvbSA9IGhpZ2hfdG9wICsgdGhpcy5yZXN1bHRfaGlnaGxpZ2h0Lm91dGVySGVpZ2h0KCk7XG4gICAgICAgIGlmIChoaWdoX2JvdHRvbSA+PSB2aXNpYmxlX2JvdHRvbSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9yZXN1bHRzLnNjcm9sbFRvcCgoaGlnaF9ib3R0b20gLSBtYXhIZWlnaHQpID4gMCA/IGhpZ2hfYm90dG9tIC0gbWF4SGVpZ2h0IDogMCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGlnaF90b3AgPCB2aXNpYmxlX3RvcCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9yZXN1bHRzLnNjcm9sbFRvcChoaWdoX3RvcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5yZXN1bHRfY2xlYXJfaGlnaGxpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5yZXN1bHRfaGlnaGxpZ2h0KSB7XG4gICAgICAgIHRoaXMucmVzdWx0X2hpZ2hsaWdodC5yZW1vdmVDbGFzcyhcImhpZ2hsaWdodGVkXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucmVzdWx0X2hpZ2hsaWdodCA9IG51bGw7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUucmVzdWx0c19zaG93ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSAmJiB0aGlzLm1heF9zZWxlY3RlZF9vcHRpb25zIDw9IHRoaXMuY2hvaWNlc19jb3VudCgpKSB7XG4gICAgICAgIHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiY2hvc2VuOm1heHNlbGVjdGVkXCIsIHtcbiAgICAgICAgICBjaG9zZW46IHRoaXNcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY29udGFpbmVyLmFkZENsYXNzKFwiY2hvc2VuLXdpdGgtZHJvcFwiKTtcbiAgICAgIHRoaXMucmVzdWx0c19zaG93aW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkLmZvY3VzKCk7XG4gICAgICB0aGlzLnNlYXJjaF9maWVsZC52YWwodGhpcy5zZWFyY2hfZmllbGQudmFsKCkpO1xuICAgICAgdGhpcy53aW5ub3dfcmVzdWx0cygpO1xuICAgICAgcmV0dXJuIHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiY2hvc2VuOnNob3dpbmdfZHJvcGRvd25cIiwge1xuICAgICAgICBjaG9zZW46IHRoaXNcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnVwZGF0ZV9yZXN1bHRzX2NvbnRlbnQgPSBmdW5jdGlvbihjb250ZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5zZWFyY2hfcmVzdWx0cy5odG1sKGNvbnRlbnQpO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnJlc3VsdHNfaGlkZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMucmVzdWx0c19zaG93aW5nKSB7XG4gICAgICAgIHRoaXMucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCgpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImNob3Nlbi13aXRoLWRyb3BcIik7XG4gICAgICAgIHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiY2hvc2VuOmhpZGluZ19kcm9wZG93blwiLCB7XG4gICAgICAgICAgY2hvc2VuOiB0aGlzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucmVzdWx0c19zaG93aW5nID0gZmFsc2U7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuc2V0X3RhYl9pbmRleCA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgICB2YXIgdGk7XG4gICAgICBpZiAodGhpcy5mb3JtX2ZpZWxkLnRhYkluZGV4KSB7XG4gICAgICAgIHRpID0gdGhpcy5mb3JtX2ZpZWxkLnRhYkluZGV4O1xuICAgICAgICB0aGlzLmZvcm1fZmllbGQudGFiSW5kZXggPSAtMTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkWzBdLnRhYkluZGV4ID0gdGk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuc2V0X2xhYmVsX2JlaGF2aW9yID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdGhpcy5mb3JtX2ZpZWxkX2xhYmVsID0gdGhpcy5mb3JtX2ZpZWxkX2pxLnBhcmVudHMoXCJsYWJlbFwiKTtcbiAgICAgIGlmICghdGhpcy5mb3JtX2ZpZWxkX2xhYmVsLmxlbmd0aCAmJiB0aGlzLmZvcm1fZmllbGQuaWQubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuZm9ybV9maWVsZF9sYWJlbCA9ICQoXCJsYWJlbFtmb3I9J1wiICsgdGhpcy5mb3JtX2ZpZWxkLmlkICsgXCInXVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmZvcm1fZmllbGRfbGFiZWwubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JtX2ZpZWxkX2xhYmVsLmJpbmQoJ2NsaWNrLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgIGlmIChfdGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNvbnRhaW5lcl9tb3VzZWRvd24oZXZ0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmFjdGl2YXRlX2ZpZWxkKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5zaG93X3NlYXJjaF9maWVsZF9kZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSAmJiB0aGlzLmNob2ljZXNfY291bnQoKSA8IDEgJiYgIXRoaXMuYWN0aXZlX2ZpZWxkKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkLnZhbCh0aGlzLmRlZmF1bHRfdGV4dCk7XG4gICAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9maWVsZC5hZGRDbGFzcyhcImRlZmF1bHRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNlYXJjaF9maWVsZC52YWwoXCJcIik7XG4gICAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9maWVsZC5yZW1vdmVDbGFzcyhcImRlZmF1bHRcIik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuc2VhcmNoX3Jlc3VsdHNfbW91c2V1cCA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgdmFyIHRhcmdldDtcbiAgICAgIHRhcmdldCA9ICQoZXZ0LnRhcmdldCkuaGFzQ2xhc3MoXCJhY3RpdmUtcmVzdWx0XCIpID8gJChldnQudGFyZ2V0KSA6ICQoZXZ0LnRhcmdldCkucGFyZW50cyhcIi5hY3RpdmUtcmVzdWx0XCIpLmZpcnN0KCk7XG4gICAgICBpZiAodGFyZ2V0Lmxlbmd0aCkge1xuICAgICAgICB0aGlzLnJlc3VsdF9oaWdobGlnaHQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMucmVzdWx0X3NlbGVjdChldnQpO1xuICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2hfZmllbGQuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfcmVzdWx0c19tb3VzZW92ZXIgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIHZhciB0YXJnZXQ7XG4gICAgICB0YXJnZXQgPSAkKGV2dC50YXJnZXQpLmhhc0NsYXNzKFwiYWN0aXZlLXJlc3VsdFwiKSA/ICQoZXZ0LnRhcmdldCkgOiAkKGV2dC50YXJnZXQpLnBhcmVudHMoXCIuYWN0aXZlLXJlc3VsdFwiKS5maXJzdCgpO1xuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRfZG9faGlnaGxpZ2h0KHRhcmdldCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuc2VhcmNoX3Jlc3VsdHNfbW91c2VvdXQgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIGlmICgkKGV2dC50YXJnZXQpLmhhc0NsYXNzKFwiYWN0aXZlLXJlc3VsdFwiIHx8ICQoZXZ0LnRhcmdldCkucGFyZW50cygnLmFjdGl2ZS1yZXN1bHQnKS5maXJzdCgpKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRfY2xlYXJfaGlnaGxpZ2h0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuY2hvaWNlX2J1aWxkID0gZnVuY3Rpb24oaXRlbSkge1xuICAgICAgdmFyIGNob2ljZSwgY2xvc2VfbGluayxcbiAgICAgICAgX3RoaXMgPSB0aGlzO1xuICAgICAgY2hvaWNlID0gJCgnPGxpIC8+Jywge1xuICAgICAgICBcImNsYXNzXCI6IFwic2VhcmNoLWNob2ljZVwiXG4gICAgICB9KS5odG1sKFwiPHNwYW4+XCIgKyAodGhpcy5jaG9pY2VfbGFiZWwoaXRlbSkpICsgXCI8L3NwYW4+XCIpO1xuICAgICAgaWYgKGl0ZW0uZGlzYWJsZWQpIHtcbiAgICAgICAgY2hvaWNlLmFkZENsYXNzKCdzZWFyY2gtY2hvaWNlLWRpc2FibGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbG9zZV9saW5rID0gJCgnPGEgLz4nLCB7XG4gICAgICAgICAgXCJjbGFzc1wiOiAnc2VhcmNoLWNob2ljZS1jbG9zZScsXG4gICAgICAgICAgJ2RhdGEtb3B0aW9uLWFycmF5LWluZGV4JzogaXRlbS5hcnJheV9pbmRleFxuICAgICAgICB9KTtcbiAgICAgICAgY2xvc2VfbGluay5iaW5kKCdjbGljay5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuY2hvaWNlX2Rlc3Ryb3lfbGlua19jbGljayhldnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgY2hvaWNlLmFwcGVuZChjbG9zZV9saW5rKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9jb250YWluZXIuYmVmb3JlKGNob2ljZSk7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuY2hvaWNlX2Rlc3Ryb3lfbGlua19jbGljayA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBpZiAoIXRoaXMuaXNfZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hvaWNlX2Rlc3Ryb3koJChldnQudGFyZ2V0KSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuY2hvaWNlX2Rlc3Ryb3kgPSBmdW5jdGlvbihsaW5rKSB7XG4gICAgICBpZiAodGhpcy5yZXN1bHRfZGVzZWxlY3QobGlua1swXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW9wdGlvbi1hcnJheS1pbmRleFwiKSkpIHtcbiAgICAgICAgdGhpcy5zaG93X3NlYXJjaF9maWVsZF9kZWZhdWx0KCk7XG4gICAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlICYmIHRoaXMuY2hvaWNlc19jb3VudCgpID4gMCAmJiB0aGlzLnNlYXJjaF9maWVsZC52YWwoKS5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgdGhpcy5yZXN1bHRzX2hpZGUoKTtcbiAgICAgICAgfVxuICAgICAgICBsaW5rLnBhcmVudHMoJ2xpJykuZmlyc3QoKS5yZW1vdmUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkX3NjYWxlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUucmVzdWx0c19yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5yZXNldF9zaW5nbGVfc2VsZWN0X29wdGlvbnMoKTtcbiAgICAgIHRoaXMuZm9ybV9maWVsZC5vcHRpb25zWzBdLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuc2luZ2xlX3NldF9zZWxlY3RlZF90ZXh0KCk7XG4gICAgICB0aGlzLnNob3dfc2VhcmNoX2ZpZWxkX2RlZmF1bHQoKTtcbiAgICAgIHRoaXMucmVzdWx0c19yZXNldF9jbGVhbnVwKCk7XG4gICAgICB0aGlzLmZvcm1fZmllbGRfanEudHJpZ2dlcihcImNoYW5nZVwiKTtcbiAgICAgIGlmICh0aGlzLmFjdGl2ZV9maWVsZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzX2hpZGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5yZXN1bHRzX3Jlc2V0X2NsZWFudXAgPSBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuY3VycmVudF9zZWxlY3RlZEluZGV4ID0gdGhpcy5mb3JtX2ZpZWxkLnNlbGVjdGVkSW5kZXg7XG4gICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZF9pdGVtLmZpbmQoXCJhYmJyXCIpLnJlbW92ZSgpO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnJlc3VsdF9zZWxlY3QgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIHZhciBoaWdoLCBpdGVtO1xuICAgICAgaWYgKHRoaXMucmVzdWx0X2hpZ2hsaWdodCkge1xuICAgICAgICBoaWdoID0gdGhpcy5yZXN1bHRfaGlnaGxpZ2h0O1xuICAgICAgICB0aGlzLnJlc3VsdF9jbGVhcl9oaWdobGlnaHQoKTtcbiAgICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUgJiYgdGhpcy5tYXhfc2VsZWN0ZWRfb3B0aW9ucyA8PSB0aGlzLmNob2ljZXNfY291bnQoKSkge1xuICAgICAgICAgIHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiY2hvc2VuOm1heHNlbGVjdGVkXCIsIHtcbiAgICAgICAgICAgIGNob3NlbjogdGhpc1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc19tdWx0aXBsZSkge1xuICAgICAgICAgIGhpZ2gucmVtb3ZlQ2xhc3MoXCJhY3RpdmUtcmVzdWx0XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucmVzZXRfc2luZ2xlX3NlbGVjdF9vcHRpb25zKCk7XG4gICAgICAgIH1cbiAgICAgICAgaGlnaC5hZGRDbGFzcyhcInJlc3VsdC1zZWxlY3RlZFwiKTtcbiAgICAgICAgaXRlbSA9IHRoaXMucmVzdWx0c19kYXRhW2hpZ2hbMF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1vcHRpb24tYXJyYXktaW5kZXhcIildO1xuICAgICAgICBpdGVtLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5mb3JtX2ZpZWxkLm9wdGlvbnNbaXRlbS5vcHRpb25zX2luZGV4XS5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRfb3B0aW9uX2NvdW50ID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUpIHtcbiAgICAgICAgICB0aGlzLmNob2ljZV9idWlsZChpdGVtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNpbmdsZV9zZXRfc2VsZWN0ZWRfdGV4dCh0aGlzLmNob2ljZV9sYWJlbChpdGVtKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoKGV2dC5tZXRhS2V5IHx8IGV2dC5jdHJsS2V5KSAmJiB0aGlzLmlzX211bHRpcGxlKSkge1xuICAgICAgICAgIHRoaXMucmVzdWx0c19oaWRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zaG93X3NlYXJjaF9maWVsZF9kZWZhdWx0KCk7XG4gICAgICAgIGlmICh0aGlzLmlzX211bHRpcGxlIHx8IHRoaXMuZm9ybV9maWVsZC5zZWxlY3RlZEluZGV4ICE9PSB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRJbmRleCkge1xuICAgICAgICAgIHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiY2hhbmdlXCIsIHtcbiAgICAgICAgICAgICdzZWxlY3RlZCc6IHRoaXMuZm9ybV9maWVsZC5vcHRpb25zW2l0ZW0ub3B0aW9uc19pbmRleF0udmFsdWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRJbmRleCA9IHRoaXMuZm9ybV9maWVsZC5zZWxlY3RlZEluZGV4O1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkX3NjYWxlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuc2luZ2xlX3NldF9zZWxlY3RlZF90ZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgaWYgKHRleHQgPT0gbnVsbCkge1xuICAgICAgICB0ZXh0ID0gdGhpcy5kZWZhdWx0X3RleHQ7XG4gICAgICB9XG4gICAgICBpZiAodGV4dCA9PT0gdGhpcy5kZWZhdWx0X3RleHQpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZF9pdGVtLmFkZENsYXNzKFwiY2hvc2VuLWRlZmF1bHRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNpbmdsZV9kZXNlbGVjdF9jb250cm9sX2J1aWxkKCk7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRfaXRlbS5yZW1vdmVDbGFzcyhcImNob3Nlbi1kZWZhdWx0XCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRfaXRlbS5maW5kKFwic3BhblwiKS5odG1sKHRleHQpO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnJlc3VsdF9kZXNlbGVjdCA9IGZ1bmN0aW9uKHBvcykge1xuICAgICAgdmFyIHJlc3VsdF9kYXRhO1xuICAgICAgcmVzdWx0X2RhdGEgPSB0aGlzLnJlc3VsdHNfZGF0YVtwb3NdO1xuICAgICAgaWYgKCF0aGlzLmZvcm1fZmllbGQub3B0aW9uc1tyZXN1bHRfZGF0YS5vcHRpb25zX2luZGV4XS5kaXNhYmxlZCkge1xuICAgICAgICByZXN1bHRfZGF0YS5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZvcm1fZmllbGQub3B0aW9uc1tyZXN1bHRfZGF0YS5vcHRpb25zX2luZGV4XS5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNlbGVjdGVkX29wdGlvbl9jb3VudCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCgpO1xuICAgICAgICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcpIHtcbiAgICAgICAgICB0aGlzLndpbm5vd19yZXN1bHRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mb3JtX2ZpZWxkX2pxLnRyaWdnZXIoXCJjaGFuZ2VcIiwge1xuICAgICAgICAgIGRlc2VsZWN0ZWQ6IHRoaXMuZm9ybV9maWVsZC5vcHRpb25zW3Jlc3VsdF9kYXRhLm9wdGlvbnNfaW5kZXhdLnZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNlYXJjaF9maWVsZF9zY2FsZSgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5zaW5nbGVfZGVzZWxlY3RfY29udHJvbF9idWlsZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLmFsbG93X3NpbmdsZV9kZXNlbGVjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRfaXRlbS5maW5kKFwiYWJiclwiKS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZF9pdGVtLmZpbmQoXCJzcGFuXCIpLmZpcnN0KCkuYWZ0ZXIoXCI8YWJiciBjbGFzcz1cXFwic2VhcmNoLWNob2ljZS1jbG9zZVxcXCI+PC9hYmJyPlwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkX2l0ZW0uYWRkQ2xhc3MoXCJjaG9zZW4tc2luZ2xlLXdpdGgtZGVzZWxlY3RcIik7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUuZ2V0X3NlYXJjaF90ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJCgnPGRpdi8+JykudGV4dCgkLnRyaW0odGhpcy5zZWFyY2hfZmllbGQudmFsKCkpKS5odG1sKCk7XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUud2lubm93X3Jlc3VsdHNfc2V0X2hpZ2hsaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRvX2hpZ2gsIHNlbGVjdGVkX3Jlc3VsdHM7XG4gICAgICBzZWxlY3RlZF9yZXN1bHRzID0gIXRoaXMuaXNfbXVsdGlwbGUgPyB0aGlzLnNlYXJjaF9yZXN1bHRzLmZpbmQoXCIucmVzdWx0LXNlbGVjdGVkLmFjdGl2ZS1yZXN1bHRcIikgOiBbXTtcbiAgICAgIGRvX2hpZ2ggPSBzZWxlY3RlZF9yZXN1bHRzLmxlbmd0aCA/IHNlbGVjdGVkX3Jlc3VsdHMuZmlyc3QoKSA6IHRoaXMuc2VhcmNoX3Jlc3VsdHMuZmluZChcIi5hY3RpdmUtcmVzdWx0XCIpLmZpcnN0KCk7XG4gICAgICBpZiAoZG9faGlnaCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdF9kb19oaWdobGlnaHQoZG9faGlnaCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUubm9fcmVzdWx0cyA9IGZ1bmN0aW9uKHRlcm1zKSB7XG4gICAgICB2YXIgbm9fcmVzdWx0c19odG1sO1xuICAgICAgbm9fcmVzdWx0c19odG1sID0gJCgnPGxpIGNsYXNzPVwibm8tcmVzdWx0c1wiPicgKyB0aGlzLnJlc3VsdHNfbm9uZV9mb3VuZCArICcgXCI8c3Bhbj48L3NwYW4+XCI8L2xpPicpO1xuICAgICAgbm9fcmVzdWx0c19odG1sLmZpbmQoXCJzcGFuXCIpLmZpcnN0KCkuaHRtbCh0ZXJtcyk7XG4gICAgICB0aGlzLnNlYXJjaF9yZXN1bHRzLmFwcGVuZChub19yZXN1bHRzX2h0bWwpO1xuICAgICAgcmV0dXJuIHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiY2hvc2VuOm5vX3Jlc3VsdHNcIiwge1xuICAgICAgICBjaG9zZW46IHRoaXNcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLm5vX3Jlc3VsdHNfY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnNlYXJjaF9yZXN1bHRzLmZpbmQoXCIubm8tcmVzdWx0c1wiKS5yZW1vdmUoKTtcbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5rZXlkb3duX2Fycm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbmV4dF9zaWI7XG4gICAgICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcgJiYgdGhpcy5yZXN1bHRfaGlnaGxpZ2h0KSB7XG4gICAgICAgIG5leHRfc2liID0gdGhpcy5yZXN1bHRfaGlnaGxpZ2h0Lm5leHRBbGwoXCJsaS5hY3RpdmUtcmVzdWx0XCIpLmZpcnN0KCk7XG4gICAgICAgIGlmIChuZXh0X3NpYikge1xuICAgICAgICAgIHJldHVybiB0aGlzLnJlc3VsdF9kb19oaWdobGlnaHQobmV4dF9zaWIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzX3Nob3coKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5rZXl1cF9hcnJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHByZXZfc2licztcbiAgICAgIGlmICghdGhpcy5yZXN1bHRzX3Nob3dpbmcgJiYgIXRoaXMuaXNfbXVsdGlwbGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0c19zaG93KCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucmVzdWx0X2hpZ2hsaWdodCkge1xuICAgICAgICBwcmV2X3NpYnMgPSB0aGlzLnJlc3VsdF9oaWdobGlnaHQucHJldkFsbChcImxpLmFjdGl2ZS1yZXN1bHRcIik7XG4gICAgICAgIGlmIChwcmV2X3NpYnMubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0X2RvX2hpZ2hsaWdodChwcmV2X3NpYnMuZmlyc3QoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRoaXMuY2hvaWNlc19jb3VudCgpID4gMCkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRzX2hpZGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIENob3Nlbi5wcm90b3R5cGUua2V5ZG93bl9iYWNrc3Ryb2tlID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbmV4dF9hdmFpbGFibGVfZGVzdHJveTtcbiAgICAgIGlmICh0aGlzLnBlbmRpbmdfYmFja3N0cm9rZSkge1xuICAgICAgICB0aGlzLmNob2ljZV9kZXN0cm95KHRoaXMucGVuZGluZ19iYWNrc3Ryb2tlLmZpbmQoXCJhXCIpLmZpcnN0KCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5jbGVhcl9iYWNrc3Ryb2tlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0X2F2YWlsYWJsZV9kZXN0cm95ID0gdGhpcy5zZWFyY2hfY29udGFpbmVyLnNpYmxpbmdzKFwibGkuc2VhcmNoLWNob2ljZVwiKS5sYXN0KCk7XG4gICAgICAgIGlmIChuZXh0X2F2YWlsYWJsZV9kZXN0cm95Lmxlbmd0aCAmJiAhbmV4dF9hdmFpbGFibGVfZGVzdHJveS5oYXNDbGFzcyhcInNlYXJjaC1jaG9pY2UtZGlzYWJsZWRcIikpIHtcbiAgICAgICAgICB0aGlzLnBlbmRpbmdfYmFja3N0cm9rZSA9IG5leHRfYXZhaWxhYmxlX2Rlc3Ryb3k7XG4gICAgICAgICAgaWYgKHRoaXMuc2luZ2xlX2JhY2tzdHJva2VfZGVsZXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5rZXlkb3duX2JhY2tzdHJva2UoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGVuZGluZ19iYWNrc3Ryb2tlLmFkZENsYXNzKFwic2VhcmNoLWNob2ljZS1mb2N1c1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5jbGVhcl9iYWNrc3Ryb2tlID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5wZW5kaW5nX2JhY2tzdHJva2UpIHtcbiAgICAgICAgdGhpcy5wZW5kaW5nX2JhY2tzdHJva2UucmVtb3ZlQ2xhc3MoXCJzZWFyY2gtY2hvaWNlLWZvY3VzXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucGVuZGluZ19iYWNrc3Ryb2tlID0gbnVsbDtcbiAgICB9O1xuXG4gICAgQ2hvc2VuLnByb3RvdHlwZS5rZXlkb3duX2NoZWNrZXIgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIHZhciBzdHJva2UsIF9yZWYxO1xuICAgICAgc3Ryb2tlID0gKF9yZWYxID0gZXZ0LndoaWNoKSAhPSBudWxsID8gX3JlZjEgOiBldnQua2V5Q29kZTtcbiAgICAgIHRoaXMuc2VhcmNoX2ZpZWxkX3NjYWxlKCk7XG4gICAgICBpZiAoc3Ryb2tlICE9PSA4ICYmIHRoaXMucGVuZGluZ19iYWNrc3Ryb2tlKSB7XG4gICAgICAgIHRoaXMuY2xlYXJfYmFja3N0cm9rZSgpO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChzdHJva2UpIHtcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIHRoaXMuYmFja3N0cm9rZV9sZW5ndGggPSB0aGlzLnNlYXJjaF9maWVsZC52YWwoKS5sZW5ndGg7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcgJiYgIXRoaXMuaXNfbXVsdGlwbGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0X3NlbGVjdChldnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLm1vdXNlX29uX2NvbnRhaW5lciA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIGlmICh0aGlzLnJlc3VsdHNfc2hvd2luZykge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDMyOlxuICAgICAgICAgIGlmICh0aGlzLmRpc2FibGVfc2VhcmNoKSB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5rZXl1cF9hcnJvdygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMua2V5ZG93bl9hcnJvdygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBDaG9zZW4ucHJvdG90eXBlLnNlYXJjaF9maWVsZF9zY2FsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRpdiwgZl93aWR0aCwgaCwgc3R5bGUsIHN0eWxlX2Jsb2NrLCBzdHlsZXMsIHcsIF9pLCBfbGVuO1xuICAgICAgaWYgKHRoaXMuaXNfbXVsdGlwbGUpIHtcbiAgICAgICAgaCA9IDA7XG4gICAgICAgIHcgPSAwO1xuICAgICAgICBzdHlsZV9ibG9jayA9IFwicG9zaXRpb246YWJzb2x1dGU7IGxlZnQ6IC0xMDAwcHg7IHRvcDogLTEwMDBweDsgZGlzcGxheTpub25lO1wiO1xuICAgICAgICBzdHlsZXMgPSBbJ2ZvbnQtc2l6ZScsICdmb250LXN0eWxlJywgJ2ZvbnQtd2VpZ2h0JywgJ2ZvbnQtZmFtaWx5JywgJ2xpbmUtaGVpZ2h0JywgJ3RleHQtdHJhbnNmb3JtJywgJ2xldHRlci1zcGFjaW5nJ107XG4gICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gc3R5bGVzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgc3R5bGUgPSBzdHlsZXNbX2ldO1xuICAgICAgICAgIHN0eWxlX2Jsb2NrICs9IHN0eWxlICsgXCI6XCIgKyB0aGlzLnNlYXJjaF9maWVsZC5jc3Moc3R5bGUpICsgXCI7XCI7XG4gICAgICAgIH1cbiAgICAgICAgZGl2ID0gJCgnPGRpdiAvPicsIHtcbiAgICAgICAgICAnc3R5bGUnOiBzdHlsZV9ibG9ja1xuICAgICAgICB9KTtcbiAgICAgICAgZGl2LnRleHQodGhpcy5zZWFyY2hfZmllbGQudmFsKCkpO1xuICAgICAgICAkKCdib2R5JykuYXBwZW5kKGRpdik7XG4gICAgICAgIHcgPSBkaXYud2lkdGgoKSArIDI1O1xuICAgICAgICBkaXYucmVtb3ZlKCk7XG4gICAgICAgIGZfd2lkdGggPSB0aGlzLmNvbnRhaW5lci5vdXRlcldpZHRoKCk7XG4gICAgICAgIGlmICh3ID4gZl93aWR0aCAtIDEwKSB7XG4gICAgICAgICAgdyA9IGZfd2lkdGggLSAxMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2hfZmllbGQuY3NzKHtcbiAgICAgICAgICAnd2lkdGgnOiB3ICsgJ3B4J1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIENob3NlbjtcblxuICB9KShBYnN0cmFjdENob3Nlbik7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCIvKiFcbiAqIGNsaXBib2FyZC5qcyB2MS41LjEyXG4gKiBodHRwczovL3plbm9yb2NoYS5naXRodWIuaW8vY2xpcGJvYXJkLmpzXG4gKlxuICogTGljZW5zZWQgTUlUIMKpIFplbm8gUm9jaGFcbiAqL1xuKGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09XCJvYmplY3RcIiYmdHlwZW9mIG1vZHVsZSE9PVwidW5kZWZpbmVkXCIpe21vZHVsZS5leHBvcnRzPWYoKX1lbHNlIGlmKHR5cGVvZiBkZWZpbmU9PT1cImZ1bmN0aW9uXCImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT1cInVuZGVmaW5lZFwiKXtnPXdpbmRvd31lbHNlIGlmKHR5cGVvZiBnbG9iYWwhPT1cInVuZGVmaW5lZFwiKXtnPWdsb2JhbH1lbHNlIGlmKHR5cGVvZiBzZWxmIT09XCJ1bmRlZmluZWRcIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuQ2xpcGJvYXJkID0gZigpfX0pKGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIG1hdGNoZXMgPSByZXF1aXJlKCdtYXRjaGVzLXNlbGVjdG9yJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZWxlbWVudCwgc2VsZWN0b3IsIGNoZWNrWW9TZWxmKSB7XG4gIHZhciBwYXJlbnQgPSBjaGVja1lvU2VsZiA/IGVsZW1lbnQgOiBlbGVtZW50LnBhcmVudE5vZGVcblxuICB3aGlsZSAocGFyZW50ICYmIHBhcmVudCAhPT0gZG9jdW1lbnQpIHtcbiAgICBpZiAobWF0Y2hlcyhwYXJlbnQsIHNlbGVjdG9yKSkgcmV0dXJuIHBhcmVudDtcbiAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZVxuICB9XG59XG5cbn0se1wibWF0Y2hlcy1zZWxlY3RvclwiOjV9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBjbG9zZXN0ID0gcmVxdWlyZSgnY2xvc2VzdCcpO1xuXG4vKipcbiAqIERlbGVnYXRlcyBldmVudCB0byBhIHNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdXNlQ2FwdHVyZVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBkZWxlZ2F0ZShlbGVtZW50LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpIHtcbiAgICB2YXIgbGlzdGVuZXJGbiA9IGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lckZuLCB1c2VDYXB0dXJlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBGaW5kcyBjbG9zZXN0IG1hdGNoIGFuZCBpbnZva2VzIGNhbGxiYWNrLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBsaXN0ZW5lcihlbGVtZW50LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgICBlLmRlbGVnYXRlVGFyZ2V0ID0gY2xvc2VzdChlLnRhcmdldCwgc2VsZWN0b3IsIHRydWUpO1xuXG4gICAgICAgIGlmIChlLmRlbGVnYXRlVGFyZ2V0KSB7XG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKGVsZW1lbnQsIGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlbGVnYXRlO1xuXG59LHtcImNsb3Nlc3RcIjoxfV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgSFRNTCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0cy5ub2RlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAmJiB2YWx1ZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50XG4gICAgICAgICYmIHZhbHVlLm5vZGVUeXBlID09PSAxO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIGxpc3Qgb2YgSFRNTCBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydHMubm9kZUxpc3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcblxuICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICYmICh0eXBlID09PSAnW29iamVjdCBOb2RlTGlzdF0nIHx8IHR5cGUgPT09ICdbb2JqZWN0IEhUTUxDb2xsZWN0aW9uXScpXG4gICAgICAgICYmICgnbGVuZ3RoJyBpbiB2YWx1ZSlcbiAgICAgICAgJiYgKHZhbHVlLmxlbmd0aCA9PT0gMCB8fCBleHBvcnRzLm5vZGUodmFsdWVbMF0pKTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5leHBvcnRzLnN0cmluZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZydcbiAgICAgICAgfHwgdmFsdWUgaW5zdGFuY2VvZiBTdHJpbmc7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5leHBvcnRzLmZuID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG5cbiAgICByZXR1cm4gdHlwZSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn07XG5cbn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIGlzID0gcmVxdWlyZSgnLi9pcycpO1xudmFyIGRlbGVnYXRlID0gcmVxdWlyZSgnZGVsZWdhdGUnKTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgYWxsIHBhcmFtcyBhbmQgY2FsbHMgdGhlIHJpZ2h0XG4gKiBsaXN0ZW5lciBmdW5jdGlvbiBiYXNlZCBvbiBpdHMgdGFyZ2V0IHR5cGUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8SFRNTENvbGxlY3Rpb258Tm9kZUxpc3R9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3Rlbih0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKCF0YXJnZXQgJiYgIXR5cGUgJiYgIWNhbGxiYWNrKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCBhcmd1bWVudHMnKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzLnN0cmluZyh0eXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhIFN0cmluZycpO1xuICAgIH1cblxuICAgIGlmICghaXMuZm4oY2FsbGJhY2spKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoaXJkIGFyZ3VtZW50IG11c3QgYmUgYSBGdW5jdGlvbicpO1xuICAgIH1cblxuICAgIGlmIChpcy5ub2RlKHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIGxpc3Rlbk5vZGUodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzLm5vZGVMaXN0KHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIGxpc3Rlbk5vZGVMaXN0KHRhcmdldCwgdHlwZSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBlbHNlIGlmIChpcy5zdHJpbmcodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuU2VsZWN0b3IodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nLCBIVE1MRWxlbWVudCwgSFRNTENvbGxlY3Rpb24sIG9yIE5vZGVMaXN0Jyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYSBIVE1MIGVsZW1lbnRcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBsaXN0ZW5Ob2RlKG5vZGUsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYSBsaXN0IG9mIEhUTUwgZWxlbWVudHNcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7Tm9kZUxpc3R8SFRNTENvbGxlY3Rpb259IG5vZGVMaXN0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gbGlzdGVuTm9kZUxpc3Qobm9kZUxpc3QsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChub2RlTGlzdCwgZnVuY3Rpb24obm9kZSkge1xuICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVMaXN0LCBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0byBhIHNlbGVjdG9yXG4gKiBhbmQgcmV0dXJucyBhIHJlbW92ZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBsaXN0ZW5TZWxlY3RvcihzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZGVsZWdhdGUoZG9jdW1lbnQuYm9keSwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBsaXN0ZW47XG5cbn0se1wiLi9pc1wiOjMsXCJkZWxlZ2F0ZVwiOjJ9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblxuLyoqXG4gKiBFbGVtZW50IHByb3RvdHlwZS5cbiAqL1xuXG52YXIgcHJvdG8gPSBFbGVtZW50LnByb3RvdHlwZTtcblxuLyoqXG4gKiBWZW5kb3IgZnVuY3Rpb24uXG4gKi9cblxudmFyIHZlbmRvciA9IHByb3RvLm1hdGNoZXNTZWxlY3RvclxuICB8fCBwcm90by53ZWJraXRNYXRjaGVzU2VsZWN0b3JcbiAgfHwgcHJvdG8ubW96TWF0Y2hlc1NlbGVjdG9yXG4gIHx8IHByb3RvLm1zTWF0Y2hlc1NlbGVjdG9yXG4gIHx8IHByb3RvLm9NYXRjaGVzU2VsZWN0b3I7XG5cbi8qKlxuICogRXhwb3NlIGBtYXRjaCgpYC5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1hdGNoO1xuXG4vKipcbiAqIE1hdGNoIGBlbGAgdG8gYHNlbGVjdG9yYC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIG1hdGNoKGVsLCBzZWxlY3Rvcikge1xuICBpZiAodmVuZG9yKSByZXR1cm4gdmVuZG9yLmNhbGwoZWwsIHNlbGVjdG9yKTtcbiAgdmFyIG5vZGVzID0gZWwucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7ICsraSkge1xuICAgIGlmIChub2Rlc1tpXSA9PSBlbCkgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxufSx7fV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBzZWxlY3QoZWxlbWVudCkge1xuICAgIHZhciBzZWxlY3RlZFRleHQ7XG5cbiAgICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0lOUFVUJyB8fCBlbGVtZW50Lm5vZGVOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgZWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSgwLCBlbGVtZW50LnZhbHVlLmxlbmd0aCk7XG5cbiAgICAgICAgc2VsZWN0ZWRUZXh0ID0gZWxlbWVudC52YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJykpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIHZhciByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG5cbiAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGVsZW1lbnQpO1xuICAgICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG5cbiAgICAgICAgc2VsZWN0ZWRUZXh0ID0gc2VsZWN0aW9uLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGVjdGVkVGV4dDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZWxlY3Q7XG5cbn0se31dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gRSAoKSB7XG5cdC8vIEtlZXAgdGhpcyBlbXB0eSBzbyBpdCdzIGVhc2llciB0byBpbmhlcml0IGZyb21cbiAgLy8gKHZpYSBodHRwczovL2dpdGh1Yi5jb20vbGlwc21hY2sgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRjb3JnYW4vdGlueS1lbWl0dGVyL2lzc3Vlcy8zKVxufVxuXG5FLnByb3RvdHlwZSA9IHtcblx0b246IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgY3R4KSB7XG4gICAgdmFyIGUgPSB0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KTtcblxuICAgIChlW25hbWVdIHx8IChlW25hbWVdID0gW10pKS5wdXNoKHtcbiAgICAgIGZuOiBjYWxsYmFjayxcbiAgICAgIGN0eDogY3R4XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBvbmNlOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBmdW5jdGlvbiBsaXN0ZW5lciAoKSB7XG4gICAgICBzZWxmLm9mZihuYW1lLCBsaXN0ZW5lcik7XG4gICAgICBjYWxsYmFjay5hcHBseShjdHgsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIGxpc3RlbmVyLl8gPSBjYWxsYmFja1xuICAgIHJldHVybiB0aGlzLm9uKG5hbWUsIGxpc3RlbmVyLCBjdHgpO1xuICB9LFxuXG4gIGVtaXQ6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIGRhdGEgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgdmFyIGV2dEFyciA9ICgodGhpcy5lIHx8ICh0aGlzLmUgPSB7fSkpW25hbWVdIHx8IFtdKS5zbGljZSgpO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgbGVuID0gZXZ0QXJyLmxlbmd0aDtcblxuICAgIGZvciAoaTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBldnRBcnJbaV0uZm4uYXBwbHkoZXZ0QXJyW2ldLmN0eCwgZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgb2ZmOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgZSA9IHRoaXMuZSB8fCAodGhpcy5lID0ge30pO1xuICAgIHZhciBldnRzID0gZVtuYW1lXTtcbiAgICB2YXIgbGl2ZUV2ZW50cyA9IFtdO1xuXG4gICAgaWYgKGV2dHMgJiYgY2FsbGJhY2spIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBldnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChldnRzW2ldLmZuICE9PSBjYWxsYmFjayAmJiBldnRzW2ldLmZuLl8gIT09IGNhbGxiYWNrKVxuICAgICAgICAgIGxpdmVFdmVudHMucHVzaChldnRzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgZXZlbnQgZnJvbSBxdWV1ZSB0byBwcmV2ZW50IG1lbW9yeSBsZWFrXG4gICAgLy8gU3VnZ2VzdGVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9sYXpkXG4gICAgLy8gUmVmOiBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRjb3JnYW4vdGlueS1lbWl0dGVyL2NvbW1pdC9jNmViZmFhOWJjOTczYjMzZDExMGE4NGEzMDc3NDJiN2NmOTRjOTUzI2NvbW1pdGNvbW1lbnQtNTAyNDkxMFxuXG4gICAgKGxpdmVFdmVudHMubGVuZ3RoKVxuICAgICAgPyBlW25hbWVdID0gbGl2ZUV2ZW50c1xuICAgICAgOiBkZWxldGUgZVtuYW1lXTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEU7XG5cbn0se31dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFsnbW9kdWxlJywgJ3NlbGVjdCddLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGZhY3RvcnkobW9kdWxlLCByZXF1aXJlKCdzZWxlY3QnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG1vZCA9IHtcbiAgICAgICAgICAgIGV4cG9ydHM6IHt9XG4gICAgICAgIH07XG4gICAgICAgIGZhY3RvcnkobW9kLCBnbG9iYWwuc2VsZWN0KTtcbiAgICAgICAgZ2xvYmFsLmNsaXBib2FyZEFjdGlvbiA9IG1vZC5leHBvcnRzO1xuICAgIH1cbn0pKHRoaXMsIGZ1bmN0aW9uIChtb2R1bGUsIF9zZWxlY3QpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgX3NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3QpO1xuXG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IG9ialxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICAgICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgICAgICAgICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICAgICAgICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgICAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICAgICAgICB9O1xuICAgIH0oKTtcblxuICAgIHZhciBDbGlwYm9hcmRBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAgICAgKi9cblxuICAgICAgICBmdW5jdGlvbiBDbGlwYm9hcmRBY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaXBib2FyZEFjdGlvbik7XG5cbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmluaXRTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmVzIGJhc2UgcHJvcGVydGllcyBwYXNzZWQgZnJvbSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgICAgICovXG5cblxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLnJlc29sdmVPcHRpb25zID0gZnVuY3Rpb24gcmVzb2x2ZU9wdGlvbnMoKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG4gICAgICAgICAgICB0aGlzLmFjdGlvbiA9IG9wdGlvbnMuYWN0aW9uO1xuICAgICAgICAgICAgdGhpcy5lbWl0dGVyID0gb3B0aW9ucy5lbWl0dGVyO1xuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBvcHRpb25zLnRhcmdldDtcbiAgICAgICAgICAgIHRoaXMudGV4dCA9IG9wdGlvbnMudGV4dDtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlciA9IG9wdGlvbnMudHJpZ2dlcjtcblxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAnJztcbiAgICAgICAgfTtcblxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLmluaXRTZWxlY3Rpb24gPSBmdW5jdGlvbiBpbml0U2VsZWN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGV4dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RmFrZSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhcmdldCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0VGFyZ2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5zZWxlY3RGYWtlID0gZnVuY3Rpb24gc2VsZWN0RmFrZSgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBpc1JUTCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RpcicpID09ICdydGwnO1xuXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZha2UoKTtcblxuICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5yZW1vdmVGYWtlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlciA9IGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spIHx8IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgICAgICAgICAgLy8gUHJldmVudCB6b29taW5nIG9uIGlPU1xuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5mb250U2l6ZSA9ICcxMnB0JztcbiAgICAgICAgICAgIC8vIFJlc2V0IGJveCBtb2RlbFxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5ib3JkZXIgPSAnMCc7XG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnBhZGRpbmcgPSAnMCc7XG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLm1hcmdpbiA9ICcwJztcbiAgICAgICAgICAgIC8vIE1vdmUgZWxlbWVudCBvdXQgb2Ygc2NyZWVuIGhvcml6b250YWxseVxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlW2lzUlRMID8gJ3JpZ2h0JyA6ICdsZWZ0J10gPSAnLTk5OTlweCc7XG4gICAgICAgICAgICAvLyBNb3ZlIGVsZW1lbnQgdG8gdGhlIHNhbWUgcG9zaXRpb24gdmVydGljYWxseVxuICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS50b3AgPSAod2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApICsgJ3B4JztcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc2V0QXR0cmlidXRlKCdyZWFkb25seScsICcnKTtcbiAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0udmFsdWUgPSB0aGlzLnRleHQ7XG5cbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5mYWtlRWxlbSk7XG5cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gKDAsIF9zZWxlY3QyLmRlZmF1bHQpKHRoaXMuZmFrZUVsZW0pO1xuICAgICAgICAgICAgdGhpcy5jb3B5VGV4dCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUucmVtb3ZlRmFrZSA9IGZ1bmN0aW9uIHJlbW92ZUZha2UoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5mYWtlSGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmZha2VFbGVtKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmZha2VFbGVtKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLnNlbGVjdFRhcmdldCA9IGZ1bmN0aW9uIHNlbGVjdFRhcmdldCgpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gKDAsIF9zZWxlY3QyLmRlZmF1bHQpKHRoaXMudGFyZ2V0KTtcbiAgICAgICAgICAgIHRoaXMuY29weVRleHQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBDbGlwYm9hcmRBY3Rpb24ucHJvdG90eXBlLmNvcHlUZXh0ID0gZnVuY3Rpb24gY29weVRleHQoKSB7XG4gICAgICAgICAgICB2YXIgc3VjY2VlZGVkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN1Y2NlZWRlZCA9IGRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuYWN0aW9uKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHN1Y2NlZWRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVJlc3VsdChzdWNjZWVkZWQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIENsaXBib2FyZEFjdGlvbi5wcm90b3R5cGUuaGFuZGxlUmVzdWx0ID0gZnVuY3Rpb24gaGFuZGxlUmVzdWx0KHN1Y2NlZWRlZCkge1xuICAgICAgICAgICAgaWYgKHN1Y2NlZWRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdHRlci5lbWl0KCdzdWNjZXNzJywge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnNlbGVjdGVkVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogdGhpcy50cmlnZ2VyLFxuICAgICAgICAgICAgICAgICAgICBjbGVhclNlbGVjdGlvbjogdGhpcy5jbGVhclNlbGVjdGlvbi5iaW5kKHRoaXMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdHRlci5lbWl0KCdlcnJvcicsIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogdGhpcy50cmlnZ2VyLFxuICAgICAgICAgICAgICAgICAgICBjbGVhclNlbGVjdGlvbjogdGhpcy5jbGVhclNlbGVjdGlvbi5iaW5kKHRoaXMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5jbGVhclNlbGVjdGlvbiA9IGZ1bmN0aW9uIGNsZWFyU2VsZWN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQuYmx1cigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgQ2xpcGJvYXJkQWN0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRmFrZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhDbGlwYm9hcmRBY3Rpb24sIFt7XG4gICAgICAgICAgICBrZXk6ICdhY3Rpb24nLFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/ICdjb3B5JyA6IGFyZ3VtZW50c1swXTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGlvbiA9IGFjdGlvbjtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hY3Rpb24gIT09ICdjb3B5JyAmJiB0aGlzLl9hY3Rpb24gIT09ICdjdXQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcImFjdGlvblwiIHZhbHVlLCB1c2UgZWl0aGVyIFwiY29weVwiIG9yIFwiY3V0XCInKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAndGFyZ2V0JyxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICYmICh0eXBlb2YgdGFyZ2V0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih0YXJnZXQpKSA9PT0gJ29iamVjdCcgJiYgdGFyZ2V0Lm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT09ICdjb3B5JyAmJiB0YXJnZXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgYXR0cmlidXRlLiBQbGVhc2UgdXNlIFwicmVhZG9ubHlcIiBpbnN0ZWFkIG9mIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aW9uID09PSAnY3V0JyAmJiAodGFyZ2V0Lmhhc0F0dHJpYnV0ZSgncmVhZG9ubHknKSB8fCB0YXJnZXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcInRhcmdldFwiIGF0dHJpYnV0ZS4gWW91IGNhblxcJ3QgY3V0IHRleHQgZnJvbSBlbGVtZW50cyB3aXRoIFwicmVhZG9ubHlcIiBvciBcImRpc2FibGVkXCIgYXR0cmlidXRlcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiB2YWx1ZSwgdXNlIGEgdmFsaWQgRWxlbWVudCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90YXJnZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gQ2xpcGJvYXJkQWN0aW9uO1xuICAgIH0oKTtcblxuICAgIG1vZHVsZS5leHBvcnRzID0gQ2xpcGJvYXJkQWN0aW9uO1xufSk7XG5cbn0se1wic2VsZWN0XCI6Nn1dLDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFsnbW9kdWxlJywgJy4vY2xpcGJvYXJkLWFjdGlvbicsICd0aW55LWVtaXR0ZXInLCAnZ29vZC1saXN0ZW5lciddLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGZhY3RvcnkobW9kdWxlLCByZXF1aXJlKCcuL2NsaXBib2FyZC1hY3Rpb24nKSwgcmVxdWlyZSgndGlueS1lbWl0dGVyJyksIHJlcXVpcmUoJ2dvb2QtbGlzdGVuZXInKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG1vZCA9IHtcbiAgICAgICAgICAgIGV4cG9ydHM6IHt9XG4gICAgICAgIH07XG4gICAgICAgIGZhY3RvcnkobW9kLCBnbG9iYWwuY2xpcGJvYXJkQWN0aW9uLCBnbG9iYWwudGlueUVtaXR0ZXIsIGdsb2JhbC5nb29kTGlzdGVuZXIpO1xuICAgICAgICBnbG9iYWwuY2xpcGJvYXJkID0gbW9kLmV4cG9ydHM7XG4gICAgfVxufSkodGhpcywgZnVuY3Rpb24gKG1vZHVsZSwgX2NsaXBib2FyZEFjdGlvbiwgX3RpbnlFbWl0dGVyLCBfZ29vZExpc3RlbmVyKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIF9jbGlwYm9hcmRBY3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xpcGJvYXJkQWN0aW9uKTtcblxuICAgIHZhciBfdGlueUVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGlueUVtaXR0ZXIpO1xuXG4gICAgdmFyIF9nb29kTGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ29vZExpc3RlbmVyKTtcblxuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XG4gICAgICAgICAgICBkZWZhdWx0OiBvYmpcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICAgICAgICBpZiAoIXNlbGYpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgICAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgICAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gICAgfVxuXG4gICAgdmFyIENsaXBib2FyZCA9IGZ1bmN0aW9uIChfRW1pdHRlcikge1xuICAgICAgICBfaW5oZXJpdHMoQ2xpcGJvYXJkLCBfRW1pdHRlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfEhUTUxFbGVtZW50fEhUTUxDb2xsZWN0aW9ufE5vZGVMaXN0fSB0cmlnZ2VyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICAgICAqL1xuXG4gICAgICAgIGZ1bmN0aW9uIENsaXBib2FyZCh0cmlnZ2VyLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xpcGJvYXJkKTtcblxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0VtaXR0ZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgICAgIF90aGlzLnJlc29sdmVPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICAgICAgX3RoaXMubGlzdGVuQ2xpY2sodHJpZ2dlcik7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmaW5lcyBpZiBhdHRyaWJ1dGVzIHdvdWxkIGJlIHJlc29sdmVkIHVzaW5nIGludGVybmFsIHNldHRlciBmdW5jdGlvbnNcbiAgICAgICAgICogb3IgY3VzdG9tIGZ1bmN0aW9ucyB0aGF0IHdlcmUgcGFzc2VkIGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgICAgICovXG5cblxuICAgICAgICBDbGlwYm9hcmQucHJvdG90eXBlLnJlc29sdmVPcHRpb25zID0gZnVuY3Rpb24gcmVzb2x2ZU9wdGlvbnMoKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG4gICAgICAgICAgICB0aGlzLmFjdGlvbiA9IHR5cGVvZiBvcHRpb25zLmFjdGlvbiA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMuYWN0aW9uIDogdGhpcy5kZWZhdWx0QWN0aW9uO1xuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSB0eXBlb2Ygb3B0aW9ucy50YXJnZXQgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLnRhcmdldCA6IHRoaXMuZGVmYXVsdFRhcmdldDtcbiAgICAgICAgICAgIHRoaXMudGV4dCA9IHR5cGVvZiBvcHRpb25zLnRleHQgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLnRleHQgOiB0aGlzLmRlZmF1bHRUZXh0O1xuICAgICAgICB9O1xuXG4gICAgICAgIENsaXBib2FyZC5wcm90b3R5cGUubGlzdGVuQ2xpY2sgPSBmdW5jdGlvbiBsaXN0ZW5DbGljayh0cmlnZ2VyKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lciA9ICgwLCBfZ29vZExpc3RlbmVyMi5kZWZhdWx0KSh0cmlnZ2VyLCAnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25DbGljayhlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIENsaXBib2FyZC5wcm90b3R5cGUub25DbGljayA9IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgICAgICAgdmFyIHRyaWdnZXIgPSBlLmRlbGVnYXRlVGFyZ2V0IHx8IGUuY3VycmVudFRhcmdldDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY2xpcGJvYXJkQWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG5ldyBfY2xpcGJvYXJkQWN0aW9uMi5kZWZhdWx0KHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uKHRyaWdnZXIpLFxuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy50YXJnZXQodHJpZ2dlciksXG4gICAgICAgICAgICAgICAgdGV4dDogdGhpcy50ZXh0KHRyaWdnZXIpLFxuICAgICAgICAgICAgICAgIHRyaWdnZXI6IHRyaWdnZXIsXG4gICAgICAgICAgICAgICAgZW1pdHRlcjogdGhpc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5kZWZhdWx0QWN0aW9uID0gZnVuY3Rpb24gZGVmYXVsdEFjdGlvbih0cmlnZ2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0QXR0cmlidXRlVmFsdWUoJ2FjdGlvbicsIHRyaWdnZXIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIENsaXBib2FyZC5wcm90b3R5cGUuZGVmYXVsdFRhcmdldCA9IGZ1bmN0aW9uIGRlZmF1bHRUYXJnZXQodHJpZ2dlcikge1xuICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gZ2V0QXR0cmlidXRlVmFsdWUoJ3RhcmdldCcsIHRyaWdnZXIpO1xuXG4gICAgICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgQ2xpcGJvYXJkLnByb3RvdHlwZS5kZWZhdWx0VGV4dCA9IGZ1bmN0aW9uIGRlZmF1bHRUZXh0KHRyaWdnZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRBdHRyaWJ1dGVWYWx1ZSgndGV4dCcsIHRyaWdnZXIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIENsaXBib2FyZC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY2xpcGJvYXJkQWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gQ2xpcGJvYXJkO1xuICAgIH0oX3RpbnlFbWl0dGVyMi5kZWZhdWx0KTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0byByZXRyaWV2ZSBhdHRyaWJ1dGUgdmFsdWUuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN1ZmZpeFxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEF0dHJpYnV0ZVZhbHVlKHN1ZmZpeCwgZWxlbWVudCkge1xuICAgICAgICB2YXIgYXR0cmlidXRlID0gJ2RhdGEtY2xpcGJvYXJkLScgKyBzdWZmaXg7XG5cbiAgICAgICAgaWYgKCFlbGVtZW50Lmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICB9XG5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IENsaXBib2FyZDtcbn0pO1xuXG59LHtcIi4vY2xpcGJvYXJkLWFjdGlvblwiOjgsXCJnb29kLWxpc3RlbmVyXCI6NCxcInRpbnktZW1pdHRlclwiOjd9XX0se30sWzldKSg5KVxufSk7IiwiKCBmdW5jdGlvbiggd2luZG93LCB1bmRlZmluZWQgKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHQvKipcblx0ICogSGFuZGxlcyBtYW5hZ2luZyBhbGwgZXZlbnRzIGZvciB3aGF0ZXZlciB5b3UgcGx1ZyBpdCBpbnRvLiBQcmlvcml0aWVzIGZvciBob29rcyBhcmUgYmFzZWQgb24gbG93ZXN0IHRvIGhpZ2hlc3QgaW5cblx0ICogdGhhdCwgbG93ZXN0IHByaW9yaXR5IGhvb2tzIGFyZSBmaXJlZCBmaXJzdC5cblx0ICovXG5cdHZhciBFdmVudE1hbmFnZXIgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogTWFpbnRhaW4gYSByZWZlcmVuY2UgdG8gdGhlIG9iamVjdCBzY29wZSBzbyBvdXIgcHVibGljIG1ldGhvZHMgbmV2ZXIgZ2V0IGNvbmZ1c2luZy5cblx0XHQgKi9cblx0XHR2YXIgTWV0aG9kc0F2YWlsYWJsZSA9IHtcblx0XHRcdHJlbW92ZUZpbHRlciA6IHJlbW92ZUZpbHRlcixcblx0XHRcdGFwcGx5RmlsdGVycyA6IGFwcGx5RmlsdGVycyxcblx0XHRcdGFkZEZpbHRlciA6IGFkZEZpbHRlcixcblx0XHRcdHJlbW92ZUFjdGlvbiA6IHJlbW92ZUFjdGlvbixcblx0XHRcdGRvQWN0aW9uIDogZG9BY3Rpb24sXG5cdFx0XHRhZGRBY3Rpb24gOiBhZGRBY3Rpb25cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQ29udGFpbnMgdGhlIGhvb2tzIHRoYXQgZ2V0IHJlZ2lzdGVyZWQgd2l0aCB0aGlzIEV2ZW50TWFuYWdlci4gVGhlIGFycmF5IGZvciBzdG9yYWdlIHV0aWxpemVzIGEgXCJmbGF0XCJcblx0XHQgKiBvYmplY3QgbGl0ZXJhbCBzdWNoIHRoYXQgbG9va2luZyB1cCB0aGUgaG9vayB1dGlsaXplcyB0aGUgbmF0aXZlIG9iamVjdCBsaXRlcmFsIGhhc2guXG5cdFx0ICovXG5cdFx0dmFyIFNUT1JBR0UgPSB7XG5cdFx0XHRhY3Rpb25zIDoge30sXG5cdFx0XHRmaWx0ZXJzIDoge31cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQWRkcyBhbiBhY3Rpb24gdG8gdGhlIGV2ZW50IG1hbmFnZXIuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gYWN0aW9uIE11c3QgY29udGFpbiBuYW1lc3BhY2UuaWRlbnRpZmllclxuXHRcdCAqIEBwYXJhbSBjYWxsYmFjayBNdXN0IGJlIGEgdmFsaWQgY2FsbGJhY2sgZnVuY3Rpb24gYmVmb3JlIHRoaXMgYWN0aW9uIGlzIGFkZGVkXG5cdFx0ICogQHBhcmFtIFtwcmlvcml0eT0xMF0gVXNlZCB0byBjb250cm9sIHdoZW4gdGhlIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIGluIHJlbGF0aW9uIHRvIG90aGVyIGNhbGxiYWNrcyBib3VuZCB0byB0aGUgc2FtZSBob29rXG5cdFx0ICogQHBhcmFtIFtjb250ZXh0XSBTdXBwbHkgYSB2YWx1ZSB0byBiZSB1c2VkIGZvciB0aGlzXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gYWRkQWN0aW9uKCBhY3Rpb24sIGNhbGxiYWNrLCBwcmlvcml0eSwgY29udGV4dCApIHtcblx0XHRcdGlmKCB0eXBlb2YgYWN0aW9uID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicgKSB7XG5cdFx0XHRcdHByaW9yaXR5ID0gcGFyc2VJbnQoICggcHJpb3JpdHkgfHwgMTAgKSwgMTAgKTtcblx0XHRcdFx0X2FkZEhvb2soICdhY3Rpb25zJywgYWN0aW9uLCBjYWxsYmFjaywgcHJpb3JpdHksIGNvbnRleHQgKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUGVyZm9ybXMgYW4gYWN0aW9uIGlmIGl0IGV4aXN0cy4gWW91IGNhbiBwYXNzIGFzIG1hbnkgYXJndW1lbnRzIGFzIHlvdSB3YW50IHRvIHRoaXMgZnVuY3Rpb247IHRoZSBvbmx5IHJ1bGUgaXNcblx0XHQgKiB0aGF0IHRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGFsd2F5cyBiZSB0aGUgYWN0aW9uLlxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIGRvQWN0aW9uKCAvKiBhY3Rpb24sIGFyZzEsIGFyZzIsIC4uLiAqLyApIHtcblx0XHRcdHZhciBhcmdzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICk7XG5cdFx0XHR2YXIgYWN0aW9uID0gYXJncy5zaGlmdCgpO1xuXG5cdFx0XHRpZiggdHlwZW9mIGFjdGlvbiA9PT0gJ3N0cmluZycgKSB7XG5cdFx0XHRcdF9ydW5Ib29rKCAnYWN0aW9ucycsIGFjdGlvbiwgYXJncyApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgYWN0aW9uIGlmIGl0IGNvbnRhaW5zIGEgbmFtZXNwYWNlLmlkZW50aWZpZXIgJiBleGlzdHMuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gYWN0aW9uIFRoZSBhY3Rpb24gdG8gcmVtb3ZlXG5cdFx0ICogQHBhcmFtIFtjYWxsYmFja10gQ2FsbGJhY2sgZnVuY3Rpb24gdG8gcmVtb3ZlXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlQWN0aW9uKCBhY3Rpb24sIGNhbGxiYWNrICkge1xuXHRcdFx0aWYoIHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnICkge1xuXHRcdFx0XHRfcmVtb3ZlSG9vayggJ2FjdGlvbnMnLCBhY3Rpb24sIGNhbGxiYWNrICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBNZXRob2RzQXZhaWxhYmxlO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEFkZHMgYSBmaWx0ZXIgdG8gdGhlIGV2ZW50IG1hbmFnZXIuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gZmlsdGVyIE11c3QgY29udGFpbiBuYW1lc3BhY2UuaWRlbnRpZmllclxuXHRcdCAqIEBwYXJhbSBjYWxsYmFjayBNdXN0IGJlIGEgdmFsaWQgY2FsbGJhY2sgZnVuY3Rpb24gYmVmb3JlIHRoaXMgYWN0aW9uIGlzIGFkZGVkXG5cdFx0ICogQHBhcmFtIFtwcmlvcml0eT0xMF0gVXNlZCB0byBjb250cm9sIHdoZW4gdGhlIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIGluIHJlbGF0aW9uIHRvIG90aGVyIGNhbGxiYWNrcyBib3VuZCB0byB0aGUgc2FtZSBob29rXG5cdFx0ICogQHBhcmFtIFtjb250ZXh0XSBTdXBwbHkgYSB2YWx1ZSB0byBiZSB1c2VkIGZvciB0aGlzXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gYWRkRmlsdGVyKCBmaWx0ZXIsIGNhbGxiYWNrLCBwcmlvcml0eSwgY29udGV4dCApIHtcblx0XHRcdGlmKCB0eXBlb2YgZmlsdGVyID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicgKSB7XG5cdFx0XHRcdHByaW9yaXR5ID0gcGFyc2VJbnQoICggcHJpb3JpdHkgfHwgMTAgKSwgMTAgKTtcblx0XHRcdFx0X2FkZEhvb2soICdmaWx0ZXJzJywgZmlsdGVyLCBjYWxsYmFjaywgcHJpb3JpdHksIGNvbnRleHQgKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUGVyZm9ybXMgYSBmaWx0ZXIgaWYgaXQgZXhpc3RzLiBZb3Ugc2hvdWxkIG9ubHkgZXZlciBwYXNzIDEgYXJndW1lbnQgdG8gYmUgZmlsdGVyZWQuIFRoZSBvbmx5IHJ1bGUgaXMgdGhhdFxuXHRcdCAqIHRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGFsd2F5cyBiZSB0aGUgZmlsdGVyLlxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIGFwcGx5RmlsdGVycyggLyogZmlsdGVyLCBmaWx0ZXJlZCBhcmcsIGFyZzIsIC4uLiAqLyApIHtcblx0XHRcdHZhciBhcmdzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICk7XG5cdFx0XHR2YXIgZmlsdGVyID0gYXJncy5zaGlmdCgpO1xuXG5cdFx0XHRpZiggdHlwZW9mIGZpbHRlciA9PT0gJ3N0cmluZycgKSB7XG5cdFx0XHRcdHJldHVybiBfcnVuSG9vayggJ2ZpbHRlcnMnLCBmaWx0ZXIsIGFyZ3MgKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIE1ldGhvZHNBdmFpbGFibGU7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmVtb3ZlcyB0aGUgc3BlY2lmaWVkIGZpbHRlciBpZiBpdCBjb250YWlucyBhIG5hbWVzcGFjZS5pZGVudGlmaWVyICYgZXhpc3RzLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIGZpbHRlciBUaGUgYWN0aW9uIHRvIHJlbW92ZVxuXHRcdCAqIEBwYXJhbSBbY2FsbGJhY2tdIENhbGxiYWNrIGZ1bmN0aW9uIHRvIHJlbW92ZVxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIHJlbW92ZUZpbHRlciggZmlsdGVyLCBjYWxsYmFjayApIHtcblx0XHRcdGlmKCB0eXBlb2YgZmlsdGVyID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRfcmVtb3ZlSG9vayggJ2ZpbHRlcnMnLCBmaWx0ZXIsIGNhbGxiYWNrICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBNZXRob2RzQXZhaWxhYmxlO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBob29rIGJ5IHJlc2V0dGluZyB0aGUgdmFsdWUgb2YgaXQuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gdHlwZSBUeXBlIG9mIGhvb2ssIGVpdGhlciAnYWN0aW9ucycgb3IgJ2ZpbHRlcnMnXG5cdFx0ICogQHBhcmFtIGhvb2sgVGhlIGhvb2sgKG5hbWVzcGFjZS5pZGVudGlmaWVyKSB0byByZW1vdmVcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIF9yZW1vdmVIb29rKCB0eXBlLCBob29rLCBjYWxsYmFjaywgY29udGV4dCApIHtcblx0XHRcdHZhciBoYW5kbGVycywgaGFuZGxlciwgaTtcblx0XHRcdFxuXHRcdFx0aWYgKCAhU1RPUkFHRVsgdHlwZSBdWyBob29rIF0gKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmICggIWNhbGxiYWNrICkge1xuXHRcdFx0XHRTVE9SQUdFWyB0eXBlIF1bIGhvb2sgXSA9IFtdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGFuZGxlcnMgPSBTVE9SQUdFWyB0eXBlIF1bIGhvb2sgXTtcblx0XHRcdFx0aWYgKCAhY29udGV4dCApIHtcblx0XHRcdFx0XHRmb3IgKCBpID0gaGFuZGxlcnMubGVuZ3RoOyBpLS07ICkge1xuXHRcdFx0XHRcdFx0aWYgKCBoYW5kbGVyc1tpXS5jYWxsYmFjayA9PT0gY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaSwgMSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRmb3IgKCBpID0gaGFuZGxlcnMubGVuZ3RoOyBpLS07ICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlciA9IGhhbmRsZXJzW2ldO1xuXHRcdFx0XHRcdFx0aWYgKCBoYW5kbGVyLmNhbGxiYWNrID09PSBjYWxsYmFjayAmJiBoYW5kbGVyLmNvbnRleHQgPT09IGNvbnRleHQpIHtcblx0XHRcdFx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBpLCAxICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQWRkcyB0aGUgaG9vayB0byB0aGUgYXBwcm9wcmlhdGUgc3RvcmFnZSBjb250YWluZXJcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB0eXBlICdhY3Rpb25zJyBvciAnZmlsdGVycydcblx0XHQgKiBAcGFyYW0gaG9vayBUaGUgaG9vayAobmFtZXNwYWNlLmlkZW50aWZpZXIpIHRvIGFkZCB0byBvdXIgZXZlbnQgbWFuYWdlclxuXHRcdCAqIEBwYXJhbSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBob29rIGlzIGV4ZWN1dGVkLlxuXHRcdCAqIEBwYXJhbSBwcmlvcml0eSBUaGUgcHJpb3JpdHkgb2YgdGhpcyBob29rLiBNdXN0IGJlIGFuIGludGVnZXIuXG5cdFx0ICogQHBhcmFtIFtjb250ZXh0XSBBIHZhbHVlIHRvIGJlIHVzZWQgZm9yIHRoaXNcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIF9hZGRIb29rKCB0eXBlLCBob29rLCBjYWxsYmFjaywgcHJpb3JpdHksIGNvbnRleHQgKSB7XG5cdFx0XHR2YXIgaG9va09iamVjdCA9IHtcblx0XHRcdFx0Y2FsbGJhY2sgOiBjYWxsYmFjayxcblx0XHRcdFx0cHJpb3JpdHkgOiBwcmlvcml0eSxcblx0XHRcdFx0Y29udGV4dCA6IGNvbnRleHRcblx0XHRcdH07XG5cblx0XHRcdC8vIFV0aWxpemUgJ3Byb3AgaXRzZWxmJyA6IGh0dHA6Ly9qc3BlcmYuY29tL2hhc293bnByb3BlcnR5LXZzLWluLXZzLXVuZGVmaW5lZC8xOVxuXHRcdFx0dmFyIGhvb2tzID0gU1RPUkFHRVsgdHlwZSBdWyBob29rIF07XG5cdFx0XHRpZiggaG9va3MgKSB7XG5cdFx0XHRcdGhvb2tzLnB1c2goIGhvb2tPYmplY3QgKTtcblx0XHRcdFx0aG9va3MgPSBfaG9va0luc2VydFNvcnQoIGhvb2tzICk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0aG9va3MgPSBbIGhvb2tPYmplY3QgXTtcblx0XHRcdH1cblxuXHRcdFx0U1RPUkFHRVsgdHlwZSBdWyBob29rIF0gPSBob29rcztcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBVc2UgYW4gaW5zZXJ0IHNvcnQgZm9yIGtlZXBpbmcgb3VyIGhvb2tzIG9yZ2FuaXplZCBiYXNlZCBvbiBwcmlvcml0eS4gVGhpcyBmdW5jdGlvbiBpcyByaWRpY3Vsb3VzbHkgZmFzdGVyXG5cdFx0ICogdGhhbiBidWJibGUgc29ydCwgZXRjOiBodHRwOi8vanNwZXJmLmNvbS9qYXZhc2NyaXB0LXNvcnRcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBob29rcyBUaGUgY3VzdG9tIGFycmF5IGNvbnRhaW5pbmcgYWxsIG9mIHRoZSBhcHByb3ByaWF0ZSBob29rcyB0byBwZXJmb3JtIGFuIGluc2VydCBzb3J0IG9uLlxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gX2hvb2tJbnNlcnRTb3J0KCBob29rcyApIHtcblx0XHRcdHZhciB0bXBIb29rLCBqLCBwcmV2SG9vaztcblx0XHRcdGZvciggdmFyIGkgPSAxLCBsZW4gPSBob29rcy5sZW5ndGg7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0dG1wSG9vayA9IGhvb2tzWyBpIF07XG5cdFx0XHRcdGogPSBpO1xuXHRcdFx0XHR3aGlsZSggKCBwcmV2SG9vayA9IGhvb2tzWyBqIC0gMSBdICkgJiYgIHByZXZIb29rLnByaW9yaXR5ID4gdG1wSG9vay5wcmlvcml0eSApIHtcblx0XHRcdFx0XHRob29rc1sgaiBdID0gaG9va3NbIGogLSAxIF07XG5cdFx0XHRcdFx0LS1qO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGhvb2tzWyBqIF0gPSB0bXBIb29rO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gaG9va3M7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUnVucyB0aGUgc3BlY2lmaWVkIGhvb2suIElmIGl0IGlzIGFuIGFjdGlvbiwgdGhlIHZhbHVlIGlzIG5vdCBtb2RpZmllZCBidXQgaWYgaXQgaXMgYSBmaWx0ZXIsIGl0IGlzLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHR5cGUgJ2FjdGlvbnMnIG9yICdmaWx0ZXJzJ1xuXHRcdCAqIEBwYXJhbSBob29rIFRoZSBob29rICggbmFtZXNwYWNlLmlkZW50aWZpZXIgKSB0byBiZSByYW4uXG5cdFx0ICogQHBhcmFtIGFyZ3MgQXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIGFjdGlvbi9maWx0ZXIuIElmIGl0J3MgYSBmaWx0ZXIsIGFyZ3MgaXMgYWN0dWFsbHkgYSBzaW5nbGUgcGFyYW1ldGVyLlxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gX3J1bkhvb2soIHR5cGUsIGhvb2ssIGFyZ3MgKSB7XG5cdFx0XHR2YXIgaGFuZGxlcnMgPSBTVE9SQUdFWyB0eXBlIF1bIGhvb2sgXSwgaSwgbGVuO1xuXHRcdFx0XG5cdFx0XHRpZiAoICFoYW5kbGVycyApIHtcblx0XHRcdFx0cmV0dXJuICh0eXBlID09PSAnZmlsdGVycycpID8gYXJnc1swXSA6IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRsZW4gPSBoYW5kbGVycy5sZW5ndGg7XG5cdFx0XHRpZiAoIHR5cGUgPT09ICdmaWx0ZXJzJyApIHtcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0XHRhcmdzWyAwIF0gPSBoYW5kbGVyc1sgaSBdLmNhbGxiYWNrLmFwcGx5KCBoYW5kbGVyc1sgaSBdLmNvbnRleHQsIGFyZ3MgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0XHRoYW5kbGVyc1sgaSBdLmNhbGxiYWNrLmFwcGx5KCBoYW5kbGVyc1sgaSBdLmNvbnRleHQsIGFyZ3MgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gKCB0eXBlID09PSAnZmlsdGVycycgKSA/IGFyZ3NbIDAgXSA6IHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gcmV0dXJuIGFsbCBvZiB0aGUgcHVibGljbHkgYXZhaWxhYmxlIG1ldGhvZHNcblx0XHRyZXR1cm4gTWV0aG9kc0F2YWlsYWJsZTtcblxuXHR9O1xuXHRcblx0d2luZG93LndwID0gd2luZG93LndwIHx8IHt9O1xuXHR3aW5kb3cud3AuaG9va3MgPSBuZXcgRXZlbnRNYW5hZ2VyKCk7XG5cbn0gKSggd2luZG93ICk7XG4iLCIoZnVuY3Rpb24oJCkge1xuXG5cdCQoJy5jaG9zZW4tc2VsZWN0JykuY2hvc2VuKHtcblx0XHR3aWR0aDogJzEwMCUnXG5cdH0pO1xuXG5cdC8vIENvcHkgbWVyZ2UgdGFnXG5cblx0dmFyIG1lcmdlX3RhZ19jbGlwYm9hcmQgPSBuZXcgQ2xpcGJvYXJkKCcjbm90aWZpY2F0aW9uX21lcmdlX3RhZ3MgLmluc2lkZSB1bCBsaSBjb2RlJyk7XG5cblx0bWVyZ2VfdGFnX2NsaXBib2FyZC5vbignc3VjY2VzcycsIGZ1bmN0aW9uKGUpIHtcblxuXHQgICAgdmFyICRjb2RlID0gJChlLnRyaWdnZXIpLFxuXHRcdCAgICB0YWcgICA9ICRjb2RlLnRleHQoKTtcblxuXHRcdCRjb2RlLnRleHQoIG5vdGlmaWNhdGlvbi5jb3BpZWQgKTtcblxuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHQkY29kZS50ZXh0KCB0YWcgKTtcblx0XHR9LCA4MDApO1xuXG5cdH0pO1xuXG5cdC8vIEdldCBmcmVzaCBtZXJnZSB0YWdzIGZvciBzZWxlY3RlZCB0cmlnZ2VyXG5cblx0JCgnI25vdGlmaWNhdGlvbl90cmlnZ2VyX3NlbGVjdCcpLmNob3NlbigpLmNoYW5nZShmdW5jdGlvbigpIHtcblxuXHRcdHZhciAkc2VsZWN0ICAgID0gJCh0aGlzKSxcblx0XHRcdCRjb250YWluZXIgPSAkKCcjbm90aWZpY2F0aW9uX21lcmdlX3RhZ3MgLmluc2lkZScpLFxuXHRcdFx0JG1ldGFib3ggICA9ICQoJyNub3RpZmljYXRpb25fbWVyZ2VfdGFncycpO1xuXG5cdFx0JG1ldGFib3guZmFkZVRvKDIwMCwgMC41KTtcblxuXHRcdHZhciBkYXRhID0ge1xuXHRcdFx0J2FjdGlvbic6ICdub3RpZmljYXRpb25fZ2V0X21lcmdlX3RhZ3MnLFxuXHRcdFx0J3RyaWdnZXInOiAkc2VsZWN0LnZhbCgpXG5cdFx0fTtcblxuXHQgICAgJC5wb3N0KGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0ICAgIFx0aWYgKCByZXNwb25zZS5zdWNjZXNzID09IGZhbHNlICkge1xuXHQgICAgXHRcdCRjb250YWluZXIuaHRtbCggJzxwPicgKyByZXNwb25zZS5kYXRhICsgJzwvcD4nICk7XG5cdCAgICBcdFx0dmFyIHRhZ3MgPSB7fTtcblx0ICAgIFx0fSBlbHNlIHtcblxuXHRcdFx0XHR1bCA9ICQoXCI8dWw+XCIpO1xuXG5cdFx0XHRcdHZhciB0YWdzID0gcmVzcG9uc2UuZGF0YTtcblxuXHRcdFx0XHQkLmVhY2godGFncywgZnVuY3Rpb24oIG4sIHRhZyApIHtcblx0XHRcdFx0XHR1bC5hcHBlbmQoJzxsaT48Y29kZSBkYXRhLWNsaXBib2FyZC10ZXh0PVwieycgKyB0YWcgKyAnfVwiPnsnICsgdGFnICsgJ308L2NvZGU+PC9saT4nKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0JGNvbnRhaW5lci5odG1sKHVsKTtcblxuXHQgICAgXHR9XG5cblx0ICAgIFx0d3AuaG9va3MuZG9BY3Rpb24oICdub3RpZmljYXRpb24uY2hhbmdlZF90cmlnZ2VyJywgJHNlbGVjdC52YWwoKSwgdGFncyApO1xuXG5cdCAgICBcdCRtZXRhYm94LmZhZGVUbygyMDAsIDEpO1xuXG5cdFx0fSk7XG5cblx0fSk7XG5cblx0Ly8gVXBkYXRlIHJlY2lwaWVudCByb3dzOiBudW1iZXIgYW5kIHJlbW92ZSBidXR0b25cblxuXHR2YXIgdXBkYXRlX3JlY2lwaWVudHMgPSBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBpID0gMDtcblxuXHRcdGlmICggJCgnI25vdGlmaWNhdGlvbl9yZWNpcGllbnRzIC5yZWNpcGllbnQnKS5sZW5ndGggPT0gMSApIHtcblx0XHRcdHZhciBkaXNhYmxlID0gdHJ1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGRpc2FibGUgPSBmYWxzZTtcblx0XHR9XG5cblx0XHQkKCcjbm90aWZpY2F0aW9uX3JlY2lwaWVudHMgLnJlY2lwaWVudCcpLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgJHJvdyAgICAgICAgICAgPSAkKHRoaXMpLFxuXHRcdFx0XHQkcmVtb3ZlX2J1dHRvbiA9ICRyb3cuZmluZCgnLmFjdGlvbnMgLmRhc2hpY29ucy10cmFzaCcpLFxuXHRcdFx0XHQkaW5wdXRzICAgICAgICA9ICRyb3cuZmluZCgnaW5wdXQsIHNlbGVjdCcpO1xuXG5cdFx0XHRpZiAoIGRpc2FibGUgKSB7XG5cdFx0XHRcdCRyZW1vdmVfYnV0dG9uLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JHJlbW92ZV9idXR0b24ucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0XHR9XG5cblx0XHRcdCRpbnB1dHMuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyICRpbnB1dCAgICA9ICQodGhpcyksXG5cdFx0XHRcdFx0cGFydF9uYW1lID0gJGlucHV0LmF0dHIoJ25hbWUnKTtcblxuXHRcdFx0XHQkaW5wdXQuYXR0ciggJ25hbWUnLCBwYXJ0X25hbWUucmVwbGFjZSggL25vdGlmaWNhdGlvbl9yZWNpcGllbnRcXFtbMC05XStcXF0vLCAnbm90aWZpY2F0aW9uX3JlY2lwaWVudFsnK2krJ10nICkgKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0XHRpKys7XG5cblx0XHR9ICk7XG5cblx0fVxuXG5cdC8vIEFkZCByZWNpcGllbnRcblxuXHQkKCcjbm90aWZpY2F0aW9uX3JlY2lwaWVudHMnKS5vbiggJ2NsaWNrJywgJyNub3RpZmljYXRpb25fYWRkX3JlY2lwaWVudCcsIGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR2YXIgJGJ1dHRvbiAgICA9ICQodGhpcyksXG5cdFx0XHQkY29udGFpbmVyID0gJGJ1dHRvbi5wcmV2KCcucmVjaXBpZW50cycpO1xuXG5cdFx0JGNvbnRhaW5lci5mYWRlVG8oMjAwLCAwLjUpO1xuXG5cdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHQnYWN0aW9uJzogJ25vdGlmaWNhdGlvbl9hZGRfcmVjaXBpZW50J1xuXHRcdH07XG5cblx0ICAgICQucG9zdChhamF4dXJsLCBkYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdCAgICBcdGlmICggcmVzcG9uc2Uuc3VjY2VzcyA9PSBmYWxzZSApIHtcblx0ICAgIFx0XHRhbGVydCggcmVzcG9uc2UuZGF0YSApO1xuXHQgICAgXHR9IGVsc2Uge1xuXG5cdCAgICBcdFx0dmFyICRyb3cgPSAkKHJlc3BvbnNlLmRhdGEpO1xuXHRcdFx0XHQkY29udGFpbmVyLmFwcGVuZCgkcm93KTtcblxuXHQgICAgXHR9XG5cblx0ICAgIFx0JGNvbnRhaW5lci5mYWRlVG8oMjAwLCAxKTtcblxuXHQgICAgXHR1cGRhdGVfcmVjaXBpZW50cygpO1xuXG5cdFx0fSk7XG5cblx0fSk7XG5cblx0Ly8gUmVtb3ZlIHJlY2lwaWVudFxuXG5cdCQoJyNub3RpZmljYXRpb25fcmVjaXBpZW50cycpLm9uKCAnY2xpY2snLCAnLnJlY2lwaWVudCAuYWN0aW9ucyAuZGFzaGljb25zLXRyYXNoJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdHZhciAkYnV0dG9uICAgID0gJCh0aGlzKSxcblx0XHRcdCRjb250YWluZXIgPSAkYnV0dG9uLnBhcmVudHMoJy5yZWNpcGllbnQnKS5maXJzdCgpO1xuXG5cdFx0aWYgKCAkYnV0dG9uLmhhc0NsYXNzKCdkaXNhYmxlZCcpICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdCRjb250YWluZXIuYW5pbWF0ZSh7bGVmdDogJzUwcHgnLCBvcGFjaXR5OiAwfSwgNDAwLCAnbGluZWFyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICAgICAgdXBkYXRlX3JlY2lwaWVudHMoKTtcbiAgICAgICAgfSApO1xuXG5cdH0pO1xuXG5cdC8vIEdldCBpbnB1dCBmaWVsZCBmb3IgcmVjaXBpZW50XG5cblx0JCgnI25vdGlmaWNhdGlvbl9yZWNpcGllbnRzJykub24oICdjaGFuZ2UnLCAnLnJlY2lwaWVudCAuZ3JvdXAgc2VsZWN0JywgZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgJHNlbGVjdCAgICA9ICQodGhpcyksXG5cdFx0XHQkaW5wdXQgICAgID0gJHNlbGVjdC5wYXJlbnQoKS5uZXh0KCcudmFsdWUnKS5maW5kKCdpbnB1dCwgc2VsZWN0JykuZmlyc3QoKSxcblx0XHRcdCRjb250YWluZXIgPSAkaW5wdXQucGFyZW50KCk7XG5cblx0XHQkY29udGFpbmVyLmZhZGVUbygyMDAsIDAuNSk7XG5cblx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdCdhY3Rpb24nOiAnbm90aWZpY2F0aW9uX2dldF9yZWNpcGllbnRfaW5wdXQnLFxuXHRcdFx0J3JlY2lwaWVudF9uYW1lJzogJHNlbGVjdC52YWwoKVxuXHRcdH07XG5cblx0ICAgICQucG9zdChhamF4dXJsLCBkYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdCAgICBcdGlmICggcmVzcG9uc2Uuc3VjY2VzcyA9PSBmYWxzZSApIHtcblx0ICAgIFx0XHRhbGVydCggcmVzcG9uc2UuZGF0YSApO1xuXHQgICAgXHR9IGVsc2Uge1xuXG5cdCAgICBcdFx0dmFyICRpbnB1dCA9ICQocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdCRjb250YWluZXIuaHRtbCgkaW5wdXQpO1xuXG5cdFx0XHRcdGlmICggdHlwZW9mICRpbnB1dC5kYXRhKCd1cGRhdGUnKSAhPT0gJ3VuZGVmaW5lZCcgKSB7XG5cdFx0XHRcdFx0d3AuaG9va3MuZG9BY3Rpb24oICdub3RpZmljYXRpb24udXBkYXRlX2lucHV0JywgJGlucHV0LCAkaW5wdXQuZGF0YSgndmFsdWUnKSwgJGlucHV0LmRhdGEoJ3VwZGF0ZScpICk7XG5cdFx0XHRcdH1cblxuXHQgICAgXHR9XG5cblx0ICAgIFx0JGNvbnRhaW5lci5mYWRlVG8oMjAwLCAxKTtcblxuXHQgICAgXHR1cGRhdGVfcmVjaXBpZW50cygpO1xuXG5cdFx0fSk7XG5cblx0fSk7XG5cblx0Ly8gUHJvY2VzcyBhbGwgcmVjaXBpZW50IGZpZWxkcyB3aGljaCBuZWVkcyBsaXZlIHVwZGF0ZVxuXG5cdHZhciB1cGRhdGVfYWxsX2lucHV0cyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0JCgnI25vdGlmaWNhdGlvbl9yZWNpcGllbnRzIC5yZWNpcGllbnQnKS5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyICRpbnB1dCA9ICQodGhpcykuZmluZCgnLmZpZWxkLnZhbHVlIHNlbGVjdCwgLmZpZWxkLnZhbHVlIGlucHV0Jyk7XG5cblx0XHRcdGlmICggdHlwZW9mICRpbnB1dC5kYXRhKCd1cGRhdGUnKSAhPT0gJ3VuZGVmaW5lZCcgKSB7XG5cdFx0XHRcdHdwLmhvb2tzLmRvQWN0aW9uKCAnbm90aWZpY2F0aW9uLnVwZGF0ZV9pbnB1dCcsICRpbnB1dCwgJGlucHV0LmRhdGEoJ3ZhbHVlJyksICRpbnB1dC5kYXRhKCd1cGRhdGUnKSApO1xuXHRcdFx0fVxuXG5cdFx0fSApO1xuXG5cdH07XG5cblx0JChkb2N1bWVudCkucmVhZHkoIHVwZGF0ZV9hbGxfaW5wdXRzICk7XG5cdHdwLmhvb2tzLmFkZEFjdGlvbiggJ25vdGlmaWNhdGlvbi5jaGFuZ2VkX3RyaWdnZXInLCB1cGRhdGVfYWxsX2lucHV0cyApO1xuXG5cdC8vIFVwZGF0ZSBtZXJnZSB0YWdzIGlucHV0XG5cblx0d3AuaG9va3MuYWRkQWN0aW9uKCAnbm90aWZpY2F0aW9uLnVwZGF0ZV9pbnB1dCcsIGZ1bmN0aW9uKCAkaW5wdXQsIHZhbHVlLCB1cGRhdGVfdHlwZSApIHtcblxuXHRcdGlmICggdXBkYXRlX3R5cGUgPT0gJ2VtYWlsX21lcmdlX3RhZ3MnICkge1xuXG5cdFx0XHR2YXIgdHJpZ2dlciAgICA9ICQoJyNub3RpZmljYXRpb25fdHJpZ2dlcl9zZWxlY3QnKS52YWwoKSxcblx0XHRcdFx0JGNvbnRhaW5lciA9ICRpbnB1dC5wYXJlbnQoKTtcblxuXHRcdFx0JGNvbnRhaW5lci5mYWRlVG8oMjAwLCAwLjUpO1xuXG5cdFx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdFx0J2FjdGlvbic6ICAnbm90aWZpY2F0aW9uX2dldF9lbWFpbF9tZXJnZV90YWdzJyxcblx0XHRcdFx0J3RyaWdnZXInOiB0cmlnZ2VyXG5cdFx0XHR9O1xuXG5cdFx0ICAgICQucG9zdChhamF4dXJsLCBkYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0ICAgIFx0aWYgKCByZXNwb25zZS5zdWNjZXNzID09IGZhbHNlICkge1xuXHRcdCAgICBcdFx0YWxlcnQoIHJlc3BvbnNlLmRhdGEgKTtcblx0XHQgICAgXHR9IGVsc2Uge1xuXG5cdFx0ICAgIFx0XHQvLyBjbGVhciBvcHRpb25zIGZpcnN0XG5cdFx0ICAgIFx0XHQkaW5wdXQuZmluZCgnb3B0aW9uJykucmVtb3ZlKCk7XG5cblx0XHQgICAgXHRcdC8vIGFkZCBlbXB0eSBvcHRpb24gZm9yIGNsYXJpdHlcblx0XHQgICAgXHRcdCRpbnB1dC5hcHBlbmQoICQoJzxvcHRpb24+JykgKTtcblxuXHRcdCAgICBcdFx0JC5lYWNoKHJlc3BvbnNlLmRhdGEsIGZ1bmN0aW9uKHRhZ192YWx1ZSwgdGFnX25hbWUpIHtcblxuXHRcdCAgICBcdFx0XHR2YXIgYXR0cyA9IHtcblx0XHRcdFx0XHQgICAgICAgIHZhbHVlOiB0YWdfdmFsdWUsXG5cdFx0XHRcdFx0ICAgICAgICB0ZXh0IDogdGFnX25hbWVcblx0XHRcdFx0XHQgICAgfTtcblxuXHRcdFx0XHRcdCAgICBpZiAoIHRhZ192YWx1ZSA9PSB2YWx1ZSApIHtcblx0XHRcdFx0XHQgICAgXHRhdHRzLnNlbGVjdGVkID0gJ3NlbGVjdGVkJztcblx0XHRcdFx0XHQgICAgfVxuXG5cdFx0XHRcdFx0ICAgICRpbnB1dC5hcHBlbmQoICQoJzxvcHRpb24+JywgYXR0cykgKTtcblxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0ICAgIFx0fVxuXG5cdFx0ICAgIFx0JGNvbnRhaW5lci5mYWRlVG8oMjAwLCAxKTtcblxuXHRcdFx0fSk7XG5cblx0XHR9XG5cblx0fSApO1xuXG5cdC8vIFVwZGF0ZSBub3RpZmljYXRpb24gY29udGVudFxuXG5cdHdwLmhvb2tzLmFkZEFjdGlvbiggJ25vdGlmaWNhdGlvbi5jaGFuZ2VkX3RyaWdnZXInLCBmdW5jdGlvbiggdHJpZ2dlcl9zbHVnLCB0YWdzICkge1xuXG5cdFx0aWYgKCB0aW55bWNlLmFjdGl2ZUVkaXRvci5nZXRDb250ZW50KCkgPT0gJycgKSB7XG5cblx0XHRcdHZhciBkYXRhID0ge1xuXHRcdFx0XHQnYWN0aW9uJzogICdub3RpZmljYXRpb25fZ2V0X3RlbXBsYXRlJyxcblx0XHRcdFx0J3RyaWdnZXInOiB0cmlnZ2VyX3NsdWdcblx0XHRcdH07XG5cblx0XHRcdCQucG9zdChhamF4dXJsLCBkYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0ICAgIFx0aWYgKCByZXNwb25zZS5zdWNjZXNzID09IGZhbHNlICkge1xuXHRcdCAgICBcdFx0YWxlcnQoIHJlc3BvbnNlLmRhdGEgKTtcblx0XHQgICAgXHR9IGVsc2Uge1xuXHRcdCAgICBcdFx0dGlueW1jZS5hY3RpdmVFZGl0b3Iuc2V0Q29udGVudCggcmVzcG9uc2UuZGF0YSApO1xuXHRcdCAgICBcdH1cblxuXHRcdFx0fSk7XG5cblx0XHR9XG5cblx0fSApO1xuXG59KShqUXVlcnkpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
